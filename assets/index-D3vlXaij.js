var Ay=e=>{throw TypeError(e)};var fh=(e,t,r)=>t.has(e)||Ay("Cannot "+r);var L=(e,t,r)=>(fh(e,t,"read from private field"),r?r.call(e):t.get(e)),Be=(e,t,r)=>t.has(e)?Ay("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,n)=>(fh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ye=(e,t,r)=>(fh(e,t,"access private method"),r);var ld=(e,t,r,n)=>({set _(a){Re(e,t,a,r)},get _(){return L(e,t,n)}});function tP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var K0={exports:{}},nf={},Q0={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),nP=Symbol.for("react.portal"),sP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),iP=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),cP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),uP=Symbol.for("react.memo"),fP=Symbol.for("react.lazy"),Iy=Symbol.iterator;function hP(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y0=Object.assign,X0={};function rl(e,t,r){this.props=e,this.context=t,this.refs=X0,this.updater=r||G0}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J0(){}J0.prototype=rl.prototype;function pg(e,t,r){this.props=e,this.context=t,this.refs=X0,this.updater=r||G0}var gg=pg.prototype=new J0;gg.constructor=pg;Y0(gg,rl.prototype);gg.isPureReactComponent=!0;var Oy=Array.isArray,Z0=Object.prototype.hasOwnProperty,vg={current:null},ew={key:!0,ref:!0,__self:!0,__source:!0};function tw(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Z0.call(t,n)&&!ew.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Mc,type:e,key:i,ref:o,props:a,_owner:vg.current}}function mP(e,t){return{$$typeof:Mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function pP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dy=/\/+/g;function hh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pP(""+e.key):t.toString(36)}function Vd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mc:case nP:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+hh(o,0):n,Oy(a)?(r="",e!=null&&(r=e.replace(Dy,"$&/")+"/"),Vd(a,t,r,"",function(d){return d})):a!=null&&(yg(a)&&(a=mP(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Dy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Oy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+hh(i,l);o+=Vd(i,t,r,c,a)}else if(c=hP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+hh(i,l++),o+=Vd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(e,t,r){if(e==null)return e;var n=[],a=0;return Vd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function gP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},zd={transition:null},vP={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:zd,ReactCurrentOwner:vg};function rw(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:cd,forEach:function(e,t,r){cd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cd(e,function(){t++}),t},toArray:function(e){return cd(e,function(t){return t})||[]},only:function(e){if(!yg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=rl;et.Fragment=sP;et.Profiler=iP;et.PureComponent=pg;et.StrictMode=aP;et.Suspense=dP;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;et.act=rw;et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Y0({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Z0.call(t,c)&&!ew.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Mc,type:e.type,key:a,ref:i,props:n,_owner:o}};et.createContext=function(e){return e={$$typeof:lP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oP,_context:e},e.Consumer=e};et.createElement=tw;et.createFactory=function(e){var t=tw.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:cP,render:e}};et.isValidElement=yg;et.lazy=function(e){return{$$typeof:fP,_payload:{_status:-1,_result:e},_init:gP}};et.memo=function(e,t){return{$$typeof:uP,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=zd.transition;zd.transition={};try{e()}finally{zd.transition=t}};et.unstable_act=rw;et.useCallback=function(e,t){return xr.current.useCallback(e,t)};et.useContext=function(e){return xr.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};et.useEffect=function(e,t){return xr.current.useEffect(e,t)};et.useId=function(){return xr.current.useId()};et.useImperativeHandle=function(e,t,r){return xr.current.useImperativeHandle(e,t,r)};et.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return xr.current.useMemo(e,t)};et.useReducer=function(e,t,r){return xr.current.useReducer(e,t,r)};et.useRef=function(e){return xr.current.useRef(e)};et.useState=function(e){return xr.current.useState(e)};et.useSyncExternalStore=function(e,t,r){return xr.current.useSyncExternalStore(e,t,r)};et.useTransition=function(){return xr.current.useTransition()};et.version="18.3.1";Q0.exports=et;var h=Q0.exports;const fe=mg(h),xg=tP({__proto__:null,default:fe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP=h,xP=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),wP=Object.prototype.hasOwnProperty,jP=yP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NP={key:!0,ref:!0,__self:!0,__source:!0};function nw(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wP.call(t,n)&&!NP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:xP,type:e,key:i,ref:o,props:a,_owner:jP.current}}nf.Fragment=bP;nf.jsx=nw;nf.jsxs=nw;K0.exports=nf;var s=K0.exports,sw={exports:{}},en={},aw={exports:{}},iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,B){var oe=W.length;W.push(B);e:for(;0<oe;){var me=oe-1>>>1,V=W[me];if(0<a(V,B))W[me]=B,W[oe]=V,oe=me;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var B=W[0],oe=W.pop();if(oe!==B){W[0]=oe;e:for(var me=0,V=W.length,A=V>>>1;me<A;){var X=2*(me+1)-1,G=W[X],ie=X+1,te=W[ie];if(0>a(G,oe))ie<V&&0>a(te,G)?(W[me]=te,W[ie]=oe,me=ie):(W[me]=G,W[X]=oe,me=X);else if(ie<V&&0>a(te,oe))W[me]=te,W[ie]=oe,me=ie;else break e}}return B}function a(W,B){var oe=W.sortIndex-B.sortIndex;return oe!==0?oe:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var B=r(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=W)n(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(d)}}function N(W){if(g=!1,b(W),!x)if(r(c)!==null)x=!0,T(j);else{var B=r(d);B!==null&&ee(N,B.startTime-W)}}function j(W,B){x=!1,g&&(g=!1,y(D),D=-1),p=!0;var oe=m;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||W&&!I());){var me=f.callback;if(typeof me=="function"){f.callback=null,m=f.priorityLevel;var V=me(f.expirationTime<=B);B=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var A=!0;else{var X=r(d);X!==null&&ee(N,X.startTime-B),A=!1}return A}finally{f=null,m=oe,p=!1}}var C=!1,E=null,D=-1,H=5,U=-1;function I(){return!(e.unstable_now()-U<H)}function q(){if(E!==null){var W=e.unstable_now();U=W;var B=!0;try{B=E(!0,W)}finally{B?F():(C=!1,E=null)}}else C=!1}var F;if(typeof v=="function")F=function(){v(q)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,_=P.port2;P.port1.onmessage=q,F=function(){_.postMessage(null)}}else F=function(){w(q,0)};function T(W){E=W,C||(C=!0,F())}function ee(W,B){D=w(function(){W(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,T(j))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var oe=m;m=B;try{return W()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=m;m=W;try{return B()}finally{m=oe}},e.unstable_scheduleCallback=function(W,B,oe){var me=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?me+oe:me):oe=me,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=oe+V,W={id:u++,callback:B,priorityLevel:W,startTime:oe,expirationTime:V,sortIndex:-1},oe>me?(W.sortIndex=oe,t(d,W),r(c)===null&&W===r(d)&&(g?(y(D),D=-1):g=!0,ee(N,oe-me))):(W.sortIndex=V,t(c,W),x||p||(x=!0,T(j))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var B=m;return function(){var oe=m;m=B;try{return W.apply(this,arguments)}finally{m=oe}}}})(iw);aw.exports=iw;var _P=aw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP=h,Zr=_P;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ow=new Set,rc={};function Ii(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(rc[e]=t,e=0;e<t.length;e++)ow.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,CP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,My={},Ly={};function EP(e){return xm.call(Ly,e)?!0:xm.call(My,e)?!1:CP.test(e)?Ly[e]=!0:(My[e]=!0,!1)}function kP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PP(e,t,r,n){if(t===null||typeof t>"u"||kP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var bg=/[\-:]([a-z])/g;function wg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bg,wg);rr[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bg,wg);rr[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bg,wg);rr[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function jg(e,t,r,n){var a=rr.hasOwnProperty(t)?rr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PP(t,r,a,n)&&(r=null),n||a===null?EP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $s=SP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dd=Symbol.for("react.element"),ao=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),dw=Symbol.for("react.offscreen"),Fy=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=Fy&&e[Fy]||e["@@iterator"],typeof e=="function"?e:null)}var St=Object.assign,mh;function Il(e){if(mh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mh=t&&t[1]||""}return`
`+mh+e}var ph=!1;function gh(e,t){if(!e||ph)return"";ph=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ph=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Il(e):""}function TP(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=gh(e.type,!1),e;case 11:return e=gh(e.type.render,!1),e;case 1:return e=gh(e.type,!0),e;default:return""}}function Nm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case io:return"Fragment";case ao:return"Portal";case bm:return"Profiler";case Ng:return"StrictMode";case wm:return"Suspense";case jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cw:return(e.displayName||"Context")+".Consumer";case lw:return(e._context.displayName||"Context")+".Provider";case _g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sg:return t=e.displayName||null,t!==null?t:Nm(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return Nm(e(t))}catch{}}return null}function RP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(t);case 8:return t===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AP(e){var t=uw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ud(e){e._valueTracker||(e._valueTracker=AP(e))}function fw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _m(e,t){var r=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $y(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hw(e,t){t=t.checked,t!=null&&jg(e,"checked",t,!1)}function Sm(e,t){hw(e,t);var r=Sa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cm(e,t.type,Sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cm(e,t,r){(t!=="number"||fu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ol=Array.isArray;function xo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function By(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(Ol(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sa(r)}}function mw(e,t){var r=Sa(t.value),n=Sa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function km(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fd,gw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fd=fd||document.createElement("div"),fd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IP=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){IP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function vw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function yw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=vw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var OP=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pm(e,t){if(t){if(OP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Tm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function Cg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Am=null,bo=null,wo=null;function Vy(e){if(e=$c(e)){if(typeof Am!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=cf(t),Am(e.stateNode,e.type,t))}}function xw(e){bo?wo?wo.push(e):wo=[e]:bo=e}function bw(){if(bo){var e=bo,t=wo;if(wo=bo=null,Vy(e),t)for(e=0;e<t.length;e++)Vy(t[e])}}function ww(e,t){return e(t)}function jw(){}var vh=!1;function Nw(e,t,r){if(vh)return e(t,r);vh=!0;try{return ww(e,t,r)}finally{vh=!1,(bo!==null||wo!==null)&&(jw(),bw())}}function sc(e,t){var r=e.stateNode;if(r===null)return null;var n=cf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var Im=!1;if(Ts)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){Im=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Im=!1}function DP(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ql=!1,hu=null,mu=!1,Om=null,MP={onError:function(e){ql=!0,hu=e}};function LP(e,t,r,n,a,i,o,l,c){ql=!1,hu=null,DP.apply(MP,arguments)}function FP(e,t,r,n,a,i,o,l,c){if(LP.apply(this,arguments),ql){if(ql){var d=hu;ql=!1,hu=null}else throw Error(ge(198));mu||(mu=!0,Om=d)}}function Oi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zy(e){if(Oi(e)!==e)throw Error(ge(188))}function $P(e){var t=e.alternate;if(!t){if(t=Oi(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return zy(a),e;if(i===n)return zy(a),t;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function Sw(e){return e=$P(e),e!==null?Cw(e):null}function Cw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cw(e);if(t!==null)return t;e=e.sibling}return null}var Ew=Zr.unstable_scheduleCallback,Wy=Zr.unstable_cancelCallback,UP=Zr.unstable_shouldYield,BP=Zr.unstable_requestPaint,Pt=Zr.unstable_now,qP=Zr.unstable_getCurrentPriorityLevel,Eg=Zr.unstable_ImmediatePriority,kw=Zr.unstable_UserBlockingPriority,pu=Zr.unstable_NormalPriority,VP=Zr.unstable_LowPriority,Pw=Zr.unstable_IdlePriority,sf=null,as=null;function zP(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:KP,WP=Math.log,HP=Math.LN2;function KP(e){return e>>>=0,e===0?32:31-(WP(e)/HP|0)|0}var hd=64,md=4194304;function Dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Dl(l):(i&=o,i!==0&&(n=Dl(i)))}else o=r&~a,o!==0?n=Dl(o):i!==0&&(n=Dl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),a=1<<r,n|=e[r],t&=~a;return n}function QP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-In(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=QP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Dm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tw(){var e=hd;return hd<<=1,!(hd&4194240)&&(hd=64),e}function yh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=r}function YP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-In(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function kg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-In(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var dt=0;function Rw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Aw,Pg,Iw,Ow,Dw,Mm=!1,pd=[],ha=null,ma=null,pa=null,ac=new Map,ic=new Map,Xs=[],XP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(t.pointerId)}}function xl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$c(t),t!==null&&Pg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function JP(e,t,r,n,a){switch(t){case"focusin":return ha=xl(ha,e,t,r,n,a),!0;case"dragenter":return ma=xl(ma,e,t,r,n,a),!0;case"mouseover":return pa=xl(pa,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ac.set(i,xl(ac.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ic.set(i,xl(ic.get(i)||null,e,t,r,n,a)),!0}return!1}function Mw(e){var t=ei(e.target);if(t!==null){var r=Oi(t);if(r!==null){if(t=r.tag,t===13){if(t=_w(r),t!==null){e.blockedOn=t,Dw(e.priority,function(){Iw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Rm=n,r.target.dispatchEvent(n),Rm=null}else return t=$c(r),t!==null&&Pg(t),e.blockedOn=r,!1;t.shift()}return!0}function Ky(e,t,r){Wd(e)&&r.delete(t)}function ZP(){Mm=!1,ha!==null&&Wd(ha)&&(ha=null),ma!==null&&Wd(ma)&&(ma=null),pa!==null&&Wd(pa)&&(pa=null),ac.forEach(Ky),ic.forEach(Ky)}function bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,ZP)))}function oc(e){function t(a){return bl(a,e)}if(0<pd.length){bl(pd[0],e);for(var r=1;r<pd.length;r++){var n=pd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ha!==null&&bl(ha,e),ma!==null&&bl(ma,e),pa!==null&&bl(pa,e),ac.forEach(t),ic.forEach(t),r=0;r<Xs.length;r++)n=Xs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)Mw(r),r.blockedOn===null&&Xs.shift()}var jo=$s.ReactCurrentBatchConfig,vu=!0;function eT(e,t,r,n){var a=dt,i=jo.transition;jo.transition=null;try{dt=1,Tg(e,t,r,n)}finally{dt=a,jo.transition=i}}function tT(e,t,r,n){var a=dt,i=jo.transition;jo.transition=null;try{dt=4,Tg(e,t,r,n)}finally{dt=a,jo.transition=i}}function Tg(e,t,r,n){if(vu){var a=Lm(e,t,r,n);if(a===null)kh(e,t,n,yu,r),Hy(e,n);else if(JP(a,e,t,r,n))n.stopPropagation();else if(Hy(e,n),t&4&&-1<XP.indexOf(e)){for(;a!==null;){var i=$c(a);if(i!==null&&Aw(i),i=Lm(e,t,r,n),i===null&&kh(e,t,n,yu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else kh(e,t,n,null,r)}}var yu=null;function Lm(e,t,r,n){if(yu=null,e=Cg(n),e=ei(e),e!==null)if(t=Oi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_w(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yu=e,null}function Lw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qP()){case Eg:return 1;case kw:return 4;case pu:case VP:return 16;case Pw:return 536870912;default:return 16}default:return 16}}var da=null,Rg=null,Hd=null;function Fw(){if(Hd)return Hd;var e,t=Rg,r=t.length,n,a="value"in da?da.value:da.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Hd=a.slice(e,1<n?1-n:void 0)}function Kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gd(){return!0}function Qy(){return!1}function tn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gd:Qy,this.isPropagationStopped=Qy,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=tn(nl),Fc=St({},nl,{view:0,detail:0}),rT=tn(Fc),xh,bh,wl,af=St({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wl&&(wl&&e.type==="mousemove"?(xh=e.screenX-wl.screenX,bh=e.screenY-wl.screenY):bh=xh=0,wl=e),xh)},movementY:function(e){return"movementY"in e?e.movementY:bh}}),Gy=tn(af),nT=St({},af,{dataTransfer:0}),sT=tn(nT),aT=St({},Fc,{relatedTarget:0}),wh=tn(aT),iT=St({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=tn(iT),lT=St({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cT=tn(lT),dT=St({},nl,{data:0}),Yy=tn(dT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hT[e])?!!t[e]:!1}function Ig(){return mT}var pT=St({},Fc,{key:function(e){if(e.key){var t=uT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(e){return e.type==="keypress"?Kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gT=tn(pT),vT=St({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=tn(vT),yT=St({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),xT=tn(yT),bT=St({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=tn(bT),jT=St({},af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NT=tn(jT),_T=[9,13,27,32],Og=Ts&&"CompositionEvent"in window,Vl=null;Ts&&"documentMode"in document&&(Vl=document.documentMode);var ST=Ts&&"TextEvent"in window&&!Vl,$w=Ts&&(!Og||Vl&&8<Vl&&11>=Vl),Jy=" ",Zy=!1;function Uw(e,t){switch(e){case"keyup":return _T.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function CT(e,t){switch(e){case"compositionend":return Bw(t);case"keypress":return t.which!==32?null:(Zy=!0,Jy);case"textInput":return e=t.data,e===Jy&&Zy?null:e;default:return null}}function ET(e,t){if(oo)return e==="compositionend"||!Og&&Uw(e,t)?(e=Fw(),Hd=Rg=da=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $w&&t.locale!=="ko"?null:t.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kT[e.type]:t==="textarea"}function qw(e,t,r,n){xw(n),t=xu(t,"onChange"),0<t.length&&(r=new Ag("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zl=null,lc=null;function PT(e){Zw(e,0)}function of(e){var t=uo(e);if(fw(t))return e}function TT(e,t){if(e==="change")return t}var Vw=!1;if(Ts){var jh;if(Ts){var Nh="oninput"in document;if(!Nh){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),Nh=typeof tx.oninput=="function"}jh=Nh}else jh=!1;Vw=jh&&(!document.documentMode||9<document.documentMode)}function rx(){zl&&(zl.detachEvent("onpropertychange",zw),lc=zl=null)}function zw(e){if(e.propertyName==="value"&&of(lc)){var t=[];qw(t,lc,e,Cg(e)),Nw(PT,t)}}function RT(e,t,r){e==="focusin"?(rx(),zl=t,lc=r,zl.attachEvent("onpropertychange",zw)):e==="focusout"&&rx()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return of(lc)}function IT(e,t){if(e==="click")return of(t)}function OT(e,t){if(e==="input"||e==="change")return of(t)}function DT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:DT;function cc(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!xm.call(t,a)||!Dn(e[a],t[a]))return!1}return!0}function nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sx(e,t){var r=nx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nx(r)}}function Ww(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ww(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hw(){for(var e=window,t=fu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fu(e.document)}return t}function Dg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MT(e){var t=Hw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ww(r.ownerDocument.documentElement,r)){if(n!==null&&Dg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=sx(r,i);var o=sx(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LT=Ts&&"documentMode"in document&&11>=document.documentMode,lo=null,Fm=null,Wl=null,$m=!1;function ax(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$m||lo==null||lo!==fu(n)||(n=lo,"selectionStart"in n&&Dg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wl&&cc(Wl,n)||(Wl=n,n=xu(Fm,"onSelect"),0<n.length&&(t=new Ag("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=lo)))}function vd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var co={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},_h={},Kw={};Ts&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function lf(e){if(_h[e])return _h[e];if(!co[e])return e;var t=co[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kw)return _h[e]=t[r];return e}var Qw=lf("animationend"),Gw=lf("animationiteration"),Yw=lf("animationstart"),Xw=lf("transitionend"),Jw=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ia(e,t){Jw.set(e,t),Ii(t,[e])}for(var Sh=0;Sh<ix.length;Sh++){var Ch=ix[Sh],FT=Ch.toLowerCase(),$T=Ch[0].toUpperCase()+Ch.slice(1);Ia(FT,"on"+$T)}Ia(Qw,"onAnimationEnd");Ia(Gw,"onAnimationIteration");Ia(Yw,"onAnimationStart");Ia("dblclick","onDoubleClick");Ia("focusin","onFocus");Ia("focusout","onBlur");Ia(Xw,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function ox(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,FP(n,t,void 0,e),e.currentTarget=null}function Zw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;ox(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;ox(a,l,d),i=c}}}if(mu)throw e=Om,mu=!1,Om=null,e}function pt(e,t){var r=t[zm];r===void 0&&(r=t[zm]=new Set);var n=e+"__bubble";r.has(n)||(ej(t,e,2,!1),r.add(n))}function Eh(e,t,r){var n=0;t&&(n|=4),ej(r,e,n,t)}var yd="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[yd]){e[yd]=!0,ow.forEach(function(r){r!=="selectionchange"&&(UT.has(r)||Eh(r,!1,e),Eh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yd]||(t[yd]=!0,Eh("selectionchange",!1,t))}}function ej(e,t,r,n){switch(Lw(t)){case 1:var a=eT;break;case 4:a=tT;break;default:a=Tg}r=a.bind(null,t,r,e),a=void 0,!Im||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kh(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Nw(function(){var d=i,u=Cg(r),f=[];e:{var m=Jw.get(e);if(m!==void 0){var p=Ag,x=e;switch(e){case"keypress":if(Kd(r)===0)break e;case"keydown":case"keyup":p=gT;break;case"focusin":x="focus",p=wh;break;case"focusout":x="blur",p=wh;break;case"beforeblur":case"afterblur":p=wh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xT;break;case Qw:case Gw:case Yw:p=oT;break;case Xw:p=wT;break;case"scroll":p=rT;break;case"wheel":p=NT;break;case"copy":case"cut":case"paste":p=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xy}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,b;v!==null;){b=v;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,y!==null&&(N=sc(v,y),N!=null&&g.push(uc(v,N,b)))),w)break;v=v.return}0<g.length&&(m=new p(m,x,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Rm&&(x=r.relatedTarget||r.fromElement)&&(ei(x)||x[Rs]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?ei(x):null,x!==null&&(w=Oi(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=Gy,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Xy,N="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?m:uo(p),b=x==null?m:uo(x),m=new g(N,v+"leave",p,r,u),m.target=w,m.relatedTarget=b,N=null,ei(u)===d&&(g=new g(y,v+"enter",x,r,u),g.target=b,g.relatedTarget=w,N=g),w=N,p&&x)t:{for(g=p,y=x,v=0,b=g;b;b=zi(b))v++;for(b=0,N=y;N;N=zi(N))b++;for(;0<v-b;)g=zi(g),v--;for(;0<b-v;)y=zi(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=zi(g),y=zi(y)}g=null}else g=null;p!==null&&lx(f,m,p,g,!1),x!==null&&w!==null&&lx(f,w,x,g,!0)}}e:{if(m=d?uo(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=TT;else if(ex(m))if(Vw)j=OT;else{j=AT;var C=RT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=IT);if(j&&(j=j(e,d))){qw(f,j,r,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Cm(m,"number",m.value)}switch(C=d?uo(d):window,e){case"focusin":(ex(C)||C.contentEditable==="true")&&(lo=C,Fm=d,Wl=null);break;case"focusout":Wl=Fm=lo=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,ax(f,r,u);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":ax(f,r,u)}var E;if(Og)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else oo?Uw(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&($w&&r.locale!=="ko"&&(oo||D!=="onCompositionStart"?D==="onCompositionEnd"&&oo&&(E=Fw()):(da=u,Rg="value"in da?da.value:da.textContent,oo=!0)),C=xu(d,D),0<C.length&&(D=new Yy(D,e,null,r,u),f.push({event:D,listeners:C}),E?D.data=E:(E=Bw(r),E!==null&&(D.data=E)))),(E=ST?CT(e,r):ET(e,r))&&(d=xu(d,"onBeforeInput"),0<d.length&&(u=new Yy("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=E))}Zw(f,t)})}function uc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=sc(e,r),i!=null&&n.unshift(uc(e,i,a)),i=sc(e,t),i!=null&&n.push(uc(e,i,a))),e=e.return}return n}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=sc(r,i),c!=null&&o.unshift(uc(r,c,l))):a||(c=sc(r,i),c!=null&&o.push(uc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var BT=/\r\n?/g,qT=/\u0000|\uFFFD/g;function cx(e){return(typeof e=="string"?e:""+e).replace(BT,`
`).replace(qT,"")}function xd(e,t,r){if(t=cx(t),cx(e)!==t&&r)throw Error(ge(425))}function bu(){}var Um=null,Bm=null;function qm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(e){return dx.resolve(null).then(e).catch(WT)}:Vm;function WT(e){setTimeout(function(){throw e})}function Ph(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),oc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);oc(t)}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ux(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sl=Math.random().toString(36).slice(2),es="__reactFiber$"+sl,fc="__reactProps$"+sl,Rs="__reactContainer$"+sl,zm="__reactEvents$"+sl,HT="__reactListeners$"+sl,KT="__reactHandles$"+sl;function ei(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rs]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ux(e);e!==null;){if(r=e[es])return r;e=ux(e)}return t}e=r,r=e.parentNode}return null}function $c(e){return e=e[es]||e[Rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function cf(e){return e[fc]||null}var Wm=[],fo=-1;function Oa(e){return{current:e}}function yt(e){0>fo||(e.current=Wm[fo],Wm[fo]=null,fo--)}function ht(e,t){fo++,Wm[fo]=e.current,e.current=t}var Ca={},lr=Oa(Ca),Or=Oa(!1),bi=Ca;function Vo(e,t){var r=e.type.contextTypes;if(!r)return Ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Dr(e){return e=e.childContextTypes,e!=null}function wu(){yt(Or),yt(lr)}function fx(e,t,r){if(lr.current!==Ca)throw Error(ge(168));ht(lr,t),ht(Or,r)}function tj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ge(108,RP(e)||"Unknown",a));return St({},r,n)}function ju(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,bi=lr.current,ht(lr,e),ht(Or,Or.current),!0}function hx(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=tj(e,t,bi),n.__reactInternalMemoizedMergedChildContext=e,yt(Or),yt(lr),ht(lr,e)):yt(Or),ht(Or,r)}var xs=null,df=!1,Th=!1;function rj(e){xs===null?xs=[e]:xs.push(e)}function QT(e){df=!0,rj(e)}function Da(){if(!Th&&xs!==null){Th=!0;var e=0,t=dt;try{var r=xs;for(dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xs=null,df=!1}catch(a){throw xs!==null&&(xs=xs.slice(e+1)),Ew(Eg,Da),a}finally{dt=t,Th=!1}}return null}var ho=[],mo=0,Nu=null,_u=0,on=[],ln=0,wi=null,Cs=1,Es="";function Qa(e,t){ho[mo++]=_u,ho[mo++]=Nu,Nu=e,_u=t}function nj(e,t,r){on[ln++]=Cs,on[ln++]=Es,on[ln++]=wi,wi=e;var n=Cs;e=Es;var a=32-In(n)-1;n&=~(1<<a),r+=1;var i=32-In(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Cs=1<<32-In(t)+a|r<<a|n,Es=i+e}else Cs=1<<i|r<<a|n,Es=e}function Mg(e){e.return!==null&&(Qa(e,1),nj(e,1,0))}function Lg(e){for(;e===Nu;)Nu=ho[--mo],ho[mo]=null,_u=ho[--mo],ho[mo]=null;for(;e===wi;)wi=on[--ln],on[ln]=null,Es=on[--ln],on[ln]=null,Cs=on[--ln],on[ln]=null}var Gr=null,Hr=null,bt=!1,Tn=null;function sj(e,t){var r=un(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,Hr=ga(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,Hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wi!==null?{id:Cs,overflow:Es}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=un(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gr=e,Hr=null,!0):!1;default:return!1}}function Hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Km(e){if(bt){var t=Hr;if(t){var r=t;if(!mx(e,t)){if(Hm(e))throw Error(ge(418));t=ga(r.nextSibling);var n=Gr;t&&mx(e,t)?sj(n,r):(e.flags=e.flags&-4097|2,bt=!1,Gr=e)}}else{if(Hm(e))throw Error(ge(418));e.flags=e.flags&-4097|2,bt=!1,Gr=e}}}function px(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function bd(e){if(e!==Gr)return!1;if(!bt)return px(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qm(e.type,e.memoizedProps)),t&&(t=Hr)){if(Hm(e))throw aj(),Error(ge(418));for(;t;)sj(e,t),t=ga(t.nextSibling)}if(px(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hr=ga(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hr=null}}else Hr=Gr?ga(e.stateNode.nextSibling):null;return!0}function aj(){for(var e=Hr;e;)e=ga(e.nextSibling)}function zo(){Hr=Gr=null,bt=!1}function Fg(e){Tn===null?Tn=[e]:Tn.push(e)}var GT=$s.ReactCurrentBatchConfig;function jl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function wd(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gx(e){var t=e._init;return t(e._payload)}function ij(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=ba(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,N){return v===null||v.tag!==6?(v=Lh(b,y.mode,N),v.return=y,v):(v=a(v,b),v.return=y,v)}function c(y,v,b,N){var j=b.type;return j===io?u(y,v,b.props.children,N,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&gx(j)===v.type)?(N=a(v,b.props),N.ref=jl(y,v,b),N.return=y,N):(N=eu(b.type,b.key,b.props,null,y.mode,N),N.ref=jl(y,v,b),N.return=y,N)}function d(y,v,b,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Fh(b,y.mode,N),v.return=y,v):(v=a(v,b.children||[]),v.return=y,v)}function u(y,v,b,N,j){return v===null||v.tag!==7?(v=pi(b,y.mode,N,j),v.return=y,v):(v=a(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Lh(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dd:return b=eu(v.type,v.key,v.props,null,y.mode,b),b.ref=jl(y,null,v),b.return=y,b;case ao:return v=Fh(v,y.mode,b),v.return=y,v;case Gs:var N=v._init;return f(y,N(v._payload),b)}if(Ol(v)||vl(v))return v=pi(v,y.mode,b,null),v.return=y,v;wd(y,v)}return null}function m(y,v,b,N){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(y,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dd:return b.key===j?c(y,v,b,N):null;case ao:return b.key===j?d(y,v,b,N):null;case Gs:return j=b._init,m(y,v,j(b._payload),N)}if(Ol(b)||vl(b))return j!==null?null:u(y,v,b,N,null);wd(y,b)}return null}function p(y,v,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(b)||null,l(v,y,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case dd:return y=y.get(N.key===null?b:N.key)||null,c(v,y,N,j);case ao:return y=y.get(N.key===null?b:N.key)||null,d(v,y,N,j);case Gs:var C=N._init;return p(y,v,b,C(N._payload),j)}if(Ol(N)||vl(N))return y=y.get(b)||null,u(v,y,N,j,null);wd(v,N)}return null}function x(y,v,b,N){for(var j=null,C=null,E=v,D=v=0,H=null;E!==null&&D<b.length;D++){E.index>D?(H=E,E=null):H=E.sibling;var U=m(y,E,b[D],N);if(U===null){E===null&&(E=H);break}e&&E&&U.alternate===null&&t(y,E),v=i(U,v,D),C===null?j=U:C.sibling=U,C=U,E=H}if(D===b.length)return r(y,E),bt&&Qa(y,D),j;if(E===null){for(;D<b.length;D++)E=f(y,b[D],N),E!==null&&(v=i(E,v,D),C===null?j=E:C.sibling=E,C=E);return bt&&Qa(y,D),j}for(E=n(y,E);D<b.length;D++)H=p(E,y,D,b[D],N),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?D:H.key),v=i(H,v,D),C===null?j=H:C.sibling=H,C=H);return e&&E.forEach(function(I){return t(y,I)}),bt&&Qa(y,D),j}function g(y,v,b,N){var j=vl(b);if(typeof j!="function")throw Error(ge(150));if(b=j.call(b),b==null)throw Error(ge(151));for(var C=j=null,E=v,D=v=0,H=null,U=b.next();E!==null&&!U.done;D++,U=b.next()){E.index>D?(H=E,E=null):H=E.sibling;var I=m(y,E,U.value,N);if(I===null){E===null&&(E=H);break}e&&E&&I.alternate===null&&t(y,E),v=i(I,v,D),C===null?j=I:C.sibling=I,C=I,E=H}if(U.done)return r(y,E),bt&&Qa(y,D),j;if(E===null){for(;!U.done;D++,U=b.next())U=f(y,U.value,N),U!==null&&(v=i(U,v,D),C===null?j=U:C.sibling=U,C=U);return bt&&Qa(y,D),j}for(E=n(y,E);!U.done;D++,U=b.next())U=p(E,y,D,U.value,N),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?D:U.key),v=i(U,v,D),C===null?j=U:C.sibling=U,C=U);return e&&E.forEach(function(q){return t(y,q)}),bt&&Qa(y,D),j}function w(y,v,b,N){if(typeof b=="object"&&b!==null&&b.type===io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dd:e:{for(var j=b.key,C=v;C!==null;){if(C.key===j){if(j=b.type,j===io){if(C.tag===7){r(y,C.sibling),v=a(C,b.props.children),v.return=y,y=v;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&gx(j)===C.type){r(y,C.sibling),v=a(C,b.props),v.ref=jl(y,C,b),v.return=y,y=v;break e}r(y,C);break}else t(y,C);C=C.sibling}b.type===io?(v=pi(b.props.children,y.mode,N,b.key),v.return=y,y=v):(N=eu(b.type,b.key,b.props,null,y.mode,N),N.ref=jl(y,v,b),N.return=y,y=N)}return o(y);case ao:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=a(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Fh(b,y.mode,N),v.return=y,y=v}return o(y);case Gs:return C=b._init,w(y,v,C(b._payload),N)}if(Ol(b))return x(y,v,b,N);if(vl(b))return g(y,v,b,N);wd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,b),v.return=y,y=v):(r(y,v),v=Lh(b,y.mode,N),v.return=y,y=v),o(y)):r(y,v)}return w}var Wo=ij(!0),oj=ij(!1),Su=Oa(null),Cu=null,po=null,$g=null;function Ug(){$g=po=Cu=null}function Bg(e){var t=Su.current;yt(Su),e._currentValue=t}function Qm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function No(e,t){Cu=e,$g=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ar=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if($g!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(Cu===null)throw Error(ge(308));po=e,Cu.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var ti=null;function qg(e){ti===null?ti=[e]:ti.push(e)}function lj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,qg(t)):(r.next=a.next,a.next=r),t.interleaved=r,As(e,n)}function As(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ys=!1;function Vg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function va(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,As(e,r)}return a=n.interleaved,a===null?(t.next=t,qg(n)):(t.next=a.next,a.next=t),n.interleaved=t,As(e,r)}function Qd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kg(e,r)}}function vx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eu(e,t,r,n){var a=e.updateQueue;Ys=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=St({},f,m);break e;case 2:Ys=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ni|=o,e.lanes=o,e.memoizedState=f}}function yx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ge(191,a));a.call(n)}}}var Uc={},is=Oa(Uc),hc=Oa(Uc),mc=Oa(Uc);function ri(e){if(e===Uc)throw Error(ge(174));return e}function zg(e,t){switch(ht(mc,t),ht(hc,e),ht(is,Uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:km(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=km(t,e)}yt(is),ht(is,t)}function Ho(){yt(is),yt(hc),yt(mc)}function dj(e){ri(mc.current);var t=ri(is.current),r=km(t,e.type);t!==r&&(ht(hc,e),ht(is,r))}function Wg(e){hc.current===e&&(yt(is),yt(hc))}var Nt=Oa(0);function ku(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rh=[];function Hg(){for(var e=0;e<Rh.length;e++)Rh[e]._workInProgressVersionPrimary=null;Rh.length=0}var Gd=$s.ReactCurrentDispatcher,Ah=$s.ReactCurrentBatchConfig,ji=0,_t=null,$t=null,Ht=null,Pu=!1,Hl=!1,pc=0,YT=0;function nr(){throw Error(ge(321))}function Kg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function Qg(e,t,r,n,a,i){if(ji=i,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gd.current=e===null||e.memoizedState===null?e2:t2,e=r(n,a),Hl){i=0;do{if(Hl=!1,pc=0,25<=i)throw Error(ge(301));i+=1,Ht=$t=null,t.updateQueue=null,Gd.current=r2,e=r(n,a)}while(Hl)}if(Gd.current=Tu,t=$t!==null&&$t.next!==null,ji=0,Ht=$t=_t=null,Pu=!1,t)throw Error(ge(300));return e}function Gg(){var e=pc!==0;return pc=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_t.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function gn(){if($t===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=Ht===null?_t.memoizedState:Ht.next;if(t!==null)Ht=t,$t=e;else{if(e===null)throw Error(ge(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ht===null?_t.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function gc(e,t){return typeof t=="function"?t(e):t}function Ih(e){var t=gn(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=$t,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ji&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,_t.lanes|=u,Ni|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Dn(n,t.memoizedState)||(Ar=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,_t.lanes|=i,Ni|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oh(e){var t=gn(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Dn(i,t.memoizedState)||(Ar=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function uj(){}function fj(e,t){var r=_t,n=gn(),a=t(),i=!Dn(n.memoizedState,a);if(i&&(n.memoizedState=a,Ar=!0),n=n.queue,Yg(pj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,vc(9,mj.bind(null,r,n,a,t),void 0,null),Qt===null)throw Error(ge(349));ji&30||hj(r,t,a)}return a}function hj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mj(e,t,r,n){t.value=r,t.getSnapshot=n,gj(t)&&vj(e)}function pj(e,t,r){return r(function(){gj(t)&&vj(e)})}function gj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dn(e,r)}catch{return!0}}function vj(e){var t=As(e,1);t!==null&&On(t,e,1,-1)}function xx(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:e},t.queue=e,e=e.dispatch=ZT.bind(null,_t,e),[t.memoizedState,e]}function vc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yj(){return gn().memoizedState}function Yd(e,t,r,n){var a=Qn();_t.flags|=e,a.memoizedState=vc(1|t,r,void 0,n===void 0?null:n)}function uf(e,t,r,n){var a=gn();n=n===void 0?null:n;var i=void 0;if($t!==null){var o=$t.memoizedState;if(i=o.destroy,n!==null&&Kg(n,o.deps)){a.memoizedState=vc(t,r,i,n);return}}_t.flags|=e,a.memoizedState=vc(1|t,r,i,n)}function bx(e,t){return Yd(8390656,8,e,t)}function Yg(e,t){return uf(2048,8,e,t)}function xj(e,t){return uf(4,2,e,t)}function bj(e,t){return uf(4,4,e,t)}function wj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jj(e,t,r){return r=r!=null?r.concat([e]):null,uf(4,4,wj.bind(null,t,e),r)}function Xg(){}function Nj(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _j(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Sj(e,t,r){return ji&21?(Dn(r,t)||(r=Tw(),_t.lanes|=r,Ni|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ar=!0),e.memoizedState=r)}function XT(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var n=Ah.transition;Ah.transition={};try{e(!1),t()}finally{dt=r,Ah.transition=n}}function Cj(){return gn().memoizedState}function JT(e,t,r){var n=xa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ej(e))kj(t,r);else if(r=lj(e,t,r,n),r!==null){var a=vr();On(r,e,n,a),Pj(r,t,n)}}function ZT(e,t,r){var n=xa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ej(e))kj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Dn(l,o)){var c=t.interleaved;c===null?(a.next=a,qg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=lj(e,t,a,n),r!==null&&(a=vr(),On(r,e,n,a),Pj(r,t,n))}}function Ej(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function kj(e,t){Hl=Pu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kg(e,r)}}var Tu={readContext:pn,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},e2={readContext:pn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:bx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yd(4194308,4,wj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yd(4,2,e,t)},useMemo:function(e,t){var r=Qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JT.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:xx,useDebugValue:Xg,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=xx(!1),t=e[0];return e=XT.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,a=Qn();if(bt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Qt===null)throw Error(ge(349));ji&30||hj(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,bx(pj.bind(null,n,i,e),[e]),n.flags|=2048,vc(9,mj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Qn(),t=Qt.identifierPrefix;if(bt){var r=Es,n=Cs;r=(n&~(1<<32-In(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t2={readContext:pn,useCallback:Nj,useContext:pn,useEffect:Yg,useImperativeHandle:jj,useInsertionEffect:xj,useLayoutEffect:bj,useMemo:_j,useReducer:Ih,useRef:yj,useState:function(){return Ih(gc)},useDebugValue:Xg,useDeferredValue:function(e){var t=gn();return Sj(t,$t.memoizedState,e)},useTransition:function(){var e=Ih(gc)[0],t=gn().memoizedState;return[e,t]},useMutableSource:uj,useSyncExternalStore:fj,useId:Cj,unstable_isNewReconciler:!1},r2={readContext:pn,useCallback:Nj,useContext:pn,useEffect:Yg,useImperativeHandle:jj,useInsertionEffect:xj,useLayoutEffect:bj,useMemo:_j,useReducer:Oh,useRef:yj,useState:function(){return Oh(gc)},useDebugValue:Xg,useDeferredValue:function(e){var t=gn();return $t===null?t.memoizedState=e:Sj(t,$t.memoizedState,e)},useTransition:function(){var e=Oh(gc)[0],t=gn().memoizedState;return[e,t]},useMutableSource:uj,useSyncExternalStore:fj,useId:Cj,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:St({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ff={isMounted:function(e){return(e=e._reactInternals)?Oi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vr(),a=xa(e),i=ks(n,a);i.payload=t,r!=null&&(i.callback=r),t=va(e,i,a),t!==null&&(On(t,e,a,n),Qd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vr(),a=xa(e),i=ks(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=va(e,i,a),t!==null&&(On(t,e,a,n),Qd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vr(),n=xa(e),a=ks(r,n);a.tag=2,t!=null&&(a.callback=t),t=va(e,a,n),t!==null&&(On(t,e,n,r),Qd(t,e,n))}};function wx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!cc(r,n)||!cc(a,i):!0}function Tj(e,t,r){var n=!1,a=Ca,i=t.contextType;return typeof i=="object"&&i!==null?i=pn(i):(a=Dr(t)?bi:lr.current,n=t.contextTypes,i=(n=n!=null)?Vo(e,a):Ca),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ff,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function jx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ff.enqueueReplaceState(t,t.state,null)}function Ym(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Vg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=pn(i):(i=Dr(t)?bi:lr.current,a.context=Vo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ff.enqueueReplaceState(a,a.state,null),Eu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ko(e,t){try{var r="",n=t;do r+=TP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Dh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var n2=typeof WeakMap=="function"?WeakMap:Map;function Rj(e,t,r){r=ks(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Au||(Au=!0,op=n),Xm(e,t)},r}function Aj(e,t,r){r=ks(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Xm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xm(e,t),typeof n!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Nx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new n2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=v2.bind(null,e,t,r),t.then(e,e))}function _x(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ks(-1,1),t.tag=2,va(r,t,1))),r.lanes|=1),e)}var s2=$s.ReactCurrentOwner,Ar=!1;function fr(e,t,r,n){t.child=e===null?oj(t,null,r,n):Wo(t,e.child,r,n)}function Cx(e,t,r,n,a){r=r.render;var i=t.ref;return No(t,a),n=Qg(e,t,r,n,i,a),r=Gg(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Is(e,t,a)):(bt&&r&&Mg(t),t.flags|=1,fr(e,t,n,a),t.child)}function Ex(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!av(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ij(e,t,i,n,a)):(e=eu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:cc,r(o,n)&&e.ref===t.ref)return Is(e,t,a)}return t.flags|=1,e=ba(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ij(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(cc(i,n)&&e.ref===t.ref)if(Ar=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ar=!0);else return t.lanes=e.lanes,Is(e,t,a)}return Jm(e,t,r,n,a)}function Oj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(vo,zr),zr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(vo,zr),zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ht(vo,zr),zr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ht(vo,zr),zr|=n;return fr(e,t,a,r),t.child}function Dj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jm(e,t,r,n,a){var i=Dr(r)?bi:lr.current;return i=Vo(t,i),No(t,a),r=Qg(e,t,r,n,i,a),n=Gg(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Is(e,t,a)):(bt&&n&&Mg(t),t.flags|=1,fr(e,t,r,a),t.child)}function kx(e,t,r,n,a){if(Dr(r)){var i=!0;ju(t)}else i=!1;if(No(t,a),t.stateNode===null)Xd(e,t),Tj(t,r,n),Ym(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=pn(d):(d=Dr(r)?bi:lr.current,d=Vo(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&jx(t,o,n,d),Ys=!1;var m=t.memoizedState;o.state=m,Eu(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Or.current||Ys?(typeof u=="function"&&(Gm(t,r,u,n),c=t.memoizedState),(l=Ys||wx(t,r,l,n,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Sn(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Dr(r)?bi:lr.current,c=Vo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&jx(t,o,n,c),Ys=!1,m=t.memoizedState,o.state=m,Eu(t,n,o,a);var x=t.memoizedState;l!==f||m!==x||Or.current||Ys?(typeof p=="function"&&(Gm(t,r,p,n),x=t.memoizedState),(d=Ys||wx(t,r,d,n,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Zm(e,t,r,n,i,a)}function Zm(e,t,r,n,a,i){Dj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&hx(t,r,!1),Is(e,t,i);n=t.stateNode,s2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Wo(t,e.child,null,i),t.child=Wo(t,null,l,i)):fr(e,t,l,i),t.memoizedState=n.state,a&&hx(t,r,!0),t.child}function Mj(e){var t=e.stateNode;t.pendingContext?fx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fx(e,t.context,!1),zg(e,t.containerInfo)}function Px(e,t,r,n,a){return zo(),Fg(a),t.flags|=256,fr(e,t,r,n),t.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lj(e,t,r){var n=t.pendingProps,a=Nt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ht(Nt,a&1),e===null)return Km(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pf(o,n,0,null),e=pi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tp(r),t.memoizedState=ep,e):Jg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return a2(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ba(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ba(l,i):(i=pi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?tp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ep,n}return i=e.child,e=i.sibling,n=ba(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jg(e,t){return t=pf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jd(e,t,r,n){return n!==null&&Fg(n),Wo(t,e.child,null,r),e=Jg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a2(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Dh(Error(ge(422))),jd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=pf({mode:"visible",children:n.children},a,0,null),i=pi(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Wo(t,e.child,null,o),t.child.memoizedState=tp(o),t.memoizedState=ep,i);if(!(t.mode&1))return jd(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ge(419)),n=Dh(i,n,void 0),jd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ar||l){if(n=Qt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,As(e,a),On(n,e,a,-1))}return sv(),n=Dh(Error(ge(421))),jd(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=y2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Hr=ga(a.nextSibling),Gr=t,bt=!0,Tn=null,e!==null&&(on[ln++]=Cs,on[ln++]=Es,on[ln++]=wi,Cs=e.id,Es=e.overflow,wi=t),t=Jg(t,n.children),t.flags|=4096,t)}function Tx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qm(e.return,t,r)}function Mh(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Fj(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(fr(e,t,n.children,r),n=Nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tx(e,r,t);else if(e.tag===19)Tx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ht(Nt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ku(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Mh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ku(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Mh(t,!0,r,null,i);break;case"together":Mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Is(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ni|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=ba(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ba(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i2(e,t,r){switch(t.tag){case 3:Mj(t),zo();break;case 5:dj(t);break;case 1:Dr(t.type)&&ju(t);break;case 4:zg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ht(Su,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ht(Nt,Nt.current&1),t.flags|=128,null):r&t.child.childLanes?Lj(e,t,r):(ht(Nt,Nt.current&1),e=Is(e,t,r),e!==null?e.sibling:null);ht(Nt,Nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ht(Nt,Nt.current),n)break;return null;case 22:case 23:return t.lanes=0,Oj(e,t,r)}return Is(e,t,r)}var $j,rp,Uj,Bj;$j=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rp=function(){};Uj=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ri(is.current);var i=null;switch(r){case"input":a=_m(e,a),n=_m(e,n),i=[];break;case"select":a=St({},a,{value:void 0}),n=St({},n,{value:void 0}),i=[];break;case"textarea":a=Em(e,a),n=Em(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bu)}Pm(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Bj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nl(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o2(e,t,r){var n=t.pendingProps;switch(Lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Dr(t.type)&&wu(),sr(t),null;case 3:return n=t.stateNode,Ho(),yt(Or),yt(lr),Hg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(dp(Tn),Tn=null))),rp(e,t),sr(t),null;case 5:Wg(t);var a=ri(mc.current);if(r=t.type,e!==null&&t.stateNode!=null)Uj(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return sr(t),null}if(e=ri(is.current),bd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[es]=t,n[fc]=i,e=(t.mode&1)!==0,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)pt(Ml[a],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":$y(n,i),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pt("invalid",n);break;case"textarea":By(n,i),pt("invalid",n)}Pm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&xd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xd(n.textContent,l,e),a=["children",""+l]):rc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pt("scroll",n)}switch(r){case"input":ud(n),Uy(n,i,!0);break;case"textarea":ud(n),qy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[es]=t,e[fc]=n,$j(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tm(r,n),r){case"dialog":pt("cancel",e),pt("close",e),a=n;break;case"iframe":case"object":case"embed":pt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ml.length;a++)pt(Ml[a],e);a=n;break;case"source":pt("error",e),a=n;break;case"img":case"image":case"link":pt("error",e),pt("load",e),a=n;break;case"details":pt("toggle",e),a=n;break;case"input":$y(e,n),a=_m(e,n),pt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=St({},n,{value:void 0}),pt("invalid",e);break;case"textarea":By(e,n),a=Em(e,n),pt("invalid",e);break;default:a=n}Pm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nc(e,c):typeof c=="number"&&nc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pt("scroll",e):c!=null&&jg(e,i,c,o))}switch(r){case"input":ud(e),Uy(e,n,!1);break;case"textarea":ud(e),qy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xo(e,!!n.multiple,i,!1):n.defaultValue!=null&&xo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)Bj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=ri(mc.current),ri(is.current),bd(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(i=n.nodeValue!==r)&&(e=Gr,e!==null))switch(e.tag){case 3:xd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return sr(t),null;case 13:if(yt(Nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Hr!==null&&t.mode&1&&!(t.flags&128))aj(),zo(),t.flags|=98560,i=!1;else if(i=bd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[es]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),i=!1}else Tn!==null&&(dp(Tn),Tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nt.current&1?qt===0&&(qt=3):sv())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return Ho(),rp(e,t),e===null&&dc(t.stateNode.containerInfo),sr(t),null;case 10:return Bg(t.type._context),sr(t),null;case 17:return Dr(t.type)&&wu(),sr(t),null;case 19:if(yt(Nt),i=t.memoizedState,i===null)return sr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Nl(i,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ku(e),o!==null){for(t.flags|=128,Nl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(Nt,Nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pt()>Qo&&(t.flags|=128,n=!0,Nl(i,!1),t.lanes=4194304)}else{if(!n)if(e=ku(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return sr(t),null}else 2*Pt()-i.renderingStartTime>Qo&&r!==1073741824&&(t.flags|=128,n=!0,Nl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,r=Nt.current,ht(Nt,n?r&1|2:r&1),t):(sr(t),null);case 22:case 23:return nv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zr&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function l2(e,t){switch(Lg(t),t.tag){case 1:return Dr(t.type)&&wu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ho(),yt(Or),yt(lr),Hg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wg(t),null;case 13:if(yt(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(Nt),null;case 4:return Ho(),null;case 10:return Bg(t.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var Nd=!1,ir=!1,c2=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(e,t,n)}else r.current=null}function np(e,t,r){try{r()}catch(n){Et(e,t,n)}}var Rx=!1;function d2(e,t){if(Um=vu,e=Hw(),Dg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bm={focusedElem:e,selectionRange:r},vu=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Sn(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(N){Et(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return x=Rx,Rx=!1,x}function Kl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&np(t,r,i)}a=a.next}while(a!==n)}}function hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qj(e){var t=e.alternate;t!==null&&(e.alternate=null,qj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[fc],delete t[zm],delete t[HT],delete t[KT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vj(e){return e.tag===5||e.tag===3||e.tag===4}function Ax(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ap(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bu));else if(n!==4&&(e=e.child,e!==null))for(ap(e,t,r),e=e.sibling;e!==null;)ap(e,t,r),e=e.sibling}function ip(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ip(e,t,r),e=e.sibling;e!==null;)ip(e,t,r),e=e.sibling}var Jt=null,kn=!1;function Bs(e,t,r){for(r=r.child;r!==null;)zj(e,t,r),r=r.sibling}function zj(e,t,r){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(sf,r)}catch{}switch(r.tag){case 5:ir||go(r,t);case 6:var n=Jt,a=kn;Jt=null,Bs(e,t,r),Jt=n,kn=a,Jt!==null&&(kn?(e=Jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jt.removeChild(r.stateNode));break;case 18:Jt!==null&&(kn?(e=Jt,r=r.stateNode,e.nodeType===8?Ph(e.parentNode,r):e.nodeType===1&&Ph(e,r),oc(e)):Ph(Jt,r.stateNode));break;case 4:n=Jt,a=kn,Jt=r.stateNode.containerInfo,kn=!0,Bs(e,t,r),Jt=n,kn=a;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&np(r,t,o),a=a.next}while(a!==n)}Bs(e,t,r);break;case 1:if(!ir&&(go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Et(r,t,l)}Bs(e,t,r);break;case 21:Bs(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Bs(e,t,r),ir=n):Bs(e,t,r);break;default:Bs(e,t,r)}}function Ix(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new c2),t.forEach(function(n){var a=x2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function wn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,kn=!1;break e;case 3:Jt=l.stateNode.containerInfo,kn=!0;break e;case 4:Jt=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(Jt===null)throw Error(ge(160));zj(i,o,a),Jt=null,kn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Et(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wj(t,e),t=t.sibling}function Wj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),Kn(e),n&4){try{Kl(3,e,e.return),hf(3,e)}catch(g){Et(e,e.return,g)}try{Kl(5,e,e.return)}catch(g){Et(e,e.return,g)}}break;case 1:wn(t,e),Kn(e),n&512&&r!==null&&go(r,r.return);break;case 5:if(wn(t,e),Kn(e),n&512&&r!==null&&go(r,r.return),e.flags&32){var a=e.stateNode;try{nc(a,"")}catch(g){Et(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hw(a,i),Tm(l,o);var d=Tm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?yw(a,f):u==="dangerouslySetInnerHTML"?gw(a,f):u==="children"?nc(a,f):jg(a,u,f,d)}switch(l){case"input":Sm(a,i);break;case"textarea":mw(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xo(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?xo(a,!!i.multiple,i.defaultValue,!0):xo(a,!!i.multiple,i.multiple?[]:"",!1))}a[fc]=i}catch(g){Et(e,e.return,g)}}break;case 6:if(wn(t,e),Kn(e),n&4){if(e.stateNode===null)throw Error(ge(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Et(e,e.return,g)}}break;case 3:if(wn(t,e),Kn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oc(t.containerInfo)}catch(g){Et(e,e.return,g)}break;case 4:wn(t,e),Kn(e);break;case 13:wn(t,e),Kn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(tv=Pt())),n&4&&Ix(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(d=ir)||u,wn(t,e),ir=d):wn(t,e),Kn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Oe=e,u=e.child;u!==null;){for(f=Oe=u;Oe!==null;){switch(m=Oe,p=m.child,m.tag){case 0:case 11:case 14:case 15:Kl(4,m,m.return);break;case 1:go(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Et(n,r,g)}}break;case 5:go(m,m.return);break;case 22:if(m.memoizedState!==null){Dx(f);continue}}p!==null?(p.return=m,Oe=p):Dx(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vw("display",o))}catch(g){Et(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Et(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(t,e),Kn(e),n&4&&Ix(e);break;case 21:break;default:wn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vj(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(nc(a,""),n.flags&=-33);var i=Ax(e);ip(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ax(e);ap(e,l,o);break;default:throw Error(ge(161))}}catch(c){Et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u2(e,t,r){Oe=e,Hj(e)}function Hj(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var a=Oe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Nd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ir;l=Nd;var d=ir;if(Nd=o,(ir=c)&&!d)for(Oe=a;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?Mx(a):c!==null?(c.return=o,Oe=c):Mx(a);for(;i!==null;)Oe=i,Hj(i),i=i.sibling;Oe=a,Nd=l,ir=d}Ox(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Oe=i):Ox(e)}}function Ox(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||hf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Sn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&oc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}ir||t.flags&512&&sp(t)}catch(m){Et(t,t.return,m)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function Dx(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function Mx(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hf(4,t)}catch(c){Et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Et(t,a,c)}}var i=t.return;try{sp(t)}catch(c){Et(t,i,c)}break;case 5:var o=t.return;try{sp(t)}catch(c){Et(t,o,c)}}}catch(c){Et(t,t.return,c)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var f2=Math.ceil,Ru=$s.ReactCurrentDispatcher,Zg=$s.ReactCurrentOwner,hn=$s.ReactCurrentBatchConfig,st=0,Qt=null,Mt=null,er=0,zr=0,vo=Oa(0),qt=0,yc=null,Ni=0,mf=0,ev=0,Ql=null,Tr=null,tv=0,Qo=1/0,vs=null,Au=!1,op=null,ya=null,_d=!1,ua=null,Iu=0,Gl=0,lp=null,Jd=-1,Zd=0;function vr(){return st&6?Pt():Jd!==-1?Jd:Jd=Pt()}function xa(e){return e.mode&1?st&2&&er!==0?er&-er:GT.transition!==null?(Zd===0&&(Zd=Tw()),Zd):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Lw(e.type)),e):1}function On(e,t,r,n){if(50<Gl)throw Gl=0,lp=null,Error(ge(185));Lc(e,r,n),(!(st&2)||e!==Qt)&&(e===Qt&&(!(st&2)&&(mf|=r),qt===4&&Js(e,er)),Mr(e,n),r===1&&st===0&&!(t.mode&1)&&(Qo=Pt()+500,df&&Da()))}function Mr(e,t){var r=e.callbackNode;GP(e,t);var n=gu(e,e===Qt?er:0);if(n===0)r!==null&&Wy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wy(r),t===1)e.tag===0?QT(Lx.bind(null,e)):rj(Lx.bind(null,e)),zT(function(){!(st&6)&&Da()}),r=null;else{switch(Rw(n)){case 1:r=Eg;break;case 4:r=kw;break;case 16:r=pu;break;case 536870912:r=Pw;break;default:r=pu}r=eN(r,Kj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kj(e,t){if(Jd=-1,Zd=0,st&6)throw Error(ge(327));var r=e.callbackNode;if(_o()&&e.callbackNode!==r)return null;var n=gu(e,e===Qt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ou(e,n);else{t=n;var a=st;st|=2;var i=Gj();(Qt!==e||er!==t)&&(vs=null,Qo=Pt()+500,mi(e,t));do try{p2();break}catch(l){Qj(e,l)}while(!0);Ug(),Ru.current=i,st=a,Mt!==null?t=0:(Qt=null,er=0,t=qt)}if(t!==0){if(t===2&&(a=Dm(e),a!==0&&(n=a,t=cp(e,a))),t===1)throw r=yc,mi(e,0),Js(e,n),Mr(e,Pt()),r;if(t===6)Js(e,n);else{if(a=e.current.alternate,!(n&30)&&!h2(a)&&(t=Ou(e,n),t===2&&(i=Dm(e),i!==0&&(n=i,t=cp(e,i))),t===1))throw r=yc,mi(e,0),Js(e,n),Mr(e,Pt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Ga(e,Tr,vs);break;case 3:if(Js(e,n),(n&130023424)===n&&(t=tv+500-Pt(),10<t)){if(gu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){vr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vm(Ga.bind(null,e,Tr,vs),t);break}Ga(e,Tr,vs);break;case 4:if(Js(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-In(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f2(n/1960))-n,10<n){e.timeoutHandle=Vm(Ga.bind(null,e,Tr,vs),n);break}Ga(e,Tr,vs);break;case 5:Ga(e,Tr,vs);break;default:throw Error(ge(329))}}}return Mr(e,Pt()),e.callbackNode===r?Kj.bind(null,e):null}function cp(e,t){var r=Ql;return e.current.memoizedState.isDehydrated&&(mi(e,t).flags|=256),e=Ou(e,t),e!==2&&(t=Tr,Tr=r,t!==null&&dp(t)),e}function dp(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function h2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Dn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Js(e,t){for(t&=~ev,t&=~mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function Lx(e){if(st&6)throw Error(ge(327));_o();var t=gu(e,0);if(!(t&1))return Mr(e,Pt()),null;var r=Ou(e,t);if(e.tag!==0&&r===2){var n=Dm(e);n!==0&&(t=n,r=cp(e,n))}if(r===1)throw r=yc,mi(e,0),Js(e,t),Mr(e,Pt()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ga(e,Tr,vs),Mr(e,Pt()),null}function rv(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(Qo=Pt()+500,df&&Da())}}function _i(e){ua!==null&&ua.tag===0&&!(st&6)&&_o();var t=st;st|=1;var r=hn.transition,n=dt;try{if(hn.transition=null,dt=1,e)return e()}finally{dt=n,hn.transition=r,st=t,!(st&6)&&Da()}}function nv(){zr=vo.current,yt(vo)}function mi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,VT(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(Lg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wu();break;case 3:Ho(),yt(Or),yt(lr),Hg();break;case 5:Wg(n);break;case 4:Ho();break;case 13:yt(Nt);break;case 19:yt(Nt);break;case 10:Bg(n.type._context);break;case 22:case 23:nv()}r=r.return}if(Qt=e,Mt=e=ba(e.current,null),er=zr=t,qt=0,yc=null,ev=mf=Ni=0,Tr=Ql=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ti=null}return e}function Qj(e,t){do{var r=Mt;try{if(Ug(),Gd.current=Tu,Pu){for(var n=_t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Pu=!1}if(ji=0,Ht=$t=_t=null,Hl=!1,pc=0,Zg.current=null,r===null||r.return===null){qt=1,yc=t,Mt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_x(o);if(p!==null){p.flags&=-257,Sx(p,o,l,i,t),p.mode&1&&Nx(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Nx(i,d,t),sv();break e}c=Error(ge(426))}}else if(bt&&l.mode&1){var w=_x(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sx(w,o,l,i,t),Fg(Ko(c,l));break e}}i=c=Ko(c,l),qt!==4&&(qt=2),Ql===null?Ql=[i]:Ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Rj(i,c,t);vx(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ya===null||!ya.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Aj(i,l,t);vx(i,N);break e}}i=i.return}while(i!==null)}Xj(r)}catch(j){t=j,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(!0)}function Gj(){var e=Ru.current;return Ru.current=Tu,e===null?Tu:e}function sv(){(qt===0||qt===3||qt===2)&&(qt=4),Qt===null||!(Ni&268435455)&&!(mf&268435455)||Js(Qt,er)}function Ou(e,t){var r=st;st|=2;var n=Gj();(Qt!==e||er!==t)&&(vs=null,mi(e,t));do try{m2();break}catch(a){Qj(e,a)}while(!0);if(Ug(),st=r,Ru.current=n,Mt!==null)throw Error(ge(261));return Qt=null,er=0,qt}function m2(){for(;Mt!==null;)Yj(Mt)}function p2(){for(;Mt!==null&&!UP();)Yj(Mt)}function Yj(e){var t=Zj(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?Xj(e):Mt=t,Zg.current=null}function Xj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=l2(r,t),r!==null){r.flags&=32767,Mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Mt=null;return}}else if(r=o2(r,t,zr),r!==null){Mt=r;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);qt===0&&(qt=5)}function Ga(e,t,r){var n=dt,a=hn.transition;try{hn.transition=null,dt=1,g2(e,t,r,n)}finally{hn.transition=a,dt=n}return null}function g2(e,t,r,n){do _o();while(ua!==null);if(st&6)throw Error(ge(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(YP(e,i),e===Qt&&(Mt=Qt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_d||(_d=!0,eN(pu,function(){return _o(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var o=dt;dt=1;var l=st;st|=4,Zg.current=null,d2(e,r),Wj(r,e),MT(Bm),vu=!!Um,Bm=Um=null,e.current=r,u2(r),BP(),st=l,dt=o,hn.transition=i}else e.current=r;if(_d&&(_d=!1,ua=e,Iu=a),i=e.pendingLanes,i===0&&(ya=null),zP(r.stateNode),Mr(e,Pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Au)throw Au=!1,e=op,op=null,e;return Iu&1&&e.tag!==0&&_o(),i=e.pendingLanes,i&1?e===lp?Gl++:(Gl=0,lp=e):Gl=0,Da(),null}function _o(){if(ua!==null){var e=Rw(Iu),t=hn.transition,r=dt;try{if(hn.transition=null,dt=16>e?16:e,ua===null)var n=!1;else{if(e=ua,ua=null,Iu=0,st&6)throw Error(ge(331));var a=st;for(st|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Oe=d;Oe!==null;){var u=Oe;switch(u.tag){case 0:case 11:case 15:Kl(8,u,i)}var f=u.child;if(f!==null)f.return=u,Oe=f;else for(;Oe!==null;){u=Oe;var m=u.sibling,p=u.return;if(qj(u),u===d){Oe=null;break}if(m!==null){m.return=p,Oe=m;break}Oe=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Oe=y;break e}Oe=i.return}}var v=e.current;for(Oe=v;Oe!==null;){o=Oe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Oe=b;else e:for(o=v;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hf(9,l)}}catch(j){Et(l,l.return,j)}if(l===o){Oe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Oe=N;break e}Oe=l.return}}if(st=a,Da(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(sf,e)}catch{}n=!0}return n}finally{dt=r,hn.transition=t}}return!1}function Fx(e,t,r){t=Ko(r,t),t=Rj(e,t,1),e=va(e,t,1),t=vr(),e!==null&&(Lc(e,1,t),Mr(e,t))}function Et(e,t,r){if(e.tag===3)Fx(e,e,r);else for(;t!==null;){if(t.tag===3){Fx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ya===null||!ya.has(n))){e=Ko(r,e),e=Aj(t,e,1),t=va(t,e,1),e=vr(),t!==null&&(Lc(t,1,e),Mr(t,e));break}}t=t.return}}function v2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vr(),e.pingedLanes|=e.suspendedLanes&r,Qt===e&&(er&r)===r&&(qt===4||qt===3&&(er&130023424)===er&&500>Pt()-tv?mi(e,0):ev|=r),Mr(e,t)}function Jj(e,t){t===0&&(e.mode&1?(t=md,md<<=1,!(md&130023424)&&(md=4194304)):t=1);var r=vr();e=As(e,t),e!==null&&(Lc(e,t,r),Mr(e,r))}function y2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jj(e,r)}function x2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),Jj(e,r)}var Zj;Zj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Or.current)Ar=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ar=!1,i2(e,t,r);Ar=!!(e.flags&131072)}else Ar=!1,bt&&t.flags&1048576&&nj(t,_u,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xd(e,t),e=t.pendingProps;var a=Vo(t,lr.current);No(t,r),a=Qg(null,t,n,e,a,r);var i=Gg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(n)?(i=!0,ju(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Vg(t),a.updater=ff,t.stateNode=a,a._reactInternals=t,Ym(t,n,e,r),t=Zm(null,t,n,!0,i,r)):(t.tag=0,bt&&i&&Mg(t),fr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=w2(n),e=Sn(n,e),a){case 0:t=Jm(null,t,n,e,r);break e;case 1:t=kx(null,t,n,e,r);break e;case 11:t=Cx(null,t,n,e,r);break e;case 14:t=Ex(null,t,n,Sn(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sn(n,a),Jm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sn(n,a),kx(e,t,n,a,r);case 3:e:{if(Mj(t),e===null)throw Error(ge(387));n=t.pendingProps,i=t.memoizedState,a=i.element,cj(e,t),Eu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ko(Error(ge(423)),t),t=Px(e,t,n,r,a);break e}else if(n!==a){a=Ko(Error(ge(424)),t),t=Px(e,t,n,r,a);break e}else for(Hr=ga(t.stateNode.containerInfo.firstChild),Gr=t,bt=!0,Tn=null,r=oj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zo(),n===a){t=Is(e,t,r);break e}fr(e,t,n,r)}t=t.child}return t;case 5:return dj(t),e===null&&Km(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,qm(n,a)?o=null:i!==null&&qm(n,i)&&(t.flags|=32),Dj(e,t),fr(e,t,o,r),t.child;case 6:return e===null&&Km(t),null;case 13:return Lj(e,t,r);case 4:return zg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wo(t,null,n,r):fr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sn(n,a),Cx(e,t,n,a,r);case 7:return fr(e,t,t.pendingProps,r),t.child;case 8:return fr(e,t,t.pendingProps.children,r),t.child;case 12:return fr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ht(Su,n._currentValue),n._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===a.children&&!Or.current){t=Is(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ks(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Qm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,No(t,r),a=pn(a),n=n(a),t.flags|=1,fr(e,t,n,r),t.child;case 14:return n=t.type,a=Sn(n,t.pendingProps),a=Sn(n.type,a),Ex(e,t,n,a,r);case 15:return Ij(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sn(n,a),Xd(e,t),t.tag=1,Dr(n)?(e=!0,ju(t)):e=!1,No(t,r),Tj(t,n,a),Ym(t,n,a,r),Zm(null,t,n,!0,e,r);case 19:return Fj(e,t,r);case 22:return Oj(e,t,r)}throw Error(ge(156,t.tag))};function eN(e,t){return Ew(e,t)}function b2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,r,n){return new b2(e,t,r,n)}function av(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w2(e){if(typeof e=="function")return av(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_g)return 11;if(e===Sg)return 14}return 2}function ba(e,t){var r=e.alternate;return r===null?(r=un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function eu(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")av(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case io:return pi(r.children,a,i,t);case Ng:o=8,a|=8;break;case bm:return e=un(12,r,t,a|2),e.elementType=bm,e.lanes=i,e;case wm:return e=un(13,r,t,a),e.elementType=wm,e.lanes=i,e;case jm:return e=un(19,r,t,a),e.elementType=jm,e.lanes=i,e;case dw:return pf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lw:o=10;break e;case cw:o=9;break e;case _g:o=11;break e;case Sg:o=14;break e;case Gs:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=un(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function pi(e,t,r,n){return e=un(7,e,n,t),e.lanes=r,e}function pf(e,t,r,n){return e=un(22,e,n,t),e.elementType=dw,e.lanes=r,e.stateNode={isHidden:!1},e}function Lh(e,t,r){return e=un(6,e,null,t),e.lanes=r,e}function Fh(e,t,r){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j2(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function iv(e,t,r,n,a,i,o,l,c){return e=new j2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=un(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vg(i),e}function N2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tN(e){if(!e)return Ca;e=e._reactInternals;e:{if(Oi(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Dr(r))return tj(e,r,t)}return t}function rN(e,t,r,n,a,i,o,l,c){return e=iv(r,n,!0,e,a,i,o,l,c),e.context=tN(null),r=e.current,n=vr(),a=xa(r),i=ks(n,a),i.callback=t??null,va(r,i,a),e.current.lanes=a,Lc(e,a,n),Mr(e,n),e}function gf(e,t,r,n){var a=t.current,i=vr(),o=xa(a);return r=tN(r),t.context===null?t.context=r:t.pendingContext=r,t=ks(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=va(a,t,o),e!==null&&(On(e,a,o,i),Qd(e,a,o)),o}function Du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ov(e,t){$x(e,t),(e=e.alternate)&&$x(e,t)}function _2(){return null}var nN=typeof reportError=="function"?reportError:function(e){console.error(e)};function lv(e){this._internalRoot=e}vf.prototype.render=lv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));gf(e,t,null,null)};vf.prototype.unmount=lv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_i(function(){gf(null,e,null,null)}),t[Rs]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ow();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xs.length&&t!==0&&t<Xs[r].priority;r++);Xs.splice(r,0,e),r===0&&Mw(e)}};function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ux(){}function S2(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Du(o);i.call(d)}}var o=rN(t,n,e,0,null,!1,!1,"",Ux);return e._reactRootContainer=o,e[Rs]=o.current,dc(e.nodeType===8?e.parentNode:e),_i(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Du(c);l.call(d)}}var c=iv(e,0,!1,null,null,!1,!1,"",Ux);return e._reactRootContainer=c,e[Rs]=c.current,dc(e.nodeType===8?e.parentNode:e),_i(function(){gf(t,c,r,n)}),c}function xf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Du(o);l.call(c)}}gf(t,o,e,a)}else o=S2(r,t,e,a,n);return Du(o)}Aw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dl(t.pendingLanes);r!==0&&(kg(t,r|1),Mr(t,Pt()),!(st&6)&&(Qo=Pt()+500,Da()))}break;case 13:_i(function(){var n=As(e,1);if(n!==null){var a=vr();On(n,e,1,a)}}),ov(e,1)}};Pg=function(e){if(e.tag===13){var t=As(e,134217728);if(t!==null){var r=vr();On(t,e,134217728,r)}ov(e,134217728)}};Iw=function(e){if(e.tag===13){var t=xa(e),r=As(e,t);if(r!==null){var n=vr();On(r,e,t,n)}ov(e,t)}};Ow=function(){return dt};Dw=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};Am=function(e,t,r){switch(t){case"input":if(Sm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=cf(n);if(!a)throw Error(ge(90));fw(n),Sm(n,a)}}}break;case"textarea":mw(e,r);break;case"select":t=r.value,t!=null&&xo(e,!!r.multiple,t,!1)}};ww=rv;jw=_i;var C2={usingClientEntryPoint:!1,Events:[$c,uo,cf,xw,bw,rv]},_l={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E2={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sw(e),e===null?null:e.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||_2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{sf=Sd.inject(E2),as=Sd}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;en.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(t))throw Error(ge(200));return N2(e,t,null,r)};en.createRoot=function(e,t){if(!cv(e))throw Error(ge(299));var r=!1,n="",a=nN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=iv(e,1,!1,null,null,r,!1,n,a),e[Rs]=t.current,dc(e.nodeType===8?e.parentNode:e),new lv(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=Sw(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return _i(e)};en.hydrate=function(e,t,r){if(!yf(t))throw Error(ge(200));return xf(null,e,t,!0,r)};en.hydrateRoot=function(e,t,r){if(!cv(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=nN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rN(t,null,e,1,r??null,a,!1,i,o),e[Rs]=t.current,dc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new vf(t)};en.render=function(e,t,r){if(!yf(t))throw Error(ge(200));return xf(null,e,t,!1,r)};en.unmountComponentAtNode=function(e){if(!yf(e))throw Error(ge(40));return e._reactRootContainer?(_i(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[Rs]=null})}),!0):!1};en.unstable_batchedUpdates=rv;en.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yf(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return xf(e,t,r,!1,n)};en.version="18.3.1-next-f1338f8080-20240426";function sN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sN)}catch(e){console.error(e)}}sN(),sw.exports=en;var Di=sw.exports;const aN=mg(Di);var iN,Bx=Di;iN=Bx.createRoot,Bx.hydrateRoot;const k2=1,P2=1e6;let $h=0;function T2(){return $h=($h+1)%Number.MAX_SAFE_INTEGER,$h.toString()}const Uh=new Map,qx=e=>{if(Uh.has(e))return;const t=setTimeout(()=>{Uh.delete(e),Yl({type:"REMOVE_TOAST",toastId:e})},P2);Uh.set(e,t)},R2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,k2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qx(r):e.toasts.forEach(n=>{qx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tu=[];let ru={toasts:[]};function Yl(e){ru=R2(ru,e),tu.forEach(t=>{t(ru)})}function A2({...e}){const t=T2(),r=a=>Yl({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Yl({type:"DISMISS_TOAST",toastId:t});return Yl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function $n(){const[e,t]=h.useState(ru);return h.useEffect(()=>(tu.push(t),()=>{const r=tu.indexOf(t);r>-1&&tu.splice(r,1)}),[e]),{...e,toast:A2,dismiss:r=>Yl({type:"DISMISS_TOAST",toastId:r})}}function we(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Vx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Os(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Vx(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Vx(e[a],null)}}}}function We(...e){return h.useCallback(Os(...e),e)}function I2(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function wr(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=f=>{var y;const{scope:m,children:p,...x}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,w=h.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,O2(a,...t)]}function O2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ea(e){const t=M2(e),r=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(L2);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var D2=Ea("Slot");function M2(e){const t=h.forwardRef((r,n)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=$2(a),l=F2(i,a.props);return a.type!==h.Fragment&&(l.ref=n?Os(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oN=Symbol("radix.slottable");function lN(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=oN,t}function L2(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oN}function F2(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function $2(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bf(e){const t=e+"CollectionProvider",[r,n]=wr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,v=fe.useRef(null),b=fe.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ea(l),d=fe.forwardRef((g,w)=>{const{scope:y,children:v}=g,b=i(l,y),N=We(w,b.collectionRef);return s.jsx(c,{ref:N,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ea(u),p=fe.forwardRef((g,w)=>{const{scope:y,children:v,...b}=g,N=fe.useRef(null),j=We(w,N),C=i(u,y);return fe.useEffect(()=>(C.itemMap.set(N,{ref:N,...b}),()=>void C.itemMap.delete(N))),s.jsx(m,{[f]:"",ref:j,children:v})});p.displayName=u;function x(g){const w=i(e+"CollectionConsumer",g);return fe.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((C,E)=>b.indexOf(C.ref.current)-b.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,n]}var U2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=U2.reduce((e,t)=>{const r=Ea(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dv(e,t){e&&Di.flushSync(()=>e.dispatchEvent(t))}function Tt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function B2(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var q2="DismissableLayer",up="dismissableLayer.update",V2="dismissableLayer.pointerDownOutside",z2="dismissableLayer.focusOutside",zx,cN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(cN),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=We(t,E=>f(E)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=y,j=H2(E=>{const D=E.target,H=[...d.branches].some(U=>U.contains(D));!N||H||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),C=K2(E=>{const D=E.target;[...d.branches].some(U=>U.contains(D))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return B2(E=>{v===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Wx(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=zx)}},[u,m,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Wx())},[u,d]),h.useEffect(()=>{const E=()=>p({});return document.addEventListener(up,E),()=>document.removeEventListener(up,E)},[]),s.jsx(De.div,{...c,ref:x,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,C.onFocusCapture),onBlurCapture:we(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,j.onPointerDownCapture)})});Mi.displayName=q2;var W2="DismissableLayerBranch",dN=h.forwardRef((e,t)=>{const r=h.useContext(cN),n=h.useRef(null),a=We(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(De.div,{...e,ref:a})});dN.displayName=W2;function H2(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){uN(V2,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function K2(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&uN(z2,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Wx(){const e=new CustomEvent(up);document.dispatchEvent(e)}function uN(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dv(a,i):a.dispatchEvent(i)}var Q2=Mi,G2=dN,Gt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Y2="Portal",al=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=h.useState(!1);Gt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?aN.createPortal(s.jsx(De.div,{...n,ref:t}),o):null});al.displayName=Y2;function X2(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Yt=e=>{const{present:t,children:r}=e,n=J2(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=We(n.ref,Z2(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};Yt.displayName="Presence";function J2(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=X2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Cd(n.current);i.current=l==="mounted"?d:"none"},[l]),Gt(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Cd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Gt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Cd(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(i.current=Cd(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Cd(e){return(e==null?void 0:e.animationName)||"none"}function Z2(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eR=xg[" useInsertionEffect ".trim().toString()]||Gt;function Ds({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=tR({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const m=rR(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function tR({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),a=h.useRef(r),i=h.useRef(t);return eR(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function rR(e){return typeof e=="function"}var fN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nR="VisuallyHidden",wf=h.forwardRef((e,t)=>s.jsx(De.span,{...e,ref:t,style:{...fN,...e.style}}));wf.displayName=nR;var sR=wf,uv="ToastProvider",[fv,aR,iR]=bf("Toast"),[hN,sV]=wr("Toast",[iR]),[oR,jf]=hN(uv),mN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${uv}\`. Expected non-empty \`string\`.`),s.jsx(fv.Provider,{scope:t,children:s.jsx(oR,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};mN.displayName=uv;var pN="ToastViewport",lR=["F8"],fp="toast.viewportPause",hp="toast.viewportResume",gN=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=lR,label:a="Notifications ({hotkey})",...i}=e,o=jf(pN,r),l=aR(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=We(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;h.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,y=f.current;if(x&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(fp);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(hp);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!w.contains(C.relatedTarget)&&b()},j=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",N),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",j),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const N=b.ref.current,j=[N,...wR(N)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const y=v=>{var j,C,E;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const D=document.activeElement,H=v.shiftKey;if(v.target===w&&H){(j=d.current)==null||j.focus();return}const q=g({tabbingDirection:H?"backwards":"forwards"}),F=q.findIndex(P=>P===D);Bh(q.slice(F+1))?v.preventDefault():H?(C=d.current)==null||C.focus():(E=u.current)==null||E.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),s.jsxs(G2,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(mp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Bh(w)}}),s.jsx(fv.Slot,{scope:r,children:s.jsx(De.ol,{tabIndex:-1,...i,ref:m})}),x&&s.jsx(mp,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Bh(w)}})]})});gN.displayName=pN;var vN="ToastFocusProxy",mp=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=jf(vN,r);return s.jsx(wf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});mp.displayName=vN;var Bc="Toast",cR="toast.swipeStart",dR="toast.swipeMove",uR="toast.swipeCancel",fR="toast.swipeEnd",yN=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Ds({prop:n,defaultProp:a??!0,onChange:i,caller:Bc});return s.jsx(Yt,{present:r||l,children:s.jsx(pR,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Tt(e.onPause),onResume:Tt(e.onResume),onSwipeStart:we(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});yN.displayName=Bc;var[hR,mR]=hN(Bc,{onClose(){}}),pR=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=jf(Bc,r),[w,y]=h.useState(null),v=We(t,P=>y(P)),b=h.useRef(null),N=h.useRef(null),j=a||g.duration,C=h.useRef(0),E=h.useRef(j),D=h.useRef(0),{onToastAdd:H,onToastRemove:U}=g,I=Tt(()=>{var _;(w==null?void 0:w.contains(document.activeElement))&&((_=g.viewport)==null||_.focus()),o()}),q=h.useCallback(P=>{!P||P===1/0||(window.clearTimeout(D.current),C.current=new Date().getTime(),D.current=window.setTimeout(I,P))},[I]);h.useEffect(()=>{const P=g.viewport;if(P){const _=()=>{q(E.current),d==null||d()},T=()=>{const ee=new Date().getTime()-C.current;E.current=E.current-ee,window.clearTimeout(D.current),c==null||c()};return P.addEventListener(fp,T),P.addEventListener(hp,_),()=>{P.removeEventListener(fp,T),P.removeEventListener(hp,_)}}},[g.viewport,j,c,d,q]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&q(j)},[i,j,g.isClosePausedRef,q]),h.useEffect(()=>(H(),()=>U()),[H,U]);const F=h.useMemo(()=>w?SN(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(gR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(hR,{scope:r,onClose:I,children:Di.createPortal(s.jsx(fv.ItemSlot,{scope:r,children:s.jsx(Q2,{asChild:!0,onEscapeKeyDown:we(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:we(e.onPointerDown,P=>{P.button===0&&(b.current={x:P.clientX,y:P.clientY})}),onPointerMove:we(e.onPointerMove,P=>{if(!b.current)return;const _=P.clientX-b.current.x,T=P.clientY-b.current.y,ee=!!N.current,W=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,oe=W?B(0,_):0,me=W?0:B(0,T),V=P.pointerType==="touch"?10:2,A={x:oe,y:me},X={originalEvent:P,delta:A};ee?(N.current=A,Ed(dR,f,X,{discrete:!1})):Hx(A,g.swipeDirection,V)?(N.current=A,Ed(cR,u,X,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(_)>V||Math.abs(T)>V)&&(b.current=null)}),onPointerUp:we(e.onPointerUp,P=>{const _=N.current,T=P.target;if(T.hasPointerCapture(P.pointerId)&&T.releasePointerCapture(P.pointerId),N.current=null,b.current=null,_){const ee=P.currentTarget,W={originalEvent:P,delta:_};Hx(_,g.swipeDirection,g.swipeThreshold)?Ed(fR,p,W,{discrete:!0}):Ed(uR,m,W,{discrete:!0}),ee.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),gR=e=>{const{__scopeToast:t,children:r,...n}=e,a=jf(Bc,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return xR(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(al,{asChild:!0,children:s.jsx(wf,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},vR="ToastTitle",xN=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(De.div,{...n,ref:t})});xN.displayName=vR;var yR="ToastDescription",bN=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(De.div,{...n,ref:t})});bN.displayName=yR;var wN="ToastAction",jN=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(_N,{altText:r,asChild:!0,children:s.jsx(hv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wN}\`. Expected non-empty \`string\`.`),null)});jN.displayName=wN;var NN="ToastClose",hv=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=mR(NN,r);return s.jsx(_N,{asChild:!0,children:s.jsx(De.button,{type:"button",...n,ref:t,onClick:we(e.onClick,a.onClose)})})});hv.displayName=NN;var _N=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function SN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),bR(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...SN(n))}}),t}function Ed(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dv(a,i):a.dispatchEvent(i)}var Hx=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function xR(e=()=>{}){const t=Tt(e);Gt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function bR(e){return e.nodeType===e.ELEMENT_NODE}function wR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var jR=mN,CN=gN,EN=yN,kN=xN,PN=bN,TN=jN,RN=hv;function AN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function IN(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AN(e))&&(n&&(n+=" "),n+=t);return n}const Kx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qx=IN,qc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=Kx(u)||Kx(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return Qx(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ON=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,..._R,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ON("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const r=h.forwardRef(({className:n,...a},i)=>h.createElement(SR,{ref:i,iconNode:t,className:ON(`lucide-${NR(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Qe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Qe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Qe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Qe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Qe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gv="-",DR=e=>{const t=LR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(gv);return l[0]===""&&l.length!==1&&l.shift(),UN(l,t)||MR(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},UN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?UN(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(gv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},eb=/^\[(.+)\]$/,MR=e=>{if(eb.test(e)){const t=eb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},LR=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return $R(Object.entries(e.classGroups),r).forEach(([i,o])=>{vp(o,n,i,t)}),n},vp=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:tb(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(FR(a)){vp(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{vp(o,tb(t,i),r,n)})})},tb=(e,t)=>{let r=e;return t.split(gv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FR=e=>e.isThemeGetter,$R=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,UR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},BN="!",BR=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===a&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(y==="/"){f=w;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(BN),x=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},qR=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},VR=e=>({cache:UR(e.cacheSize),parseClassName:BR(e),...DR(e)}),zR=/\s+/,WR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(zR);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let x=!!p,g=n(x?m.substring(0,p):m);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=qR(u).join(":"),y=f?w+BN:w,v=y+g;if(i.includes(v))continue;i.push(v);const b=a(g,x);for(let N=0;N<b.length;++N){const j=b[N];i.push(y+j)}l=d+(l.length>0?" "+l:l)}return l};function HR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=qN(t))&&(n&&(n+=" "),n+=r);return n}const qN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=qN(e[n]))&&(r&&(r+=" "),r+=t);return r};function KR(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=VR(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=WR(c,r);return a(c,u),u}return function(){return i(HR.apply(null,arguments))}}const mt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},VN=/^\[(?:([a-z-]+):)?(.+)\]$/i,QR=/^\d+\/\d+$/,GR=new Set(["px","full","screen"]),YR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=e=>So(e)||GR.has(e)||QR.test(e),qs=e=>il(e,"length",lA),So=e=>!!e&&!Number.isNaN(Number(e)),qh=e=>il(e,"number",So),Sl=e=>!!e&&Number.isInteger(Number(e)),tA=e=>e.endsWith("%")&&So(e.slice(0,-1)),Ge=e=>VN.test(e),Vs=e=>YR.test(e),rA=new Set(["length","size","percentage"]),nA=e=>il(e,rA,zN),sA=e=>il(e,"position",zN),aA=new Set(["image","url"]),iA=e=>il(e,aA,dA),oA=e=>il(e,"",cA),Cl=()=>!0,il=(e,t,r)=>{const n=VN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},lA=e=>XR.test(e)&&!JR.test(e),zN=()=>!1,cA=e=>ZR.test(e),dA=e=>eA.test(e),uA=()=>{const e=mt("colors"),t=mt("spacing"),r=mt("blur"),n=mt("brightness"),a=mt("borderColor"),i=mt("borderRadius"),o=mt("borderSpacing"),l=mt("borderWidth"),c=mt("contrast"),d=mt("grayscale"),u=mt("hueRotate"),f=mt("invert"),m=mt("gap"),p=mt("gradientColorStops"),x=mt("gradientColorStopPositions"),g=mt("inset"),w=mt("margin"),y=mt("opacity"),v=mt("padding"),b=mt("saturate"),N=mt("scale"),j=mt("sepia"),C=mt("skew"),E=mt("space"),D=mt("translate"),H=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ge,t],q=()=>[Ge,t],F=()=>["",hs,qs],P=()=>["auto",So,Ge],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ge],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[So,Ge];return{cacheSize:500,separator:":",theme:{colors:[Cl],spacing:[hs,qs],blur:["none","",Vs,Ge],brightness:me(),borderColor:[e],borderRadius:["none","","full",Vs,Ge],borderSpacing:q(),borderWidth:F(),contrast:me(),grayscale:B(),hueRotate:me(),invert:B(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[tA,qs],inset:I(),margin:I(),opacity:me(),padding:q(),saturate:me(),scale:me(),sepia:B(),skew:me(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),Ge]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sl,Ge]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Sl,Ge]}],"grid-cols":[{"grid-cols":[Cl]}],"col-start-end":[{col:["auto",{span:["full",Sl,Ge]},Ge]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Cl]}],"row-start-end":[{row:["auto",{span:[Sl,Ge]},Ge]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qh]}],"font-family":[{font:[Cl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",So,qh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hs,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hs,qs]}],"underline-offset":[{"underline-offset":["auto",hs,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),sA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[hs,Ge]}],"outline-w":[{outline:[hs,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[hs,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,oA]}],"shadow-color":[{shadow:[Cl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vs,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Sl,Ge]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hs,qs,qh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fA=KR(uA);function Ee(...e){return fA(IN(e))}const hA=jR,WN=h.forwardRef(({className:e,...t},r)=>s.jsx(CN,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WN.displayName=CN.displayName;const mA=qc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HN=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(EN,{ref:n,className:Ee(mA({variant:t}),e),...r}));HN.displayName=EN.displayName;const pA=h.forwardRef(({className:e,...t},r)=>s.jsx(TN,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pA.displayName=TN.displayName;const KN=h.forwardRef(({className:e,...t},r)=>s.jsx(RN,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx($N,{className:"h-4 w-4"})}));KN.displayName=RN.displayName;const QN=h.forwardRef(({className:e,...t},r)=>s.jsx(kN,{ref:r,className:Ee("text-sm font-semibold",e),...t}));QN.displayName=kN.displayName;const GN=h.forwardRef(({className:e,...t},r)=>s.jsx(PN,{ref:r,className:Ee("text-sm opacity-90",e),...t}));GN.displayName=PN.displayName;function gA(){const{toasts:e}=$n();return s.jsxs(hA,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(HN,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(QN,{children:r}),n&&s.jsx(GN,{children:n})]}),a,s.jsx(KN,{})]},t)}),s.jsx(WN,{})]})}var rb=["light","dark"],vA="(prefers-color-scheme: dark)",yA=h.createContext(void 0),xA={setTheme:e=>{},themes:[]},bA=()=>{var e;return(e=h.useContext(yA))!=null?e:xA};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?rb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,w=!0)=>{let y=o?o[x]:x,v=g?x+"|| ''":`'${y}'`,b="";return a&&w&&!g&&rb.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${vA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var wA=e=>{switch(e){case"success":return _A;case"info":return CA;case"warning":return SA;case"error":return EA;default:return null}},jA=Array(12).fill(0),NA=({visible:e,className:t})=>fe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},fe.createElement("div",{className:"sonner-spinner"},jA.map((r,n)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),_A=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SA=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CA=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EA=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kA=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PA=()=>{let[e,t]=fe.useState(document.hidden);return fe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},yp=1,TA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yp++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],fe.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(AA(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||yp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Er=new TA,RA=(e,t)=>{let r=(t==null?void 0:t.id)||yp++;return Er.addToast({title:e,...t,id:r}),r},AA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",IA=RA,OA=()=>Er.toasts,DA=()=>Er.getActiveToasts();Object.assign(IA,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:OA,getToasts:DA});function MA(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}MA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kd(e){return e.label!==void 0}var LA=3,FA="32px",$A="16px",nb=4e3,UA=356,BA=14,qA=20,VA=200;function jn(...e){return e.filter(Boolean).join(" ")}function zA(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var WA=e=>{var t,r,n,a,i,o,l,c,d,u,f;let{invert:m,toast:p,unstyled:x,interacting:g,setHeights:w,visibleToasts:y,heights:v,index:b,toasts:N,expanded:j,removeToast:C,defaultRichColors:E,closeButton:D,style:H,cancelButtonStyle:U,actionButtonStyle:I,className:q="",descriptionClassName:F="",duration:P,position:_,gap:T,loadingIcon:ee,expandByDefault:W,classNames:B,icons:oe,closeButtonAriaLabel:me="Close toast",pauseWhenPageIsHidden:V}=e,[A,X]=fe.useState(null),[G,ie]=fe.useState(null),[te,R]=fe.useState(!1),[Z,le]=fe.useState(!1),[ae,Pe]=fe.useState(!1),[Ue,Q]=fe.useState(!1),[M,se]=fe.useState(!1),[Le,ke]=fe.useState(0),[qe,O]=fe.useState(0),Y=fe.useRef(p.duration||P||nb),re=fe.useRef(null),pe=fe.useRef(null),Se=b===0,ye=b+1<=y,je=p.type,Me=p.dismissible!==!1,tt=p.className||"",Xt=p.descriptionClassName||"",rn=fe.useMemo(()=>v.findIndex(ze=>ze.toastId===p.id)||0,[v,p.id]),Ur=fe.useMemo(()=>{var ze;return(ze=p.closeButton)!=null?ze:D},[p.closeButton,D]),Va=fe.useMemo(()=>p.duration||P||nb,[p.duration,P]),zn=fe.useRef(0),Nr=fe.useRef(0),qi=fe.useRef(0),yn=fe.useRef(null),[za,Wa]=_.split("-"),id=fe.useMemo(()=>v.reduce((ze,at,ut)=>ut>=rn?ze:ze+at.height,0),[v,rn]),xn=PA(),ih=p.invert||m,ml=je==="loading";Nr.current=fe.useMemo(()=>rn*T+id,[rn,id]),fe.useEffect(()=>{Y.current=Va},[Va]),fe.useEffect(()=>{R(!0)},[]),fe.useEffect(()=>{let ze=pe.current;if(ze){let at=ze.getBoundingClientRect().height;return O(at),w(ut=>[{toastId:p.id,height:at,position:p.position},...ut]),()=>w(ut=>ut.filter(Br=>Br.toastId!==p.id))}},[w,p.id]),fe.useLayoutEffect(()=>{if(!te)return;let ze=pe.current,at=ze.style.height;ze.style.height="auto";let ut=ze.getBoundingClientRect().height;ze.style.height=at,O(ut),w(Br=>Br.find(qr=>qr.toastId===p.id)?Br.map(qr=>qr.toastId===p.id?{...qr,height:ut}:qr):[{toastId:p.id,height:ut,position:p.position},...Br])},[te,p.title,p.description,w,p.id]);let bn=fe.useCallback(()=>{le(!0),ke(Nr.current),w(ze=>ze.filter(at=>at.toastId!==p.id)),setTimeout(()=>{C(p)},VA)},[p,C,w,Nr]);fe.useEffect(()=>{if(p.promise&&je==="loading"||p.duration===1/0||p.type==="loading")return;let ze;return j||g||V&&xn?(()=>{if(qi.current<zn.current){let at=new Date().getTime()-zn.current;Y.current=Y.current-at}qi.current=new Date().getTime()})():Y.current!==1/0&&(zn.current=new Date().getTime(),ze=setTimeout(()=>{var at;(at=p.onAutoClose)==null||at.call(p,p),bn()},Y.current)),()=>clearTimeout(ze)},[j,g,p,je,V,xn,bn]),fe.useEffect(()=>{p.delete&&bn()},[bn,p.delete]);function oh(){var ze,at,ut;return oe!=null&&oe.loading?fe.createElement("div",{className:jn(B==null?void 0:B.loader,(ze=p==null?void 0:p.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":je==="loading"},oe.loading):ee?fe.createElement("div",{className:jn(B==null?void 0:B.loader,(at=p==null?void 0:p.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":je==="loading"},ee):fe.createElement(NA,{className:jn(B==null?void 0:B.loader,(ut=p==null?void 0:p.classNames)==null?void 0:ut.loader),visible:je==="loading"})}return fe.createElement("li",{tabIndex:0,ref:pe,className:jn(q,tt,B==null?void 0:B.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[je],(r=p==null?void 0:p.classNames)==null?void 0:r[je]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":te,"data-promise":!!p.promise,"data-swiped":M,"data-removed":Z,"data-visible":ye,"data-y-position":za,"data-x-position":Wa,"data-index":b,"data-front":Se,"data-swiping":ae,"data-dismissible":Me,"data-type":je,"data-invert":ih,"data-swipe-out":Ue,"data-swipe-direction":G,"data-expanded":!!(j||W&&te),style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${Z?Le:Nr.current}px`,"--initial-height":W?"auto":`${qe}px`,...H,...p.style},onDragEnd:()=>{Pe(!1),X(null),yn.current=null},onPointerDown:ze=>{ml||!Me||(re.current=new Date,ke(Nr.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(Pe(!0),yn.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,at,ut,Br;if(Ue||!Me)return;yn.current=null;let qr=Number(((ze=pe.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((at=pe.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fs=new Date().getTime()-((ut=re.current)==null?void 0:ut.getTime()),Vr=A==="x"?qr:Wn,Hn=Math.abs(Vr)/fs;if(Math.abs(Vr)>=qA||Hn>.11){ke(Nr.current),(Br=p.onDismiss)==null||Br.call(p,p),ie(A==="x"?qr>0?"right":"left":Wn>0?"down":"up"),bn(),Q(!0),se(!1);return}Pe(!1),X(null)},onPointerMove:ze=>{var at,ut,Br,qr;if(!yn.current||!Me||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;let Wn=ze.clientY-yn.current.y,fs=ze.clientX-yn.current.x,Vr=(ut=e.swipeDirections)!=null?ut:zA(_);!A&&(Math.abs(fs)>1||Math.abs(Wn)>1)&&X(Math.abs(fs)>Math.abs(Wn)?"x":"y");let Hn={x:0,y:0};A==="y"?(Vr.includes("top")||Vr.includes("bottom"))&&(Vr.includes("top")&&Wn<0||Vr.includes("bottom")&&Wn>0)&&(Hn.y=Wn):A==="x"&&(Vr.includes("left")||Vr.includes("right"))&&(Vr.includes("left")&&fs<0||Vr.includes("right")&&fs>0)&&(Hn.x=fs),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&se(!0),(Br=pe.current)==null||Br.style.setProperty("--swipe-amount-x",`${Hn.x}px`),(qr=pe.current)==null||qr.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},Ur&&!p.jsx?fe.createElement("button",{"aria-label":me,"data-disabled":ml,"data-close-button":!0,onClick:ml||!Me?()=>{}:()=>{var ze;bn(),(ze=p.onDismiss)==null||ze.call(p,p)},className:jn(B==null?void 0:B.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=oe==null?void 0:oe.close)!=null?i:kA):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:fe.createElement(fe.Fragment,null,je||p.icon||p.promise?fe.createElement("div",{"data-icon":"",className:jn(B==null?void 0:B.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||oh():null,p.type!=="loading"?p.icon||(oe==null?void 0:oe[je])||wA(je):null):null,fe.createElement("div",{"data-content":"",className:jn(B==null?void 0:B.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},fe.createElement("div",{"data-title":"",className:jn(B==null?void 0:B.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?fe.createElement("div",{"data-description":"",className:jn(F,Xt,B==null?void 0:B.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&kd(p.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||U,onClick:ze=>{var at,ut;kd(p.cancel)&&Me&&((ut=(at=p.cancel).onClick)==null||ut.call(at,ze),bn())},className:jn(B==null?void 0:B.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&kd(p.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:ze=>{var at,ut;kd(p.action)&&((ut=(at=p.action).onClick)==null||ut.call(at,ze),!ze.defaultPrevented&&bn())},className:jn(B==null?void 0:B.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function sb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function HA(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?$A:FA;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var KA=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:m,style:p,visibleToasts:x=LA,toastOptions:g,dir:w=sb(),gap:y=BA,loadingIcon:v,icons:b,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[C,E]=fe.useState([]),D=fe.useMemo(()=>Array.from(new Set([n].concat(C.filter(V=>V.position).map(V=>V.position)))),[C,n]),[H,U]=fe.useState([]),[I,q]=fe.useState(!1),[F,P]=fe.useState(!1),[_,T]=fe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=fe.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=fe.useRef(null),oe=fe.useRef(!1),me=fe.useCallback(V=>{E(A=>{var X;return(X=A.find(G=>G.id===V.id))!=null&&X.delete||Er.dismiss(V.id),A.filter(({id:G})=>G!==V.id)})},[]);return fe.useEffect(()=>Er.subscribe(V=>{if(V.dismiss){E(A=>A.map(X=>X.id===V.id?{...X,delete:!0}:X));return}setTimeout(()=>{aN.flushSync(()=>{E(A=>{let X=A.findIndex(G=>G.id===V.id);return X!==-1?[...A.slice(0,X),{...A[X],...V},...A.slice(X+1)]:[V,...A]})})})}),[]),fe.useEffect(()=>{if(u!=="system"){T(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:A})=>{T(A?"dark":"light")})}catch{V.addListener(({matches:X})=>{try{T(X?"dark":"light")}catch(G){console.error(G)}})}},[u]),fe.useEffect(()=>{C.length<=1&&q(!1)},[C]),fe.useEffect(()=>{let V=A=>{var X,G;a.every(ie=>A[ie]||A.code===ie)&&(q(!0),(X=ee.current)==null||X.focus()),A.code==="Escape"&&(document.activeElement===ee.current||(G=ee.current)!=null&&G.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),fe.useEffect(()=>{if(ee.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,oe.current=!1)}},[ee.current]),fe.createElement("section",{ref:t,"aria-label":`${N} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((V,A)=>{var X;let[G,ie]=V.split("-");return C.length?fe.createElement("ol",{key:V,dir:w==="auto"?sb():w,tabIndex:-1,ref:ee,className:l,"data-sonner-toaster":!0,"data-theme":_,"data-y-position":G,"data-lifted":I&&C.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((X=H[0])==null?void 0:X.height)||0}px`,"--width":`${UA}px`,"--gap":`${y}px`,...p,...HA(c,d)},onBlur:te=>{oe.current&&!te.currentTarget.contains(te.relatedTarget)&&(oe.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,B.current=te.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{F||q(!1)},onDragEnd:()=>q(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},C.filter(te=>!te.position&&A===0||te.position===V).map((te,R)=>{var Z,le;return fe.createElement(WA,{key:te.id,icons:b,index:R,toast:te,defaultRichColors:f,duration:(Z=g==null?void 0:g.duration)!=null?Z:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(le=g==null?void 0:g.closeButton)!=null?le:o,interacting:F,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:me,toasts:C.filter(ae=>ae.position==te.position),heights:H.filter(ae=>ae.position==te.position),setHeights:U,expandByDefault:i,gap:y,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const QA=({...e})=>{const{theme:t="system"}=bA();return s.jsx(KA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var GA=xg[" useId ".trim().toString()]||(()=>{}),YA=0;function tr(e){const[t,r]=h.useState(GA());return Gt(()=>{r(n=>n??String(YA++))},[e]),t?`radix-${t}`:""}const XA=["top","right","bottom","left"],Ta=Math.min,Wr=Math.max,Mu=Math.round,Pd=Math.floor,os=e=>({x:e,y:e}),JA={left:"right",right:"left",bottom:"top",top:"bottom"},ZA={start:"end",end:"start"};function xp(e,t,r){return Wr(e,Ta(t,r))}function Ls(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function ol(e){return e.split("-")[1]}function vv(e){return e==="x"?"y":"x"}function yv(e){return e==="y"?"height":"width"}const eI=new Set(["top","bottom"]);function ns(e){return eI.has(Fs(e))?"y":"x"}function xv(e){return vv(ns(e))}function tI(e,t,r){r===void 0&&(r=!1);const n=ol(e),a=xv(e),i=yv(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Lu(o)),[o,Lu(o)]}function rI(e){const t=Lu(e);return[bp(e),t,bp(t)]}function bp(e){return e.replace(/start|end/g,t=>ZA[t])}const ab=["left","right"],ib=["right","left"],nI=["top","bottom"],sI=["bottom","top"];function aI(e,t,r){switch(e){case"top":case"bottom":return r?t?ib:ab:t?ab:ib;case"left":case"right":return t?nI:sI;default:return[]}}function iI(e,t,r,n){const a=ol(e);let i=aI(Fs(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(bp)))),i}function Lu(e){return e.replace(/left|right|bottom|top/g,t=>JA[t])}function oI(e){return{top:0,right:0,bottom:0,left:0,...e}}function YN(e){return typeof e!="number"?oI(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ob(e,t,r){let{reference:n,floating:a}=e;const i=ns(t),o=xv(t),l=yv(o),c=Fs(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ol(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const lI=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=ob(d,n,c),m=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:N,reset:j}=await y({x:u,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=b??f,p={...p,[w]:{...p[w],...N}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:u,y:f}=ob(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:p}};async function jc(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Ls(t,e),x=YN(p),w=l[m?f==="floating"?"reference":"floating":f],y=Fu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Fu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-j.top+x.top)/N.y,bottom:(j.bottom-y.bottom+x.bottom)/N.y,left:(y.left-j.left+x.left)/N.x,right:(j.right-y.right+x.right)/N.x}}const cI=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ls(e,t)||{};if(d==null)return{};const f=YN(u),m={x:r,y:n},p=xv(a),x=yv(p),g=await o.getDimensions(d),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[p]-m[p]-i.floating[x],j=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=C?C[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=l.floating[b]||i.floating[x]);const D=N/2-j/2,H=E/2-g[x]/2-1,U=Ta(f[y],H),I=Ta(f[v],H),q=U,F=E-g[x]-I,P=E/2-g[x]/2+D,_=xp(q,P,F),T=!c.arrow&&ol(a)!=null&&P!==_&&i.reference[x]/2-(P<q?U:I)-g[x]/2<0,ee=T?P<q?P-q:P-F:0;return{[p]:m[p]+ee,data:{[p]:_,centerOffset:P-_-ee,...T&&{alignmentOffset:ee}},reset:T}}}),dI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Ls(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Fs(a),v=ns(l),b=Fs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(b||!g?[Lu(l)]:rI(l)),C=x!=="none";!m&&C&&j.push(...iI(l,g,x,N));const E=[l,...j],D=await jc(t,w),H=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&H.push(D[y]),f){const P=tI(a,o,N);H.push(D[P[0]],D[P[1]])}if(U=[...U,{placement:a,overflows:H}],!H.every(P=>P<=0)){var I,q;const P=(((I=i.flip)==null?void 0:I.index)||0)+1,_=E[P];if(_&&(!(f==="alignment"?v!==ns(_):!1)||U.every(W=>W.overflows[0]>0&&ns(W.placement)===v)))return{data:{index:P,overflows:U},reset:{placement:_}};let T=(q=U.filter(ee=>ee.overflows[0]<=0).sort((ee,W)=>ee.overflows[1]-W.overflows[1])[0])==null?void 0:q.placement;if(!T)switch(p){case"bestFit":{var F;const ee=(F=U.filter(W=>{if(C){const B=ns(W.placement);return B===v||B==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(B=>B>0).reduce((B,oe)=>B+oe,0)]).sort((W,B)=>W[1]-B[1])[0])==null?void 0:F[0];ee&&(T=ee);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function lb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cb(e){return XA.some(t=>e[t]>=0)}const uI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ls(e,t);switch(n){case"referenceHidden":{const i=await jc(t,{...a,elementContext:"reference"}),o=lb(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cb(o)}}}case"escaped":{const i=await jc(t,{...a,altBoundary:!0}),o=lb(i,r.floating);return{data:{escapedOffsets:o,escaped:cb(o)}}}default:return{}}}}},XN=new Set(["left","top"]);async function fI(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Fs(r),l=ol(r),c=ns(r)==="y",d=XN.has(o)?-1:1,u=i&&c?-1:1,f=Ls(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const hI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await fI(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},mI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=Ls(e,t),d={x:r,y:n},u=await jc(t,c),f=ns(Fs(a)),m=vv(f);let p=d[m],x=d[f];if(i){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+u[w],b=p-u[y];p=xp(v,p,b)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+u[w],b=x-u[y];x=xp(v,x,b)}const g=l.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},pI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ls(e,t),u={x:r,y:n},f=ns(a),m=vv(f);let p=u[m],x=u[f];const g=Ls(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",N=i.reference[m]-i.floating[b]+w.mainAxis,j=i.reference[m]+i.reference[b]-w.mainAxis;p<N?p=N:p>j&&(p=j)}if(d){var y,v;const b=m==="y"?"width":"height",N=XN.has(Fs(a)),j=i.reference[f]-i.floating[b]+(N&&((y=o.offset)==null?void 0:y[f])||0)+(N?0:w.crossAxis),C=i.reference[f]+i.reference[b]+(N?0:((v=o.offset)==null?void 0:v[f])||0)-(N?w.crossAxis:0);x<j?x=j:x>C&&(x=C)}return{[m]:p,[f]:x}}}},gI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ls(e,t),u=await jc(t,d),f=Fs(a),m=ol(a),p=ns(a)==="y",{width:x,height:g}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,w=m==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=x-u.left-u.right,N=Ta(g-u[w],v),j=Ta(x-u[y],b),C=!t.middlewareData.shift;let E=N,D=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=v),C&&!m){const U=Wr(u.left,0),I=Wr(u.right,0),q=Wr(u.top,0),F=Wr(u.bottom,0);p?D=x-2*(U!==0||I!==0?U+I:Wr(u.left,u.right)):E=g-2*(q!==0||F!==0?q+F:Wr(u.top,u.bottom))}await c({...t,availableWidth:D,availableHeight:E});const H=await o.getDimensions(l.floating);return x!==H.width||g!==H.height?{reset:{rects:!0}}:{}}}};function _f(){return typeof window<"u"}function ll(e){return JN(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ds(e){var t;return(t=(JN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JN(e){return _f()?e instanceof Node||e instanceof Yr(e).Node:!1}function Ln(e){return _f()?e instanceof Element||e instanceof Yr(e).Element:!1}function cs(e){return _f()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function db(e){return!_f()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}const vI=new Set(["inline","contents"]);function zc(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!vI.has(a)}const yI=new Set(["table","td","th"]);function xI(e){return yI.has(ll(e))}const bI=[":popover-open",":modal"];function Sf(e){return bI.some(t=>{try{return e.matches(t)}catch{return!1}})}const wI=["transform","translate","scale","rotate","perspective"],jI=["transform","translate","scale","rotate","perspective","filter"],NI=["paint","layout","strict","content"];function bv(e){const t=wv(),r=Ln(e)?Fn(e):e;return wI.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||jI.some(n=>(r.willChange||"").includes(n))||NI.some(n=>(r.contain||"").includes(n))}function _I(e){let t=Ra(e);for(;cs(t)&&!Xo(t);){if(bv(t))return t;if(Sf(t))return null;t=Ra(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SI=new Set(["html","body","#document"]);function Xo(e){return SI.has(ll(e))}function Fn(e){return Yr(e).getComputedStyle(e)}function Cf(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ra(e){if(ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||db(e)&&e.host||ds(e);return db(t)?t.host:t}function ZN(e){const t=Ra(e);return Xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&zc(t)?t:ZN(t)}function Nc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ZN(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Yr(a);if(i){const l=wp(o);return t.concat(o,o.visualViewport||[],zc(a)?a:[],l&&r?Nc(l):[])}return t.concat(a,Nc(a,[],r))}function wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e_(e){const t=Fn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=cs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Mu(r)!==i||Mu(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function jv(e){return Ln(e)?e:e.contextElement}function Co(e){const t=jv(e);if(!cs(t))return os(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=e_(t);let o=(i?Mu(r.width):r.width)/n,l=(i?Mu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const CI=os(0);function t_(e){const t=Yr(e);return!wv()||!t.visualViewport?CI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EI(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yr(e)?!1:t}function Si(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=jv(e);let o=os(1);t&&(n?Ln(n)&&(o=Co(n)):o=Co(e));const l=EI(i,r,n)?t_(i):os(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Yr(i),p=n&&Ln(n)?Yr(n):n;let x=m,g=wp(x);for(;g&&n&&p!==x;){const w=Co(g),y=g.getBoundingClientRect(),v=Fn(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,N=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=N,x=Yr(g),g=wp(x)}}return Fu({width:u,height:f,x:c,y:d})}function Nv(e,t){const r=Cf(e).scrollLeft;return t?t.left+r:Si(ds(e)).left+r}function r_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Nv(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function kI(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ds(n),l=t?Sf(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=os(1);const u=os(0),f=cs(n);if((f||!f&&!i)&&((ll(n)!=="body"||zc(o))&&(c=Cf(n)),cs(n))){const p=Si(n);d=Co(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!f&&!i?r_(o,c,!0):os(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function PI(e){return Array.from(e.getClientRects())}function TI(e){const t=ds(e),r=Cf(e),n=e.ownerDocument.body,a=Wr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Wr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Nv(e);const l=-r.scrollTop;return Fn(n).direction==="rtl"&&(o+=Wr(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function RI(e,t){const r=Yr(e),n=ds(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=wv();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const AI=new Set(["absolute","fixed"]);function II(e,t){const r=Si(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=cs(e)?Co(e):os(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function ub(e,t,r){let n;if(t==="viewport")n=RI(e,r);else if(t==="document")n=TI(ds(e));else if(Ln(t))n=II(t,r);else{const a=t_(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fu(n)}function n_(e,t){const r=Ra(e);return r===t||!Ln(r)||Xo(r)?!1:Fn(r).position==="fixed"||n_(r,t)}function OI(e,t){const r=t.get(e);if(r)return r;let n=Nc(e,[],!1).filter(l=>Ln(l)&&ll(l)!=="body"),a=null;const i=Fn(e).position==="fixed";let o=i?Ra(e):e;for(;Ln(o)&&!Xo(o);){const l=Fn(o),c=bv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&AI.has(a.position)||zc(o)&&!c&&n_(e,o))?n=n.filter(u=>u!==o):a=l,o=Ra(o)}return t.set(e,n),n}function DI(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Sf(t)?[]:OI(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=ub(t,u,a);return d.top=Wr(f.top,d.top),d.right=Ta(f.right,d.right),d.bottom=Ta(f.bottom,d.bottom),d.left=Wr(f.left,d.left),d},ub(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MI(e){const{width:t,height:r}=e_(e);return{width:t,height:r}}function LI(e,t,r){const n=cs(t),a=ds(t),i=r==="fixed",o=Si(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=os(0);function d(){c.x=Nv(a)}if(n||!n&&!i)if((ll(t)!=="body"||zc(a))&&(l=Cf(t)),n){const p=Si(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?r_(a,l):os(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function Vh(e){return Fn(e).position==="static"}function fb(e,t){if(!cs(e)||Fn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ds(e)===r&&(r=r.ownerDocument.body),r}function s_(e,t){const r=Yr(e);if(Sf(e))return r;if(!cs(e)){let a=Ra(e);for(;a&&!Xo(a);){if(Ln(a)&&!Vh(a))return a;a=Ra(a)}return r}let n=fb(e,t);for(;n&&xI(n)&&Vh(n);)n=fb(n,t);return n&&Xo(n)&&Vh(n)&&!bv(n)?r:n||_I(e)||r}const FI=async function(e){const t=this.getOffsetParent||s_,r=this.getDimensions,n=await r(e.floating);return{reference:LI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $I(e){return Fn(e).direction==="rtl"}const UI={convertOffsetParentRelativeRectToViewportRelativeRect:kI,getDocumentElement:ds,getClippingRect:DI,getOffsetParent:s_,getElementRects:FI,getClientRects:PI,getDimensions:MI,getScale:Co,isElement:Ln,isRTL:$I};function a_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BI(e,t){let r=null,n;const a=ds(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=d;if(l||t(),!m||!p)return;const x=Pd(f),g=Pd(a.clientWidth-(u+m)),w=Pd(a.clientHeight-(f+p)),y=Pd(u),b={rootMargin:-x+"px "+-g+"px "+-w+"px "+-y+"px",threshold:Wr(0,Ta(1,c))||1};let N=!0;function j(C){const E=C[0].intersectionRatio;if(E!==c){if(!N)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!a_(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function qI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=jv(e),u=a||i?[...d?Nc(d):[],...Nc(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=d&&l?BI(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?Si(e):null;c&&w();function w(){const y=Si(e);g&&!a_(g,y)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const VI=hI,zI=mI,WI=dI,HI=gI,KI=uI,hb=cI,QI=pI,GI=(e,t,r)=>{const n=new Map,a={platform:UI,...r},i={...a.platform,_c:n};return lI(e,t,{...a,platform:i})};var YI=typeof document<"u",XI=function(){},au=YI?h.useLayoutEffect:XI;function $u(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$u(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!$u(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function i_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mb(e,t){const r=i_(e);return Math.round(t*r)/r}function zh(e){const t=h.useRef(e);return au(()=>{t.current=e}),t}function JI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);$u(m,n)||p(n);const[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useCallback(W=>{W!==C.current&&(C.current=W,g(W))},[]),b=h.useCallback(W=>{W!==E.current&&(E.current=W,y(W))},[]),N=i||x,j=o||w,C=h.useRef(null),E=h.useRef(null),D=h.useRef(u),H=c!=null,U=zh(c),I=zh(a),q=zh(d),F=h.useCallback(()=>{if(!C.current||!E.current)return;const W={placement:t,strategy:r,middleware:m};I.current&&(W.platform=I.current),GI(C.current,E.current,W).then(B=>{const oe={...B,isPositioned:q.current!==!1};P.current&&!$u(D.current,oe)&&(D.current=oe,Di.flushSync(()=>{f(oe)}))})},[m,t,r,I,q]);au(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[d]);const P=h.useRef(!1);au(()=>(P.current=!0,()=>{P.current=!1}),[]),au(()=>{if(N&&(C.current=N),j&&(E.current=j),N&&j){if(U.current)return U.current(N,j,F);F()}},[N,j,F,U,H]);const _=h.useMemo(()=>({reference:C,floating:E,setReference:v,setFloating:b}),[v,b]),T=h.useMemo(()=>({reference:N,floating:j}),[N,j]),ee=h.useMemo(()=>{const W={position:r,left:0,top:0};if(!T.floating)return W;const B=mb(T.floating,u.x),oe=mb(T.floating,u.y);return l?{...W,transform:"translate("+B+"px, "+oe+"px)",...i_(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:oe}},[r,l,T.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:F,refs:_,elements:T,floatingStyles:ee}),[u,F,_,T,ee])}const ZI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hb({element:n.current,padding:a}).fn(r):{}:n?hb({element:n,padding:a}).fn(r):{}}}},eO=(e,t)=>({...VI(e),options:[e,t]}),tO=(e,t)=>({...zI(e),options:[e,t]}),rO=(e,t)=>({...QI(e),options:[e,t]}),nO=(e,t)=>({...WI(e),options:[e,t]}),sO=(e,t)=>({...HI(e),options:[e,t]}),aO=(e,t)=>({...KI(e),options:[e,t]}),iO=(e,t)=>({...ZI(e),options:[e,t]});var oO="Arrow",o_=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(De.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});o_.displayName=oO;var lO=o_;function l_(e){const[t,r]=h.useState(void 0);return Gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _v="Popper",[c_,Ma]=wr(_v),[cO,d_]=c_(_v),u_=e=>{const{__scopePopper:t,children:r}=e,[n,a]=h.useState(null);return s.jsx(cO,{scope:t,anchor:n,onAnchorChange:a,children:r})};u_.displayName=_v;var f_="PopperAnchor",h_=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=d_(f_,r),o=h.useRef(null),l=We(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(De.div,{...a,ref:l})});h_.displayName=f_;var Sv="PopperContent",[dO,uO]=c_(Sv),m_=h.forwardRef((e,t)=>{var te,R,Z,le,ae,Pe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=d_(Sv,r),[y,v]=h.useState(null),b=We(t,Ue=>v(Ue)),[N,j]=h.useState(null),C=l_(N),E=(C==null?void 0:C.width)??0,D=(C==null?void 0:C.height)??0,H=n+(i!=="center"?"-"+i:""),U=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],q=I.length>0,F={padding:U,boundary:I.filter(hO),altBoundary:q},{refs:P,floatingStyles:_,placement:T,isPositioned:ee,middlewareData:W}=JI({strategy:"fixed",placement:H,whileElementsMounted:(...Ue)=>qI(...Ue,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[eO({mainAxis:a+D,alignmentAxis:o}),c&&tO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rO():void 0,...F}),c&&nO({...F}),sO({...F,apply:({elements:Ue,rects:Q,availableWidth:M,availableHeight:se})=>{const{width:Le,height:ke}=Q.reference,qe=Ue.floating.style;qe.setProperty("--radix-popper-available-width",`${M}px`),qe.setProperty("--radix-popper-available-height",`${se}px`),qe.setProperty("--radix-popper-anchor-width",`${Le}px`),qe.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),N&&iO({element:N,padding:l}),mO({arrowWidth:E,arrowHeight:D}),m&&aO({strategy:"referenceHidden",...F})]}),[B,oe]=v_(T),me=Tt(x);Gt(()=>{ee&&(me==null||me())},[ee,me]);const V=(te=W.arrow)==null?void 0:te.x,A=(R=W.arrow)==null?void 0:R.y,X=((Z=W.arrow)==null?void 0:Z.centerOffset)!==0,[G,ie]=h.useState();return Gt(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:ee?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(le=W.transformOrigin)==null?void 0:le.x,(ae=W.transformOrigin)==null?void 0:ae.y].join(" "),...((Pe=W.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(dO,{scope:r,placedSide:B,onArrowChange:j,arrowX:V,arrowY:A,shouldHideArrow:X,children:s.jsx(De.div,{"data-side":B,"data-align":oe,...g,ref:b,style:{...g.style,animation:ee?void 0:"none"}})})})});m_.displayName=Sv;var p_="PopperArrow",fO={top:"bottom",right:"left",bottom:"top",left:"right"},g_=h.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=uO(p_,n),o=fO[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(lO,{...a,ref:r,style:{...a.style,display:"block"}})})});g_.displayName=p_;function hO(e){return e!==null}var mO=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=v_(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?f:`${m}px`,g=`${-c}px`):d==="top"?(x=o?f:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x,y:g}}}});function v_(e){const[t,r="center"]=e.split("-");return[t,r]}var Cv=u_,Wc=h_,Ef=m_,kf=g_,[Pf,aV]=wr("Tooltip",[Ma]),Ev=Ma(),y_="TooltipProvider",pO=700,pb="tooltip.open",[gO,x_]=Pf(y_),b_=e=>{const{__scopeTooltip:t,delayDuration:r=pO,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(gO,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};b_.displayName=y_;var w_="Tooltip",[iV,Tf]=Pf(w_),jp="TooltipTrigger",vO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Tf(jp,r),i=x_(jp,r),o=Ev(r),l=h.useRef(null),c=We(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Wc,{asChild:!0,...o,children:s.jsx(De.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:we(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:we(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:we(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:we(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:we(e.onBlur,a.onClose),onClick:we(e.onClick,a.onClose)})})});vO.displayName=jp;var yO="TooltipPortal",[oV,xO]=Pf(yO,{forceMount:void 0}),Jo="TooltipContent",j_=h.forwardRef((e,t)=>{const r=xO(Jo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Tf(Jo,e.__scopeTooltip);return s.jsx(Yt,{present:n||o.open,children:o.disableHoverableContent?s.jsx(N_,{side:a,...i,ref:t}):s.jsx(bO,{side:a,...i,ref:t})})}),bO=h.forwardRef((e,t)=>{const r=Tf(Jo,e.__scopeTooltip),n=x_(Jo,e.__scopeTooltip),a=h.useRef(null),i=We(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},v=SO(y,w.getBoundingClientRect()),b=CO(y,v),N=EO(g.getBoundingClientRect()),j=PO([...b,...N]);l(j),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const x=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(o){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!kO(y,o);v?m():b&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),s.jsx(N_,{...e,ref:i})}),[wO,jO]=Pf(w_,{isInside:!1}),NO=lN("TooltipContent"),N_=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Tf(Jo,r),d=Ev(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(pb,u),()=>document.removeEventListener(pb,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(Ef,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(NO,{children:n}),s.jsx(wO,{scope:r,isInside:!0,children:s.jsx(sR,{id:c.contentId,role:"tooltip",children:a||n})})]})})});j_.displayName=Jo;var __="TooltipArrow",_O=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ev(r);return jO(__,r).isInside?null:s.jsx(kf,{...a,...n,ref:t})});_O.displayName=__;function SO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function CO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function EO(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function kO(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function PO(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),TO(t)}function TO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var RO=b_,S_=j_;const AO=RO,IO=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(S_,{ref:n,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));IO.displayName=S_.displayName;const OO=qc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mr=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ee(OO({variant:t}),e),...r}));mr.displayName="Alert";const DO=h.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));DO.displayName="AlertTitle";const pr=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));pr.displayName="AlertDescription";function MO(){const[e,t]=h.useState(navigator.onLine);return h.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e?null:s.jsxs(mr,{className:"mb-4 border-orange-200 bg-orange-50",children:[s.jsx(OR,{className:"h-4 w-4"}),s.jsx(pr,{children:"You're currently offline. Some features may not work properly until your connection is restored."})]})}var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LO={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ta,hg,M0,FO=(M0=class{constructor(){Be(this,ta,LO);Be(this,hg,!1)}setTimeoutProvider(e){Re(this,ta,e)}setTimeout(e,t){return L(this,ta).setTimeout(e,t)}clearTimeout(e){L(this,ta).clearTimeout(e)}setInterval(e,t){return L(this,ta).setInterval(e,t)}clearInterval(e){L(this,ta).clearInterval(e)}},ta=new WeakMap,hg=new WeakMap,M0),ni=new FO;function $O(e){setTimeout(e,0)}var Ci=typeof window>"u"||"Deno"in globalThis;function Zt(){}function UO(e,t){return typeof e=="function"?e(t):e}function Np(e){return typeof e=="number"&&e>=0&&e!==1/0}function C_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wa(e,t){return typeof e=="function"?e(t):e}function an(e,t){return typeof e=="function"?e(t):e}function gb(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==kv(o,t.options))return!1}else if(!_c(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function vb(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ei(t.options.mutationKey)!==Ei(i))return!1}else if(!_c(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function kv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ei)(e)}function Ei(e){return JSON.stringify(e,(t,r)=>_p(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function _c(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_c(e[r],t[r])):!1}var BO=Object.prototype.hasOwnProperty;function E_(e,t){if(e===t)return e;const r=yb(e)&&yb(t);if(!r&&!(_p(e)&&_p(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],f=e[u],m=t[u];if(f===m){l[u]=f,(r?d<a:BO.call(e,u))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[u]=m;continue}const p=E_(f,m);l[u]=p,p===f&&c++}return a===o&&c===a?e:l}function Uu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _p(e){if(!xb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xb(e){return Object.prototype.toString.call(e)==="[object Object]"}function qO(e){return new Promise(t=>{ni.setTimeout(t,e)})}function Sp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?E_(e,t):t}function VO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function zO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Pv=Symbol();function k_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Pv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function P_(e,t){return typeof e=="function"?e(...t):!!e}var ai,ra,To,L0,WO=(L0=class extends cl{constructor(){super();Be(this,ai);Be(this,ra);Be(this,To);Re(this,To,t=>{if(!Ci&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){L(this,ra)||this.setEventListener(L(this,To))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,ra))==null||t.call(this),Re(this,ra,void 0))}setEventListener(t){var r;Re(this,To,t),(r=L(this,ra))==null||r.call(this),Re(this,ra,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){L(this,ai)!==t&&(Re(this,ai,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof L(this,ai)=="boolean"?L(this,ai):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ai=new WeakMap,ra=new WeakMap,To=new WeakMap,L0),Tv=new WO;function Cp(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function HO(e){var r;let t;if((r=e.then(n=>(t=n,n),Zt))==null||r.catch(Zt),t!==void 0)return{data:t}}function T_(e){return e}function KO(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function QO(e,t,r){var n;return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:(n=e.promise)==null?void 0:n.then(t).catch(a=>r(a)?Promise.reject(new Error("redacted")):Promise.reject(a))},...e.meta&&{meta:e.meta}}}function GO(e){return e.state.isPaused}function YO(e){return e.state.status==="success"}function XO(e){return!0}function JO(e,t={}){var c,d,u,f;const r=t.shouldDehydrateMutation??((c=e.getDefaultOptions().dehydrate)==null?void 0:c.shouldDehydrateMutation)??GO,n=e.getMutationCache().getAll().flatMap(m=>r(m)?[KO(m)]:[]),a=t.shouldDehydrateQuery??((d=e.getDefaultOptions().dehydrate)==null?void 0:d.shouldDehydrateQuery)??YO,i=t.shouldRedactErrors??((u=e.getDefaultOptions().dehydrate)==null?void 0:u.shouldRedactErrors)??XO,o=t.serializeData??((f=e.getDefaultOptions().dehydrate)==null?void 0:f.serializeData)??T_,l=e.getQueryCache().getAll().flatMap(m=>a(m)?[QO(m,o,i)]:[]);return{mutations:n,queries:l}}function ZO(e,t,r){var c,d;if(typeof t!="object"||t===null)return;const n=e.getMutationCache(),a=e.getQueryCache(),i=((c=r==null?void 0:r.defaultOptions)==null?void 0:c.deserializeData)??((d=e.getDefaultOptions().hydrate)==null?void 0:d.deserializeData)??T_,o=t.mutations||[],l=t.queries||[];o.forEach(({state:u,...f})=>{var m,p;n.build(e,{...(m=e.getDefaultOptions().hydrate)==null?void 0:m.mutations,...(p=r==null?void 0:r.defaultOptions)==null?void 0:p.mutations,...f},u)}),l.forEach(({queryKey:u,state:f,queryHash:m,meta:p,promise:x,dehydratedAt:g})=>{var C,E;const w=x?HO(x):void 0,y=f.data===void 0?w==null?void 0:w.data:f.data,v=y===void 0?y:i(y);let b=a.get(m);const N=(b==null?void 0:b.state.status)==="pending",j=(b==null?void 0:b.state.fetchStatus)==="fetching";if(b){const D=w&&g!==void 0&&g>b.state.dataUpdatedAt;if(f.dataUpdatedAt>b.state.dataUpdatedAt||D){const{fetchStatus:H,...U}=f;b.setState({...U,data:v})}}else b=a.build(e,{...(C=e.getDefaultOptions().hydrate)==null?void 0:C.queries,...(E=r==null?void 0:r.defaultOptions)==null?void 0:E.queries,queryKey:u,queryHash:m,meta:p},{...f,data:v,fetchStatus:"idle",status:v!==void 0?"success":f.status});x&&!N&&!j&&(g===void 0||g>b.state.dataUpdatedAt)&&b.fetch(void 0,{initialPromise:Promise.resolve(x).then(i)})})}var eD=$O;function tD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=eD;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ut=tD(),Ro,na,Ao,F0,rD=(F0=class extends cl{constructor(){super();Be(this,Ro,!0);Be(this,na);Be(this,Ao);Re(this,Ao,t=>{if(!Ci&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){L(this,na)||this.setEventListener(L(this,Ao))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,na))==null||t.call(this),Re(this,na,void 0))}setEventListener(t){var r;Re(this,Ao,t),(r=L(this,na))==null||r.call(this),Re(this,na,t(this.setOnline.bind(this)))}setOnline(t){L(this,Ro)!==t&&(Re(this,Ro,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return L(this,Ro)}},Ro=new WeakMap,na=new WeakMap,Ao=new WeakMap,F0),Bu=new rD;function nD(e){return Math.min(1e3*2**e,3e4)}function R_(e){return(e??"online")==="online"?Bu.isOnline():!0}var Ep=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function A_(e){let t=!1,r=0,n;const a=Cp(),i=()=>a.status!=="pending",o=g=>{var w;if(!i()){const y=new Ep(g);m(y),(w=e.onCancel)==null||w.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>Tv.isFocused()&&(e.networkMode==="always"||Bu.isOnline())&&e.canRun(),u=()=>R_(e.networkMode)&&e.canRun(),f=g=>{i()||(n==null||n(),a.resolve(g))},m=g=>{i()||(n==null||n(),a.reject(g))},p=()=>new Promise(g=>{var w;n=y=>{(i()||d())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(i())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var C;if(i())return;const v=e.retry??(Ci?0:3),b=e.retryDelay??nD,N=typeof b=="function"?b(r,y):b,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!j){m(y);return}r++,(C=e.onFail)==null||C.call(e,r,y),qO(N).then(()=>d()?void 0:p()).then(()=>{t?m(y):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),a)}}var ii,$0,I_=($0=class{constructor(){Be(this,ii)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Np(this.gcTime)&&Re(this,ii,ni.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ci?1/0:5*60*1e3))}clearGcTimeout(){L(this,ii)&&(ni.clearTimeout(L(this,ii)),Re(this,ii,void 0))}},ii=new WeakMap,$0),oi,Io,sn,li,zt,Rc,ci,Cn,ps,U0,sD=(U0=class extends I_{constructor(t){super();Be(this,Cn);Be(this,oi);Be(this,Io);Be(this,sn);Be(this,li);Be(this,zt);Be(this,Rc);Be(this,ci);Re(this,ci,!1),Re(this,Rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,li,t.client),Re(this,sn,L(this,li).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,oi,bb(this.options)),this.state=t.state??L(this,oi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,zt))==null?void 0:t.promise}setOptions(t){if(this.options={...L(this,Rc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=bb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Re(this,oi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,sn).remove(this)}setData(t,r){const n=Sp(this.state.data,t,this.options);return Ye(this,Cn,ps).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ye(this,Cn,ps).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=L(this,zt))==null?void 0:n.promise;return(a=L(this,zt))==null||a.cancel(t),r?r.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,oi))}isActive(){return this.observers.some(t=>an(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!C_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,zt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,zt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,sn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(L(this,zt)&&(L(this,ci)?L(this,zt).cancel({revert:!0}):L(this,zt).cancelRetry()),this.scheduleGc()),L(this,sn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Cn,ps).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,f,m,p,x,g,w,y,v,b;if(this.state.fetchStatus!=="idle"&&((c=L(this,zt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,zt))return L(this,zt).continueRetry(),L(this,zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Re(this,ci,!0),n.signal)})},i=()=>{const N=k_(this.options,r),C=(()=>{const E={client:L(this,li),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return Re(this,ci,!1),this.options.persister?this.options.persister(N,C,this):N(C)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:L(this,li),state:this.state,fetchFn:i};return a(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),Re(this,Io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Ye(this,Cn,ps).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Re(this,zt,A_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof Ep&&N.revert&&this.setState({...L(this,Io),fetchStatus:"idle"}),n.abort()},onFail:(N,j)=>{Ye(this,Cn,ps).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{Ye(this,Cn,ps).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Cn,ps).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await L(this,zt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(m=L(this,sn).config).onSuccess)==null||p.call(m,N,this),(g=(x=L(this,sn).config).onSettled)==null||g.call(x,N,this.state.error,this),N}catch(N){if(N instanceof Ep){if(N.silent)return L(this,zt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Ye(this,Cn,ps).call(this,{type:"error",error:N}),(y=(w=L(this,sn).config).onError)==null||y.call(w,N,this),(b=(v=L(this,sn).config).onSettled)==null||b.call(v,this.state.data,N,this),N}finally{this.scheduleGc()}}},oi=new WeakMap,Io=new WeakMap,sn=new WeakMap,li=new WeakMap,zt=new WeakMap,Rc=new WeakMap,ci=new WeakMap,Cn=new WeakSet,ps=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O_(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,Io,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),L(this,sn).notify({query:this,type:"updated",action:t})})},U0);function O_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _r,rt,Ac,dr,di,Oo,ws,sa,Ic,Do,Mo,ui,fi,aa,Lo,ot,Ll,kp,Pp,Tp,Rp,Ap,Ip,Op,D_,B0,aD=(B0=class extends cl{constructor(t,r){super();Be(this,ot);Be(this,_r);Be(this,rt);Be(this,Ac);Be(this,dr);Be(this,di);Be(this,Oo);Be(this,ws);Be(this,sa);Be(this,Ic);Be(this,Do);Be(this,Mo);Be(this,ui);Be(this,fi);Be(this,aa);Be(this,Lo,new Set);this.options=r,Re(this,_r,t),Re(this,sa,null),Re(this,ws,Cp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,rt).addObserver(this),wb(L(this,rt),this.options)?Ye(this,ot,Ll).call(this):this.updateResult(),Ye(this,ot,Rp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dp(L(this,rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dp(L(this,rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,ot,Ap).call(this),Ye(this,ot,Ip).call(this),L(this,rt).removeObserver(this)}setOptions(t){const r=this.options,n=L(this,rt);if(this.options=L(this,_r).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,L(this,rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,ot,Op).call(this),L(this,rt).setOptions(this.options),r._defaulted&&!Uu(this.options,r)&&L(this,_r).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,rt),observer:this});const a=this.hasListeners();a&&jb(L(this,rt),n,this.options,r)&&Ye(this,ot,Ll).call(this),this.updateResult(),a&&(L(this,rt)!==n||an(this.options.enabled,L(this,rt))!==an(r.enabled,L(this,rt))||wa(this.options.staleTime,L(this,rt))!==wa(r.staleTime,L(this,rt)))&&Ye(this,ot,kp).call(this);const i=Ye(this,ot,Pp).call(this);a&&(L(this,rt)!==n||an(this.options.enabled,L(this,rt))!==an(r.enabled,L(this,rt))||i!==L(this,aa))&&Ye(this,ot,Tp).call(this,i)}getOptimisticResult(t){const r=L(this,_r).getQueryCache().build(L(this,_r),t),n=this.createResult(r,t);return oD(this,n)&&(Re(this,dr,n),Re(this,Oo,this.options),Re(this,di,L(this,rt).state)),n}getCurrentResult(){return L(this,dr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&L(this,ws).status==="pending"&&L(this,ws).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){L(this,Lo).add(t)}getCurrentQuery(){return L(this,rt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=L(this,_r).defaultQueryOptions(t),n=L(this,_r).getQueryCache().build(L(this,_r),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ye(this,ot,Ll).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,dr)))}createResult(t,r){var H;const n=L(this,rt),a=this.options,i=L(this,dr),o=L(this,di),l=L(this,Oo),d=t!==n?t.state:L(this,Ac),{state:u}=t;let f={...u},m=!1,p;if(r._optimisticResults){const U=this.hasListeners(),I=!U&&wb(t,r),q=U&&jb(t,n,r,a);(I||q)&&(f={...f,...O_(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let U;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(U=i.data,y=!0):U=typeof r.placeholderData=="function"?r.placeholderData((H=L(this,Mo))==null?void 0:H.state.data,L(this,Mo)):r.placeholderData,U!==void 0&&(w="success",p=Sp(i==null?void 0:i.data,U,r),m=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===L(this,Ic))p=L(this,Do);else try{Re(this,Ic,r.select),p=r.select(p),p=Sp(i==null?void 0:i.data,p,r),Re(this,Do,p),Re(this,sa,null)}catch(U){Re(this,sa,U)}L(this,sa)&&(x=L(this,sa),p=L(this,Do),g=Date.now(),w="error");const v=f.fetchStatus==="fetching",b=w==="pending",N=w==="error",j=b&&v,C=p!==void 0,D={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:N,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:N&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&C,isStale:Rv(t,r),refetch:this.refetch,promise:L(this,ws),isEnabled:an(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const U=F=>{D.status==="error"?F.reject(D.error):D.data!==void 0&&F.resolve(D.data)},I=()=>{const F=Re(this,ws,D.promise=Cp());U(F)},q=L(this,ws);switch(q.status){case"pending":t.queryHash===n.queryHash&&U(q);break;case"fulfilled":(D.status==="error"||D.data!==q.value)&&I();break;case"rejected":(D.status!=="error"||D.error!==q.reason)&&I();break}}return D}updateResult(){const t=L(this,dr),r=this.createResult(L(this,rt),this.options);if(Re(this,di,L(this,rt).state),Re(this,Oo,this.options),L(this,di).data!==void 0&&Re(this,Mo,L(this,rt)),Uu(r,t))return;Re(this,dr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!L(this,Lo).size)return!0;const o=new Set(i??L(this,Lo));return this.options.throwOnError&&o.add("error"),Object.keys(L(this,dr)).some(l=>{const c=l;return L(this,dr)[c]!==t[c]&&o.has(c)})};Ye(this,ot,D_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,ot,Rp).call(this)}},_r=new WeakMap,rt=new WeakMap,Ac=new WeakMap,dr=new WeakMap,di=new WeakMap,Oo=new WeakMap,ws=new WeakMap,sa=new WeakMap,Ic=new WeakMap,Do=new WeakMap,Mo=new WeakMap,ui=new WeakMap,fi=new WeakMap,aa=new WeakMap,Lo=new WeakMap,ot=new WeakSet,Ll=function(t){Ye(this,ot,Op).call(this);let r=L(this,rt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Zt)),r},kp=function(){Ye(this,ot,Ap).call(this);const t=wa(this.options.staleTime,L(this,rt));if(Ci||L(this,dr).isStale||!Np(t))return;const n=C_(L(this,dr).dataUpdatedAt,t)+1;Re(this,ui,ni.setTimeout(()=>{L(this,dr).isStale||this.updateResult()},n))},Pp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,rt)):this.options.refetchInterval)??!1},Tp=function(t){Ye(this,ot,Ip).call(this),Re(this,aa,t),!(Ci||an(this.options.enabled,L(this,rt))===!1||!Np(L(this,aa))||L(this,aa)===0)&&Re(this,fi,ni.setInterval(()=>{(this.options.refetchIntervalInBackground||Tv.isFocused())&&Ye(this,ot,Ll).call(this)},L(this,aa)))},Rp=function(){Ye(this,ot,kp).call(this),Ye(this,ot,Tp).call(this,Ye(this,ot,Pp).call(this))},Ap=function(){L(this,ui)&&(ni.clearTimeout(L(this,ui)),Re(this,ui,void 0))},Ip=function(){L(this,fi)&&(ni.clearInterval(L(this,fi)),Re(this,fi,void 0))},Op=function(){const t=L(this,_r).getQueryCache().build(L(this,_r),this.options);if(t===L(this,rt))return;const r=L(this,rt);Re(this,rt,t),Re(this,Ac,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D_=function(t){Ut.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(L(this,dr))}),L(this,_r).getQueryCache().notify({query:L(this,rt),type:"observerResultsUpdated"})})},B0);function iD(e,t){return an(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wb(e,t){return iD(e,t)||e.state.data!==void 0&&Dp(e,t,t.refetchOnMount)}function Dp(e,t,r){if(an(t.enabled,e)!==!1&&wa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Rv(e,t)}return!1}function jb(e,t,r,n){return(e!==t||an(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Rv(e,r)}function Rv(e,t){return an(t.enabled,e)!==!1&&e.isStaleByTime(wa(t.staleTime,e))}function oD(e,t){return!Uu(e.getCurrentResult(),t)}function Nb(e){return{onFetch:(t,r)=>{var u,f,m,p,x;const n=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=k_(t.options,t.fetchOptions),v=async(b,N,j)=>{if(g)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return w(I),I})(),D=await y(E),{maxPages:H}=t.options,U=j?zO:VO;return{pages:U(b.pages,D,H),pageParams:U(b.pageParams,N,H)}};if(a&&i.length){const b=a==="backward",N=b?lD:_b,j={pages:i,pageParams:o},C=N(n,j);l=await v(j,C,b)}else{const b=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:_b(n,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function _b(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function lD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Oc,Xn,ur,hi,Jn,Hs,q0,cD=(q0=class extends I_{constructor(t){super();Be(this,Jn);Be(this,Oc);Be(this,Xn);Be(this,ur);Be(this,hi);Re(this,Oc,t.client),this.mutationId=t.mutationId,Re(this,ur,t.mutationCache),Re(this,Xn,[]),this.state=t.state||M_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,Xn).includes(t)||(L(this,Xn).push(t),this.clearGcTimeout(),L(this,ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,Xn,L(this,Xn).filter(r=>r!==t)),this.scheduleGc(),L(this,ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():L(this,ur).remove(this))}continue(){var t;return((t=L(this,hi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,f,m,p,x,g,w,y,v,b,N,j,C,E,D,H;const r=()=>{Ye(this,Jn,Hs).call(this,{type:"continue"})},n={client:L(this,Oc),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,hi,A_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(U,I)=>{Ye(this,Jn,Hs).call(this,{type:"failed",failureCount:U,error:I})},onPause:()=>{Ye(this,Jn,Hs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,ur).canRun(this)}));const a=this.state.status==="pending",i=!L(this,hi).canStart();try{if(a)r();else{Ye(this,Jn,Hs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=L(this,ur).config).onMutate)==null?void 0:l.call(o,t,this,n));const I=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));I!==this.state.context&&Ye(this,Jn,Hs).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const U=await L(this,hi).start();return await((f=(u=L(this,ur).config).onSuccess)==null?void 0:f.call(u,U,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,U,t,this.state.context,n)),await((g=(x=L(this,ur).config).onSettled)==null?void 0:g.call(x,U,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,U,null,t,this.state.context,n)),Ye(this,Jn,Hs).call(this,{type:"success",data:U}),U}catch(U){try{throw await((b=(v=L(this,ur).config).onError)==null?void 0:b.call(v,U,t,this.state.context,this,n)),await((j=(N=this.options).onError)==null?void 0:j.call(N,U,t,this.state.context,n)),await((E=(C=L(this,ur).config).onSettled)==null?void 0:E.call(C,void 0,U,this.state.variables,this.state.context,this,n)),await((H=(D=this.options).onSettled)==null?void 0:H.call(D,void 0,U,t,this.state.context,n)),U}finally{Ye(this,Jn,Hs).call(this,{type:"error",error:U})}}finally{L(this,ur).runNext(this)}}},Oc=new WeakMap,Xn=new WeakMap,ur=new WeakMap,hi=new WeakMap,Jn=new WeakSet,Hs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{L(this,Xn).forEach(n=>{n.onMutationUpdate(t)}),L(this,ur).notify({mutation:this,type:"updated",action:t})})},q0);function M_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var js,En,Dc,V0,dD=(V0=class extends cl{constructor(t={}){super();Be(this,js);Be(this,En);Be(this,Dc);this.config=t,Re(this,js,new Set),Re(this,En,new Map),Re(this,Dc,0)}build(t,r,n){const a=new cD({client:t,mutationCache:this,mutationId:++ld(this,Dc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){L(this,js).add(t);const r=Td(t);if(typeof r=="string"){const n=L(this,En).get(r);n?n.push(t):L(this,En).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,js).delete(t)){const r=Td(t);if(typeof r=="string"){const n=L(this,En).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&L(this,En).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Td(t);if(typeof r=="string"){const n=L(this,En).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Td(t);if(typeof r=="string"){const a=(n=L(this,En).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{L(this,js).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,js).clear(),L(this,En).clear()})}getAll(){return Array.from(L(this,js))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vb(r,n))}findAll(t={}){return this.getAll().filter(r=>vb(t,r))}notify(t){Ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ut.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zt))))}},js=new WeakMap,En=new WeakMap,Dc=new WeakMap,V0);function Td(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ns,ia,Sr,_s,Ps,iu,Mp,z0,uD=(z0=class extends cl{constructor(r,n){super();Be(this,Ps);Be(this,Ns);Be(this,ia);Be(this,Sr);Be(this,_s);Re(this,Ns,r),this.setOptions(n),this.bindMethods(),Ye(this,Ps,iu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=L(this,Ns).defaultMutationOptions(r),Uu(this.options,n)||L(this,Ns).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Sr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ei(n.mutationKey)!==Ei(this.options.mutationKey)?this.reset():((a=L(this,Sr))==null?void 0:a.state.status)==="pending"&&L(this,Sr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=L(this,Sr))==null||r.removeObserver(this)}onMutationUpdate(r){Ye(this,Ps,iu).call(this),Ye(this,Ps,Mp).call(this,r)}getCurrentResult(){return L(this,ia)}reset(){var r;(r=L(this,Sr))==null||r.removeObserver(this),Re(this,Sr,void 0),Ye(this,Ps,iu).call(this),Ye(this,Ps,Mp).call(this)}mutate(r,n){var a;return Re(this,_s,n),(a=L(this,Sr))==null||a.removeObserver(this),Re(this,Sr,L(this,Ns).getMutationCache().build(L(this,Ns),this.options)),L(this,Sr).addObserver(this),L(this,Sr).execute(r)}},Ns=new WeakMap,ia=new WeakMap,Sr=new WeakMap,_s=new WeakMap,Ps=new WeakSet,iu=function(){var n;const r=((n=L(this,Sr))==null?void 0:n.state)??M_();Re(this,ia,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Mp=function(r){Ut.batch(()=>{var n,a,i,o,l,c,d,u;if(L(this,_s)&&this.hasListeners()){const f=L(this,ia).variables,m=L(this,ia).context,p={client:L(this,Ns),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=L(this,_s)).onSuccess)==null||a.call(n,r.data,f,m,p),(o=(i=L(this,_s)).onSettled)==null||o.call(i,r.data,null,f,m,p)):(r==null?void 0:r.type)==="error"&&((c=(l=L(this,_s)).onError)==null||c.call(l,r.error,f,m,p),(u=(d=L(this,_s)).onSettled)==null||u.call(d,void 0,r.error,f,m,p))}this.listeners.forEach(f=>{f(L(this,ia))})})},z0),Zn,W0,fD=(W0=class extends cl{constructor(t={}){super();Be(this,Zn);this.config=t,Re(this,Zn,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??kv(a,r);let o=this.get(i);return o||(o=new sD({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){L(this,Zn).has(t.queryHash)||(L(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=L(this,Zn).get(t.queryHash);r&&(t.destroy(),r===t&&L(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,Zn).get(t)}getAll(){return[...L(this,Zn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gb(t,n)):r}notify(t){Ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,W0),Ct,oa,la,Fo,$o,ca,Uo,Bo,H0,hD=(H0=class{constructor(e={}){Be(this,Ct);Be(this,oa);Be(this,la);Be(this,Fo);Be(this,$o);Be(this,ca);Be(this,Uo);Be(this,Bo);Re(this,Ct,e.queryCache||new fD),Re(this,oa,e.mutationCache||new dD),Re(this,la,e.defaultOptions||{}),Re(this,Fo,new Map),Re(this,$o,new Map),Re(this,ca,0)}mount(){ld(this,ca)._++,L(this,ca)===1&&(Re(this,Uo,Tv.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Ct).onFocus())})),Re(this,Bo,Bu.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Ct).onOnline())})))}unmount(){var e,t;ld(this,ca)._--,L(this,ca)===0&&((e=L(this,Uo))==null||e.call(this),Re(this,Uo,void 0),(t=L(this,Bo))==null||t.call(this),Re(this,Bo,void 0))}isFetching(e){return L(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,oa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=L(this,Ct).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=L(this,Ct).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(wa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return L(this,Ct).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=L(this,Ct).get(n.queryHash),i=a==null?void 0:a.state.data,o=UO(t,i);if(o!==void 0)return L(this,Ct).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ut.batch(()=>L(this,Ct).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=L(this,Ct).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=L(this,Ct);Ut.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=L(this,Ct);return Ut.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ut.batch(()=>L(this,Ct).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Zt).catch(Zt)}invalidateQueries(e,t={}){return Ut.batch(()=>(L(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ut.batch(()=>L(this,Ct).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Zt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Zt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=L(this,Ct).build(this,t);return r.isStaleByTime(wa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zt).catch(Zt)}fetchInfiniteQuery(e){return e.behavior=Nb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zt).catch(Zt)}ensureInfiniteQueryData(e){return e.behavior=Nb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bu.isOnline()?L(this,oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Ct)}getMutationCache(){return L(this,oa)}getDefaultOptions(){return L(this,la)}setDefaultOptions(e){Re(this,la,e)}setQueryDefaults(e,t){L(this,Fo).set(Ei(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,Fo).values()],r={};return t.forEach(n=>{_c(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){L(this,$o).set(Ei(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,$o).values()],r={};return t.forEach(n=>{_c(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...L(this,la).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,la).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,Ct).clear(),L(this,oa).clear()}},Ct=new WeakMap,oa=new WeakMap,la=new WeakMap,Fo=new WeakMap,$o=new WeakMap,ca=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,H0),L_=h.createContext(void 0),Li=e=>{const t=h.useContext(L_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mD=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(L_.Provider,{value:e,children:t})),F_=h.createContext(!1),pD=()=>h.useContext(F_);F_.Provider;function gD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vD=h.createContext(gD()),yD=()=>h.useContext(vD),xD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bD=e=>{h.useEffect(()=>{e.clearReset()},[e])},wD=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||P_(r,[e.error,n])),jD=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ND=(e,t)=>e.isLoading&&e.isFetching&&!t,_D=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function SD(e,t,r){var f,m,p,x,g;const n=pD(),a=yD(),i=Li(),o=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",jD(o),xD(o,a),bD(a);const l=!i.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const y=u?c.subscribe(Ut.batchCalls(w)):Zt;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o)},[o,c]),_D(o,d))throw Sb(o,c,a);if(wD({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,d),o.experimental_prefetchInRender&&!Ci&&ND(d,n)){const w=l?Sb(o,c,a):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(Zt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Bt(e,t){return SD(e,aD)}function ja(e,t){const r=Li(),[n]=h.useState(()=>new uD(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const a=h.useSyncExternalStore(h.useCallback(o=>n.subscribe(Ut.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=h.useCallback((o,l)=>{n.mutate(o,l).catch(Zt)},[n]);if(a.error&&P_(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var CD=["added","removed","updated"];function Cb(e){return CD.includes(e)}async function ED({queryClient:e,persister:t,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:a}){try{const i=await t.restoreClient();if(i)if(i.timestamp){const o=Date.now()-i.timestamp>r,l=i.buster!==n;if(o||l)return t.removeClient();ZO(e,i.clientState,a)}else return t.removeClient()}catch(i){throw await t.removeClient(),i}}async function Eb({queryClient:e,persister:t,buster:r="",dehydrateOptions:n}){const a={buster:r,timestamp:Date.now(),clientState:JO(e,n)};await t.persistClient(a)}function kD(e){const t=e.queryClient.getQueryCache().subscribe(n=>{Cb(n.type)&&Eb(e)}),r=e.queryClient.getMutationCache().subscribe(n=>{Cb(n.type)&&Eb(e)});return()=>{t(),r()}}function PD(e){let t=!1,r;const n=()=>{t=!0,r==null||r()},a=ED(e).then(()=>{t||(r=kD(e))});return[n,a]}var TD=({persistedClient:e})=>{const t=[...e.clientState.mutations],r=[...e.clientState.queries],n={...e,clientState:{mutations:t,queries:r}},a=[...r].sort((i,o)=>i.state.dataUpdatedAt-o.state.dataUpdatedAt);if(a.length>0){const i=a.shift();return n.clientState.queries=r.filter(o=>o!==i),n}};function Rd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $_={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,i){function o(d,u){if(!a[d]){if(!n[d]){var f=typeof Rd=="function"&&Rd;if(!u&&f)return f(d,!0);if(l)return l(d,!0);var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}var p=a[d]={exports:{}};n[d][0].call(p.exports,function(x){var g=n[d][1][x];return o(g||x)},p,p.exports,r,n,a,i)}return a[d].exports}for(var l=typeof Rd=="function"&&Rd,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(r,n,a){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,l;if(o){var c=0,d=new o(x),u=i.document.createTextNode("");d.observe(u,{characterData:!0}),l=function(){u.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var f=new i.MessageChannel;f.port1.onmessage=x,l=function(){f.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var w=i.document.createElement("script");w.onreadystatechange=function(){x(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:l=function(){setTimeout(x,0)};var m,p=[];function x(){m=!0;for(var w,y,v=p.length;v;){for(y=p,p=[],w=-1;++w<v;)y[w]();v=p.length}m=!1}n.exports=g;function g(w){p.push(w)===1&&!m&&l()}}).call(this,typeof or<"u"?or:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,a){var i=r(1);function o(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];n.exports=f;function f(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,j!==o&&g(this,j)}f.prototype.catch=function(j){return this.then(null,j)},f.prototype.then=function(j,C){if(typeof j!="function"&&this.state===d||typeof C!="function"&&this.state===c)return this;var E=new this.constructor(o);if(this.state!==u){var D=this.state===d?j:C;p(E,D,this.outcome)}else this.queue.push(new m(E,j,C));return E};function m(j,C,E){this.promise=j,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(j){l.resolve(this.promise,j)},m.prototype.otherCallFulfilled=function(j){p(this.promise,this.onFulfilled,j)},m.prototype.callRejected=function(j){l.reject(this.promise,j)},m.prototype.otherCallRejected=function(j){p(this.promise,this.onRejected,j)};function p(j,C,E){i(function(){var D;try{D=C(E)}catch(H){return l.reject(j,H)}D===j?l.reject(j,new TypeError("Cannot resolve promise with itself")):l.resolve(j,D)})}l.resolve=function(j,C){var E=w(x,C);if(E.status==="error")return l.reject(j,E.value);var D=E.value;if(D)g(j,D);else{j.state=d,j.outcome=C;for(var H=-1,U=j.queue.length;++H<U;)j.queue[H].callFulfilled(C)}return j},l.reject=function(j,C){j.state=c,j.outcome=C;for(var E=-1,D=j.queue.length;++E<D;)j.queue[E].callRejected(C);return j};function x(j){var C=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof C=="function")return function(){C.apply(j,arguments)}}function g(j,C){var E=!1;function D(q){E||(E=!0,l.reject(j,q))}function H(q){E||(E=!0,l.resolve(j,q))}function U(){C(H,D)}var I=w(U);I.status==="error"&&D(I.value)}function w(j,C){var E={};try{E.value=j(C),E.status="success"}catch(D){E.status="error",E.value=D}return E}f.resolve=y;function y(j){return j instanceof this?j:l.resolve(new this(o),j)}f.reject=v;function v(j){var C=new this(o);return l.reject(C,j)}f.all=b;function b(j){var C=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=j.length,D=!1;if(!E)return this.resolve([]);for(var H=new Array(E),U=0,I=-1,q=new this(o);++I<E;)F(j[I],I);return q;function F(P,_){C.resolve(P).then(T,function(ee){D||(D=!0,l.reject(q,ee))});function T(ee){H[_]=ee,++U===E&&!D&&(D=!0,l.resolve(q,H))}}}f.race=N;function N(j){var C=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=j.length,D=!1;if(!E)return this.resolve([]);for(var H=-1,U=new this(o);++H<E;)I(j[H]);return U;function I(q){C.resolve(q).then(function(F){D||(D=!0,l.resolve(U,F))},function(F){D||(D=!0,l.reject(U,F))})}}},{1:1}],3:[function(r,n,a){(function(i){typeof i.Promise!="function"&&(i.Promise=r(2))}).call(this,typeof or<"u"?or:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function o(S,$){if(!(S instanceof $))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function d(){try{if(!c||!c.open)return!1;var S=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!S||$)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(S,$){S=S||[],$=$||{};try{return new Blob(S,$)}catch(z){if(z.name!=="TypeError")throw z;for(var k=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,K=new k,J=0;J<S.length;J+=1)K.append(S[J]);return K.getBlob($.type)}}typeof Promise>"u"&&r(3);var f=Promise;function m(S,$){$&&S.then(function(k){$(null,k)},function(k){$(k)})}function p(S,$,k){typeof $=="function"&&S.then($),typeof k=="function"&&S.catch(k)}function x(S){return typeof S!="string"&&(console.warn(S+" used as a key, but it is not a string."),S=String(S)),S}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",y=void 0,v={},b=Object.prototype.toString,N="readonly",j="readwrite";function C(S){for(var $=S.length,k=new ArrayBuffer($),K=new Uint8Array(k),J=0;J<$;J++)K[J]=S.charCodeAt(J);return k}function E(S){return new f(function($){var k=S.transaction(w,j),K=u([""]);k.objectStore(w).put(K,"key"),k.onabort=function(J){J.preventDefault(),J.stopPropagation(),$(!1)},k.oncomplete=function(){var J=navigator.userAgent.match(/Chrome\/(\d+)/),z=navigator.userAgent.match(/Edge\//);$(z||!J||parseInt(J[1],10)>=43)}}).catch(function(){return!1})}function D(S){return typeof y=="boolean"?f.resolve(y):E(S).then(function($){return y=$,y})}function H(S){var $=v[S.name],k={};k.promise=new f(function(K,J){k.resolve=K,k.reject=J}),$.deferredOperations.push(k),$.dbReady?$.dbReady=$.dbReady.then(function(){return k.promise}):$.dbReady=k.promise}function U(S){var $=v[S.name],k=$.deferredOperations.pop();if(k)return k.resolve(),k.promise}function I(S,$){var k=v[S.name],K=k.deferredOperations.pop();if(K)return K.reject($),K.promise}function q(S,$){return new f(function(k,K){if(v[S.name]=v[S.name]||V(),S.db)if($)H(S),S.db.close();else return k(S.db);var J=[S.name];$&&J.push(S.version);var z=c.open.apply(c,J);$&&(z.onupgradeneeded=function(de){var he=z.result;try{he.createObjectStore(S.storeName),de.oldVersion<=1&&he.createObjectStore(w)}catch(xe){if(xe.name==="ConstraintError")console.warn('The database "'+S.name+'" has been upgraded from version '+de.oldVersion+" to version "+de.newVersion+', but the storage "'+S.storeName+'" already exists.');else throw xe}}),z.onerror=function(de){de.preventDefault(),K(z.error)},z.onsuccess=function(){var de=z.result;de.onversionchange=function(he){he.target.close()},k(de),U(S)}})}function F(S){return q(S,!1)}function P(S){return q(S,!0)}function _(S,$){if(!S.db)return!0;var k=!S.db.objectStoreNames.contains(S.storeName),K=S.version<S.db.version,J=S.version>S.db.version;if(K&&(S.version!==$&&console.warn('The database "'+S.name+`" can't be downgraded from version `+S.db.version+" to version "+S.version+"."),S.version=S.db.version),J||k){if(k){var z=S.db.version+1;z>S.version&&(S.version=z)}return!0}return!1}function T(S){return new f(function($,k){var K=new FileReader;K.onerror=k,K.onloadend=function(J){var z=btoa(J.target.result||"");$({__local_forage_encoded_blob:!0,data:z,type:S.type})},K.readAsBinaryString(S)})}function ee(S){var $=C(atob(S.data));return u([$],{type:S.type})}function W(S){return S&&S.__local_forage_encoded_blob}function B(S){var $=this,k=$._initReady().then(function(){var K=v[$._dbInfo.name];if(K&&K.dbReady)return K.dbReady});return p(k,S,S),k}function oe(S){H(S);for(var $=v[S.name],k=$.forages,K=0;K<k.length;K++){var J=k[K];J._dbInfo.db&&(J._dbInfo.db.close(),J._dbInfo.db=null)}return S.db=null,F(S).then(function(z){return S.db=z,_(S)?P(S):z}).then(function(z){S.db=$.db=z;for(var de=0;de<k.length;de++)k[de]._dbInfo.db=z}).catch(function(z){throw I(S,z),z})}function me(S,$,k,K){K===void 0&&(K=1);try{var J=S.db.transaction(S.storeName,$);k(null,J)}catch(z){if(K>0&&(!S.db||z.name==="InvalidStateError"||z.name==="NotFoundError"))return f.resolve().then(function(){if(!S.db||z.name==="NotFoundError"&&!S.db.objectStoreNames.contains(S.storeName)&&S.version<=S.db.version)return S.db&&(S.version=S.db.version+1),P(S)}).then(function(){return oe(S).then(function(){me(S,$,k,K-1)})}).catch(k);k(z)}}function V(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function A(S){var $=this,k={db:null};if(S)for(var K in S)k[K]=S[K];var J=v[k.name];J||(J=V(),v[k.name]=J),J.forages.push($),$._initReady||($._initReady=$.ready,$.ready=B);var z=[];function de(){return f.resolve()}for(var he=0;he<J.forages.length;he++){var xe=J.forages[he];xe!==$&&z.push(xe._initReady().catch(de))}var Ne=J.forages.slice(0);return f.all(z).then(function(){return k.db=J.db,F(k)}).then(function(Ce){return k.db=Ce,_(k,$._defaultConfig.version)?P(k):Ce}).then(function(Ce){k.db=J.db=Ce,$._dbInfo=k;for(var $e=0;$e<Ne.length;$e++){var Xe=Ne[$e];Xe!==$&&(Xe._dbInfo.db=k.db,Xe._dbInfo.version=k.version)}})}function X(S,$){var k=this;S=x(S);var K=new f(function(J,z){k.ready().then(function(){me(k._dbInfo,N,function(de,he){if(de)return z(de);try{var xe=he.objectStore(k._dbInfo.storeName),Ne=xe.get(S);Ne.onsuccess=function(){var Ce=Ne.result;Ce===void 0&&(Ce=null),W(Ce)&&(Ce=ee(Ce)),J(Ce)},Ne.onerror=function(){z(Ne.error)}}catch(Ce){z(Ce)}})}).catch(z)});return m(K,$),K}function G(S,$){var k=this,K=new f(function(J,z){k.ready().then(function(){me(k._dbInfo,N,function(de,he){if(de)return z(de);try{var xe=he.objectStore(k._dbInfo.storeName),Ne=xe.openCursor(),Ce=1;Ne.onsuccess=function(){var $e=Ne.result;if($e){var Xe=$e.value;W(Xe)&&(Xe=ee(Xe));var it=S(Xe,$e.key,Ce++);it!==void 0?J(it):$e.continue()}else J()},Ne.onerror=function(){z(Ne.error)}}catch($e){z($e)}})}).catch(z)});return m(K,$),K}function ie(S,$,k){var K=this;S=x(S);var J=new f(function(z,de){var he;K.ready().then(function(){return he=K._dbInfo,b.call($)==="[object Blob]"?D(he.db).then(function(xe){return xe?$:T($)}):$}).then(function(xe){me(K._dbInfo,j,function(Ne,Ce){if(Ne)return de(Ne);try{var $e=Ce.objectStore(K._dbInfo.storeName);xe===null&&(xe=void 0);var Xe=$e.put(xe,S);Ce.oncomplete=function(){xe===void 0&&(xe=null),z(xe)},Ce.onabort=Ce.onerror=function(){var it=Xe.error?Xe.error:Xe.transaction.error;de(it)}}catch(it){de(it)}})}).catch(de)});return m(J,k),J}function te(S,$){var k=this;S=x(S);var K=new f(function(J,z){k.ready().then(function(){me(k._dbInfo,j,function(de,he){if(de)return z(de);try{var xe=he.objectStore(k._dbInfo.storeName),Ne=xe.delete(S);he.oncomplete=function(){J()},he.onerror=function(){z(Ne.error)},he.onabort=function(){var Ce=Ne.error?Ne.error:Ne.transaction.error;z(Ce)}}catch(Ce){z(Ce)}})}).catch(z)});return m(K,$),K}function R(S){var $=this,k=new f(function(K,J){$.ready().then(function(){me($._dbInfo,j,function(z,de){if(z)return J(z);try{var he=de.objectStore($._dbInfo.storeName),xe=he.clear();de.oncomplete=function(){K()},de.onabort=de.onerror=function(){var Ne=xe.error?xe.error:xe.transaction.error;J(Ne)}}catch(Ne){J(Ne)}})}).catch(J)});return m(k,S),k}function Z(S){var $=this,k=new f(function(K,J){$.ready().then(function(){me($._dbInfo,N,function(z,de){if(z)return J(z);try{var he=de.objectStore($._dbInfo.storeName),xe=he.count();xe.onsuccess=function(){K(xe.result)},xe.onerror=function(){J(xe.error)}}catch(Ne){J(Ne)}})}).catch(J)});return m(k,S),k}function le(S,$){var k=this,K=new f(function(J,z){if(S<0){J(null);return}k.ready().then(function(){me(k._dbInfo,N,function(de,he){if(de)return z(de);try{var xe=he.objectStore(k._dbInfo.storeName),Ne=!1,Ce=xe.openKeyCursor();Ce.onsuccess=function(){var $e=Ce.result;if(!$e){J(null);return}S===0||Ne?J($e.key):(Ne=!0,$e.advance(S))},Ce.onerror=function(){z(Ce.error)}}catch($e){z($e)}})}).catch(z)});return m(K,$),K}function ae(S){var $=this,k=new f(function(K,J){$.ready().then(function(){me($._dbInfo,N,function(z,de){if(z)return J(z);try{var he=de.objectStore($._dbInfo.storeName),xe=he.openKeyCursor(),Ne=[];xe.onsuccess=function(){var Ce=xe.result;if(!Ce){K(Ne);return}Ne.push(Ce.key),Ce.continue()},xe.onerror=function(){J(xe.error)}}catch(Ce){J(Ce)}})}).catch(J)});return m(k,S),k}function Pe(S,$){$=g.apply(this,arguments);var k=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||k.name,S.storeName=S.storeName||k.storeName);var K=this,J;if(!S.name)J=f.reject("Invalid arguments");else{var z=S.name===k.name&&K._dbInfo.db,de=z?f.resolve(K._dbInfo.db):F(S).then(function(he){var xe=v[S.name],Ne=xe.forages;xe.db=he;for(var Ce=0;Ce<Ne.length;Ce++)Ne[Ce]._dbInfo.db=he;return he});S.storeName?J=de.then(function(he){if(he.objectStoreNames.contains(S.storeName)){var xe=he.version+1;H(S);var Ne=v[S.name],Ce=Ne.forages;he.close();for(var $e=0;$e<Ce.length;$e++){var Xe=Ce[$e];Xe._dbInfo.db=null,Xe._dbInfo.version=xe}var it=new f(function(lt,It){var kt=c.open(S.name,xe);kt.onerror=function(nn){var gl=kt.result;gl.close(),It(nn)},kt.onupgradeneeded=function(){var nn=kt.result;nn.deleteObjectStore(S.storeName)},kt.onsuccess=function(){var nn=kt.result;nn.close(),lt(nn)}});return it.then(function(lt){Ne.db=lt;for(var It=0;It<Ce.length;It++){var kt=Ce[It];kt._dbInfo.db=lt,U(kt._dbInfo)}}).catch(function(lt){throw(I(S,lt)||f.resolve()).catch(function(){}),lt})}}):J=de.then(function(he){H(S);var xe=v[S.name],Ne=xe.forages;he.close();for(var Ce=0;Ce<Ne.length;Ce++){var $e=Ne[Ce];$e._dbInfo.db=null}var Xe=new f(function(it,lt){var It=c.deleteDatabase(S.name);It.onerror=function(){var kt=It.result;kt&&kt.close(),lt(It.error)},It.onblocked=function(){console.warn('dropInstance blocked for database "'+S.name+'" until all open connections are closed')},It.onsuccess=function(){var kt=It.result;kt&&kt.close(),it(kt)}});return Xe.then(function(it){xe.db=it;for(var lt=0;lt<Ne.length;lt++){var It=Ne[lt];U(It._dbInfo)}}).catch(function(it){throw(I(S,it)||f.resolve()).catch(function(){}),it})})}return m(J,$),J}var Ue={_driver:"asyncStorage",_initStorage:A,_support:d(),iterate:G,getItem:X,setItem:ie,removeItem:te,clear:R,length:Z,key:le,keys:ae,dropInstance:Pe};function Q(){return typeof openDatabase=="function"}var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",se="~~local_forage_type~",Le=/^~~local_forage_type~([^~]+)~/,ke="__lfsc__:",qe=ke.length,O="arbf",Y="blob",re="si08",pe="ui08",Se="uic8",ye="si16",je="si32",Me="ur16",tt="ui32",Xt="fl32",rn="fl64",Ur=qe+O.length,Va=Object.prototype.toString;function zn(S){var $=S.length*.75,k=S.length,K,J=0,z,de,he,xe;S[S.length-1]==="="&&($--,S[S.length-2]==="="&&$--);var Ne=new ArrayBuffer($),Ce=new Uint8Array(Ne);for(K=0;K<k;K+=4)z=M.indexOf(S[K]),de=M.indexOf(S[K+1]),he=M.indexOf(S[K+2]),xe=M.indexOf(S[K+3]),Ce[J++]=z<<2|de>>4,Ce[J++]=(de&15)<<4|he>>2,Ce[J++]=(he&3)<<6|xe&63;return Ne}function Nr(S){var $=new Uint8Array(S),k="",K;for(K=0;K<$.length;K+=3)k+=M[$[K]>>2],k+=M[($[K]&3)<<4|$[K+1]>>4],k+=M[($[K+1]&15)<<2|$[K+2]>>6],k+=M[$[K+2]&63];return $.length%3===2?k=k.substring(0,k.length-1)+"=":$.length%3===1&&(k=k.substring(0,k.length-2)+"=="),k}function qi(S,$){var k="";if(S&&(k=Va.call(S)),S&&(k==="[object ArrayBuffer]"||S.buffer&&Va.call(S.buffer)==="[object ArrayBuffer]")){var K,J=ke;S instanceof ArrayBuffer?(K=S,J+=O):(K=S.buffer,k==="[object Int8Array]"?J+=re:k==="[object Uint8Array]"?J+=pe:k==="[object Uint8ClampedArray]"?J+=Se:k==="[object Int16Array]"?J+=ye:k==="[object Uint16Array]"?J+=Me:k==="[object Int32Array]"?J+=je:k==="[object Uint32Array]"?J+=tt:k==="[object Float32Array]"?J+=Xt:k==="[object Float64Array]"?J+=rn:$(new Error("Failed to get type for BinaryArray"))),$(J+Nr(K))}else if(k==="[object Blob]"){var z=new FileReader;z.onload=function(){var de=se+S.type+"~"+Nr(this.result);$(ke+Y+de)},z.readAsArrayBuffer(S)}else try{$(JSON.stringify(S))}catch(de){console.error("Couldn't convert value into a JSON string: ",S),$(null,de)}}function yn(S){if(S.substring(0,qe)!==ke)return JSON.parse(S);var $=S.substring(Ur),k=S.substring(qe,Ur),K;if(k===Y&&Le.test($)){var J=$.match(Le);K=J[1],$=$.substring(J[0].length)}var z=zn($);switch(k){case O:return z;case Y:return u([z],{type:K});case re:return new Int8Array(z);case pe:return new Uint8Array(z);case Se:return new Uint8ClampedArray(z);case ye:return new Int16Array(z);case Me:return new Uint16Array(z);case je:return new Int32Array(z);case tt:return new Uint32Array(z);case Xt:return new Float32Array(z);case rn:return new Float64Array(z);default:throw new Error("Unkown type: "+k)}}var za={serialize:qi,deserialize:yn,stringToBuffer:zn,bufferToString:Nr};function Wa(S,$,k,K){S.executeSql("CREATE TABLE IF NOT EXISTS "+$.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],k,K)}function id(S){var $=this,k={db:null};if(S)for(var K in S)k[K]=typeof S[K]!="string"?S[K].toString():S[K];var J=new f(function(z,de){try{k.db=openDatabase(k.name,String(k.version),k.description,k.size)}catch(he){return de(he)}k.db.transaction(function(he){Wa(he,k,function(){$._dbInfo=k,z()},function(xe,Ne){de(Ne)})},de)});return k.serializer=za,J}function xn(S,$,k,K,J,z){S.executeSql(k,K,J,function(de,he){he.code===he.SYNTAX_ERR?de.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$.storeName],function(xe,Ne){Ne.rows.length?z(xe,he):Wa(xe,$,function(){xe.executeSql(k,K,J,z)},z)},z):z(de,he)},z)}function ih(S,$){var k=this;S=x(S);var K=new f(function(J,z){k.ready().then(function(){var de=k._dbInfo;de.db.transaction(function(he){xn(he,de,"SELECT * FROM "+de.storeName+" WHERE key = ? LIMIT 1",[S],function(xe,Ne){var Ce=Ne.rows.length?Ne.rows.item(0).value:null;Ce&&(Ce=de.serializer.deserialize(Ce)),J(Ce)},function(xe,Ne){z(Ne)})})}).catch(z)});return m(K,$),K}function ml(S,$){var k=this,K=new f(function(J,z){k.ready().then(function(){var de=k._dbInfo;de.db.transaction(function(he){xn(he,de,"SELECT * FROM "+de.storeName,[],function(xe,Ne){for(var Ce=Ne.rows,$e=Ce.length,Xe=0;Xe<$e;Xe++){var it=Ce.item(Xe),lt=it.value;if(lt&&(lt=de.serializer.deserialize(lt)),lt=S(lt,it.key,Xe+1),lt!==void 0){J(lt);return}}J()},function(xe,Ne){z(Ne)})})}).catch(z)});return m(K,$),K}function bn(S,$,k,K){var J=this;S=x(S);var z=new f(function(de,he){J.ready().then(function(){$===void 0&&($=null);var xe=$,Ne=J._dbInfo;Ne.serializer.serialize($,function(Ce,$e){$e?he($e):Ne.db.transaction(function(Xe){xn(Xe,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[S,Ce],function(){de(xe)},function(it,lt){he(lt)})},function(Xe){if(Xe.code===Xe.QUOTA_ERR){if(K>0){de(bn.apply(J,[S,xe,k,K-1]));return}he(Xe)}})})}).catch(he)});return m(z,k),z}function oh(S,$,k){return bn.apply(this,[S,$,k,1])}function ze(S,$){var k=this;S=x(S);var K=new f(function(J,z){k.ready().then(function(){var de=k._dbInfo;de.db.transaction(function(he){xn(he,de,"DELETE FROM "+de.storeName+" WHERE key = ?",[S],function(){J()},function(xe,Ne){z(Ne)})})}).catch(z)});return m(K,$),K}function at(S){var $=this,k=new f(function(K,J){$.ready().then(function(){var z=$._dbInfo;z.db.transaction(function(de){xn(de,z,"DELETE FROM "+z.storeName,[],function(){K()},function(he,xe){J(xe)})})}).catch(J)});return m(k,S),k}function ut(S){var $=this,k=new f(function(K,J){$.ready().then(function(){var z=$._dbInfo;z.db.transaction(function(de){xn(de,z,"SELECT COUNT(key) as c FROM "+z.storeName,[],function(he,xe){var Ne=xe.rows.item(0).c;K(Ne)},function(he,xe){J(xe)})})}).catch(J)});return m(k,S),k}function Br(S,$){var k=this,K=new f(function(J,z){k.ready().then(function(){var de=k._dbInfo;de.db.transaction(function(he){xn(he,de,"SELECT key FROM "+de.storeName+" WHERE id = ? LIMIT 1",[S+1],function(xe,Ne){var Ce=Ne.rows.length?Ne.rows.item(0).key:null;J(Ce)},function(xe,Ne){z(Ne)})})}).catch(z)});return m(K,$),K}function qr(S){var $=this,k=new f(function(K,J){$.ready().then(function(){var z=$._dbInfo;z.db.transaction(function(de){xn(de,z,"SELECT key FROM "+z.storeName,[],function(he,xe){for(var Ne=[],Ce=0;Ce<xe.rows.length;Ce++)Ne.push(xe.rows.item(Ce).key);K(Ne)},function(he,xe){J(xe)})})}).catch(J)});return m(k,S),k}function Wn(S){return new f(function($,k){S.transaction(function(K){K.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(J,z){for(var de=[],he=0;he<z.rows.length;he++)de.push(z.rows.item(he).name);$({db:S,storeNames:de})},function(J,z){k(z)})},function(K){k(K)})})}function fs(S,$){$=g.apply(this,arguments);var k=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||k.name,S.storeName=S.storeName||k.storeName);var K=this,J;return S.name?J=new f(function(z){var de;S.name===k.name?de=K._dbInfo.db:de=openDatabase(S.name,"","",0),S.storeName?z({db:de,storeNames:[S.storeName]}):z(Wn(de))}).then(function(z){return new f(function(de,he){z.db.transaction(function(xe){function Ne(it){return new f(function(lt,It){xe.executeSql("DROP TABLE IF EXISTS "+it,[],function(){lt()},function(kt,nn){It(nn)})})}for(var Ce=[],$e=0,Xe=z.storeNames.length;$e<Xe;$e++)Ce.push(Ne(z.storeNames[$e]));f.all(Ce).then(function(){de()}).catch(function(it){he(it)})},function(xe){he(xe)})})}):J=f.reject("Invalid arguments"),m(J,$),J}var Vr={_driver:"webSQLStorage",_initStorage:id,_support:Q(),iterate:ml,getItem:ih,setItem:oh,removeItem:ze,clear:at,length:ut,key:Br,keys:qr,dropInstance:fs};function Hn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ky(S,$){var k=S.name+"/";return S.storeName!==$.storeName&&(k+=S.storeName+"/"),k}function Ak(){var S="_localforage_support_test";try{return localStorage.setItem(S,!0),localStorage.removeItem(S),!1}catch{return!0}}function Ik(){return!Ak()||localStorage.length>0}function Ok(S){var $=this,k={};if(S)for(var K in S)k[K]=S[K];return k.keyPrefix=ky(S,$._defaultConfig),Ik()?($._dbInfo=k,k.serializer=za,f.resolve()):f.reject()}function Dk(S){var $=this,k=$.ready().then(function(){for(var K=$._dbInfo.keyPrefix,J=localStorage.length-1;J>=0;J--){var z=localStorage.key(J);z.indexOf(K)===0&&localStorage.removeItem(z)}});return m(k,S),k}function Mk(S,$){var k=this;S=x(S);var K=k.ready().then(function(){var J=k._dbInfo,z=localStorage.getItem(J.keyPrefix+S);return z&&(z=J.serializer.deserialize(z)),z});return m(K,$),K}function Lk(S,$){var k=this,K=k.ready().then(function(){for(var J=k._dbInfo,z=J.keyPrefix,de=z.length,he=localStorage.length,xe=1,Ne=0;Ne<he;Ne++){var Ce=localStorage.key(Ne);if(Ce.indexOf(z)===0){var $e=localStorage.getItem(Ce);if($e&&($e=J.serializer.deserialize($e)),$e=S($e,Ce.substring(de),xe++),$e!==void 0)return $e}}});return m(K,$),K}function Fk(S,$){var k=this,K=k.ready().then(function(){var J=k._dbInfo,z;try{z=localStorage.key(S)}catch{z=null}return z&&(z=z.substring(J.keyPrefix.length)),z});return m(K,$),K}function $k(S){var $=this,k=$.ready().then(function(){for(var K=$._dbInfo,J=localStorage.length,z=[],de=0;de<J;de++){var he=localStorage.key(de);he.indexOf(K.keyPrefix)===0&&z.push(he.substring(K.keyPrefix.length))}return z});return m(k,S),k}function Uk(S){var $=this,k=$.keys().then(function(K){return K.length});return m(k,S),k}function Bk(S,$){var k=this;S=x(S);var K=k.ready().then(function(){var J=k._dbInfo;localStorage.removeItem(J.keyPrefix+S)});return m(K,$),K}function qk(S,$,k){var K=this;S=x(S);var J=K.ready().then(function(){$===void 0&&($=null);var z=$;return new f(function(de,he){var xe=K._dbInfo;xe.serializer.serialize($,function(Ne,Ce){if(Ce)he(Ce);else try{localStorage.setItem(xe.keyPrefix+S,Ne),de(z)}catch($e){($e.name==="QuotaExceededError"||$e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&he($e),he($e)}})})});return m(J,k),J}function Vk(S,$){if($=g.apply(this,arguments),S=typeof S!="function"&&S||{},!S.name){var k=this.config();S.name=S.name||k.name,S.storeName=S.storeName||k.storeName}var K=this,J;return S.name?J=new f(function(z){S.storeName?z(ky(S,K._defaultConfig)):z(S.name+"/")}).then(function(z){for(var de=localStorage.length-1;de>=0;de--){var he=localStorage.key(de);he.indexOf(z)===0&&localStorage.removeItem(he)}}):J=f.reject("Invalid arguments"),m(J,$),J}var zk={_driver:"localStorageWrapper",_initStorage:Ok,_support:Hn(),iterate:Lk,getItem:Mk,setItem:qk,removeItem:Bk,clear:Dk,length:Uk,key:Fk,keys:$k,dropInstance:Vk},Wk=function($,k){return $===k||typeof $=="number"&&typeof k=="number"&&isNaN($)&&isNaN(k)},Hk=function($,k){for(var K=$.length,J=0;J<K;){if(Wk($[J],k))return!0;J++}return!1},Py=Array.isArray||function(S){return Object.prototype.toString.call(S)==="[object Array]"},pl={},Ty={},Vi={INDEXEDDB:Ue,WEBSQL:Vr,LOCALSTORAGE:zk},Kk=[Vi.INDEXEDDB._driver,Vi.WEBSQL._driver,Vi.LOCALSTORAGE._driver],od=["dropInstance"],lh=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(od),Qk={description:"",driver:Kk.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Gk(S,$){S[$]=function(){var k=arguments;return S.ready().then(function(){return S[$].apply(S,k)})}}function ch(){for(var S=1;S<arguments.length;S++){var $=arguments[S];if($)for(var k in $)$.hasOwnProperty(k)&&(Py($[k])?arguments[0][k]=$[k].slice():arguments[0][k]=$[k])}return arguments[0]}var Yk=function(){function S($){o(this,S);for(var k in Vi)if(Vi.hasOwnProperty(k)){var K=Vi[k],J=K._driver;this[k]=J,pl[J]||this.defineDriver(K)}this._defaultConfig=ch({},Qk),this._config=ch({},this._defaultConfig,$),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return S.prototype.config=function(k){if((typeof k>"u"?"undefined":i(k))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var K in k){if(K==="storeName"&&(k[K]=k[K].replace(/\W/g,"_")),K==="version"&&typeof k[K]!="number")return new Error("Database version must be a number.");this._config[K]=k[K]}return"driver"in k&&k.driver?this.setDriver(this._config.driver):!0}else return typeof k=="string"?this._config[k]:this._config},S.prototype.defineDriver=function(k,K,J){var z=new f(function(de,he){try{var xe=k._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver){he(Ne);return}for(var Ce=lh.concat("_initStorage"),$e=0,Xe=Ce.length;$e<Xe;$e++){var it=Ce[$e],lt=!Hk(od,it);if((lt||k[it])&&typeof k[it]!="function"){he(Ne);return}}var It=function(){for(var gl=function(Zk){return function(){var eP=new Error("Method "+Zk+" is not implemented by the current driver"),Ry=f.reject(eP);return m(Ry,arguments[arguments.length-1]),Ry}},dh=0,Jk=od.length;dh<Jk;dh++){var uh=od[dh];k[uh]||(k[uh]=gl(uh))}};It();var kt=function(gl){pl[xe]&&console.info("Redefining LocalForage driver: "+xe),pl[xe]=k,Ty[xe]=gl,de()};"_support"in k?k._support&&typeof k._support=="function"?k._support().then(kt,he):kt(!!k._support):kt(!0)}catch(nn){he(nn)}});return p(z,K,J),z},S.prototype.driver=function(){return this._driver||null},S.prototype.getDriver=function(k,K,J){var z=pl[k]?f.resolve(pl[k]):f.reject(new Error("Driver not found."));return p(z,K,J),z},S.prototype.getSerializer=function(k){var K=f.resolve(za);return p(K,k),K},S.prototype.ready=function(k){var K=this,J=K._driverSet.then(function(){return K._ready===null&&(K._ready=K._initDriver()),K._ready});return p(J,k,k),J},S.prototype.setDriver=function(k,K,J){var z=this;Py(k)||(k=[k]);var de=this._getSupportedDrivers(k);function he(){z._config.driver=z.driver()}function xe($e){return z._extend($e),he(),z._ready=z._initStorage(z._config),z._ready}function Ne($e){return function(){var Xe=0;function it(){for(;Xe<$e.length;){var lt=$e[Xe];return Xe++,z._dbInfo=null,z._ready=null,z.getDriver(lt).then(xe).catch(it)}he();var It=new Error("No available storage method found.");return z._driverSet=f.reject(It),z._driverSet}return it()}}var Ce=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Ce.then(function(){var $e=de[0];return z._dbInfo=null,z._ready=null,z.getDriver($e).then(function(Xe){z._driver=Xe._driver,he(),z._wrapLibraryMethodsWithReady(),z._initDriver=Ne(de)})}).catch(function(){he();var $e=new Error("No available storage method found.");return z._driverSet=f.reject($e),z._driverSet}),p(this._driverSet,K,J),this._driverSet},S.prototype.supports=function(k){return!!Ty[k]},S.prototype._extend=function(k){ch(this,k)},S.prototype._getSupportedDrivers=function(k){for(var K=[],J=0,z=k.length;J<z;J++){var de=k[J];this.supports(de)&&K.push(de)}return K},S.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,K=lh.length;k<K;k++)Gk(this,lh[k])},S.prototype.createInstance=function(k){return new S(k)},S}(),Xk=new Yk;n.exports=Xk},{3:3}]},{},[4])(4)})})($_);var RD=$_.exports;const yi=mg(RD);yi.config({name:"semiproperty-guardian",storeName:"react-query-cache",description:"Persisted React Query cache for offline support"});const Wh="rq-cache-v1",AD={persistClient:async e=>{try{await yi.setItem(Wh,e)}catch(t){console.warn("Failed to persist query client",t)}},restoreClient:async()=>{try{return await yi.getItem(Wh)??void 0}catch(e){console.warn("Failed to restore query client",e);return}},removeClient:async()=>{try{await yi.removeItem(Wh)}catch(e){console.warn("Failed to remove persisted query client",e)}}},U_=5*60*1e3,ID=24*60*60*1e3,OD=24*60*60*1e3,B_="offline-mutation-queue-v1";yi.config({name:"semiproperty-guardian",storeName:"offline-queue"});async function q_(){return await yi.getItem(B_)||[]}async function V_(e){await yi.setItem(B_,e)}async function bs(e,t){const r={id:`${e}-${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e,payload:t,createdAt:Date.now()},n=await q_();return n.push(r),await V_(n),r}async function DD(e){if(!navigator.onLine)return{processed:0,failed:0};let t=await q_();if(!t.length)return{processed:0,failed:0};const r=[];let n=0,a=0;for(const i of t){const o=e[i.name];if(!o){r.push(i);continue}try{await o(i.payload),n+=1}catch(l){console.warn("Failed processing offline mutation",i.name,l),a+=1,r.push(i)}}return await V_(r),{processed:n,failed:a}}const MD="modulepreload",LD=function(e){return"/semi-property-guardian/"+e},kb={},Hc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=LD(c),c in kb)return;kb[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":MD,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},FD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Av extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class $D extends Av{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pb extends Av{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tb extends Av{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lp||(Lp={}));var UD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class BD{constructor(t,{headers:r={},customFetch:n,region:a=Lp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=FD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return UD(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new $D(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Pb(f);if(!f.ok)throw new Tb(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Tb||a instanceof Pb?a.context:void 0}}})}}var Rr={},Iv={},Rf={},Kc={},Af={},If={},qD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zo=qD();const VD=Zo.fetch,z_=Zo.fetch.bind(Zo),W_=Zo.Headers,zD=Zo.Request,WD=Zo.Response,dl=Object.freeze(Object.defineProperty({__proto__:null,Headers:W_,Request:zD,Response:WD,default:z_,fetch:VD},Symbol.toStringTag,{value:"Module"})),HD=rP(dl);var Of={};Object.defineProperty(Of,"__esModule",{value:!0});let KD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Of.default=KD;var H_=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(If,"__esModule",{value:!0});const QD=H_(HD),GD=H_(Of);let YD=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=QD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,m=null,p=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(f=[],u=null,p=200,x="OK")}catch{i.status===404&&w===""?(p=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new GD.default(u)}return{error:u,data:f,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};If.default=YD;var XD=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Af,"__esModule",{value:!0});const JD=XD(If);let ZD=class extends JD.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Af.default=ZD;var eM=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kc,"__esModule",{value:!0});const tM=eM(Af);let rM=class extends tM.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Kc.default=rM;var nM=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});const El=nM(Kc);let sM=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new El.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new El.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new El.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new El.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new El.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Rf.default=sM;var K_=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iv,"__esModule",{value:!0});const aM=K_(Rf),iM=K_(Kc);let oM=class Q_{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new aM.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Q_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new iM.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Iv.default=oM;var ul=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.PostgrestError=Rr.PostgrestBuilder=Rr.PostgrestTransformBuilder=Rr.PostgrestFilterBuilder=Rr.PostgrestQueryBuilder=Rr.PostgrestClient=void 0;const G_=ul(Iv);Rr.PostgrestClient=G_.default;const Y_=ul(Rf);Rr.PostgrestQueryBuilder=Y_.default;const X_=ul(Kc);Rr.PostgrestFilterBuilder=X_.default;const J_=ul(Af);Rr.PostgrestTransformBuilder=J_.default;const Z_=ul(If);Rr.PostgrestBuilder=Z_.default;const eS=ul(Of);Rr.PostgrestError=eS.default;var lM=Rr.default={PostgrestClient:G_.default,PostgrestQueryBuilder:Y_.default,PostgrestFilterBuilder:X_.default,PostgrestTransformBuilder:J_.default,PostgrestBuilder:Z_.default,PostgrestError:eS.default};const{PostgrestClient:cM,PostgrestQueryBuilder:mV,PostgrestFilterBuilder:pV,PostgrestTransformBuilder:gV,PostgrestBuilder:vV,PostgrestError:yV}=lM;class dM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uM="2.15.5",fM=`realtime-js/${uM}`,hM="1.0.0",Fp=1e4,mM=1e3,pM=100;var Xl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xl||(Xl={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var Pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pn||(Pn={}));var $p;(function(e){e.websocket="websocket"})($p||($p={}));var Za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Za||(Za={}));class gM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class tS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const Rb=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=vM(o,e,t,a),i),{})},vM=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?rS(i,o):Up(o)},rS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wM(t,r)}switch(e){case ft.bool:return yM(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return xM(t);case ft.json:case ft.jsonb:return bM(t);case ft.timestamp:return jM(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return Up(t);default:return Up(t)}},Up=e=>e,yM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>rS(t,l))}return e},jM=e=>typeof e=="string"?e.replace(" ","T"):e,nS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hh{constructor(t,r,n={},a=Fp){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ab;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ab||(Ab={}));class Jl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Jl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),x=u.filter(w=>p.indexOf(w.presence_ref)<0),g=f.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ib;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ib||(Ib={}));var Zl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zl||(Zl={}));var ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class Ov{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hh(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new tS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Jl(this),this.broadcastEndpointURL=nS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Zl.PRESENCE]&&this.bindings[Zl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ys.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ys.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(ys.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,y=[];for(let v=0;v<w;v++){const b=g[v],{filter:{event:N,schema:j,table:C,filter:E}}=b,D=p&&p[v];if(D&&D.event===N&&D.schema===j&&D.table===C&&D.filter===E)y.push(Object.assign(Object.assign({},b),{id:D.id}));else{this.unsubscribe(),this.state=Lt.errored,t==null||t(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ys.SUBSCRIBED);return}}).receive("error",p=>{this.state=Lt.errored,t==null||t(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lt.joined&&t===Zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Hh(this,Pn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Hh(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>pM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Pn;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,g,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,j=(x=p.filter)===null||x===void 0?void 0:x.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const N=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ov.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rb(t.columns,t.old_record)),r}}const Kh=()=>{},Ad={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NM=[1e3,2e3,5e3,1e4],_M=1e4,SM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fp,this.transport=null,this.heartbeatIntervalMs=Ad.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kh,this.ref=0,this.reconnectTimer=null,this.logger=Kh,this.conn=null,this.sendBuffer=[],this.serializer=new gM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Hc(async()=>{const{default:l}=await Promise.resolve().then(()=>dl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$p.websocket}`,this.httpEndpoint=nS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hM}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xl.connecting:return Za.Connecting;case Xl.open:return Za.Open;case Xl.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ov(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ad.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([SM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:fM};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ad.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Fp,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ad.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Kh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>NM[f-1]||_M,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,m)=>m(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Dv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class EM extends Dv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bp extends Dv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var kM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const sS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},PM=()=>kM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hc(()=>Promise.resolve().then(()=>dl),void 0)).Response:Response}),qp=e=>{if(Array.isArray(e))return e.map(r=>qp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=qp(n)}),t},TM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Qh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RM=(e,t,r)=>Fi(void 0,void 0,void 0,function*(){const n=yield PM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new EM(Qh(a),i,o))}).catch(a=>{t(new Bp(Qh(a),a))}):t(new Bp(Qh(e),e))}),AM=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(TM(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Qc(e,t,r,n,a,i){return Fi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,AM(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>RM(c,l,n))})})}function qu(e,t,r,n){return Fi(this,void 0,void 0,function*(){return Qc(e,"GET",t,r,n)})}function Gn(e,t,r,n,a){return Fi(this,void 0,void 0,function*(){return Qc(e,"POST",t,n,a,r)})}function Vp(e,t,r,n,a){return Fi(this,void 0,void 0,function*(){return Qc(e,"PUT",t,n,a,r)})}function IM(e,t,r,n){return Fi(this,void 0,void 0,function*(){return Qc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function aS(e,t,r,n,a){return Fi(this,void 0,void 0,function*(){return Qc(e,"DELETE",t,n,a,r)})}var cr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const OM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ob={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DM{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=sS(a)}uploadOrUpdate(t,r,n,a){return cr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ob),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?Vp:Gn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}upload(t,r,n){return cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return cr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Ob.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Vp(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(Ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return cr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Gn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Dv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}update(t,r,n){return cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return cr(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}copy(t,r,n){return cr(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return cr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Gn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return cr(this,void 0,void 0,function*(){try{const a=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}download(t,r){return cr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield qu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ft(l))return{data:null,error:l};throw l}})}info(t){return cr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield qu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qp(n),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}exists(t){return cr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield IM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ft(n)&&n instanceof Bp){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return cr(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}list(t,r,n){return cr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},OM),r),{prefix:t||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}listV2(t,r){return cr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Gn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const MM="2.11.1",LM={"X-Client-Info":`storage-js/${MM}`};var Wi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class FM{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},LM),r),this.fetch=sS(n)}listBuckets(){return Wi(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Wi(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Wi(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}}class $M extends FM{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new DM(this.url,this.headers,t,this.fetch)}}const UM="2.57.2";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const BM={"X-Client-Info":`supabase-js-${Fl}/${UM}`},qM={headers:BM},VM={schema:"public"},zM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WM={};var HM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const KM=e=>{let t;return e?t=e:typeof fetch>"u"?t=z_:t=fetch,(...r)=>t(...r)},QM=()=>typeof Headers>"u"?W_:Headers,GM=(e,t,r)=>{const n=KM(r),a=QM();return(i,o)=>HM(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var YM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function XM(e){return e.endsWith("/")?e:e+"/"}function JM(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>YM(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const iS="2.71.1",to=30*1e3,zp=3,Gh=zp*to,ZM="http://localhost:9999",eL="supabase.auth.token",tL={"X-Client-Info":`gotrue-js/${iS}`},Wp="X-Supabase-Api-Version",oS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nL=10*60*1e3;class Mv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sL extends Mv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aL(e){return He(e)&&e.name==="AuthApiError"}class lS extends Mv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class La extends Mv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ks extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iL(e){return He(e)&&e.name==="AuthSessionMissingError"}class Id extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Od extends La{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dd extends La{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oL(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class Db extends La{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hp extends La{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Yh(e){return He(e)&&e.name==="AuthRetryableFetchError"}class Mb extends La{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kp extends La{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lb=` 	
\r=`.split(""),lL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Lb.length;t+=1)e[Lb[t].charCodeAt(0)]=-2;for(let t=0;t<Vu.length;t+=1)e[Vu[t].charCodeAt(0)]=t;return e})();function Fb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vu[n]),t.queuedBits-=6}}function cS(e,t,r){const n=lL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $b(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{uL(o,n,r)};for(let o=0;o<e.length;o+=1)cS(e.charCodeAt(o),a,i);return t.join("")}function cL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}cL(n,t)}}function uL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)cS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function hL(e){const t=[];return dL(e,r=>t.push(r)),new Uint8Array(t)}function mL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Fb(a,r,n)),Fb(null,r,n),t.join("")}function pL(e){return Math.round(Date.now()/1e3)+e}function gL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nn=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},dS=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function vL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const uS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hc(async()=>{const{default:n}=await Promise.resolve().then(()=>dl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ro=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ka=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zs=async(e,t)=>{await e.removeItem(t)};class Df{constructor(){this.promise=new Df.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Df.promiseConstructor=Promise;function Xh(e){const t=e.split(".");if(t.length!==3)throw new Kp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rL.test(t[n]))throw new Kp("JWT not in base64url format");return{header:JSON.parse($b(t[0])),payload:JSON.parse($b(t[1])),signature:fL(t[2]),raw:{header:t[0],payload:t[1]}}}async function xL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bL(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function wL(e){return("0"+e.toString(16)).substr(-2)}function jL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,wL).join("")}async function NL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function _L(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await NL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(e,t,r=!1){const n=jL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ro(e,`${t}-code-verifier`,a);const i=await _L(n);return[i,n===i?"plain":"s256"]}const SL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CL(e){const t=e.headers.get(Wp);if(!t||!t.match(SL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function EL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ki(e){if(!PL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ub(e){return JSON.parse(JSON.stringify(e))}var TL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ya=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RL=[502,503,504];async function Bb(e){var t;if(!yL(e))throw new Hp(Ya(e),0);if(RL.includes(e.status))throw new Hp(Ya(e),e.status);let r;try{r=await e.json()}catch(i){throw new lS(Ya(i),i)}let n;const a=CL(e);if(a&&a.getTime()>=oS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mb(Ya(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ks}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mb(Ya(r),e.status,r.weak_password.reasons);throw new sL(Ya(r),e.status||500,n)}const AL=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Je(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Wp]||(i[Wp]=oS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await IL(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function IL(e,t,r,n,a,i){const o=AL(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Hp(Ya(c),0)}if(l.ok||await Bb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Bb(c)}}function gs(e){var t;let r=null;LL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=pL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qb(e){const t=gs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function OL(e){return{data:e,error:null}}function DL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=TL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ML(e){return e}function LL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zh=["global","local","others"];var FL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class $L{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=uS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Zh[0]){if(Zh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zh.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=FL(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:DL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ML});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(He(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ki(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ki(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ki(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ki(t.userId);try{const{data:r,error:n}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ki(t.userId),Ki(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}function Vb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function UL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qi={debug:!!(globalThis&&dS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BL extends fS{}async function qL(e,t,r){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}UL();const VL={url:ZM,storageKey:eL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zb(e,t,r){return await r()}const Gi={};class Sc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sc.nextInstanceID,Sc.nextInstanceID+=1,this.instanceID>0&&Nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},VL),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $L({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uS(a.fetch),this.lock=a.lock||zb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qL:this.lock=zb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:dS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Gi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=vL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?{error:r}:{error:new lS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:gs}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Hi(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:gs})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:gs})}else throw new Od("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qb})}else throw new Od("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Id}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,f,m,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:b}=t;let N;if(Nn())if(typeof y=="object")N=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))N=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const C=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:w,error:y}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:mL(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gs});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Id}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(He(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Ka(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gs});if(await zs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Id}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Id}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Hi(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Od("You must provide either an email or phone number.")}catch(l){if(He(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:gs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hi(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:OL})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ks;const{error:a}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Od("You must provide either an email or phone number and a type")}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ka(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ka(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Jh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zs}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ks}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Zs})})}catch(r){if(He(r))return iL(r)&&(await this._removeSession(),await zs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ks;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hi(this.storage,this.storageKey));const{data:d,error:u}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zs});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ks;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Xh(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(He(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ks;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nn())throw new Dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Db("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Dd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=to&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ka(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(aL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await zs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=gL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hi(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Nn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(He(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bL(async a=>(a>0&&await xL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gs})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Yh(i)&&Date.now()+o-n<to})}catch(n){if(this._debug(r,"error",n),He(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ka(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ka(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ro(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Jh()}else if(a&&!a.user&&!a.user){const o=await Ka(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await zs(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,a)):a.user=Jh()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Gh}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Yh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Df;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ks;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),He(i)){const o={session:null,error:i};return Yh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ro(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Ub(a);await ro(this.storage,this.storageKey,i)}else{const a=Ub(r);await ro(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await zs(this.storage,this.storageKey),await zs(this.storage,this.storageKey+"-code-verifier"),await zs(this.storage,this.storageKey+"-user"),this.userStorage&&await zs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),to);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/to);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${to}ms, refresh threshold is ${zp} ticks`),a<=zp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xh(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+nL>a)return n;const{data:i,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Xh(n);r!=null&&r.allowExpired||EL(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=kL(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,hL(`${l}.${c}`)))throw new Kp("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}Sc.nextInstanceID=0;const zL=Sc;class WL extends zL{constructor(t){super(t)}}var HL=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class KL{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=XM(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:VM,realtime:WM,auth:Object.assign(Object.assign({},zM),{storageKey:d}),global:qM},f=JM(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=GM(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new cM(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new $M(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new BD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return HL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WL({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new CM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QL=(e,t,r)=>new KL(e,t,r);function GL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}GL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YL="https://drlfakeottpbmxiudftz.supabase.co",XL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRybGZha2VvdHRwYm14aXVkZnR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwODI1MjUsImV4cCI6MjA3MjY1ODUyNX0.PVmrI-ySsWPDTdtFPkthHttKYsq3e08T2oTOurN6Yss",ne=QL(YL,XL),Mf=(e=1,t=50)=>{const r=(e-1)*t,n=r+t-1;return{from:r,to:n}},Wt={mapRow(e){return{id:e.id,entityName:e.entity_name,fundCluster:e.fund_cluster,semiExpendableProperty:e.semi_expendable_property,propertyNumber:e.property_number,description:e.description,dateAcquired:e.date_acquired,remarks:e.remarks??void 0,createdAt:e.created_at,updatedAt:e.updated_at}},mapEntry(e){return{id:e.id,propertyCardId:e.property_card_id,date:e.date,reference:e.reference,receiptQty:e.receipt_qty,unitCost:Number(e.unit_cost||0),totalCost:Number(e.total_cost||0),issueItemNo:e.issue_item_no,issueQty:e.issue_qty,officeOfficer:e.office_officer,balanceQty:e.balance_qty,amount:Number(e.amount||0),createdAt:e.created_at,updatedAt:e.updated_at}},async getAll(e={}){const{page:t=1,limit:r=50,search:n}=e,{from:a,to:i}=Mf(t,r);let o=ne.from("property_cards").select("*",{count:"exact"}).range(a,i);n&&(o=o.or(`property_number.ilike.%${n}%,description.ilike.%${n}%,entity_name.ilike.%${n}%`));const l=await o.order("created_at",{ascending:!1});if(l.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:l.error.message};const c=l.count||0,d=Math.ceil(c/r);return{data:(l.data||[]).map(u=>Wt.mapRow(u)),pagination:{page:t,limit:r,total:c,totalPages:d},success:!0}},async getById(e){var r;const t=await ne.from("property_cards").select("*").eq("id",e).single();return{data:t.data?Wt.mapRow(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getWithEntries(e){var n;const t=await ne.from("property_cards").select(`
        *,
        entries:property_card_entries(*)
      `).eq("id",e).single();return{data:t.data?{...Wt.mapRow(t.data),entries:(t.data.entries||[]).map(a=>Wt.mapEntry(a))}:null,error:((n=t.error)==null?void 0:n.message)||null,success:!t.error}},async create(e){var r;if(!navigator.onLine)return await bs("propertyCards.create",{card:e}),{data:{id:`temp-${Date.now()}`,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const t=await ne.from("property_cards").insert({entity_name:e.entityName,fund_cluster:e.fundCluster,semi_expendable_property:e.semiExpendableProperty,property_number:e.propertyNumber,description:e.description,date_acquired:e.dateAcquired,remarks:e.remarks}).select().single();return{data:t.data?Wt.mapRow(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var a;if(!navigator.onLine)return await bs("propertyCards.update",{id:e,updates:t}),{data:{...t,id:e},error:null,success:!0};const r={};t.entityName&&(r.entity_name=t.entityName),t.fundCluster&&(r.fund_cluster=t.fundCluster),t.semiExpendableProperty&&(r.semi_expendable_property=t.semiExpendableProperty),t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.remarks!==void 0&&(r.remarks=t.remarks);const n=await ne.from("property_cards").update(r).eq("id",e).select().single();return{data:n.data?Wt.mapRow(n.data):null,error:((a=n.error)==null?void 0:a.message)||null,success:!n.error}},async delete(e){var r;if(!navigator.onLine)return await bs("propertyCards.delete",{id:e}),{data:null,error:null,success:!0};const t=await ne.from("property_cards").delete().eq("id",e);return{data:t.data?Wt.mapEntry(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async addEntry(e,t){var n;if(!navigator.onLine)return await bs("propertyCards.addEntry",{propertyCardId:e,entry:t}),{data:{id:`temp-entry-${Date.now()}`,propertyCardId:e,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const r=await ne.from("property_card_entries").insert({property_card_id:e,date:t.date,reference:t.reference,receipt_qty:t.receiptQty,unit_cost:t.unitCost,total_cost:t.totalCost,issue_item_no:t.issueItemNo,issue_qty:t.issueQty,office_officer:t.officeOfficer,balance_qty:t.balanceQty,amount:t.amount}).select().single();return{data:r.data?Wt.mapEntry(r.data):null,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async updateEntry(e,t,r){var i;if(!navigator.onLine)return await bs("propertyCards.updateEntry",{propertyCardId:e,entryId:t,updates:r}),{data:{...r,id:t,propertyCardId:e},error:null,success:!0};const n={};r.date&&(n.date=r.date),r.reference&&(n.reference=r.reference),r.receiptQty!==void 0&&(n.receipt_qty=r.receiptQty),r.unitCost!==void 0&&(n.unit_cost=r.unitCost),r.totalCost!==void 0&&(n.total_cost=r.totalCost),r.issueItemNo&&(n.issue_item_no=r.issueItemNo),r.issueQty!==void 0&&(n.issue_qty=r.issueQty),r.officeOfficer&&(n.office_officer=r.officeOfficer),r.balanceQty!==void 0&&(n.balance_qty=r.balanceQty),r.amount!==void 0&&(n.amount=r.amount);const a=await ne.from("property_card_entries").update(n).eq("id",t).eq("property_card_id",e).select().single();return{data:a.data,error:((i=a.error)==null?void 0:i.message)||null,success:!a.error}},async deleteEntry(e,t){var n;if(!navigator.onLine)return await bs("propertyCards.deleteEntry",{propertyCardId:e,entryId:t}),{data:null,error:null,success:!0};const r=await ne.from("property_card_entries").delete().eq("id",t).eq("property_card_id",e);return{data:r.data,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async getEntries(e){var r;const t=await ne.from("property_card_entries").select("*").eq("property_card_id",e).order("date",{ascending:!0});return{data:(t.data||[]).map(n=>Wt.mapEntry(n)),error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async search(e,t={}){return this.getAll({...t,search:e})},async safeDelete(e){try{const{data:t,error:r}=await ne.rpc("safe_delete_property_card",{card_id:e});return r?(console.error("Safe delete property card error:",r),{data:null,error:r.message,success:!1}):{data:t,error:null,success:!0}}catch(t){return console.error("Safe delete property card exception:",t),{data:null,error:t instanceof Error?t.message:"Unknown error occurred",success:!1}}},async canDelete(e){try{const{data:t,error:r}=await ne.rpc("can_delete_property_card",{card_id:e});return r?(console.error("Can delete property card error:",r),{data:null,error:r.message,success:!1}):{data:t,error:null,success:!0}}catch(t){return console.error("Can delete property card exception:",t),{data:null,error:t instanceof Error?t.message:"Unknown error occurred",success:!1}}}},kr={async getAll(e={}){const{page:t=1,limit:r=1e3,status:n,condition:a,search:i,filter:o,valueFilter:l}=e,{from:c,to:d}=Mf(t,r);let u;o==="available"?u=ne.from("inventory_items").select("*",{count:"planned"}).range(c,d).eq("status","Active").eq("condition","Serviceable").or("assignment_status.is.null,assignment_status.eq.Available"):o==="issued"?(console.log("Fetching issued items with filter:",o),u=ne.from("inventory_items").select("*",{count:"planned"}).range(c,d).eq("status","Active").eq("condition","Serviceable").eq("assignment_status","Assigned")):u=ne.from("inventory_items").select("*",{count:"planned"}).range(c,d),n&&(u=u.eq("status",n)),a&&(u=u.eq("condition",a)),l==="high-value"?u=u.eq("sub_category","High Value Expendable"):l==="low-value"&&(u=u.eq("sub_category","Small Value Expendable")),i&&(u=u.or(`property_number.ilike.%${i}%,description.ilike.%${i}%,brand.ilike.%${i}%`));const f=await u.order("created_at",{ascending:!1});if(f.error)return console.error("Error fetching inventory items:",f.error),{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:f.error.message};let m=f.data||[];o==="available"&&(m=m.filter(y=>!(y.assignment_status==="Assigned"||y.custodian&&y.custodian.trim()!==""))),console.log("Raw database response:",{filter:o,dataCount:m.length,totalCount:f.count,sampleItems:m.slice(0,3).map(y=>({id:y.id,property_number:y.property_number,assignment_status:y.assignment_status,custodian:y.custodian,sub_category:y.sub_category}))});const p=o==="available"?m.length:f.count||0,x=Math.ceil(p/r);let g=new Set;if(m.length>0){const y=m.map(v=>v.id);for(let v=0;v<y.length;v+=100){const b=y.slice(v,v+100),{data:N}=await ne.from("property_cards").select("inventory_item_id").in("inventory_item_id",b);N&&N.forEach(j=>g.add(j.inventory_item_id))}}const w=m.map(y=>({id:y.id,propertyNumber:y.property_number,description:y.description||(y.model?`${y.brand?y.brand+" ":""}${y.model}`:y.brand)||"",brand:y.brand||"",model:y.model||"",serialNumber:y.serial_number||"",unitOfMeasure:y.unit_of_measure,quantity:y.quantity,unitCost:y.unit_cost,totalCost:y.total_cost,dateAcquired:y.date_acquired,supplier:y.supplier_id||"",condition:y.condition,fundSource:y.fund_source_id||"",remarks:y.remarks||"",lastInventoryDate:y.last_inventory_date||"",semiExpandableCategory:y.semi_expandable_category||void 0,subCategory:y.sub_category||void 0,entityName:y.entity_name||void 0,status:y.status,custodian:y.custodian||"",custodianPosition:y.custodian_position||"",assignmentStatus:y.assignment_status||"Available",assignedDate:y.assigned_date||"",hasPropertyCard:g.has(y.id),createdAt:y.created_at,updatedAt:y.updated_at}));return console.log("Transformed data sample:",{totalItems:w.length,spHVItems:w.filter(y=>{var v;return(v=y.propertyNumber)==null?void 0:v.startsWith("SPHV")}),spLVItems:w.filter(y=>{var v;return(v=y.propertyNumber)==null?void 0:v.startsWith("SPLV")}),sampleTransformed:w.slice(0,3).map(y=>({propertyNumber:y.propertyNumber,subCategory:y.subCategory}))}),{data:w,pagination:{page:t,limit:r,total:p,totalPages:x},success:!0}},async getById(e){const t=await ne.from("inventory_items").select("*").eq("id",e).single();return t.error?{data:null,error:t.error.message,success:!1}:{data:{id:t.data.id,propertyNumber:t.data.property_number,description:t.data.description||(t.data.model?`${t.data.brand?t.data.brand+" ":""}${t.data.model}`:t.data.brand)||"",brand:t.data.brand||"",model:t.data.model||"",serialNumber:t.data.serial_number||"",unitOfMeasure:t.data.unit_of_measure,quantity:t.data.quantity,unitCost:t.data.unit_cost,totalCost:t.data.total_cost,dateAcquired:t.data.date_acquired,supplier:t.data.supplier_id||"",condition:t.data.condition,fundSource:t.data.fund_source_id||"",remarks:t.data.remarks||"",lastInventoryDate:t.data.last_inventory_date||"",semiExpandableCategory:t.data.semi_expandable_category||void 0,subCategory:t.data.sub_category||void 0,entityName:t.data.entity_name||void 0,status:t.data.status,custodian:t.data.custodian||"",custodianPosition:t.data.custodian_position||"",assignmentStatus:t.data.assignment_status||"Available",assignedDate:t.data.assigned_date||"",createdAt:t.data.created_at,updatedAt:t.data.updated_at},error:null,success:!0}},async create(e){if(console.log("Creating inventory item with data:",e),!navigator.onLine)return await bs("inventory.create",{item:e}),{data:{id:`temp-${Date.now()}`,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};if(e.propertyNumber){const{data:a,error:i}=await ne.from("inventory_items").select("id, property_number").eq("property_number",e.propertyNumber).limit(1);if(i)return console.error("Error checking for duplicate property number:",i),{data:null,error:"Failed to validate property number uniqueness",success:!1};if(a&&a.length>0)return console.error("Duplicate property number detected:",e.propertyNumber),{data:null,error:`Property number ${e.propertyNumber} already exists. Please generate a new property number.`,success:!1}}const t={property_number:e.propertyNumber,description:e.description,brand:e.brand,model:e.model,serial_number:e.serialNumber,unit_of_measure:e.unitOfMeasure,quantity:e.quantity,unit_cost:e.unitCost,total_cost:e.totalCost,date_acquired:e.dateAcquired,supplier_id:e.supplier||null,condition:e.condition,fund_source_id:e.fundSource||null,remarks:e.remarks,last_inventory_date:e.lastInventoryDate,category:"Semi-Expendable",status:e.status,estimated_useful_life_override:e.estimatedUsefulLifeOverride};e.subCategory&&(t.sub_category=e.subCategory),e.entityName&&(t.entity_name=e.entityName),e.semiExpandableCategory&&(t.semi_expandable_category=e.semiExpandableCategory),console.log("Inserting data:",t);const r=await ne.from("inventory_items").insert(t).select().single();return console.log("Supabase response:",r),r.error?(console.error("Error creating inventory item:",r.error),{data:null,error:r.error.message,success:!1}):{data:{id:r.data.id,propertyNumber:r.data.property_number,description:r.data.description||(r.data.model?`${r.data.brand?r.data.brand+" ":""}${r.data.model}`:r.data.brand)||"",brand:r.data.brand||"",model:r.data.model||"",serialNumber:r.data.serial_number||"",unitOfMeasure:r.data.unit_of_measure,quantity:r.data.quantity,unitCost:r.data.unit_cost,totalCost:r.data.total_cost,dateAcquired:r.data.date_acquired,supplier:r.data.supplier_id||"",condition:r.data.condition,semiExpandableCategory:r.data.semi_expandable_category||void 0,subCategory:r.data.sub_category,entityName:r.data.entity_name,fundSource:r.data.fund_source_id||"",remarks:r.data.remarks||"",lastInventoryDate:r.data.last_inventory_date||"",status:r.data.status,estimatedUsefulLife:r.data.estimated_useful_life,estimatedUsefulLifeOverride:r.data.estimated_useful_life_override,custodian:r.data.custodian||"",custodianPosition:r.data.custodian_position||"",assignmentStatus:r.data.assignment_status||"Available",assignedDate:r.data.assigned_date||"",createdAt:r.data.created_at,updatedAt:r.data.updated_at},error:null,success:!0}},async update(e,t){if(!navigator.onLine)return await bs("inventory.update",{id:e,updates:t}),{data:{...t,id:e},error:null,success:!0};const r={};t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.brand&&(r.brand=t.brand),t.model&&(r.model=t.model),t.serialNumber&&(r.serial_number=t.serialNumber),t.unitOfMeasure&&(r.unit_of_measure=t.unitOfMeasure),t.quantity!==void 0&&(r.quantity=t.quantity),t.unitCost!==void 0&&(r.unit_cost=t.unitCost),t.totalCost!==void 0&&(r.total_cost=t.totalCost),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.supplier&&(r.supplier_id=t.supplier),t.condition&&(r.condition=t.condition),t.semiExpandableCategory!==void 0&&(r.semi_expandable_category=t.semiExpandableCategory||null),t.subCategory&&(r.sub_category=t.subCategory),t.entityName&&(r.entity_name=t.entityName),t.fundSource&&(r.fund_source_id=t.fundSource),t.remarks&&(r.remarks=t.remarks),t.lastInventoryDate&&(r.last_inventory_date=t.lastInventoryDate),t.status&&(r.status=t.status),t.estimatedUsefulLifeOverride!==void 0&&(r.estimated_useful_life_override=t.estimatedUsefulLifeOverride);const n=await ne.from("inventory_items").update(r).eq("id",e).select().single();return n.error?{data:null,error:n.error.message,success:!1}:{data:{id:n.data.id,propertyNumber:n.data.property_number,description:n.data.description||(n.data.model?`${n.data.brand?n.data.brand+" ":""}${n.data.model}`:n.data.brand)||"",brand:n.data.brand||"",model:n.data.model||"",serialNumber:n.data.serial_number||"",unitOfMeasure:n.data.unit_of_measure,quantity:n.data.quantity,unitCost:n.data.unit_cost,totalCost:n.data.total_cost,dateAcquired:n.data.date_acquired,supplier:n.data.supplier_id||"",condition:n.data.condition,semiExpandableCategory:n.data.semi_expandable_category||void 0,subCategory:n.data.sub_category,entityName:n.data.entity_name,fundSource:n.data.fund_source_id||"",remarks:n.data.remarks||"",lastInventoryDate:n.data.last_inventory_date||"",status:n.data.status,estimatedUsefulLife:n.data.estimated_useful_life,estimatedUsefulLifeOverride:n.data.estimated_useful_life_override,custodian:n.data.custodian||"",custodianPosition:n.data.custodian_position||"",assignmentStatus:n.data.assignment_status||"Available",assignedDate:n.data.assigned_date||"",createdAt:n.data.created_at,updatedAt:n.data.updated_at},error:null,success:!0}},async delete(e){if(!navigator.onLine)return await bs("inventory.delete",{id:e}),{data:null,error:null,success:!0};const{data:t,error:r}=await ne.from("inventory_items").select("id, assignment_status, custodian").eq("id",e).single();if(r)return{data:null,error:r.message||"Failed to fetch item details",success:!1};if(t.assignment_status==="Assigned"||t.custodian&&t.custodian.trim()!=="")return{data:null,error:`This inventory item cannot be deleted because it is currently assigned to ${t.custodian||"a custodian"}. Please unassign the item from the custodian first before deleting.`,success:!1};const{data:a,error:i}=await ne.rpc("safe_delete_inventory_item",{item_id:e});return i?i.message.includes("function")&&i.message.includes("does not exist")?{data:null,error:"Safe deletion function not found. Please run the database setup script first.",success:!1}:i.message.includes("Cannot delete inventory item")?{data:null,error:"This inventory item cannot be deleted because it is assigned to custodian slips or has property card entries.",success:!1}:{data:null,error:i.message,success:!1}:{data:a,error:null,success:!0}},async search(e,t={}){return this.getAll({...t,search:e})}};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(this,arguments)}var fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fa||(fa={}));const Wb="popstate";function JL(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=$i(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Qp("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:zu(i))}function n(a,i){Lv(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return eF(t,r,n,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZL(){return Math.random().toString(36).substr(2,8)}function Hb(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,r,n){return r===void 0&&(r=null),Cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$i(t):t,{state:r,key:t&&t.key||n||ZL()})}function zu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $i(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=fa.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Cc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=fa.Pop;let w=u(),y=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:y})}function m(w,y){l=fa.Push;let v=Qp(g.location,w,y);r&&r(v,w),d=u()+1;let b=Hb(v,d),N=g.createHref(v);try{o.pushState(b,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function p(w,y){l=fa.Replace;let v=Qp(g.location,w,y);r&&r(v,w),d=u();let b=Hb(v,d),N=g.createHref(v);o.replaceState(b,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof w=="string"?w:zu(w);return v=v.replace(/ $/,"%20"),Rt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Wb,f),c=w,()=>{a.removeEventListener(Wb,f),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var Kb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kb||(Kb={}));function tF(e,t,r){return r===void 0&&(r="/"),rF(e,t,r,!1)}function rF(e,t,r,n){let a=typeof t=="string"?$i(t):t,i=Fv(a.pathname||"/",r);if(i==null)return null;let o=hS(e);nF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=mF(i);l=fF(o[c],d,n)}return l}function hS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Na([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),hS(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:dF(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of mS(i.path))a(i,o,c)}),t}function mS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=mS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sF=/^:[\w-]+$/,aF=3,iF=2,oF=1,lF=10,cF=-2,Qb=e=>e==="*";function dF(e,t){let r=e.split("/"),n=r.length;return r.some(Qb)&&(n+=cF),t&&(n+=iF),r.filter(a=>!Qb(a)).reduce((a,i)=>a+(sF.test(i)?aF:i===""?oF:lF),n)}function uF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fF(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Gb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Gb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Na([i,f.pathname]),pathnameBase:yF(Na([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Na([i,f.pathnameBase]))}return o}function Gb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function hF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Lv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function mF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function pF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?$i(e):e;return{pathname:r?r.startsWith("/")?r:gF(r,t):t,search:xF(n),hash:bF(a)}}function gF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function em(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $v(e,t){let r=vF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Uv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=$i(e):(a=Cc({},e),Rt(!a.pathname||!a.pathname.includes("?"),em("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),em("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),em("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=pF(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Na=e=>e.join("/").replace(/\/\/+/g,"/"),yF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pS=["post","put","patch","delete"];new Set(pS);const jF=["get",...pS];new Set(jF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}const Bv=h.createContext(null),NF=h.createContext(null),Fa=h.createContext(null),Lf=h.createContext(null),$a=h.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=h.createContext(null);function _F(e,t){let{relative:r}=t===void 0?{}:t;fl()||Rt(!1);let{basename:n,navigator:a}=h.useContext(Fa),{hash:i,pathname:o,search:l}=yS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Na([n,o])),a.createHref({pathname:c,search:l,hash:i})}function fl(){return h.useContext(Lf)!=null}function Un(){return fl()||Rt(!1),h.useContext(Lf).location}function vS(e){h.useContext(Fa).static||h.useLayoutEffect(e)}function Bn(){let{isDataRoute:e}=h.useContext($a);return e?LF():SF()}function SF(){fl()||Rt(!1);let e=h.useContext(Bv),{basename:t,future:r,navigator:n}=h.useContext(Fa),{matches:a}=h.useContext($a),{pathname:i}=Un(),o=JSON.stringify($v(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return vS(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Uv(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Na([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function yS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Fa),{matches:a}=h.useContext($a),{pathname:i}=Un(),o=JSON.stringify($v(a,n.v7_relativeSplatPath));return h.useMemo(()=>Uv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function CF(e,t){return EF(e,t)}function EF(e,t,r,n){fl()||Rt(!1);let{navigator:a}=h.useContext(Fa),{matches:i}=h.useContext($a),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Un(),u;if(t){var f;let w=typeof t=="string"?$i(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Rt(!1),u=w}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=tF(e,{pathname:p}),g=AF(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Na([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Na([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?h.createElement(Lf.Provider,{value:{location:Ec({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:fa.Pop}},g):g}function kF(){let e=MF(),t=wF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const PF=h.createElement(kF,null);class TF extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement($a.Provider,{value:this.props.routeContext},h.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RF(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(Bv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement($a.Provider,{value:t},n)}function AF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Rt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let p,x=!1,g=null,w=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||PF,c&&(d<0&&m===0?(x=!0,w=null):d===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),v=()=>{let b;return p?b=g:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,h.createElement(RF,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(TF,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var xS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xS||{}),Wu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wu||{});function IF(e){let t=h.useContext(Bv);return t||Rt(!1),t}function OF(e){let t=h.useContext(NF);return t||Rt(!1),t}function DF(e){let t=h.useContext($a);return t||Rt(!1),t}function bS(e){let t=DF(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function MF(){var e;let t=h.useContext(gS),r=OF(Wu.UseRouteError),n=bS(Wu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function LF(){let{router:e}=IF(xS.UseNavigateStable),t=bS(Wu.UseNavigateStable),r=h.useRef(!1);return vS(()=>{r.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ec({fromRouteId:t},i)))},[e,t])}function FF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Yb(e){let{to:t,replace:r,state:n,relative:a}=e;fl()||Rt(!1);let{future:i,static:o}=h.useContext(Fa),{matches:l}=h.useContext($a),{pathname:c}=Un(),d=Bn(),u=Uv(t,$v(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function ar(e){Rt(!1)}function $F(e){let{basename:t="/",children:r=null,location:n,navigationType:a=fa.Pop,navigator:i,static:o=!1,future:l}=e;fl()&&Rt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Ec({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=$i(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let w=Fv(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:x},navigationType:a}},[c,u,f,m,p,x,a]);return g==null?null:h.createElement(Fa.Provider,{value:d},h.createElement(Lf.Provider,{children:r,value:g}))}function UF(e){let{children:t,location:r}=e;return CF(Gp(t),r)}new Promise(()=>{});function Gp(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){r.push.apply(r,Gp(n.props.children,i));return}n.type!==ar&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(this,arguments)}function BF(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VF(e,t){return e.button===0&&(!t||t==="_self")&&!qF(e)}function Xp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function zF(e,t){let r=Xp(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const WF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HF="6";try{window.__reactRouterVersion=HF}catch{}const KF="startTransition",Xb=xg[KF];function QF(e){let{basename:t,children:r,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=JL({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&Xb?Xb(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>FF(n),[n]),h.createElement($F,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const GF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XF=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=BF(t,WF),{basename:p}=h.useContext(Fa),x,g=!1;if(typeof d=="string"&&YF.test(d)&&(x=d,GF))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=Fv(N.pathname,p);N.origin===b.origin&&j!=null?d=j+N.search+N.hash:g=!0}catch{}let w=_F(d,{relative:a}),y=JF(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||y(b)}return h.createElement("a",Yp({},m,{href:x||w,onClick:g||i?n:v,ref:r,target:c}))});var Jb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jb||(Jb={}));var Zb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zb||(Zb={}));function JF(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Bn(),d=Un(),u=yS(e,{relative:o});return h.useCallback(f=>{if(VF(f,r)){f.preventDefault();let m=n!==void 0?n:zu(d)===zu(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function ZF(e){let t=h.useRef(Xp(e)),r=h.useRef(!1),n=Un(),a=h.useMemo(()=>zF(n.search,r.current?null:t.current),[n.search]),i=Bn(),o=h.useCallback((l,c)=>{const d=Xp(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const qv=qc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?D2:"button";return s.jsx(o,{className:Ee(qv({variant:t,size:r,className:e})),ref:i,...a})});ce.displayName="Button";var e4=h.createContext(void 0);function Gc(e){const t=h.useContext(e4);return e||t||"ltr"}var tm=0;function Ff(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??e0()),document.body.insertAdjacentElement("beforeend",e[1]??e0()),tm++,()=>{tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tm--}},[])}function e0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",t0={bubbles:!1,cancelable:!0},t4="FocusScope",Yc=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Tt(a),u=Tt(i),f=h.useRef(null),m=We(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const N=b.target;l.contains(N)?f.current=N:Qs(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||Qs(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Qs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){n0.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(rm,t0);l.addEventListener(rm,d),l.dispatchEvent(y),y.defaultPrevented||(r4(o4(wS(l)),{select:!0}),document.activeElement===g&&Qs(l))}return()=>{l.removeEventListener(rm,d),setTimeout(()=>{const y=new CustomEvent(nm,t0);l.addEventListener(nm,u),l.dispatchEvent(y),y.defaultPrevented||Qs(g??document.body,{select:!0}),l.removeEventListener(nm,u),n0.remove(p)},0)}}},[l,d,u,p]);const x=h.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,N]=n4(v);b&&N?!g.shiftKey&&y===N?(g.preventDefault(),r&&Qs(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Qs(N,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(De.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Yc.displayName=t4;function r4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qs(n,{select:t}),document.activeElement!==r)return}function n4(e){const t=wS(e),r=r0(t,e),n=r0(t.reverse(),e);return[r,n]}function wS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function r0(e,t){for(const r of e)if(!s4(r,{upTo:t}))return r}function s4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function a4(e){return e instanceof HTMLInputElement&&"select"in e}function Qs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&a4(e)&&t&&e.select()}}var n0=i4();function i4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=s0(e,t),e.unshift(t)},remove(t){var r;e=s0(e,t),(r=e[0])==null||r.resume()}}}function s0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function o4(e){return e.filter(t=>t.tagName!=="A")}var sm="rovingFocusGroup.onEntryFocus",l4={bubbles:!1,cancelable:!0},Xc="RovingFocusGroup",[Jp,jS,c4]=bf(Xc),[d4,$f]=wr(Xc,[c4]),[u4,f4]=d4(Xc),NS=h.forwardRef((e,t)=>s.jsx(Jp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Jp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(h4,{...e,ref:t})})}));NS.displayName=Xc;var h4=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=We(t,m),x=Gc(i),[g,w]=Ds({prop:o,defaultProp:l??null,onChange:c,caller:Xc}),[y,v]=h.useState(!1),b=Tt(d),N=jS(r),j=h.useRef(!1),[C,E]=h.useState(0);return h.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(sm,b),()=>D.removeEventListener(sm,b)},[b]),s.jsx(u4,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(D=>w(D),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(D=>D+1),[]),onFocusableItemRemove:h.useCallback(()=>E(D=>D-1),[]),children:s.jsx(De.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{j.current=!0}),onFocus:we(e.onFocus,D=>{const H=!j.current;if(D.target===D.currentTarget&&H&&!y){const U=new CustomEvent(sm,l4);if(D.currentTarget.dispatchEvent(U),!U.defaultPrevented){const I=N().filter(T=>T.focusable),q=I.find(T=>T.active),F=I.find(T=>T.id===g),_=[q,F,...I].filter(Boolean).map(T=>T.ref.current);CS(_,u)}}j.current=!1}),onBlur:we(e.onBlur,()=>v(!1))})})}),_S="RovingFocusGroupItem",SS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=tr(),d=i||c,u=f4(_S,r),f=u.currentTabStopId===d,m=jS(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),s.jsx(Jp.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(De.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:we(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:we(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=g4(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const N=b.indexOf(w.currentTarget);b=u.loop?v4(b,N+1):b.slice(N+1)}setTimeout(()=>CS(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});SS.displayName=_S;var m4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g4(e,t,r){const n=p4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return m4[n]}function CS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function v4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ES=NS,kS=SS,y4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yi=new WeakMap,Md=new WeakMap,Ld={},am=0,PS=function(e){return e&&(e.host||PS(e.parentNode))},x4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=PS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},b4=function(e,t,r,n){var a=x4(t,Array.isArray(e)?e:[e]);Ld[r]||(Ld[r]=new WeakMap);var i=Ld[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",g=(Yi.get(m)||0)+1,w=(i.get(m)||0)+1;Yi.set(m,g),i.set(m,w),o.push(m),g===1&&x&&Md.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),am++,function(){o.forEach(function(f){var m=Yi.get(f)-1,p=i.get(f)-1;Yi.set(f,m),i.set(f,p),m||(Md.has(f)||f.removeAttribute(n),Md.delete(f)),p||f.removeAttribute(r)}),am--,am||(Yi=new WeakMap,Yi=new WeakMap,Md=new WeakMap,Ld={})}},Uf=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=y4(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),b4(n,a,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ts.apply(this,arguments)};function TS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function w4(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ou="right-scroll-bar-position",lu="width-before-scroll-bar",j4="with-scroll-bars-hidden",N4="--removed-body-scroll-bar-size";function im(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _4(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var S4=typeof window<"u"?h.useLayoutEffect:h.useEffect,a0=new WeakMap;function C4(e,t){var r=_4(null,function(n){return e.forEach(function(a){return im(a,n)})});return S4(function(){var n=a0.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||im(l,null)}),i.forEach(function(l){a.has(l)||im(l,o)})}a0.set(r,e)},[e]),r}function E4(e){return e}function k4(e,t){t===void 0&&(t=E4);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function P4(e){e===void 0&&(e={});var t=k4(null);return t.options=ts({async:!0,ssr:!1},e),t}var RS=function(e){var t=e.sideCar,r=TS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,ts({},r))};RS.isSideCarExport=!0;function T4(e,t){return e.useMedium(t),RS}var AS=P4(),om=function(){},Bf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:om,onWheelCapture:om,onTouchMoveCapture:om}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,N=TS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,C=C4([r,t]),E=ts(ts({},N),a);return h.createElement(h.Fragment,null,u&&h.createElement(j,{sideCar:AS,removeScrollBar:d,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(l),ts(ts({},E),{ref:C})):h.createElement(v,ts({},E,{className:c,ref:C}),l))});Bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bf.classNames={fullWidth:lu,zeroRight:ou};var R4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=R4();return t&&e.setAttribute("nonce",t),e}function I4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function O4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var D4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=A4())&&(I4(t,r),O4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},M4=function(){var e=D4();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},IS=function(){var e=M4(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},L4={left:0,top:0,right:0,gap:0},lm=function(e){return parseInt(e||"",10)||0},F4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lm(r),lm(n),lm(a)]},$4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L4;var t=F4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},U4=IS(),Eo="data-scroll-locked",B4=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(j4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ou,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(N4,": ").concat(l,`px;
  }
`)},i0=function(){var e=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(e)?e:0},q4=function(){h.useEffect(function(){return document.body.setAttribute(Eo,(i0()+1).toString()),function(){var e=i0()-1;e<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,e.toString())}},[])},V4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;q4();var i=h.useMemo(function(){return $4(a)},[a]);return h.createElement(U4,{styles:B4(i,!t,a,r?"":"!important")})},Zp=!1;if(typeof window<"u")try{var Fd=Object.defineProperty({},"passive",{get:function(){return Zp=!0,!0}});window.addEventListener("test",Fd,Fd),window.removeEventListener("test",Fd,Fd)}catch{Zp=!1}var Xi=Zp?{passive:!1}:!1,z4=function(e){return e.tagName==="TEXTAREA"},OS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!z4(e)&&r[t]==="visible")},W4=function(e){return OS(e,"overflowY")},H4=function(e){return OS(e,"overflowX")},o0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=DS(e,n);if(a){var i=MS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},K4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Q4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},DS=function(e,t){return e==="v"?W4(t):H4(t)},MS=function(e,t){return e==="v"?K4(t):Q4(t)},G4=function(e,t){return e==="h"&&t==="rtl"?-1:1},Y4=function(e,t,r,n,a){var i=G4(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var p=MS(e,l),x=p[0],g=p[1],w=p[2],y=g-w-i*x;(x||y)&&DS(e,l)&&(f+=y,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},$d=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l0=function(e){return[e.deltaX,e.deltaY]},c0=function(e){return e&&"current"in e?e.current:e},X4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},J4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z4=0,Ji=[];function e$(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(Z4++)[0],i=h.useState(IS)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=w4([e.lockRef.current],(e.shards||[]).map(c0),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=$d(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],N="deltaY"in g?g.deltaY:v[1]-y[1],j,C=g.target,E=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var D=o0(E,C);if(!D)return!0;if(D?j=E:(j=E==="v"?"h":"v",D=o0(E,C)),!D)return!1;if(!n.current&&"changedTouches"in g&&(b||N)&&(n.current=j),!j)return!0;var H=n.current||j;return Y4(H,w,g,H==="h"?b:N,!0)},[]),c=h.useCallback(function(g){var w=g;if(!(!Ji.length||Ji[Ji.length-1]!==i)){var y="deltaY"in w?l0(w):$d(w),v=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&X4(j.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(c0).filter(Boolean).filter(function(j){return j.contains(w.target)}),N=b.length>0?l(w,b[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:t$(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),u=h.useCallback(function(g){r.current=$d(g),n.current=void 0},[]),f=h.useCallback(function(g){d(g.type,l0(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,$d(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return Ji.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Xi),document.addEventListener("touchmove",c,Xi),document.addEventListener("touchstart",u,Xi),function(){Ji=Ji.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Xi),document.removeEventListener("touchmove",c,Xi),document.removeEventListener("touchstart",u,Xi)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:J4(a)}):null,p?h.createElement(V4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function t$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const r$=T4(AS,e$);var Jc=h.forwardRef(function(e,t){return h.createElement(Bf,ts({},e,{ref:t,sideCar:r$}))});Jc.classNames=Bf.classNames;var eg=["Enter"," "],n$=["ArrowDown","PageUp","Home"],LS=["ArrowUp","PageDown","End"],s$=[...n$,...LS],a$={ltr:[...eg,"ArrowRight"],rtl:[...eg,"ArrowLeft"]},i$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zc="Menu",[kc,o$,l$]=bf(Zc),[Ui,FS]=wr(Zc,[l$,Ma,$f]),qf=Ma(),$S=$f(),[c$,Bi]=Ui(Zc),[d$,ed]=Ui(Zc),US=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=qf(t),[c,d]=h.useState(null),u=h.useRef(!1),f=Tt(i),m=Gc(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(Cv,{...l,children:s.jsx(c$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(d$,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};US.displayName=Zc;var u$="MenuAnchor",Vv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=qf(r);return s.jsx(Wc,{...a,...n,ref:t})});Vv.displayName=u$;var zv="MenuPortal",[f$,BS]=Ui(zv,{forceMount:void 0}),qS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Bi(zv,t);return s.jsx(f$,{scope:t,forceMount:r,children:s.jsx(Yt,{present:r||i.open,children:s.jsx(al,{asChild:!0,container:a,children:n})})})};qS.displayName=zv;var mn="MenuContent",[h$,Wv]=Ui(mn),VS=h.forwardRef((e,t)=>{const r=BS(mn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Bi(mn,e.__scopeMenu),o=ed(mn,e.__scopeMenu);return s.jsx(kc.Provider,{scope:e.__scopeMenu,children:s.jsx(Yt,{present:n||i.open,children:s.jsx(kc.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(m$,{...a,ref:t}):s.jsx(p$,{...a,ref:t})})})})}),m$=h.forwardRef((e,t)=>{const r=Bi(mn,e.__scopeMenu),n=h.useRef(null),a=We(t,n);return h.useEffect(()=>{const i=n.current;if(i)return Uf(i)},[]),s.jsx(Hv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),p$=h.forwardRef((e,t)=>{const r=Bi(mn,e.__scopeMenu);return s.jsx(Hv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),g$=Ea("MenuContent.ScrollLock"),Hv=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=Bi(mn,r),y=ed(mn,r),v=qf(r),b=$S(r),N=o$(r),[j,C]=h.useState(null),E=h.useRef(null),D=We(t,E,w.onContentChange),H=h.useRef(0),U=h.useRef(""),I=h.useRef(0),q=h.useRef(null),F=h.useRef("right"),P=h.useRef(0),_=x?Jc:h.Fragment,T=x?{as:g$,allowPinchZoom:!0}:void 0,ee=B=>{var te,R;const oe=U.current+B,me=N().filter(Z=>!Z.disabled),V=document.activeElement,A=(te=me.find(Z=>Z.ref.current===V))==null?void 0:te.textValue,X=me.map(Z=>Z.textValue),G=k$(X,oe,A),ie=(R=me.find(Z=>Z.textValue===G))==null?void 0:R.ref.current;(function Z(le){U.current=le,window.clearTimeout(H.current),le!==""&&(H.current=window.setTimeout(()=>Z(""),1e3))})(oe),ie&&setTimeout(()=>ie.focus())};h.useEffect(()=>()=>window.clearTimeout(H.current),[]),Ff();const W=h.useCallback(B=>{var me,V;return F.current===((me=q.current)==null?void 0:me.side)&&T$(B,(V=q.current)==null?void 0:V.area)},[]);return s.jsx(h$,{scope:r,searchRef:U,onItemEnter:h.useCallback(B=>{W(B)&&B.preventDefault()},[W]),onItemLeave:h.useCallback(B=>{var oe;W(B)||((oe=E.current)==null||oe.focus(),C(null))},[W]),onTriggerLeave:h.useCallback(B=>{W(B)&&B.preventDefault()},[W]),pointerGraceTimerRef:I,onPointerGraceIntentChange:h.useCallback(B=>{q.current=B},[]),children:s.jsx(_,{...T,children:s.jsx(Yc,{asChild:!0,trapped:a,onMountAutoFocus:we(i,B=>{var oe;B.preventDefault(),(oe=E.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(ES,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:C,onEntryFocus:we(c,B=>{y.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ef,{role:"menu","aria-orientation":"vertical","data-state":aC(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:we(g.onKeyDown,B=>{const me=B.target.closest("[data-radix-menu-content]")===B.currentTarget,V=B.ctrlKey||B.altKey||B.metaKey,A=B.key.length===1;me&&(B.key==="Tab"&&B.preventDefault(),!V&&A&&ee(B.key));const X=E.current;if(B.target!==X||!s$.includes(B.key))return;B.preventDefault();const ie=N().filter(te=>!te.disabled).map(te=>te.ref.current);LS.includes(B.key)&&ie.reverse(),C$(ie)}),onBlur:we(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(H.current),U.current="")}),onPointerMove:we(e.onPointerMove,Pc(B=>{const oe=B.target,me=P.current!==B.clientX;if(B.currentTarget.contains(oe)&&me){const V=B.clientX>P.current?"right":"left";F.current=V,P.current=B.clientX}}))})})})})})})});VS.displayName=mn;var v$="MenuGroup",Kv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(De.div,{role:"group",...n,ref:t})});Kv.displayName=v$;var y$="MenuLabel",zS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(De.div,{...n,ref:t})});zS.displayName=y$;var Hu="MenuItem",d0="menu.itemSelect",Vf=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=h.useRef(null),o=ed(Hu,e.__scopeMenu),l=Wv(Hu,e.__scopeMenu),c=We(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(d0,{bubbles:!0,cancelable:!0});f.addEventListener(d0,p=>n==null?void 0:n(p),{once:!0}),dv(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(WS,{...a,ref:c,disabled:r,onClick:we(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:we(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:we(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||eg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Vf.displayName=Hu;var WS=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Wv(Hu,r),l=$S(r),c=h.useRef(null),d=We(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),s.jsx(kc.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(kS,{asChild:!0,...l,focusable:!n,children:s.jsx(De.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:we(e.onPointerMove,Pc(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(e.onPointerLeave,Pc(x=>o.onItemLeave(x))),onFocus:we(e.onFocus,()=>f(!0)),onBlur:we(e.onBlur,()=>f(!1))})})})}),x$="MenuCheckboxItem",HS=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(XS,{scope:e.__scopeMenu,checked:r,children:s.jsx(Vf,{role:"menuitemcheckbox","aria-checked":Ku(r)?"mixed":r,...a,ref:t,"data-state":Gv(r),onSelect:we(a.onSelect,()=>n==null?void 0:n(Ku(r)?!0:!r),{checkForDefaultPrevented:!1})})})});HS.displayName=x$;var KS="MenuRadioGroup",[b$,w$]=Ui(KS,{value:void 0,onValueChange:()=>{}}),QS=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Tt(n);return s.jsx(b$,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(Kv,{...a,ref:t})})});QS.displayName=KS;var GS="MenuRadioItem",YS=h.forwardRef((e,t)=>{const{value:r,...n}=e,a=w$(GS,e.__scopeMenu),i=r===a.value;return s.jsx(XS,{scope:e.__scopeMenu,checked:i,children:s.jsx(Vf,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Gv(i),onSelect:we(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});YS.displayName=GS;var Qv="MenuItemIndicator",[XS,j$]=Ui(Qv,{checked:!1}),JS=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=j$(Qv,r);return s.jsx(Yt,{present:n||Ku(i.checked)||i.checked===!0,children:s.jsx(De.span,{...a,ref:t,"data-state":Gv(i.checked)})})});JS.displayName=Qv;var N$="MenuSeparator",ZS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ZS.displayName=N$;var _$="MenuArrow",eC=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=qf(r);return s.jsx(kf,{...a,...n,ref:t})});eC.displayName=_$;var S$="MenuSub",[xV,tC]=Ui(S$),$l="MenuSubTrigger",rC=h.forwardRef((e,t)=>{const r=Bi($l,e.__scopeMenu),n=ed($l,e.__scopeMenu),a=tC($l,e.__scopeMenu),i=Wv($l,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Vv,{asChild:!0,...d,children:s.jsx(WS,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":aC(r.open),...e,ref:Os(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:we(e.onPointerMove,Pc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:we(e.onPointerLeave,Pc(f=>{var p,x;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,v=m[w?"left":"right"],b=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:we(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||a$[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});rC.displayName=$l;var nC="MenuSubContent",sC=h.forwardRef((e,t)=>{const r=BS(mn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Bi(mn,e.__scopeMenu),o=ed(mn,e.__scopeMenu),l=tC(nC,e.__scopeMenu),c=h.useRef(null),d=We(t,c);return s.jsx(kc.Provider,{scope:e.__scopeMenu,children:s.jsx(Yt,{present:n||i.open,children:s.jsx(kc.Slot,{scope:e.__scopeMenu,children:s.jsx(Hv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:we(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:we(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:we(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=i$[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});sC.displayName=nC;function aC(e){return e?"open":"closed"}function Ku(e){return e==="indeterminate"}function Gv(e){return Ku(e)?"indeterminate":e?"checked":"unchecked"}function C$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function E$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function k$(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=E$(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function P$(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function T$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return P$(r,t)}function Pc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var R$=US,A$=Vv,I$=qS,O$=VS,D$=Kv,M$=zS,L$=Vf,F$=HS,$$=QS,U$=YS,B$=JS,q$=ZS,V$=eC,z$=rC,W$=sC,zf="DropdownMenu",[H$,bV]=wr(zf,[FS]),jr=FS(),[K$,iC]=H$(zf),oC=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=jr(t),d=h.useRef(null),[u,f]=Ds({prop:a,defaultProp:i??!1,onChange:o,caller:zf});return s.jsx(K$,{scope:t,triggerId:tr(),triggerRef:d,contentId:tr(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(R$,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};oC.displayName=zf;var lC="DropdownMenuTrigger",cC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=iC(lC,r),o=jr(r);return s.jsx(A$,{asChild:!0,...o,children:s.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Os(t,i.triggerRef),onPointerDown:we(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:we(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});cC.displayName=lC;var Q$="DropdownMenuPortal",dC=e=>{const{__scopeDropdownMenu:t,...r}=e,n=jr(t);return s.jsx(I$,{...n,...r})};dC.displayName=Q$;var uC="DropdownMenuContent",fC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=iC(uC,r),i=jr(r),o=h.useRef(!1);return s.jsx(O$,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:we(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:we(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fC.displayName=uC;var G$="DropdownMenuGroup",Y$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(D$,{...a,...n,ref:t})});Y$.displayName=G$;var X$="DropdownMenuLabel",hC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(M$,{...a,...n,ref:t})});hC.displayName=X$;var J$="DropdownMenuItem",mC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(L$,{...a,...n,ref:t})});mC.displayName=J$;var Z$="DropdownMenuCheckboxItem",pC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(F$,{...a,...n,ref:t})});pC.displayName=Z$;var e3="DropdownMenuRadioGroup",t3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx($$,{...a,...n,ref:t})});t3.displayName=e3;var r3="DropdownMenuRadioItem",gC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(U$,{...a,...n,ref:t})});gC.displayName=r3;var n3="DropdownMenuItemIndicator",vC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(B$,{...a,...n,ref:t})});vC.displayName=n3;var s3="DropdownMenuSeparator",yC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(q$,{...a,...n,ref:t})});yC.displayName=s3;var a3="DropdownMenuArrow",i3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(V$,{...a,...n,ref:t})});i3.displayName=a3;var o3="DropdownMenuSubTrigger",xC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(z$,{...a,...n,ref:t})});xC.displayName=o3;var l3="DropdownMenuSubContent",bC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jr(r);return s.jsx(W$,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bC.displayName=l3;var c3=oC,d3=cC,u3=dC,wC=fC,jC=hC,NC=mC,_C=pC,SC=gC,CC=vC,EC=yC,kC=xC,PC=bC;const f3=c3,h3=d3,m3=h.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(kC,{ref:a,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(LN,{className:"ml-auto h-4 w-4"})]}));m3.displayName=kC.displayName;const p3=h.forwardRef(({className:e,...t},r)=>s.jsx(PC,{ref:r,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));p3.displayName=PC.displayName;const TC=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(u3,{children:s.jsx(wC,{ref:n,sideOffset:t,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));TC.displayName=wC.displayName;const cu=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(NC,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));cu.displayName=NC.displayName;const g3=h.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(_C,{ref:a,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CC,{children:s.jsx(Ms,{className:"h-4 w-4"})})}),t]}));g3.displayName=_C.displayName;const v3=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(SC,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CC,{children:s.jsx(TR,{className:"h-2 w-2 fill-current"})})}),t]}));v3.displayName=SC.displayName;const RC=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(jC,{ref:n,className:Ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));RC.displayName=jC.displayName;const AC=h.forwardRef(({className:e,...t},r)=>s.jsx(EC,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));AC.displayName=EC.displayName;const IC=h.createContext(void 0);function y3({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[a,i]=h.useState(()=>localStorage.getItem(r)||t),[o,l]=h.useState(()=>{if(typeof window>"u")return"light";const d=localStorage.getItem(r)||t;return d==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d});h.useEffect(()=>{const d=window.document.documentElement;d.classList.remove("light","dark");let u;if(a==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u=f,d.classList.add(f)}else u=a,d.classList.add(a);l(u)},[a]),h.useEffect(()=>{if(a!=="system")return;const d=window.matchMedia("(prefers-color-scheme: dark)"),u=f=>{const m=window.document.documentElement;m.classList.remove("light","dark");const p=f.matches?"dark":"light";m.classList.add(p),l(p)};return d.addEventListener("change",u),()=>d.removeEventListener("change",u)},[a]);const c={theme:a,setTheme:d=>{localStorage.setItem(r,d),i(d)},resolvedTheme:o};return s.jsx(IC.Provider,{...n,value:c,children:e})}const x3=()=>{const e=h.useContext(IC);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},b3=()=>{const{theme:e,setTheme:t}=x3();return s.jsx("header",{className:"bg-government-dark text-white shadow-formal",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fn,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Semi-Expendable Property"}),s.jsx("p",{className:"text-sm text-white/80",children:"Inventory Management System"})]})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(f3,{children:[s.jsx(h3,{asChild:!0,children:s.jsx(ce,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:e==="light"?s.jsx(Zx,{className:"h-4 w-4"}):e==="dark"?s.jsx(Xx,{className:"h-4 w-4"}):s.jsx(Yx,{className:"h-4 w-4"})})}),s.jsxs(TC,{align:"end",children:[s.jsx(RC,{children:"Theme"}),s.jsx(AC,{}),s.jsxs(cu,{onClick:()=>t("light"),children:[s.jsx(Zx,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"}),e==="light"&&s.jsx("span",{className:"ml-auto",children:""})]}),s.jsxs(cu,{onClick:()=>t("dark"),children:[s.jsx(Xx,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"}),e==="dark"&&s.jsx("span",{className:"ml-auto",children:""})]}),s.jsxs(cu,{onClick:()=>t("system"),children:[s.jsx(Yx,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"System"}),e==="system"&&s.jsx("span",{className:"ml-auto",children:""})]})]})]})})]})})})},w3=[{name:"Dashboard",href:"/",icon:IR},{name:"Inventory",href:"/inventory",icon:Kr},{name:"Property Cards",href:"/property-cards",icon:fn},{name:"Custodian Slips",href:"/custodian-slips",icon:RR},{name:"Custodians",href:"/custodians",icon:vi},{name:"Transfers",href:"/transfers",icon:MN},{name:"Physical Count",href:"/physical-count",icon:su},{name:"Lookups",href:"/settings/lookups",icon:pp},{name:"Loss Reports",href:"/loss-reports",icon:bc},{name:"Reports",href:"/reports",icon:fn}],j3=()=>{const[e,t]=h.useState(!1),r=Un();return s.jsxs("div",{className:Ee("bg-card border-r border-border transition-all duration-300",e?"w-16":"w-64"),children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto",children:e?s.jsx(LN,{className:"h-4 w-4"}):s.jsx(ER,{className:"h-4 w-4"})})}),s.jsx("nav",{className:"p-4 space-y-2",children:w3.map(n=>{const a=n.icon,i=r.pathname===n.href;return s.jsxs(XF,{to:n.href,className:Ee("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[s.jsx(a,{className:"h-5 w-5"}),!e&&s.jsx("span",{className:"text-sm font-medium",children:n.name})]},n.name)})})]})},Ae=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ae.displayName="Card";const Ve=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const Ke=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ke.displayName="CardTitle";const OC=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));OC.displayName="CardDescription";const Ie=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const N3=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",e),...t}));N3.displayName="CardFooter";const _3=async()=>{const[{data:e,error:t},{data:r,error:n}]=await Promise.all([ne.from("inventory_items").select("id, total_cost, condition, status, assignment_status, custodian").range(0,499),ne.from("inventory_items").select("description, property_number, created_at, updated_at").order("updated_at",{ascending:!1}).limit(8)]);if(t)throw t;if(n)throw n;const a=(e==null?void 0:e.length)||0,i=(e||[]).reduce((p,x)=>p+(Number(x.total_cost)||0),0),o=(e||[]).filter(p=>p.status==="Active"&&p.condition==="Serviceable"),l={},c={};(e||[]).forEach(p=>{l[p.condition]=(l[p.condition]||0)+1,c[p.status]=(c[p.status]||0)+1});const d=o.filter(p=>p.assignment_status==="Assigned"||p.custodian&&p.custodian!=="").length,u=o.filter(p=>!p.assignment_status||p.assignment_status==="Available"||!p.custodian||p.custodian==="").length,f=(e||[]).filter(p=>p.condition==="Unserviceable").length,m=(r||[]).map(p=>({action:`Item ${p.property_number} updated`,user:"system",time:new Date(p.updated_at||p.created_at).toLocaleString()}));return{totalItems:a,totalValue:i,byCondition:l,byStatus:c,issuedItems:d,unissuedItems:u,unserviceableItems:f,recentActivity:m}},S3=()=>{const e=Bn();$n();const t=Li(),{data:r,isLoading:n,error:a}=Bt({queryKey:["dashboard-stats"],queryFn:_3,staleTime:2*60*1e3,gcTime:24*60*60*1e3,retry:(c,d)=>navigator.onLine?c<2:!1}),i=r||{totalItems:0,totalValue:0,byCondition:{},byStatus:{},issuedItems:0,unissuedItems:0,unserviceableItems:0,recentActivity:[]};h.useEffect(()=>{const c=ne.channel("realtime:dashboard-inventory").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing dashboard..."),t.invalidateQueries({queryKey:["dashboard-stats"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing dashboard..."),t.invalidateQueries({queryKey:["dashboard-stats"]})}).subscribe();return()=>{ne.removeChannel(c)}},[t]);const o=c=>{switch(c){case"Add New Item":e("/inventory");break;case"Generate Report":e("/reports");break;case"Process Transfer":e("/transfers");break;case"Physical Count":e("/physical-count");break}},l=c=>{switch(c){case"Serviceable":return"bg-green-500";case"For Repair":return"bg-yellow-500";case"Unserviceable":return"bg-red-600";case"Missing":return"bg-red-400";default:return"bg-gray-500"}};return n?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading dashboard..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Ae,{children:[s.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Total Items"}),s.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.totalItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:!navigator.onLine&&!r?"Offline - cached data":i.totalItems===0?"No items yet":"From database"})]})]}),s.jsxs(Ae,{children:[s.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Total Value"}),s.jsx(gp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",i.totalValue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:!navigator.onLine&&!r?"Offline - cached data":i.totalValue===0?"No value yet":"From database"})]})]}),s.jsxs(Ae,{children:[s.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Issued Items"}),s.jsx(vi,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.issuedItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.issuedItems===0?"No items issued yet":"Assigned to custodians"})]})]}),s.jsxs(Ae,{children:[s.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Available Items"}),s.jsx(Kr,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.unissuedItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.unissuedItems===0?"All items are issued":"Ready for assignment"})]})]})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(fn,{className:"h-5 w-5"}),s.jsx("span",{children:"Issued vs Unissued Items Summary"})]})}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{onClick:()=>e("/inventory?filter=issued"),className:"w-full flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 hover:border-green-300 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vi,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Issued Items"}),s.jsx("p",{className:"text-sm text-green-600",children:"Assigned to custodians"}),s.jsx("p",{className:"text-xs text-green-500 group-hover:text-green-700",children:"Click to view "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.issuedItems}),s.jsxs("div",{className:"text-sm text-green-600",children:[i.totalItems>0?Math.round(i.issuedItems/i.totalItems*100):0,"% of total"]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{onClick:()=>e("/inventory?filter=available"),className:"w-full flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kr,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Available Items"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Ready for assignment"}),s.jsx("p",{className:"text-xs text-blue-500 group-hover:text-blue-700",children:"Click to view "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.unissuedItems}),s.jsxs("div",{className:"text-sm text-blue-600",children:[i.totalItems>0?Math.round(i.unissuedItems/i.totalItems*100):0,"% of total"]})]})]})})]}),i.totalItems>0&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Distribution"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[i.totalItems," total items"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[s.jsx("div",{className:"bg-green-500",style:{width:`${i.totalItems>0?i.issuedItems/i.totalItems*100:0}%`},title:`${i.issuedItems} issued items`}),s.jsx("div",{className:"bg-blue-500",style:{width:`${i.totalItems>0?i.unissuedItems/i.totalItems*100:0}%`},title:`${i.unissuedItems} available items`}),i.unserviceableItems>0&&s.jsx("div",{className:"bg-red-600",style:{width:`${i.totalItems>0?i.unserviceableItems/i.totalItems*100:0}%`},title:`${i.unserviceableItems} unserviceable items`})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-600 flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsxs("span",{children:["Issued (",i.issuedItems,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsxs("span",{children:["Available (",i.unissuedItems,")"]})]}),i.unserviceableItems>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),s.jsxs("span",{children:["Unserviceable (",i.unserviceableItems,")"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Recent Activity"})}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-4",children:r.recentActivity.length>0?r.recentActivity.map((c,d)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:c.action}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",c.user,"  ",c.time]})]})]},d)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No recent activity"}),s.jsx("p",{className:"text-xs",children:"Add items to see activity here"})]})})})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Property Status Overview"})}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-4",children:Object.keys(r.byCondition).length>0?Object.entries(r.byCondition).map(([c,d])=>{const u=Object.values(r.byCondition).reduce((p,x)=>p+x,0),f=u>0?d/u*100:0,m=Math.max(f,5);return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:c}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 h-2 bg-muted rounded-full",children:s.jsx("div",{className:`h-2 rounded-full ${l(c)}`,style:{width:`${m}%`}})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:d})]})]},c)}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No property data"}),s.jsx("p",{className:"text-xs",children:"Add items to see status overview"})]})})})]})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Quick Actions"})}),s.jsx(Ie,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{title:"Add New Item",icon:Kr,description:"Register new property"},{title:"Generate Report",icon:fn,description:"Create inventory reports"},{title:"Process Transfer",icon:MN,description:"Handle property transfers"},{title:"Physical Count",icon:vi,description:"Conduct inventory count"}].map((c,d)=>{const u=c.icon;return s.jsxs("div",{onClick:()=>o(c.title),className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsx(u,{className:"h-6 w-6 text-primary mb-2"}),s.jsx("h3",{className:"font-medium text-sm",children:c.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.description})]},d)})})})]})]})},Te=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Te.displayName="Input";const gr=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ee("w-full caption-bottom text-sm",e),...t})}));gr.displayName="Table";const Lr=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ee("[&_tr]:border-b",e),...t}));Lr.displayName="TableHeader";const Fr=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ee("[&_tr:last-child]:border-0",e),...t}));Fr.displayName="TableBody";const C3=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));C3.displayName="TableFooter";const nt=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));nt.displayName="TableRow";const _e=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_e.displayName="TableHead";const ve=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ve.displayName="TableCell";const E3=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ee("mt-4 text-sm text-muted-foreground",e),...t}));E3.displayName="TableCaption";const k3=qc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return s.jsx("div",{className:Ee(k3({variant:t}),e),...r})}function tg(e,[t,r]){return Math.min(r,Math.max(t,e))}function DC(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var P3=[" ","Enter","ArrowUp","ArrowDown"],T3=[" ","Enter"],ki="Select",[Wf,Hf,R3]=bf(ki),[hl,wV]=wr(ki,[R3,Ma]),Kf=Ma(),[A3,Ua]=hl(ki),[I3,O3]=hl(ki),MC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:x}=e,g=Kf(t),[w,y]=h.useState(null),[v,b]=h.useState(null),[N,j]=h.useState(!1),C=Gc(d),[E,D]=Ds({prop:n,defaultProp:a??!1,onChange:i,caller:ki}),[H,U]=Ds({prop:o,defaultProp:l,onChange:c,caller:ki}),I=h.useRef(null),q=w?x||!!w.closest("form"):!0,[F,P]=h.useState(new Set),_=Array.from(F).map(T=>T.props.value).join(";");return s.jsx(Cv,{...g,children:s.jsxs(A3,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:tr(),value:H,onValueChange:U,open:E,onOpenChange:D,dir:C,triggerPointerDownPosRef:I,disabled:m,children:[s.jsx(Wf.Provider,{scope:t,children:s.jsx(I3,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(T=>{P(ee=>new Set(ee).add(T))},[]),onNativeOptionRemove:h.useCallback(T=>{P(ee=>{const W=new Set(ee);return W.delete(T),W})},[]),children:r})}),q?s.jsxs(i1,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:H,onChange:T=>U(T.target.value),disabled:m,form:x,children:[H===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},_):null]})})};MC.displayName=ki;var LC="SelectTrigger",FC=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Kf(r),o=Ua(LC,r),l=o.disabled||n,c=We(t,o.onTriggerChange),d=Hf(r),u=h.useRef("touch"),[f,m,p]=l1(g=>{const w=d().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=c1(w,g,y);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Wc,{asChild:!0,...i,children:s.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o1(o.value)?"":void 0,...a,ref:c,onClick:we(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:we(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:we(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&P3.includes(g.key)&&(x(),g.preventDefault())})})})});FC.displayName=LC;var $C="SelectValue",UC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ua($C,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=We(t,c.onValueNodeChange);return Gt(()=>{d(u)},[d,u]),s.jsx(De.span,{...l,ref:f,style:{pointerEvents:"none"},children:o1(c.value)?s.jsx(s.Fragment,{children:o}):i})});UC.displayName=$C;var D3="SelectIcon",BC=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(De.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});BC.displayName=D3;var M3="SelectPortal",qC=e=>s.jsx(al,{asChild:!0,...e});qC.displayName=M3;var Pi="SelectContent",VC=h.forwardRef((e,t)=>{const r=Ua(Pi,e.__scopeSelect),[n,a]=h.useState();if(Gt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Di.createPortal(s.jsx(zC,{scope:e.__scopeSelect,children:s.jsx(Wf.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(WC,{...e,ref:t})});VC.displayName=Pi;var _n=10,[zC,Ba]=hl(Pi),L3="SelectContentImpl",F3=Ea("SelectContent.RemoveScroll"),WC=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=Ua(Pi,r),[b,N]=h.useState(null),[j,C]=h.useState(null),E=We(t,te=>N(te)),[D,H]=h.useState(null),[U,I]=h.useState(null),q=Hf(r),[F,P]=h.useState(!1),_=h.useRef(!1);h.useEffect(()=>{if(b)return Uf(b)},[b]),Ff();const T=h.useCallback(te=>{const[R,...Z]=q().map(Pe=>Pe.ref.current),[le]=Z.slice(-1),ae=document.activeElement;for(const Pe of te)if(Pe===ae||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===R&&j&&(j.scrollTop=0),Pe===le&&j&&(j.scrollTop=j.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==ae))return},[q,j]),ee=h.useCallback(()=>T([D,b]),[T,D,b]);h.useEffect(()=>{F&&ee()},[F,ee]);const{onOpenChange:W,triggerPointerDownPosRef:B}=v;h.useEffect(()=>{if(b){let te={x:0,y:0};const R=le=>{var ae,Pe;te={x:Math.abs(Math.round(le.pageX)-(((ae=B.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Pe=B.current)==null?void 0:Pe.y)??0))}},Z=le=>{te.x<=10&&te.y<=10?le.preventDefault():b.contains(le.target)||W(!1),document.removeEventListener("pointermove",R),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",Z,{capture:!0})}}},[b,W,B]),h.useEffect(()=>{const te=()=>W(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[W]);const[oe,me]=l1(te=>{const R=q().filter(ae=>!ae.disabled),Z=R.find(ae=>ae.ref.current===document.activeElement),le=c1(R,te,Z);le&&setTimeout(()=>le.ref.current.focus())}),V=h.useCallback((te,R,Z)=>{const le=!_.current&&!Z;(v.value!==void 0&&v.value===R||le)&&(H(te),le&&(_.current=!0))},[v.value]),A=h.useCallback(()=>b==null?void 0:b.focus(),[b]),X=h.useCallback((te,R,Z)=>{const le=!_.current&&!Z;(v.value!==void 0&&v.value===R||le)&&I(te)},[v.value]),G=n==="popper"?rg:HC,ie=G===rg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(zC,{scope:r,content:b,viewport:j,onViewportChange:C,itemRefCallback:V,selectedItem:D,onItemLeave:A,itemTextRefCallback:X,focusSelectedItem:ee,selectedItemText:U,position:n,isPositioned:F,searchRef:oe,children:s.jsx(Jc,{as:F3,allowPinchZoom:!0,children:s.jsx(Yc,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:we(a,te=>{var R;(R=v.trigger)==null||R.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(G,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...y,...ie,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:we(y.onKeyDown,te=>{const R=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!R&&te.key.length===1&&me(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let le=q().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(te.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ae=te.target,Pe=le.indexOf(ae);le=le.slice(Pe+1)}setTimeout(()=>T(le)),te.preventDefault()}})})})})})})});WC.displayName=L3;var $3="SelectItemAlignedPosition",HC=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ua(Pi,r),o=Ba(Pi,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=We(t,E=>u(E)),m=Hf(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&y){const E=i.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),H=i.valueNode.getBoundingClientRect(),U=y.getBoundingClientRect();if(i.dir!=="rtl"){const ae=U.left-D.left,Pe=H.left-ae,Ue=E.left-Pe,Q=E.width+Ue,M=Math.max(Q,D.width),se=window.innerWidth-_n,Le=tg(Pe,[_n,Math.max(_n,se-M)]);l.style.minWidth=Q+"px",l.style.left=Le+"px"}else{const ae=D.right-U.right,Pe=window.innerWidth-H.right-ae,Ue=window.innerWidth-E.right-Pe,Q=E.width+Ue,M=Math.max(Q,D.width),se=window.innerWidth-_n,Le=tg(Pe,[_n,Math.max(_n,se-M)]);l.style.minWidth=Q+"px",l.style.right=Le+"px"}const I=m(),q=window.innerHeight-_n*2,F=g.scrollHeight,P=window.getComputedStyle(d),_=parseInt(P.borderTopWidth,10),T=parseInt(P.paddingTop,10),ee=parseInt(P.borderBottomWidth,10),W=parseInt(P.paddingBottom,10),B=_+T+F+W+ee,oe=Math.min(w.offsetHeight*5,B),me=window.getComputedStyle(g),V=parseInt(me.paddingTop,10),A=parseInt(me.paddingBottom,10),X=E.top+E.height/2-_n,G=q-X,ie=w.offsetHeight/2,te=w.offsetTop+ie,R=_+T+te,Z=B-R;if(R<=X){const ae=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const Pe=d.clientHeight-g.offsetTop-g.offsetHeight,Ue=Math.max(G,ie+(ae?A:0)+Pe+ee),Q=R+Ue;l.style.height=Q+"px"}else{const ae=I.length>0&&w===I[0].ref.current;l.style.top="0px";const Ue=Math.max(X,_+g.offsetTop+(ae?V:0)+ie)+Z;l.style.height=Ue+"px",g.scrollTop=R-X+g.offsetTop}l.style.margin=`${_n}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,y,i.dir,n]);Gt(()=>b(),[b]);const[N,j]=h.useState();Gt(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const C=h.useCallback(E=>{E&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return s.jsx(B3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(De.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});HC.displayName=$3;var U3="SelectPopperPosition",rg=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_n,...i}=e,o=Kf(r);return s.jsx(Ef,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rg.displayName=U3;var[B3,Yv]=hl(Pi,{}),ng="SelectViewport",KC=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ba(ng,r),o=Yv(ng,r),l=We(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Wf.Slot,{scope:r,children:s.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-_n*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<x){const v=y+p,b=Math.min(x,v),N=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});KC.displayName=ng;var QC="SelectGroup",[q3,V3]=hl(QC),z3=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tr();return s.jsx(q3,{scope:r,id:a,children:s.jsx(De.div,{role:"group","aria-labelledby":a,...n,ref:t})})});z3.displayName=QC;var GC="SelectLabel",YC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=V3(GC,r);return s.jsx(De.div,{id:a.id,...n,ref:t})});YC.displayName=GC;var Qu="SelectItem",[W3,XC]=hl(Qu),JC=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ua(Qu,r),c=Ba(Qu,r),d=l.value===n,[u,f]=h.useState(i??""),[m,p]=h.useState(!1),x=We(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,a)}),g=tr(),w=h.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(W3,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(Wf.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(De.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:we(o.onFocus,()=>p(!0)),onBlur:we(o.onBlur,()=>p(!1)),onClick:we(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:we(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:we(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:we(o.onPointerMove,v=>{var b;w.current=v.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:we(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(T3.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});JC.displayName=Qu;var Ul="SelectItemText",ZC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ua(Ul,r),l=Ba(Ul,r),c=XC(Ul,r),d=O3(Ul,r),[u,f]=h.useState(null),m=We(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return Gt(()=>(g(x),()=>w(x)),[g,w,x]),s.jsxs(s.Fragment,{children:[s.jsx(De.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Di.createPortal(i.children,o.valueNode):null]})});ZC.displayName=Ul;var e1="SelectItemIndicator",t1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return XC(e1,r).isSelected?s.jsx(De.span,{"aria-hidden":!0,...n,ref:t}):null});t1.displayName=e1;var sg="SelectScrollUpButton",r1=h.forwardRef((e,t)=>{const r=Ba(sg,e.__scopeSelect),n=Yv(sg,e.__scopeSelect),[a,i]=h.useState(!1),o=We(t,n.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(s1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});r1.displayName=sg;var ag="SelectScrollDownButton",n1=h.forwardRef((e,t)=>{const r=Ba(ag,e.__scopeSelect),n=Yv(ag,e.__scopeSelect),[a,i]=h.useState(!1),o=We(t,n.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(s1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});n1.displayName=ag;var s1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ba("SelectScrollButton",r),o=h.useRef(null),l=Hf(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Gt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(De.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:we(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:we(a.onPointerLeave,()=>{c()})})}),H3="SelectSeparator",a1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(De.div,{"aria-hidden":!0,...n,ref:t})});a1.displayName=H3;var ig="SelectArrow",K3=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Kf(r),i=Ua(ig,r),o=Ba(ig,r);return i.open&&o.position==="popper"?s.jsx(kf,{...a,...n,ref:t}):null});K3.displayName=ig;var Q3="SelectBubbleInput",i1=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=h.useRef(null),i=We(n,a),o=DC(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(De.select,{...r,style:{...fN,...r.style},ref:i,defaultValue:t})});i1.displayName=Q3;function o1(e){return e===""||e===void 0}function l1(e){const t=Tt(e),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function c1(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=G3(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function G3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Y3=MC,d1=FC,X3=UC,J3=BC,Z3=qC,u1=VC,eU=KC,f1=YC,h1=JC,tU=ZC,rU=t1,m1=r1,p1=n1,g1=a1;const wt=Y3,jt=X3,gt=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(d1,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(J3,{asChild:!0,children:s.jsx(Nf,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=d1.displayName;const v1=h.forwardRef(({className:e,...t},r)=>s.jsx(m1,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(kR,{className:"h-4 w-4"})}));v1.displayName=m1.displayName;const y1=h.forwardRef(({className:e,...t},r)=>s.jsx(p1,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Nf,{className:"h-4 w-4"})}));y1.displayName=p1.displayName;const vt=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Z3,{children:s.jsxs(u1,{ref:a,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(v1,{}),s.jsx(eU,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(y1,{})]})}));vt.displayName=u1.displayName;const nU=h.forwardRef(({className:e,...t},r)=>s.jsx(f1,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));nU.displayName=f1.displayName;const be=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(h1,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(rU,{children:s.jsx(Ms,{className:"h-4 w-4"})})}),s.jsx(tU,{children:t})]}));be.displayName=h1.displayName;const sU=h.forwardRef(({className:e,...t},r)=>s.jsx(g1,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));sU.displayName=g1.displayName;var Qf="Dialog",[x1,b1]=wr(Qf),[aU,qn]=x1(Qf),w1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=Ds({prop:n,defaultProp:a??!1,onChange:i,caller:Qf});return s.jsx(aU,{scope:t,triggerRef:l,contentRef:c,contentId:tr(),titleId:tr(),descriptionId:tr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};w1.displayName=Qf;var j1="DialogTrigger",N1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(j1,r),i=We(t,a.triggerRef);return s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zv(a.open),...n,ref:i,onClick:we(e.onClick,a.onOpenToggle)})});N1.displayName=j1;var Xv="DialogPortal",[iU,_1]=x1(Xv,{forceMount:void 0}),S1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=qn(Xv,t);return s.jsx(iU,{scope:t,forceMount:r,children:h.Children.map(n,o=>s.jsx(Yt,{present:r||i.open,children:s.jsx(al,{asChild:!0,container:a,children:o})}))})};S1.displayName=Xv;var Gu="DialogOverlay",C1=h.forwardRef((e,t)=>{const r=_1(Gu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=qn(Gu,e.__scopeDialog);return i.modal?s.jsx(Yt,{present:n||i.open,children:s.jsx(lU,{...a,ref:t})}):null});C1.displayName=Gu;var oU=Ea("DialogOverlay.RemoveScroll"),lU=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(Gu,r);return s.jsx(Jc,{as:oU,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(De.div,{"data-state":Zv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ti="DialogContent",E1=h.forwardRef((e,t)=>{const r=_1(Ti,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=qn(Ti,e.__scopeDialog);return s.jsx(Yt,{present:n||i.open,children:i.modal?s.jsx(cU,{...a,ref:t}):s.jsx(dU,{...a,ref:t})})});E1.displayName=Ti;var cU=h.forwardRef((e,t)=>{const r=qn(Ti,e.__scopeDialog),n=h.useRef(null),a=We(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Uf(i)},[]),s.jsx(k1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault())})}),dU=h.forwardRef((e,t)=>{const r=qn(Ti,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(k1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),k1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=qn(Ti,r),c=h.useRef(null),d=We(t,c);return Ff(),s.jsxs(s.Fragment,{children:[s.jsx(Yc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(fU,{titleId:l.titleId}),s.jsx(mU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Jv="DialogTitle",P1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(Jv,r);return s.jsx(De.h2,{id:a.titleId,...n,ref:t})});P1.displayName=Jv;var T1="DialogDescription",R1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(T1,r);return s.jsx(De.p,{id:a.descriptionId,...n,ref:t})});R1.displayName=T1;var A1="DialogClose",I1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=qn(A1,r);return s.jsx(De.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});I1.displayName=A1;function Zv(e){return e?"open":"closed"}var O1="DialogTitleWarning",[uU,D1]=I2(O1,{contentName:Ti,titleName:Jv,docsSlug:"dialog"}),fU=({titleId:e})=>{const t=D1(O1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},hU="DialogDescriptionWarning",mU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D1(hU).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ey=w1,M1=N1,ty=S1,Gf=C1,Yf=E1,ry=P1,ny=R1,sy=I1;const Qr=ey,pU=M1,gU=ty,L1=h.forwardRef(({className:e,...t},r)=>s.jsx(Gf,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L1.displayName=Gf.displayName;const Ir=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gU,{children:[s.jsx(L1,{}),s.jsxs(Yf,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(sy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx($N,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ir.displayName=Yf.displayName;const Xr=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xr.displayName="DialogHeader";const F1=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});F1.displayName="DialogFooter";const Jr=h.forwardRef(({className:e,...t},r)=>s.jsx(ry,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Jr.displayName=ry.displayName;const ls=h.forwardRef(({className:e,...t},r)=>s.jsx(ny,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));ls.displayName=ny.displayName;var vU="Label",$1=h.forwardRef((e,t)=>s.jsx(De.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$1.displayName=vU;var U1=$1;const yU=qc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=h.forwardRef(({className:e,...t},r)=>s.jsx(U1,{ref:r,className:Ee(yU(),e),...t}));ue.displayName=U1.displayName;var Xf="Tabs",[xU,jV]=wr(Xf,[$f]),B1=$f(),[bU,ay]=xU(Xf),q1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Gc(l),[f,m]=Ds({prop:n,onChange:a,defaultProp:i??"",caller:Xf});return s.jsx(bU,{scope:r,baseId:tr(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(De.div,{dir:u,"data-orientation":o,...d,ref:t})})});q1.displayName=Xf;var V1="TabsList",z1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ay(V1,r),o=B1(r);return s.jsx(ES,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});z1.displayName=V1;var W1="TabsTrigger",H1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ay(W1,r),l=B1(r),c=G1(o.baseId,n),d=Y1(o.baseId,n),u=n===o.value;return s.jsx(kS,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(De.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:we(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:we(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:we(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});H1.displayName=W1;var K1="TabsContent",Q1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=ay(K1,r),c=G1(l.baseId,n),d=Y1(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Yt,{present:a||u,children:({present:m})=>s.jsx(De.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Q1.displayName=K1;function G1(e,t){return`${e}-trigger-${t}`}function Y1(e,t){return`${e}-content-${t}`}var wU=q1,X1=z1,J1=H1,Z1=Q1;const Jf=wU,td=h.forwardRef(({className:e,...t},r)=>s.jsx(X1,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));td.displayName=X1.displayName;const cn=h.forwardRef(({className:e,...t},r)=>s.jsx(J1,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));cn.displayName=J1.displayName;const dn=h.forwardRef(({className:e,...t},r)=>s.jsx(Z1,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dn.displayName=Z1.displayName;const xi=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));xi.displayName="Textarea";var Zf="Popover",[eE,NV]=wr(Zf,[Ma]),rd=Ma(),[jU,qa]=eE(Zf),tE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=rd(t),c=h.useRef(null),[d,u]=h.useState(!1),[f,m]=Ds({prop:n,defaultProp:a??!1,onChange:i,caller:Zf});return s.jsx(Cv,{...l,children:s.jsx(jU,{scope:t,contentId:tr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:o,children:r})})};tE.displayName=Zf;var rE="PopoverAnchor",NU=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=qa(rE,r),i=rd(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Wc,{...i,...n,ref:t})});NU.displayName=rE;var nE="PopoverTrigger",sE=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=qa(nE,r),i=rd(r),o=We(t,a.triggerRef),l=s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cE(a.open),...n,ref:o,onClick:we(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Wc,{asChild:!0,...i,children:l})});sE.displayName=nE;var iy="PopoverPortal",[_U,SU]=eE(iy,{forceMount:void 0}),aE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=qa(iy,t);return s.jsx(_U,{scope:t,forceMount:r,children:s.jsx(Yt,{present:r||i.open,children:s.jsx(al,{asChild:!0,container:a,children:n})})})};aE.displayName=iy;var el="PopoverContent",iE=h.forwardRef((e,t)=>{const r=SU(el,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=qa(el,e.__scopePopover);return s.jsx(Yt,{present:n||i.open,children:i.modal?s.jsx(EU,{...a,ref:t}):s.jsx(kU,{...a,ref:t})})});iE.displayName=el;var CU=Ea("PopoverContent.RemoveScroll"),EU=h.forwardRef((e,t)=>{const r=qa(el,e.__scopePopover),n=h.useRef(null),a=We(t,n),i=h.useRef(!1);return h.useEffect(()=>{const o=n.current;if(o)return Uf(o)},[]),s.jsx(Jc,{as:CU,allowPinchZoom:!0,children:s.jsx(oE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:we(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),kU=h.forwardRef((e,t)=>{const r=qa(el,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(oE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),oE=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=qa(el,r),p=rd(r);return Ff(),s.jsx(Yc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Ef,{"data-state":cE(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lE="PopoverClose",PU=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=qa(lE,r);return s.jsx(De.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});PU.displayName=lE;var TU="PopoverArrow",RU=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=rd(r);return s.jsx(kf,{...a,...n,ref:t})});RU.displayName=TU;function cE(e){return e?"open":"closed"}var AU=tE,IU=sE,OU=aE,dE=iE;const uE=AU,fE=IU,oy=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(OU,{children:s.jsx(dE,{ref:a,align:t,sideOffset:r,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));oy.displayName=dE.displayName;var u0=1,DU=.9,MU=.8,LU=.17,cm=.1,dm=.999,FU=.9999,$U=.99,UU=/[\\\/_+.#"@\[\(\{&]/,BU=/[\\\/_+.#"@\[\(\{&]/g,qU=/[\s-]/,hE=/[\s-]/g;function og(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?u0:$U;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,f,m,p,x;d>=0;)f=og(e,t,r,n,d+1,i+1,o),f>u&&(d===a?f*=u0:UU.test(e.charAt(d-1))?(f*=MU,p=e.slice(a,d-1).match(BU),p&&a>0&&(f*=Math.pow(dm,p.length))):qU.test(e.charAt(d-1))?(f*=DU,x=e.slice(a,d-1).match(hE),x&&a>0&&(f*=Math.pow(dm,x.length))):(f*=LU,a>0&&(f*=Math.pow(dm,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=FU)),(f<cm&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=og(e,t,r,n,d+1,i+2,o),m*cm>f&&(f=m*cm)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function f0(e){return e.toLowerCase().replace(hE," ")}function VU(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,og(e,t,f0(e),f0(t),0,0,{})}var kl='[cmdk-group=""]',um='[cmdk-group-items=""]',zU='[cmdk-group-heading=""]',mE='[cmdk-item=""]',h0=`${mE}:not([aria-disabled="true"])`,lg="cmdk-item-select",no="data-value",WU=(e,t,r)=>VU(e,t,r),pE=h.createContext(void 0),nd=()=>h.useContext(pE),gE=h.createContext(void 0),ly=()=>h.useContext(gE),vE=h.createContext(void 0),yE=h.forwardRef((e,t)=>{let r=so(()=>{var V,A;return{search:"",value:(A=(V=e.value)!=null?V:e.defaultValue)!=null?A:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=so(()=>new Set),a=so(()=>new Map),i=so(()=>new Map),o=so(()=>new Set),l=xE(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:w=!0,...y}=e,v=tr(),b=tr(),N=tr(),j=h.useRef(null),C=r5();Ri(()=>{if(u!==void 0){let V=u.trim();r.current.value=V,E.emit()}},[u]),Ri(()=>{C(6,F)},[]);let E=h.useMemo(()=>({subscribe:V=>(o.current.add(V),()=>o.current.delete(V)),snapshot:()=>r.current,setState:(V,A,X)=>{var G,ie,te,R;if(!Object.is(r.current[V],A)){if(r.current[V]=A,V==="search")q(),U(),C(1,I);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(N);Z?Z.focus():(G=document.getElementById(v))==null||G.focus()}if(C(7,()=>{var Z;r.current.selectedItemId=(Z=P())==null?void 0:Z.id,E.emit()}),X||C(5,F),((ie=l.current)==null?void 0:ie.value)!==void 0){let Z=A??"";(R=(te=l.current).onValueChange)==null||R.call(te,Z);return}}E.emit()}},emit:()=>{o.current.forEach(V=>V())}}),[]),D=h.useMemo(()=>({value:(V,A,X)=>{var G;A!==((G=i.current.get(V))==null?void 0:G.value)&&(i.current.set(V,{value:A,keywords:X}),r.current.filtered.items.set(V,H(A,X)),C(2,()=>{U(),E.emit()}))},item:(V,A)=>(n.current.add(V),A&&(a.current.has(A)?a.current.get(A).add(V):a.current.set(A,new Set([V]))),C(3,()=>{q(),U(),r.current.value||I(),E.emit()}),()=>{i.current.delete(V),n.current.delete(V),r.current.filtered.items.delete(V);let X=P();C(4,()=>{q(),(X==null?void 0:X.getAttribute("id"))===V&&I(),E.emit()})}),group:V=>(a.current.has(V)||a.current.set(V,new Set),()=>{i.current.delete(V),a.current.delete(V)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:N,labelId:b,listInnerRef:j}),[]);function H(V,A){var X,G;let ie=(G=(X=l.current)==null?void 0:X.filter)!=null?G:WU;return V?ie(V,r.current.search,A):0}function U(){if(!r.current.search||l.current.shouldFilter===!1)return;let V=r.current.filtered.items,A=[];r.current.filtered.groups.forEach(G=>{let ie=a.current.get(G),te=0;ie.forEach(R=>{let Z=V.get(R);te=Math.max(Z,te)}),A.push([G,te])});let X=j.current;_().sort((G,ie)=>{var te,R;let Z=G.getAttribute("id"),le=ie.getAttribute("id");return((te=V.get(le))!=null?te:0)-((R=V.get(Z))!=null?R:0)}).forEach(G=>{let ie=G.closest(um);ie?ie.appendChild(G.parentElement===ie?G:G.closest(`${um} > *`)):X.appendChild(G.parentElement===X?G:G.closest(`${um} > *`))}),A.sort((G,ie)=>ie[1]-G[1]).forEach(G=>{var ie;let te=(ie=j.current)==null?void 0:ie.querySelector(`${kl}[${no}="${encodeURIComponent(G[0])}"]`);te==null||te.parentElement.appendChild(te)})}function I(){let V=_().find(X=>X.getAttribute("aria-disabled")!=="true"),A=V==null?void 0:V.getAttribute(no);E.setState("value",A||void 0)}function q(){var V,A,X,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let te of n.current){let R=(A=(V=i.current.get(te))==null?void 0:V.value)!=null?A:"",Z=(G=(X=i.current.get(te))==null?void 0:X.keywords)!=null?G:[],le=H(R,Z);r.current.filtered.items.set(te,le),le>0&&ie++}for(let[te,R]of a.current)for(let Z of R)if(r.current.filtered.items.get(Z)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=ie}function F(){var V,A,X;let G=P();G&&(((V=G.parentElement)==null?void 0:V.firstChild)===G&&((X=(A=G.closest(kl))==null?void 0:A.querySelector(zU))==null||X.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function P(){var V;return(V=j.current)==null?void 0:V.querySelector(`${mE}[aria-selected="true"]`)}function _(){var V;return Array.from(((V=j.current)==null?void 0:V.querySelectorAll(h0))||[])}function T(V){let A=_()[V];A&&E.setState("value",A.getAttribute(no))}function ee(V){var A;let X=P(),G=_(),ie=G.findIndex(R=>R===X),te=G[ie+V];(A=l.current)!=null&&A.loop&&(te=ie+V<0?G[G.length-1]:ie+V===G.length?G[0]:G[ie+V]),te&&E.setState("value",te.getAttribute(no))}function W(V){let A=P(),X=A==null?void 0:A.closest(kl),G;for(;X&&!G;)X=V>0?e5(X,kl):t5(X,kl),G=X==null?void 0:X.querySelector(h0);G?E.setState("value",G.getAttribute(no)):ee(V)}let B=()=>T(_().length-1),oe=V=>{V.preventDefault(),V.metaKey?B():V.altKey?W(1):ee(1)},me=V=>{V.preventDefault(),V.metaKey?T(0):V.altKey?W(-1):ee(-1)};return h.createElement(De.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:V=>{var A;(A=y.onKeyDown)==null||A.call(y,V);let X=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||X))switch(V.key){case"n":case"j":{w&&V.ctrlKey&&oe(V);break}case"ArrowDown":{oe(V);break}case"p":case"k":{w&&V.ctrlKey&&me(V);break}case"ArrowUp":{me(V);break}case"Home":{V.preventDefault(),T(0);break}case"End":{V.preventDefault(),B();break}case"Enter":{V.preventDefault();let G=P();if(G){let ie=new Event(lg);G.dispatchEvent(ie)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:s5},c),eh(e,V=>h.createElement(gE.Provider,{value:E},h.createElement(pE.Provider,{value:D},V))))}),HU=h.forwardRef((e,t)=>{var r,n;let a=tr(),i=h.useRef(null),o=h.useContext(vE),l=nd(),c=xE(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Ri(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=bE(a,i,[e.value,e.children,i],e.keywords),f=ly(),m=Aa(C=>C.value&&C.value===u.current),p=Aa(C=>d||l.filter()===!1?!0:C.search?C.filtered.items.get(a)>0:!0);h.useEffect(()=>{let C=i.current;if(!(!C||e.disabled))return C.addEventListener(lg,x),()=>C.removeEventListener(lg,x)},[p,e.onSelect,e.disabled]);function x(){var C,E;g(),(E=(C=c.current).onSelect)==null||E.call(C,u.current)}function g(){f.setState("value",u.current,!0)}if(!p)return null;let{disabled:w,value:y,onSelect:v,forceMount:b,keywords:N,...j}=e;return h.createElement(De.div,{ref:Os(i,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||l.getDisablePointerSelection()?void 0:g,onClick:w?void 0:x},e.children)}),KU=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=tr(),l=h.useRef(null),c=h.useRef(null),d=tr(),u=nd(),f=Aa(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Ri(()=>u.group(o),[]),bE(o,l,[e.value,e.heading,c]);let m=h.useMemo(()=>({id:o,forceMount:a}),[a]);return h.createElement(De.div,{ref:Os(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),eh(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(vE.Provider,{value:m},p))))}),QU=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=h.useRef(null),i=Aa(o=>!o.search);return!r&&!i?null:h.createElement(De.div,{ref:Os(a,t),...n,"cmdk-separator":"",role:"separator"})}),GU=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=ly(),o=Aa(d=>d.search),l=Aa(d=>d.selectedItemId),c=nd();return h.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),h.createElement(De.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),YU=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=h.useRef(null),o=h.useRef(null),l=Aa(d=>d.selectedItemId),c=nd();return h.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(f),m.unobserve(d)}}},[]),h.createElement(De.div,{ref:Os(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},eh(e,d=>h.createElement("div",{ref:Os(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),XU=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return h.createElement(ey,{open:r,onOpenChange:n},h.createElement(ty,{container:o},h.createElement(Gf,{"cmdk-overlay":"",className:a}),h.createElement(Yf,{"aria-label":e.label,"cmdk-dialog":"",className:i},h.createElement(yE,{ref:t,...l}))))}),JU=h.forwardRef((e,t)=>Aa(r=>r.filtered.count===0)?h.createElement(De.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),ZU=h.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return h.createElement(De.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},eh(e,o=>h.createElement("div",{"aria-hidden":!0},o)))}),$r=Object.assign(yE,{List:YU,Item:HU,Input:GU,Group:KU,Separator:QU,Dialog:XU,Empty:JU,Loading:ZU});function e5(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function t5(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function xE(e){let t=h.useRef(e);return Ri(()=>{t.current=e}),t}var Ri=typeof window>"u"?h.useEffect:h.useLayoutEffect;function so(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Aa(e){let t=ly(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function bE(e,t,r,n=[]){let a=h.useRef(),i=nd();return Ri(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(no,l),a.current=l}),a}var r5=()=>{let[e,t]=h.useState(),r=so(()=>new Map);return Ri(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function n5(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function eh({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(n5(t),{ref:t.ref},r(t.props.children)):r(t)}var s5={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const cy=h.forwardRef(({className:e,...t},r)=>s.jsx($r,{ref:r,className:Ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));cy.displayName=$r.displayName;const dy=h.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Mn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx($r.Input,{ref:r,className:Ee("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));dy.displayName=$r.Input.displayName;const uy=h.forwardRef(({className:e,...t},r)=>s.jsx($r.List,{ref:r,className:Ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));uy.displayName=$r.List.displayName;const fy=h.forwardRef((e,t)=>s.jsx($r.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));fy.displayName=$r.Empty.displayName;const hy=h.forwardRef(({className:e,...t},r)=>s.jsx($r.Group,{ref:r,className:Ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hy.displayName=$r.Group.displayName;const a5=h.forwardRef(({className:e,...t},r)=>s.jsx($r.Separator,{ref:r,className:Ee("-mx-1 h-px bg-border",e),...t}));a5.displayName=$r.Separator.displayName;const my=h.forwardRef(({className:e,...t},r)=>s.jsx($r.Item,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));my.displayName=$r.Item.displayName;const Pr={async getSuppliers(){try{const{data:e,error:t}=await ne.from("suppliers").select("id, name").eq("is_active",!0).order("name");return t?(console.error("Error fetching suppliers:",t),[]):e||[]}catch(e){return console.error("Network error fetching suppliers:",e),[]}},async getCustodians(){try{const{data:e,error:t}=await ne.from("custodians").select("id, name, custodian_no").order("name");return t?(console.error("Error fetching custodians:",t),[]):(e||[]).map(r=>({id:r.id,name:r.name,code:r.custodian_no}))}catch(e){return console.error("Network error fetching custodians:",e),[]}},async getFundSources(){const{data:e,error:t}=await ne.from("fund_sources").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching fund sources:",t),[]):e||[]},async getUsers(){const{data:e,error:t}=await ne.from("user_profiles").select("id, full_name").eq("is_active",!0).order("full_name");return t?(console.error("Error fetching users:",t),[]):e||[]},async getDepartments(){const{data:e,error:t}=await ne.from("departments").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching departments:",t),[]):e||[]},async getSemiExpandableCategories(){const{data:e,error:t}=await ne.from("semi_expandable_categories").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching semi expandable categories:",t),[]):e||[]},async create(e,t){var l;const r={name:t.name},n=(l=t.code)==null?void 0:l.trim();if(e==="fund_sources"){if(!n)throw new Error("Code is required for fund sources");r.code=n}else if(e==="departments"||e==="semi_expandable_categories")n&&(r.code=n);else if(e==="custodians"){let c=n;if(!c){const{data:p,error:x}=await ne.from("custodians").select("custodian_no").order("custodian_no",{ascending:!1}).limit(50);if(!x&&p){const g=p.map(y=>String(y.custodian_no||"").trim()).map(y=>y.match(/\d+/)?parseInt(y.match(/\d+/)[0],10):NaN).filter(y=>Number.isFinite(y)),w=g.length?Math.max(...g)+1:1;c=String(w).padStart(4,"0")}else c="0001"}const u=`CUST-${(c.match(/\d+/)?c.match(/\d+/)[0]:c).padStart(4,"0")}`,{data:f,error:m}=await ne.from("custodians").select("id").in("custodian_no",[c,u]).limit(1);if(!m&&f&&f.length>0)throw new Error("Custodian number already exists. Please use a different number.");r.custodian_no=u}const a=e==="fund_sources"||e==="departments"||e==="semi_expandable_categories"?"id, name, code":e==="custodians"?"id, name, custodian_no":"id, name",{data:i,error:o}=await ne.from(e).insert(r).select(a).single();if(o)throw o.code==="23505"?e==="custodians"?new Error("Custodian number already exists. Please use a different number."):new Error("A record with this code already exists. Please use a different code."):o.code==="23502"&&e==="departments"?new Error("Department code is optional, but your database still requires it. Please run database/make-department-code-optional.sql in Supabase."):o;return e==="custodians"?{id:i.id,name:i.name,code:i.custodian_no}:i},async update(e,t,r){var c;const n={};r.name!==void 0&&(n.name=r.name);const a=(c=r.code)==null?void 0:c.trim();if(e==="fund_sources"||e==="departments"||e==="semi_expandable_categories")r.code!==void 0&&(n.code=a??null);else if(e==="custodians"&&r.code!==void 0)if(a){const d=(a.match(/\d+/)?a.match(/\d+/)[0]:a).padStart(4,"0");n.custodian_no=`CUST-${d}`}else n.custodian_no=null;const i=e==="fund_sources"||e==="departments"||e==="semi_expandable_categories"?"id, name, code":e==="custodians"?"id, name, custodian_no":"id, name",{data:o,error:l}=await ne.from(e).update(n).eq("id",t).select(i).single();if(l)throw l;return e==="custodians"?{id:o.id,name:o.name,code:o.custodian_no}:o},async remove(e,t){if(e==="departments"){const{data:n,error:a}=await ne.from("custodians").select("id").eq("department_id",t).limit(1);if(a)throw a;if(n&&n.length>0)throw new Error("Cannot delete department: It is currently assigned to custodians. Please reassign the custodians to a different department first.")}if(e==="custodians"){const{data:n,error:a}=await ne.from("inventory_items").select("id").eq("custodian_id",t).limit(1);if(a)throw a;if(n&&n.length>0)throw new Error("Cannot delete custodian: They are assigned to inventory items. Please reassign the items first.")}const{error:r}=await ne.from(e).delete().eq("id",t);if(r)throw r;return!0}};class Ud{static async generateNextPropertyNumber(t){const n=new Date().getFullYear().toString(),a=t==="Small Value Expendable"?"SPLV":"SPHV",i=`${a}-${n}-`;console.log(`Generating property number for ${t}:`,{prefix:a,year:n,searchPattern:i});try{const{data:o,error:l}=await ne.from("inventory_items").select("property_number").like("property_number",`${i}%`).order("property_number",{ascending:!1});if(console.log("Database query result:",{data:o,error:l}),l){console.error("Error fetching property numbers:",l);const p=`${i}0001`;return console.log("Using fallback number:",p),p}if(!o||o.length===0){const p=`${i}0001`;return console.log("No existing numbers found, using first number:",p),p}let c=0;for(const p of o){const x=p.property_number;if(x.startsWith(i)){const g=x.split("-");if(g.length===3){const w=g[2],y=parseInt(w,10);!isNaN(y)&&y>c&&(c=y)}}}const d=c+1,u=d.toString().padStart(4,"0"),f=`${i}${u}`;if(console.log("Generated next number:",f,{highestSequence:c,nextSequence:d,totalExisting:o.length}),o.find(p=>p.property_number===f)){console.warn("Generated number already exists, trying next sequence");const x=(d+1).toString().padStart(4,"0"),g=`${i}${x}`;return console.log("Using next available number:",g),g}return f}catch(o){console.error("Error generating property number:",o);const l=`${i}0001`;return console.log("Using fallback number due to error:",l),l}}static parsePropertyNumber(t){const r=t.split("-");if(r.length===3){const[n,a,i]=r;return n!=="SPLV"&&n!=="SPHV"||!/^\d{4}$/.test(a)||!/^\d{4}$/.test(i)?null:{prefix:n,year:a,sequenceNumber:i,fullNumber:t}}if(r.length===4){const[n,a,i,o]=r;return n!=="SPLV"&&n!=="SPHV"||!/^\d{4}$/.test(a)||!/^(0[1-9]|1[0-2])$/.test(i)||!/^\d{4}$/.test(o)?null:{prefix:n,year:a,sequenceNumber:o,fullNumber:t}}return null}static getPrefixForSubCategory(t){return t==="Small Value Expendable"?"SPLV":"SPHV"}static isValidPropertyNumber(t){return this.parsePropertyNumber(t)!==null}static async checkPropertyNumberExists(t){try{const{data:r,error:n}=await ne.from("inventory_items").select("id").eq("property_number",t).limit(1);return n?(console.error("Error checking property number existence:",n),!1):r&&r.length>0}catch(r){return console.error("Error checking property number existence:",r),!1}}static async generateUniquePropertyNumber(t){let r=0;const n=10;for(;r<n;){const a=await this.generateNextPropertyNumber(t);if(!await this.checkPropertyNumberExists(a))return console.log(`Generated unique property number: ${a} (attempt ${r+1})`),a;console.warn(`Property number ${a} already exists, trying next sequence`),r++}throw new Error(`Unable to generate unique property number after ${n} attempts`)}}function i5(e){const t=e.toLowerCase();return t.includes("server")||t.includes("computer")||t.includes("workstation")?{years:5,confidence:"high",reasoning:"IT equipment typically lasts 5 years"}:t.includes("vehicle")||t.includes("car")||t.includes("truck")?{years:8,confidence:"high",reasoning:"Vehicles typically last 8 years"}:t.includes("furniture")||t.includes("desk")||t.includes("chair")||t.includes("cabinet")?{years:10,confidence:"high",reasoning:"Furniture typically lasts 10 years"}:t.includes("air conditioning")||t.includes("hvac")||t.includes("cooling")?{years:15,confidence:"high",reasoning:"HVAC systems typically last 15 years"}:t.includes("generator")||t.includes("backup power")?{years:20,confidence:"high",reasoning:"Generators typically last 20 years"}:t.includes("refrigerator")||t.includes("freezer")?{years:12,confidence:"high",reasoning:"Refrigeration equipment typically lasts 12 years"}:t.includes("printer")||t.includes("copier")||t.includes("scanner")?{years:7,confidence:"medium",reasoning:"Office equipment typically lasts 7 years"}:t.includes("monitor")||t.includes("display")||t.includes("screen")?{years:5,confidence:"medium",reasoning:"Displays typically last 5 years"}:t.includes("laptop")||t.includes("notebook")?{years:4,confidence:"high",reasoning:"Laptops typically last 4 years"}:t.includes("tablet")||t.includes("ipad")?{years:3,confidence:"medium",reasoning:"Tablets typically last 3 years"}:t.includes("drill")||t.includes("saw")||t.includes("tool")?{years:8,confidence:"medium",reasoning:"Power tools typically last 8 years"}:t.includes("camera")||t.includes("video")||t.includes("recording")?{years:6,confidence:"medium",reasoning:"A/V equipment typically lasts 6 years"}:t.includes("fire")||t.includes("safety")||t.includes("alarm")?{years:10,confidence:"high",reasoning:"Safety equipment typically lasts 10 years"}:t.includes("paper")||t.includes("pen")||t.includes("supply")?{years:1,confidence:"low",reasoning:"Consumables typically last 1 year"}:{years:5,confidence:"low",reasoning:"Default estimate based on general equipment"}}function o5(e,t){let r=0,n="";return e>=1e5?(r=2,n="High-value items typically last longer"):e>=5e4?(r=1,n="Medium-high value items may last longer"):e>=1e4?(r=0,n="Standard value items"):e>=1e3?(r=-1,n="Lower value items may have shorter life"):(r=-2,n="Low value items typically have shorter life"),{years:Math.max(1,t+r),confidence:e>=1e4?"high":e>=1e3?"medium":"low",reasoning:n}}function l5(e){return{years:{"IT Equipment":5,Furniture:10,Vehicles:8,Machinery:15,Electronics:4,Tools:8,Appliances:12,"Safety Equipment":10,"Office Equipment":7,"Building Equipment":20}[e||""]||5,confidence:"medium",reasoning:`Category-based estimate for ${e||"unknown category"}`}}function c5(e){if(e.manualOverride&&e.manualOverride>0)return{years:e.manualOverride,months:Math.round(e.manualOverride*12),method:"manual",confidence:"high",reasoning:"Manual override provided by user"};const t=i5(e.description),r=o5(e.cost,t.years||5);if(t.confidence==="high"){const a=r.years||t.years||5;return{years:a,months:Math.round(a*12),method:"intelligent",confidence:r.confidence||"high",reasoning:`${t.reasoning}. ${r.reasoning}`}}if(e.category){const a=l5(e.category),i=r.years||a.years||5;return{years:i,months:Math.round(i*12),method:"category_fallback",confidence:r.confidence||"medium",reasoning:`${a.reasoning}. ${r.reasoning}`}}const n=r.years||5;return{years:n,months:Math.round(n*12),method:"intelligent",confidence:"low",reasoning:`Default estimate based on cost analysis. ${r.reasoning}`}}function d5(e){const t={intelligent:"AI Analysis",manual:"Manual Override",category_fallback:"Category-Based"},r={high:"High Confidence",medium:"Medium Confidence",low:"Low Confidence"};return`${e.years} years (${e.months} months) - ${t[e.method]} - ${r[e.confidence]}`}function u5(e){if(!e||e.trim()==="")return{valid:!0};const t=parseFloat(e);return isNaN(t)?{valid:!1,error:"Must be a valid number"}:t<=0?{valid:!1,error:"Must be greater than 0"}:t>50?{valid:!1,error:"Must be 50 years or less"}:{valid:!0,years:t}}var th="Checkbox",[f5,_V]=wr(th),[h5,py]=f5(th);function m5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,p]=Ds({prop:r,defaultProp:a??!1,onChange:c,caller:th}),[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useRef(!1),b=x?!!o||!!x.closest("form"):!0,N={checked:m,disabled:i,setChecked:p,control:x,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:_a(a)?!1:a,isFormControl:b,bubbleInput:w,setBubbleInput:y};return s.jsx(h5,{scope:t,...N,children:p5(f)?f(N):n})}var wE="CheckboxTrigger",jE=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=py(wE,e),g=We(a,u),w=h.useRef(c);return h.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const v=()=>f(w.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,f]),s.jsx(De.button,{type:"button",role:"checkbox","aria-checked":_a(c)?"mixed":c,"aria-required":d,"data-state":EE(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:we(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:we(r,y=>{f(v=>_a(v)?!0:!v),x&&p&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});jE.displayName=wE;var gy=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return s.jsx(m5,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(jE,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(CE,{__scopeCheckbox:r})]})})});gy.displayName=th;var NE="CheckboxIndicator",_E=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=py(NE,r);return s.jsx(Yt,{present:n||_a(i.checked)||i.checked===!0,children:s.jsx(De.span,{"data-state":EE(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});_E.displayName=NE;var SE="CheckboxBubbleInput",CE=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:p}=py(SE,e),x=We(r,p),g=DC(i),w=l_(n);h.useEffect(()=>{const v=m;if(!v)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,C=!a.current;if(g!==i&&j){const E=new Event("click",{bubbles:C});v.indeterminate=_a(i),j.call(v,_a(i)?!1:i),v.dispatchEvent(E)}},[m,g,i,a]);const y=h.useRef(_a(i)?!1:i);return s.jsx(De.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CE.displayName=SE;function p5(e){return typeof e=="function"}function _a(e){return e==="indeterminate"}function EE(e){return _a(e)?"indeterminate":e?"checked":"unchecked"}const sd=h.forwardRef(({className:e,...t},r)=>s.jsx(gy,{ref:r,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(_E,{className:Ee("flex items-center justify-center text-current"),children:s.jsx(Ms,{className:"h-4 w-4"})})}));sd.displayName=gy.displayName;const g5=({item:e,onSave:t,onCancel:r,isSaving:n=!1})=>{var G,ie,te;const[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState([]),[u,f]=h.useState(!0),[m,p]=h.useState({type:null}),[x,g]=h.useState({name:""}),[w,y]=h.useState(((G=e==null?void 0:e.estimatedUsefulLifeOverride)==null?void 0:G.toString())||""),[v,b]=h.useState(null),[N,j]=h.useState(""),[C,E]=h.useState(!1),[D,H]=h.useState(""),[U,I]=h.useState(""),[q,F]=h.useState(!1),P=async()=>{if(!x.name.trim()||!m.type)return;const R={supplier:"suppliers",fundSource:"fund_sources"},Z=await Pr.create(R[m.type],x);m.type==="supplier"&&i([Z,...a]),m.type==="fundSource"&&l([Z,...o]),g({name:""}),p({type:null})},[_,T]=h.useState({propertyNumber:(e==null?void 0:e.propertyNumber)||"",description:(e==null?void 0:e.description)||"",brand:(e==null?void 0:e.brand)||"",model:(e==null?void 0:e.model)||"",serialNumber:(e==null?void 0:e.serialNumber)||"",unitOfMeasure:(e==null?void 0:e.unitOfMeasure)||"piece",quantity:(e==null?void 0:e.quantity)||1,unitCost:(e==null?void 0:e.unitCost)||void 0,dateAcquired:(e==null?void 0:e.dateAcquired)||new Date().toISOString().split("T")[0],supplier:(e==null?void 0:e.supplier)||"",condition:(e==null?void 0:e.condition)||"Serviceable",fundSource:(e==null?void 0:e.fundSource)||"",remarks:(e==null?void 0:e.remarks)||"",semiExpandableCategory:(e==null?void 0:e.semiExpandableCategory)||"",subCategory:(e==null?void 0:e.subCategory)||void 0,status:(e==null?void 0:e.status)||"Active",lastInventoryDate:(e==null?void 0:e.lastInventoryDate)||"",entityName:(e==null?void 0:e.entityName)||"PROVINCIAL GOVERNMENT OF APAYAO"}),ee=h.useMemo(()=>{var Z,le,ae;return[(Z=_.brand)==null?void 0:Z.trim(),(le=_.model)==null?void 0:le.trim(),(ae=_.serialNumber)==null?void 0:ae.trim()].filter(Boolean).join(" ")},[_.brand,_.model,_.serialNumber]),W=R=>{if(R!=null)return R<=5e3?"Small Value Expendable":"High Value Expendable"};h.useEffect(()=>{if(e!=null&&e.propertyNumber&&!U){const R=e.propertyNumber.split("-");(R[0]==="SPLV"||R[0]==="SPHV")&&I(R[0])}},[e==null?void 0:e.propertyNumber,U]);const B=async R=>{console.log("generatePropertyNumber called with subCategory:",R);const Z=Ud.getPrefixForSubCategory(R);I(Z);try{const le=await Ud.generateUniquePropertyNumber(R);console.log("Generated unique property number:",le),T(ae=>({...ae,propertyNumber:le})),console.log("Updated formData with property number:",le)}catch(le){console.error("Error generating unique property number:",le);try{const ae=await Ud.generateNextPropertyNumber(R);console.log("Generated fallback property number:",ae),T(Pe=>({...Pe,propertyNumber:ae}))}catch(ae){console.error("Fallback generation also failed:",ae);const Pe=new Date,Ue=Pe.getFullYear().toString(),Q=(Pe.getMonth()+1).toString().padStart(2,"0"),M=`${Z}-${Ue}-${Q}-0001`;console.log("Using final fallback number:",M),T(se=>({...se,propertyNumber:M}))}}};h.useEffect(()=>{if(_.unitCost!==void 0&&_.unitCost!==null&&_.unitCost>=.01){const R=W(_.unitCost);R&&T(Z=>Z.subCategory!==R?(console.log("Auto-determining sub-category:",R,"from unit cost:",_.unitCost),B(R),{...Z,subCategory:R}):Z)}else(_.unitCost===void 0||_.unitCost===null)&&T(R=>R.subCategory?(I(""),{...R,subCategory:void 0,propertyNumber:""}):R)},[_.unitCost]);const oe=R=>{if(!R)return"";const Z=R.split("-");if(Z.length!==4)return R;const[le,ae,Pe,Ue]=Z;return le!=="SPLV"&&le!=="SPHV"?U?`${U}-${ae}-${Pe}-${Ue}`:R:U&&le!==U?`${U}-${ae}-${Pe}-${Ue}`:R},me=R=>{const Z=oe(R);T(le=>({...le,propertyNumber:Z}))},V=h.useMemo(()=>{const R=_.unitCost;return R==null?{isValid:!0,message:""}:R<.01?{isValid:!1,message:"Unit cost must be at least 0.01"}:{isValid:!0,message:""}},[_.unitCost]);h.useEffect(()=>{(async()=>{try{const[Z,le,ae]=await Promise.all([Pr.getSuppliers(),Pr.getFundSources(),Pr.getSemiExpandableCategories()]);i(Z),l(le),d(ae)}catch(Z){console.error("Error loading lookup data:",Z)}finally{f(!1)}})()},[]),h.useEffect(()=>{if(_.description&&_.unitCost!==void 0){const R=c5({description:_.description,cost:_.unitCost,category:"Semi-Expendable",manualOverride:w?parseFloat(w):void 0});b(R)}},[_.description,_.unitCost,w]);const A=R=>{y(R);const Z=u5(R);j(Z.error||"")},X=R=>{if(R.preventDefault(),!_.semiExpandableCategory){j("Please select a Semi-Expendable Category");return}if(!_.unitCost||_.unitCost<.01){j("Please enter a valid unit cost (minimum 0.01)");return}if(!_.subCategory){const le=W(_.unitCost);if(le){T(ae=>({...ae,subCategory:le})),j("Please wait for property number to be generated..."),B(le).then(()=>{setTimeout(()=>{const ae={id:(e==null?void 0:e.id)||`INV-${Date.now()}`,..._,subCategory:le,totalCost:(_.quantity||0)*(_.unitCost||0),estimatedUsefulLifeOverride:w?parseFloat(w):null,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};t(ae,q)},500)});return}j("Unable to determine sub-category. Please check unit cost.");return}if(!V.isValid){j(V.message);return}if(!_.propertyNumber){j("Property number is required. Please wait for it to be generated or enter manually.");return}j("");const Z={id:(e==null?void 0:e.id)||`INV-${Date.now()}`,..._,totalCost:(_.quantity||0)*(_.unitCost||0),estimatedUsefulLifeOverride:w?parseFloat(w):null,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};t(Z,q)};return u?s.jsx(Ae,{className:"max-w-4xl mx-auto",children:s.jsx(Ie,{className:"p-8 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading form data..."})})}):s.jsxs(s.Fragment,{children:[s.jsxs(Ae,{className:"max-w-4xl mx-auto",children:[s.jsx(Ve,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Ke,{children:e?"Edit Inventory Item":"Add New Inventory Item"})})}),s.jsx(Ie,{children:s.jsxs("form",{onSubmit:X,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-blue-50 to-blue-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Category Selection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"semiExpandableCategory",className:"text-sm font-medium",children:"Semi-Expendable Category *"}),s.jsxs(uE,{open:C,onOpenChange:E,children:[s.jsx(fE,{asChild:!0,children:s.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":C,className:"w-full justify-between h-auto min-h-10 py-2 bg-white",children:[s.jsx("span",{className:"truncate text-left flex-1 mr-2",children:_.semiExpandableCategory?((ie=c.find(R=>R.name===_.semiExpandableCategory))==null?void 0:ie.name)||_.semiExpandableCategory:"Select category..."}),s.jsx(FN,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(oy,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:s.jsxs(cy,{children:[s.jsx(dy,{placeholder:"Search categories...",value:D,onValueChange:H}),s.jsxs(uy,{children:[s.jsx(fy,{children:"No category found."}),s.jsx(hy,{children:c.filter(R=>D===""||R.name.toLowerCase().includes(D.toLowerCase())).map(R=>s.jsxs(my,{value:R.name,onSelect:()=>{T({..._,semiExpandableCategory:R.name}),E(!1),H("")},children:[s.jsx(Ms,{className:Ee("mr-2 h-4 w-4",_.semiExpandableCategory===R.name?"opacity-100":"opacity-0")}),R.name]},R.id))})]})]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Search and select the appropriate semi-expendable category"})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-green-50 to-green-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Item Identification"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"brand",children:"Brand"}),s.jsx(Te,{id:"brand",value:_.brand,onChange:R=>T({..._,brand:R.target.value}),placeholder:"e.g., Dell, HP, Apple"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"model",children:"Model"}),s.jsx(Te,{id:"model",value:_.model,onChange:R=>T({..._,model:R.target.value}),placeholder:"e.g., OptiPlex 7090"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"serialNumber",children:"Serial Number"}),s.jsx(Te,{id:"serialNumber",value:_.serialNumber,onChange:R=>T({..._,serialNumber:R.target.value}),placeholder:"e.g., DL12345678"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"description",children:"Description (auto-generated) *"}),s.jsx(Te,{id:"description",value:ee,disabled:!0,placeholder:"Auto-generated from Brand, Model, Serial Number",className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Description is automatically generated from Brand, Model, and Serial Number fields above"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Te,{id:"entityName",value:_.entityName||"",onChange:R=>T({..._,entityName:R.target.value}),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: PROVINCIAL GOVERNMENT OF APAYAO - This will be used as the entity name when creating property cards"})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-600 text-white flex items-center justify-center text-sm font-bold",children:"3"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Financial Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"quantity",children:"Quantity *"}),s.jsx(Te,{id:"quantity",type:"number",min:"1",value:_.quantity,onChange:R=>T({..._,quantity:parseInt(R.target.value)||1}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"unitOfMeasure",children:"Unit of Measure *"}),s.jsxs(wt,{value:_.unitOfMeasure,onValueChange:R=>T({..._,unitOfMeasure:R}),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"piece",children:"Piece"}),s.jsx(be,{value:"set",children:"Set"}),s.jsx(be,{value:"unit",children:"Unit"}),s.jsx(be,{value:"lot",children:"Lot"}),s.jsx(be,{value:"pair",children:"Pair"}),s.jsx(be,{value:"dozen",children:"Dozen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"unitCost",children:"Unit Cost *"}),s.jsx(Te,{id:"unitCost",type:"number",step:"0.01",min:"0.01",value:_.unitCost||"",onChange:R=>{const Z=parseFloat(R.target.value);isNaN(Z)?T({..._,unitCost:void 0}):T({..._,unitCost:Z})},onBlur:R=>{const Z=parseFloat(R.target.value);(!Z||Z<=0)&&T({..._,unitCost:.01})},required:!0,placeholder:"Enter amount (minimum 0.01)",className:V.isValid?"":"border-red-500"}),!V.isValid&&s.jsx("div",{className:"text-sm text-red-600",children:V.message}),_.unitCost!==void 0&&_.unitCost!==null&&_.unitCost>=.01&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:`px-2 py-1 rounded ${_.unitCost<=5e3?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:_.unitCost<=5e3?" Small Value (SPLV)":" High Value (SPHV)"}),s.jsx("span",{className:"text-muted-foreground",children:"Sub-category and property number will be auto-generated"})]}),(!_.unitCost||_.unitCost<.01)&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Enter unit cost to automatically determine sub-category and generate property number"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Total Cost"}),s.jsxs("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:["",((_.quantity||0)*(_.unitCost||0)).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-purple-50 to-purple-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center text-sm font-bold",children:"4"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Property Details"}),s.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"(Auto-determined from unit cost)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"subCategory",className:"text-sm font-medium",children:"Sub-Category"}),s.jsx("div",{className:`px-4 py-3 rounded-md text-sm font-medium flex items-center justify-between ${_.subCategory==="High Value Expendable"?"bg-blue-100 text-blue-800 border-2 border-blue-300":_.subCategory==="Small Value Expendable"?"bg-green-100 text-green-800 border-2 border-green-300":"bg-muted text-muted-foreground border-2 border-gray-200"}`,children:_.subCategory?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:_.subCategory==="High Value Expendable"?"":""}),s.jsx("span",{children:_.subCategory==="Small Value Expendable"?"Small Value Expendable (SPLV)":"High Value Expendable (SPHV)"})]}):s.jsx("span",{children:"Enter unit cost above to determine"})}),_.unitCost!==void 0&&_.unitCost!==null&&_.unitCost>=.01&&s.jsx("p",{className:"text-xs text-muted-foreground",children:_.unitCost<=5e3?" Determined as Small Value ( 5,000)":" Determined as High Value (> 5,000)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{htmlFor:"propertyNumber",className:"text-sm font-medium",children:"Property Number *"}),_.subCategory&&s.jsx(ce,{type:"button",variant:"outline",size:"sm",onClick:()=>{_.subCategory&&B(_.subCategory)},className:"text-xs h-7",children:" Regenerate"})]}),s.jsx(Te,{id:"propertyNumber",value:_.propertyNumber,onChange:R=>me(R.target.value),required:!0,placeholder:_.subCategory?"Auto-generated from unit cost":"Enter unit cost to generate",className:_.subCategory?"bg-green-50 border-green-300 font-mono":"bg-muted"}),_.subCategory&&s.jsxs("p",{className:"text-xs text-green-700",children:[" Format: ",Ud.getPrefixForSubCategory(_.subCategory),"-YYYY-MM-NNNN"]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-orange-50 to-orange-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-600 text-white flex items-center justify-center text-sm font-bold",children:"5"}),s.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Acquisition Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"dateAcquired",children:"Date Acquired *"}),s.jsx(Te,{id:"dateAcquired",type:"date",value:_.dateAcquired,onChange:R=>T({..._,dateAcquired:R.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"supplier",children:"Supplier"}),s.jsxs(wt,{value:_.supplier,onValueChange:R=>T({..._,supplier:R}),children:[s.jsx(gt,{children:s.jsx(jt,{placeholder:"Select supplier"})}),s.jsxs(vt,{children:[a.map(R=>s.jsx(be,{value:R.id,children:R.name},R.id)),s.jsx("div",{className:"p-2",children:s.jsx(ce,{type:"button",variant:"outline",size:"sm",onClick:()=>p({type:"supplier"}),children:"+ Add supplier"})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"fundSource",children:"Fund Source"}),s.jsxs(wt,{value:_.fundSource,onValueChange:R=>T({..._,fundSource:R}),children:[s.jsx(gt,{children:s.jsx(jt,{placeholder:"Select fund source"})}),s.jsxs(vt,{children:[o.map(R=>s.jsx(be,{value:R.id,children:R.name},R.id)),s.jsx("div",{className:"p-2",children:s.jsx(ce,{type:"button",variant:"outline",size:"sm",onClick:()=>p({type:"fundSource"}),children:"+ Add fund source"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-red-50 to-red-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-600 text-white flex items-center justify-center text-sm font-bold",children:"6"}),s.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Status and Condition"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"condition",children:"Condition *"}),s.jsxs(wt,{value:_.condition,onValueChange:R=>T({..._,condition:R}),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"Serviceable",children:"Serviceable"}),s.jsx(be,{value:"Unserviceable",children:"Unserviceable"}),s.jsx(be,{value:"For Repair",children:"For Repair"}),s.jsx(be,{value:"Lost",children:"Lost"}),s.jsx(be,{value:"Stolen",children:"Stolen"}),s.jsx(be,{value:"Damaged",children:"Damaged"}),s.jsx(be,{value:"Destroyed",children:"Destroyed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"status",children:"Status *"}),s.jsxs(wt,{value:_.status,onValueChange:R=>T({..._,status:R}),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"Active",children:"Active"}),s.jsx(be,{value:"Transferred",children:"Transferred"}),s.jsx(be,{value:"Disposed",children:"Disposed"}),s.jsx(be,{value:"Missing",children:"Missing"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"lastInventoryDate",children:"Last Inventory Date"}),s.jsx(Te,{id:"lastInventoryDate",type:"date",value:_.lastInventoryDate,onChange:R=>T({..._,lastInventoryDate:R.target.value})})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-gray-50 to-gray-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 text-white flex items-center justify-center text-sm font-bold",children:"7"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"remarks",children:"Remarks"}),s.jsx(xi,{id:"remarks",value:_.remarks,onChange:R=>T({..._,remarks:R.target.value}),rows:3,placeholder:"Additional notes or comments about this item"})]})]}),!e&&s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-teal-50 to-teal-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center text-sm font-bold",children:"8"}),s.jsx("h3",{className:"text-lg font-semibold text-teal-900",children:"Property Card Creation"})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background rounded-md border",children:[s.jsx(sd,{id:"autoCreatePropertyCard",checked:q,onCheckedChange:R=>F(R===!0)}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx(ue,{htmlFor:"autoCreatePropertyCard",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Automatically create property card"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, a property card will be created automatically using the entity name and fund source from this inventory item. You can still edit the property card later if needed."}),q&&s.jsxs("div",{className:"mt-2 p-2 bg-teal-50 rounded text-xs",children:[s.jsx("p",{className:"font-medium text-teal-800",children:"Property card will be created with:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-teal-700",children:[s.jsxs("li",{children:["Entity Name: ",_.entityName||"PROVINCIAL GOVERNMENT OF APAYAO"]}),s.jsxs("li",{children:["Fund Cluster: ",_.fundSource?((te=o.find(R=>R.id===_.fundSource))==null?void 0:te.name)||"From selected fund source":"General Fund (default)"]}),s.jsxs("li",{children:["Property Number: ",_.propertyNumber||"Will use generated number"]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-indigo-50 to-indigo-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center text-sm font-bold",children:e?"8":"9"}),s.jsx("h3",{className:"text-lg font-semibold text-indigo-900",children:"Estimated Useful Life"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Intelligent calculation based on description and cost, with manual override option"}),v&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-md border",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[v.years," years (",v.months," months)"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:d5(v)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:v.method==="manual"?"Manual Override":v.method==="intelligent"?"AI Analysis":"Category-Based"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.confidence," confidence"]})]})]}),v.reasoning&&s.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:[s.jsx("strong",{children:"Reasoning:"})," ",v.reasoning]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"estimatedLifeOverride",children:"Manual Override (Optional)"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Te,{id:"estimatedLifeOverride",type:"number",step:"0.1",min:"0.1",max:"50",value:w,onChange:R=>A(R.target.value),placeholder:"Enter years (e.g., 5.5)",className:N?"border-red-500":""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"years"})]}),N&&s.jsx("div",{className:"text-sm text-red-600",children:N}),!N&&w&&s.jsx("div",{className:"text-sm text-green-600",children:" Manual override will be used instead of intelligent calculation"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(ce,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),s.jsx(ce,{type:"submit",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Adding..."]}):e?"Update Item":"Add Item"})]})]})})]}),s.jsx(Qr,{open:!!m.type,onOpenChange:()=>p({type:null}),children:s.jsxs(Ir,{children:[s.jsx(Xr,{children:s.jsxs(Jr,{children:["Add ",m.type==="supplier"?"Supplier":"Fund Source"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx(Te,{placeholder:"Name",value:x.name,onChange:R=>g({...x,name:R.target.value})}),s.jsx(Te,{placeholder:"Code (optional)",value:x.code||"",onChange:R=>g({...x,code:R.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>p({type:null}),children:"Cancel"}),s.jsx(ce,{onClick:P,disabled:!x.name.trim(),children:"Save"})]})]})})]})};var kE="AlertDialog",[v5,SV]=wr(kE,[b1]),Us=b1(),PE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Us(t);return s.jsx(ey,{...n,...r,modal:!0})};PE.displayName=kE;var y5="AlertDialogTrigger",x5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Us(r);return s.jsx(M1,{...a,...n,ref:t})});x5.displayName=y5;var b5="AlertDialogPortal",TE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Us(t);return s.jsx(ty,{...n,...r})};TE.displayName=b5;var w5="AlertDialogOverlay",RE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Us(r);return s.jsx(Gf,{...a,...n,ref:t})});RE.displayName=w5;var ko="AlertDialogContent",[j5,N5]=v5(ko),_5=lN("AlertDialogContent"),AE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Us(r),o=h.useRef(null),l=We(t,o),c=h.useRef(null);return s.jsx(uU,{contentName:ko,titleName:IE,docsSlug:"alert-dialog",children:s.jsx(j5,{scope:r,cancelRef:c,children:s.jsxs(Yf,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:we(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(_5,{children:n}),s.jsx(C5,{contentRef:o})]})})})});AE.displayName=ko;var IE="AlertDialogTitle",OE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Us(r);return s.jsx(ry,{...a,...n,ref:t})});OE.displayName=IE;var DE="AlertDialogDescription",ME=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Us(r);return s.jsx(ny,{...a,...n,ref:t})});ME.displayName=DE;var S5="AlertDialogAction",LE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Us(r);return s.jsx(sy,{...a,...n,ref:t})});LE.displayName=S5;var FE="AlertDialogCancel",$E=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=N5(FE,r),i=Us(r),o=We(t,a);return s.jsx(sy,{...i,...n,ref:o})});$E.displayName=FE;var C5=({contentRef:e})=>{const t=`\`${ko}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ko}\` by passing a \`${DE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ko}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},E5=PE,k5=TE,UE=RE,BE=AE,qE=LE,VE=$E,zE=OE,WE=ME;const P5=E5,T5=k5,HE=h.forwardRef(({className:e,...t},r)=>s.jsx(UE,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));HE.displayName=UE.displayName;const KE=h.forwardRef(({className:e,...t},r)=>s.jsxs(T5,{children:[s.jsx(HE,{}),s.jsx(BE,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));KE.displayName=BE.displayName;const QE=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});QE.displayName="AlertDialogHeader";const GE=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});GE.displayName="AlertDialogFooter";const YE=h.forwardRef(({className:e,...t},r)=>s.jsx(zE,{ref:r,className:Ee("text-lg font-semibold",e),...t}));YE.displayName=zE.displayName;const XE=h.forwardRef(({className:e,...t},r)=>s.jsx(WE,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));XE.displayName=WE.displayName;const JE=h.forwardRef(({className:e,...t},r)=>s.jsx(qE,{ref:r,className:Ee(qv(),e),...t}));JE.displayName=qE.displayName;const ZE=h.forwardRef(({className:e,...t},r)=>s.jsx(VE,{ref:r,className:Ee(qv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ZE.displayName=VE.displayName;function Vn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ai(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ek=6048e5,R5=864e5;let A5={};function rh(){return A5}function Tc(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Vn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Yu(e){return Tc(e,{weekStartsOn:1})}function tk(e){const t=Vn(e),r=t.getFullYear(),n=Ai(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Yu(n),i=Ai(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Yu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function m0(e){const t=Vn(e);return t.setHours(0,0,0,0),t}function p0(e){const t=Vn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function I5(e,t){const r=m0(e),n=m0(t),a=+r-p0(r),i=+n-p0(n);return Math.round((a-i)/R5)}function O5(e){const t=tk(e),r=Ai(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Yu(r)}function D5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function M5(e){if(!D5(e)&&typeof e!="number")return!1;const t=Vn(e);return!isNaN(Number(t))}function L5(e){const t=Vn(e),r=Ai(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const F5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$5=(e,t,r)=>{let n;const a=F5[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const U5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V5={date:fm({formats:U5,defaultWidth:"full"}),time:fm({formats:B5,defaultWidth:"full"}),dateTime:fm({formats:q5,defaultWidth:"full"})},z5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W5=(e,t,r,n)=>z5[e];function Pl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const H5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J5=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Z5={ordinalNumber:J5,era:Pl({values:H5,defaultWidth:"wide"}),quarter:Pl({values:K5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pl({values:Q5,defaultWidth:"wide"}),day:Pl({values:G5,defaultWidth:"wide"}),dayPeriod:Pl({values:Y5,defaultWidth:"wide",formattingValues:X5,defaultFormattingWidth:"wide"})};function Tl(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?tB(l,f=>f.test(o)):eB(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function eB(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tB(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function rB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const nB=/^(\d+)(th|st|nd|rd)?/i,sB=/\d+/i,aB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iB={any:[/^b/i,/^(a|c)/i]},oB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lB={any:[/1/i,/2/i,/3/i,/4/i]},cB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pB={ordinalNumber:rB({matchPattern:nB,parsePattern:sB,valueCallback:e=>parseInt(e,10)}),era:Tl({matchPatterns:aB,defaultMatchWidth:"wide",parsePatterns:iB,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:oB,defaultMatchWidth:"wide",parsePatterns:lB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tl({matchPatterns:cB,defaultMatchWidth:"wide",parsePatterns:dB,defaultParseWidth:"any"}),day:Tl({matchPatterns:uB,defaultMatchWidth:"wide",parsePatterns:fB,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:hB,defaultMatchWidth:"any",parsePatterns:mB,defaultParseWidth:"any"})},gB={code:"en-US",formatDistance:$5,formatLong:V5,formatRelative:W5,localize:Z5,match:pB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vB(e){const t=Vn(e);return I5(t,L5(t))+1}function yB(e){const t=Vn(e),r=+Yu(t)-+O5(t);return Math.round(r/ek)+1}function rk(e,t){var u,f,m,p;const r=Vn(e),n=r.getFullYear(),a=rh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ai(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Tc(o,t),c=Ai(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Tc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function xB(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=rk(e,t),i=Ai(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Tc(i,t)}function bB(e,t){const r=Vn(e),n=+Tc(r,t)-+xB(r,t);return Math.round(n/ek)+1}function ct(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ws={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ct(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ct(r+1,2)},d(e,t){return ct(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ct(e.getHours()%12||12,t.length)},H(e,t){return ct(e.getHours(),t.length)},m(e,t){return ct(e.getMinutes(),t.length)},s(e,t){return ct(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ct(a,t.length)}},Zi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},g0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ws.y(e,t)},Y:function(e,t,r,n){const a=rk(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ct(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ct(i,t.length)},R:function(e,t){const r=tk(e);return ct(r,t.length)},u:function(e,t){const r=e.getFullYear();return ct(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ct(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ws.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=bB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ct(a,t.length)},I:function(e,t,r){const n=yB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ct(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ws.d(e,t)},D:function(e,t,r){const n=vB(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ct(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ct(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ct(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Zi.noon:n===0?a=Zi.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Zi.evening:n>=12?a=Zi.afternoon:n>=4?a=Zi.morning:a=Zi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ws.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ws.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ws.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ws.s(e,t)},S:function(e,t){return Ws.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return y0(n);case"XXXX":case"XX":return Xa(n);case"XXXXX":case"XXX":default:return Xa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return y0(n);case"xxxx":case"xx":return Xa(n);case"xxxxx":case"xxx":default:return Xa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v0(n,":");case"OOOO":default:return"GMT"+Xa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v0(n,":");case"zzzz":default:return"GMT"+Xa(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ct(n,t.length)},T:function(e,t,r){const n=e.getTime();return ct(n,t.length)}};function v0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ct(i,2)}function y0(e,t){return e%60===0?(e>0?"-":"+")+ct(Math.abs(e)/60,2):Xa(e,t)}function Xa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ct(Math.trunc(n/60),2),i=ct(n%60,2);return r+a+t+i}const x0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wB=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return x0(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",x0(n,t)).replace("{{time}}",nk(a,t))},jB={p:nk,P:wB},NB=/^D+$/,_B=/^Y+$/,SB=["D","DD","YY","YYYY"];function CB(e){return NB.test(e)}function EB(e){return _B.test(e)}function kB(e,t,r){const n=PB(e,t,r);if(console.warn(n),SB.includes(e))throw new RangeError(n)}function PB(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AB=/^'([^]*?)'?$/,IB=/''/g,OB=/[a-zA-Z]/;function rs(e,t,r){var u,f,m,p;const n=rh(),a=n.locale??gB,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=Vn(e);if(!M5(l))throw new RangeError("Invalid time value");let c=t.match(RB).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=jB[g];return w(x,a.formatLong)}return x}).join("").match(TB).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:DB(x)};if(g0[g])return{isToken:!0,value:x};if(g.match(OB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(EB(g)||CB(g))&&kB(g,t,String(e));const w=g0[g[0]];return w(l,g,a.localize,d)}).join("")}function DB(e){const t=e.match(AB);return t?t[1].replace(IB,"'"):e}class MB{async createPropertyCardFromInventory(t){var c;const{data:r,error:n}=await ne.from("inventory_items").select("*").eq("id",t.inventoryItemId).single();if(n||!r)throw new Error(`Inventory item not found: ${n==null?void 0:n.message}`);const a=(r.description||(r.model?`${r.brand?r.brand+" ":""}${r.model}`:r.brand)||"").trim(),i={entity_name:t.entityName,fund_cluster:t.fundCluster,semi_expendable_property:r.description||a,property_number:r.property_number,description:a,date_acquired:r.date_acquired,remarks:r.remarks};i.inventory_item_id=t.inventoryItemId;const{data:o,error:l}=await ne.from("property_cards").insert(i).select().single();if(l)throw new Error(`Failed to create property card: ${l.message}`);return t.initialEntry&&await this.addPropertyCardEntry(o.id,{...t.initialEntry,reference:((c=t.initialEntry.reference)==null?void 0:c.trim())||"",issueItemNo:"",issueQty:0,officeOfficer:"",balanceQty:t.initialEntry.receiptQty,amount:t.initialEntry.totalCost}),this.mapToAnnexPropertyCard(o)}async createCustodianSlip(t){var i;if(console.log("Creating custodian slip(s) with inventory items:",((i=t.inventoryItemIds)==null?void 0:i.length)||0),!t.inventoryItemIds||t.inventoryItemIds.length===0)throw new Error("No inventory items provided for the custodian slip");console.log("Validating inventory items and property cards...");const r=[];for(const o of t.inventoryItemIds){const{data:l,error:c}=await ne.from("inventory_items").select("*").eq("id",o).single();if(c||!l)throw new Error(`Inventory item ${o} not found`);if(l.assignment_status==="Assigned"||l.custodian)throw new Error(`Inventory item ${l.property_number} is already assigned to ${l.custodian}`);if(l.condition!=="Serviceable")throw new Error(`Inventory item ${l.property_number} is not serviceable (${l.condition})`);console.log(`Processing inventory item: ${l.property_number} (${o})`),r.push(l)}console.log("All validations passed, grouping items by sub-category...");const n={};for(const o of r){const l=o.sub_category||"Unknown";n[l]||(n[l]=[]),n[l].push(o)}console.log(`Grouped items into ${Object.keys(n).length} sub-category(ies):`,Object.keys(n));const a=[];for(const o of Object.keys(n)){const l=n[o];console.log(`Creating slip for ${o} with ${l.length} item(s)`);const c=o==="Small Value Expendable"?"SPLV":"SPHV",{data:d,error:u}=await ne.rpc("generate_ics_number",{sub_category_prefix:c});if(u){console.error("Error generating ICS number:",u);const{data:g}=await ne.rpc("generate_ics_number",{sub_category_prefix:null});console.log("Using fallback ICS number:",g)}const f={slip_number:u?null:d,custodian_name:t.custodianName,designation:t.designation,office:t.office,date_issued:t.dateIssued,issued_by:t.issuedBy,received_by:t.receivedBy,slip_status:"Draft"};console.log("Inserting custodian slip:",f);const{data:m,error:p}=await ne.from("custodian_slips").insert(f).select().single();if(p)throw console.error("Error creating custodian slip:",p),new Error(`Failed to create custodian slip: ${p.message}`);console.log("Custodian slip created successfully:",m.id);const x=[];for(const g of l){const w=g.quantity||1,y=g.unit_cost||0,v=w*y,b=(g.description||(g.model?`${g.brand?g.brand+" ":""}${g.model}`:g.brand)||"").trim(),N={slip_id:m.id,inventory_item_id:g.id,property_number:g.property_number,description:b,quantity:w,unit:g.unit_of_measure,unit_cost:y,total_cost:v,amount:v,date_issued:t.dateIssued},{data:j,error:C}=await ne.from("custodian_slip_items").insert(N).select().single();if(C){console.error(`Failed to create slip item for ${g.id}:`,C);continue}console.log(`Draft slip created for inventory item ${g.property_number} - assignment will happen on confirmation`);const{data:E,error:D}=await ne.from("property_cards").select("*").eq("inventory_item_id",g.id).single();if(D||!E){console.warn(`Property card not found for inventory item ${g.id}, skipping property card entry creation`),x.push(this.mapToAnnexCustodianSlipItem(j));continue}const H=await this.addPropertyCardEntry(E.id,{date:t.dateIssued,reference:m.slip_number||"PENDING",receiptQty:0,unitCost:0,totalCost:0,issueItemNo:m.slip_number||"PENDING",issueQty:g.quantity,officeOfficer:`${t.custodianName} (${t.designation})`,balanceQty:0,amount:0,remarks:`Issued via ICS ${m.slip_number||"PENDING"}`,relatedSlipId:m.id});await ne.from("custodian_slip_items").update({property_card_entry_id:H.id}).eq("id",j.id),x.push(this.mapToAnnexCustodianSlipItem(j))}if(console.log(`Created ${x.length} slip items for custodian slip ${m.id}`),x.length===0)throw console.error(`No items were successfully added to the custodian slip for ${o}. Deleting empty slip.`),await ne.from("custodian_slips").delete().eq("id",m.id),new Error(`No valid ${o} items could be added to the custodian slip. Please check that items are available and serviceable.`);a.push({...this.mapToAnnexCustodianSlip(m),items:x})}return a.length===1?(console.log("Single slip created, returning as single object"),a[0]):(console.log(`${a.length} slips created (separated by sub-category)`),a)}async addPropertyCardEntry(t,r){const n={property_card_id:t,date:r.date,reference:r.reference,receipt_qty:r.receiptQty,unit_cost:r.unitCost,total_cost:r.totalCost,issue_item_no:r.issueItemNo,issue_qty:r.issueQty,office_officer:r.officeOfficer,balance_qty:r.balanceQty,amount:r.amount,remarks:r.remarks,related_slip_id:r.relatedSlipId,related_transfer_id:r.relatedTransferId},{data:a,error:i}=await ne.from("property_card_entries").insert(n).select().single();if(i)throw new Error(`Failed to add property card entry: ${i.message}`);return this.mapToAnnexSPCEntry(a)}async findPropertyCardByInventoryItem(t){try{console.log(`Searching for property card with inventory_item_id: ${t}`);const{data:r,error:n}=await ne.from("property_cards").select("*").eq("inventory_item_id",t).single();return console.log("Property card query result - data:",r,"error:",n),n?n.message.includes('column "inventory_item_id" does not exist')?(console.warn("inventory_item_id column not found in property_cards table. Please run the database migration."),null):(console.error("Error finding property card by inventory item:",n),null):r?(console.log("Found property card:",r),this.mapToAnnexPropertyCard(r)):(console.log("No property card found for inventory item:",t),null)}catch(r){return console.error("Unexpected error finding property card:",r),null}}async getPropertyCardWithEntries(t){const{data:r,error:n}=await ne.from("property_cards").select("*").eq("id",t).single();if(n||!r)return null;const{data:a,error:i}=await ne.from("property_card_entries").select("*").eq("property_card_id",t).order("date",{ascending:!0});return i?(console.error("Failed to fetch property card entries:",i),this.mapToAnnexPropertyCard(r)):{...this.mapToAnnexPropertyCard(r),entries:a.map(o=>this.mapToAnnexSPCEntry(o))}}async getCustodianSlipWithItems(t){const{data:r,error:n}=await ne.from("custodian_slips").select("*").eq("id",t).single();if(n||!r)return null;const{data:a,error:i}=await ne.from("custodian_slip_items").select("*").eq("slip_id",t).order("created_at",{ascending:!0});return i?(console.error("Failed to fetch custodian slip items:",i),this.mapToAnnexCustodianSlip(r)):{...this.mapToAnnexCustodianSlip(r),items:a.map(o=>this.mapToAnnexCustodianSlipItem(o))}}mapToAnnexPropertyCard(t){return{id:t.id,entityName:t.entity_name,fundCluster:t.fund_cluster,semiExpendableProperty:t.semi_expendable_property,propertyNumber:t.property_number,description:t.description,dateAcquired:t.date_acquired,remarks:t.remarks,inventoryItemId:t.inventory_item_id,entries:[],createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexSPCEntry(t){return{id:t.id,propertyCardId:t.property_card_id,date:t.date,reference:t.reference,receiptQty:t.receipt_qty||0,unitCost:t.unit_cost||0,totalCost:t.total_cost||0,issueItemNo:t.issue_item_no||"",issueQty:t.issue_qty||0,officeOfficer:t.office_officer||"",balanceQty:t.balance_qty||0,amount:t.amount||0,remarks:t.remarks,relatedSlipId:t.related_slip_id,relatedTransferId:t.related_transfer_id,createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexCustodianSlip(t){return{id:t.id,slipNumber:t.slip_number,custodianName:t.custodian_name,designation:t.designation,office:t.office,dateIssued:t.date_issued,issuedBy:t.issued_by,receivedBy:t.received_by,items:[],createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexCustodianSlipItem(t){return{id:t.id,slipId:t.slip_id,inventoryItemId:t.inventory_item_id,propertyNumber:t.property_number,description:t.description,quantity:t.quantity,unit:t.unit,unitCost:t.unit_cost||0,totalCost:t.total_cost||0,amount:t.amount||0,itemNumber:t.item_number||"",estimatedUsefulLife:t.estimated_useful_life||"",dateIssued:t.date_issued,propertyCardEntryId:t.property_card_entry_id,createdAt:t.created_at,updatedAt:t.updated_at}}}const Po=new MB,LB=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,p]=h.useState(null),{toast:x}=$n(),g=Li(),[w]=ZF(),y=Bn();h.useEffect(()=>{const M=ne.channel("realtime:inventory-page").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory item changed, refreshing..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).on("postgres_changes",{event:"*",schema:"public",table:"property_cards"},()=>{console.log("[Realtime] Property cards changed, refreshing inventory..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing inventory..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).subscribe();return()=>{ne.removeChannel(M)}},[g]);const v=w.get("filter"),b=w.get("valueFilter"),N=M=>{const se=new URLSearchParams;M!=="all"&&se.set("filter",M),b&&se.set("valueFilter",b),y(`/inventory${se.toString()?"?"+se.toString():""}`)},j=M=>{const se=new URLSearchParams;v&&se.set("filter",v),M!=="all"&&se.set("valueFilter",M),y(`/inventory${se.toString()?"?"+se.toString():""}`)},{data:C=[],isLoading:E,isFetching:D,error:H}=Bt({queryKey:["inventory-items-high-value",c,v],queryFn:async()=>{console.log("Fetching high value items, searchTerm:",c,"filter:",v);const M=c.trim()?await kr.search(c,{filter:v,valueFilter:"high-value"}):await kr.getAll({filter:v,valueFilter:"high-value"});return console.log("High value inventory response:",M),M.success?M.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(M,se)=>navigator.onLine?M<2:!1}),{data:U=[],isLoading:I,isFetching:q,error:F}=Bt({queryKey:["inventory-items-low-value",c,v],queryFn:async()=>{console.log("Fetching low value items, searchTerm:",c,"filter:",v);const M=c.trim()?await kr.search(c,{filter:v,valueFilter:"low-value"}):await kr.getAll({filter:v,valueFilter:"low-value"});return console.log("Low value inventory response:",M),M.success?M.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(M,se)=>navigator.onLine?M<2:!1}),{data:P=[],isLoading:_,isFetching:T,error:ee}=Bt({queryKey:["inventory-items-filtered",c,v,b],queryFn:async()=>{console.log("Fetching filtered inventory items, searchTerm:",c,"filter:",v,"valueFilter:",b);const M=c.trim()?await kr.search(c,{filter:v,valueFilter:b}):await kr.getAll({filter:v,valueFilter:b});return console.log("Filtered inventory response:",M),M.success?M.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(M,se)=>navigator.onLine?M<2:!1,enabled:!!b}),W=b?P:[],B=b?_:!1,oe=b?T:D||q,me=b?ee:null,V=ja({mutationFn:async({item:M,autoCreatePropertyCard:se})=>{const Le=await kr.create(M);if(!Le.success||!Le.data)throw new Error(Le.error||"Failed to create inventory item");const ke=Le.data;if(console.log("[Inventory] Checking auto-create:",{autoCreatePropertyCard:se,hasId:!!ke.id}),se&&ke.id){console.log("[Inventory] Auto-create enabled, creating property card...");try{let qe="General Fund";if(M.fundSource){console.log("[Inventory] Fetching fund source:",M.fundSource);const re=(await Pr.getFundSources()).find(pe=>pe.id===M.fundSource);re&&(qe=re.name,console.log("[Inventory] Found fund source:",qe))}console.log("[Inventory] Creating property card with:",{inventoryItemId:ke.id,entityName:M.entityName||"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:qe,propertyNumber:ke.propertyNumber});const O=await Po.createPropertyCardFromInventory({inventoryItemId:ke.id,entityName:M.entityName||"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:qe});return console.log("[Inventory]  Property card created successfully:",{id:O.id,propertyNumber:O.propertyNumber}),{data:ke,propertyCardCreated:!0,propertyCardId:O.id,success:!0,error:null}}catch(qe){console.error("[Inventory]  Error auto-creating property card:",qe);const O=qe instanceof Error?qe.message:String(qe);return console.error("[Inventory] Error details:",{message:O,stack:qe instanceof Error?qe.stack:void 0}),{data:ke,propertyCardCreated:!1,propertyCardError:O,success:!0,error:null}}}return console.log("[Inventory] Auto-create not enabled or no item ID"),{data:ke,propertyCardCreated:!1,success:!0,error:null}},onSuccess:async M=>{if(await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["dashboard-stats"]}),g.invalidateQueries({queryKey:["annex-property-cards"]}),g.invalidateQueries({queryKey:["available-inventory-for-cards"]}),g.invalidateQueries({queryKey:["inventory-items-for-property-cards"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["annex-property-cards"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),!M.data)return;const se=M.data;M.propertyCardCreated?(console.log("Property card was created successfully, showing success message"),x({title:"Inventory Item & Property Card Created Successfully",description:`Item ${se.propertyNumber} has been added and a property card was automatically created. You can now assign this item to a custodian.`,action:s.jsx(ce,{variant:"outline",size:"sm",onClick:()=>y("/property-cards"),children:"View Property Cards"})})):M.propertyCardError?x({title:"Inventory Item Created",description:`Item ${se.propertyNumber} was created, but property card creation failed: ${M.propertyCardError}. You can create it manually.`,variant:"destructive",action:s.jsx(ce,{variant:"outline",size:"sm",onClick:()=>y("/property-cards",{state:{prefillItem:{propertyNumber:se.propertyNumber,description:se.description}}}),children:"Create Property Card"})}):x({title:"Inventory Item Created Successfully",description:`Item ${se.propertyNumber} has been added. To assign this item to a custodian, you'll need to create a property card first.`,action:s.jsx(ce,{variant:"outline",size:"sm",onClick:()=>y("/property-cards",{state:{prefillItem:{propertyNumber:se.propertyNumber,description:se.description}}}),children:"Create Property Card"})})},onError:()=>{x({title:"Error",description:"Failed to create inventory item",variant:"destructive"})}}),A=ja({mutationFn:({id:M,updates:se})=>kr.update(M,se),onSuccess:async()=>{await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["dashboard-stats"]}),g.invalidateQueries({queryKey:["annex-property-cards"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),x({title:"Success",description:"Inventory item updated successfully"})},onError:()=>{x({title:"Error",description:"Failed to update inventory item",variant:"destructive"})}}),X=ja({mutationFn:M=>kr.delete(M),onSuccess:async()=>{await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["annex-property-cards"]}),g.invalidateQueries({queryKey:["property-cards"]}),g.invalidateQueries({queryKey:["dashboard-stats"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),x({title:"Success",description:"Inventory item deleted successfully"})},onError:M=>{const se=(M==null?void 0:M.message)||(M==null?void 0:M.error)||"Failed to delete inventory item";x({title:"Cannot Delete Item",description:se,variant:"destructive"})}}),G=async(M,se)=>{console.log("[Inventory] handleSave called",{isEditing:!!r,autoCreatePropertyCard:se,propertyNumber:M.propertyNumber});try{r?await A.mutateAsync({id:M.id,updates:M}):(console.log("[Inventory] Creating new item with autoCreatePropertyCard:",se),await V.mutateAsync({item:M,autoCreatePropertyCard:se})),t(!1),n(void 0)}catch(Le){console.error("[Inventory] Error in handleSave:",Le)}},ie=M=>{i(M),l(!0)},te=M=>{n(M),t(!0)},R=M=>{if(M.assignmentStatus==="Assigned"||M.custodian&&M.custodian.trim()!==""){x({title:"Cannot Delete Item",description:`This item cannot be deleted because it is currently assigned to ${M.custodian||"a custodian"}. Please unassign the item from the custodian first before deleting.`,variant:"destructive"});return}p(M),f(!0)},Z=M=>M.assignmentStatus==="Assigned"||M.custodian&&M.custodian.trim()!=="",le=async()=>{if(m)try{await X.mutateAsync(m.id),f(!1),p(null)}catch{}},ae=(()=>{let M;return se=>{clearTimeout(M),M=setTimeout(()=>{d(se)},300)}})(),Pe=M=>{switch(M){case"Serviceable":return"bg-green-100 text-green-800";case"For Repair":return"bg-yellow-100 text-yellow-800";case"Unserviceable":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ue=M=>{switch(M){case"Active":return"bg-green-100 text-green-800";case"Transferred":return"bg-blue-100 text-blue-800";case"Disposed":return"bg-gray-100 text-gray-800";case"Missing":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=M=>M.condition!=="Serviceable"?{status:"Unavailable",reason:`Condition: ${M.condition}`,color:"bg-red-100 text-red-800"}:M.status!=="Active"?{status:"Unavailable",reason:`Status: ${M.status}`,color:"bg-gray-100 text-gray-800"}:M.assignmentStatus==="Assigned"?{status:"Assigned",reason:"Assigned via custodian slip",color:"bg-blue-100 text-blue-800"}:{status:"Available",reason:"Ready for assignment",color:"bg-green-100 text-green-800"};if(e)return s.jsx(g5,{item:r,onSave:G,onCancel:()=>{t(!1),n(void 0)},isSaving:V.isPending||A.isPending});if((B||E||I)&&W.length===0&&C.length===0&&U.length===0)return s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading inventory..."})]});if((me||H||F)&&navigator.onLine){const M=me instanceof Error?me.message:H instanceof Error?H.message:F instanceof Error?F.message:String(me||H||F||"Unknown error");return s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(mr,{className:"max-w-md mx-auto",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsxs(pr,{children:["Error: ",M]})]}),s.jsx(ce,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]})}return me&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(mr,{className:"max-w-md mx-auto",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsx(pr,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded inventory data will appear when available."})})]}):s.jsxs("div",{className:"space-y-6 relative",children:[oe&&!B&&s.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm z-40 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 bg-background border rounded-lg shadow-lg p-4",children:[s.jsx(Kt,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Refreshing inventory..."})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>y("/inventory"),className:"flex items-center space-x-2",disabled:V.isPending||A.isPending||X.isPending,children:[s.jsx(DN,{className:"h-4 w-4"}),s.jsx("span",{children:v||b?"Clear Filters":"View All Items"})]}),s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:v==="issued"?"Issued Items":v==="available"?"Available Items":"Inventory Management"})]}),s.jsxs(ce,{onClick:()=>t(!0),className:"bg-primary hover:bg-primary-dark",disabled:V.isPending||A.isPending||X.isPending,children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),(v||b)&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[v==="issued"&&b==="high-value"&&"Showing high value items (above 5,000) that have been issued to custodians",v==="issued"&&b==="low-value"&&"Showing low value items (5,000 or less) that have been issued to custodians",v==="available"&&b==="high-value"&&"Showing high value items (above 5,000) available for assignment",v==="available"&&b==="low-value"&&"Showing low value items (5,000 or less) available for assignment",v==="issued"&&!b&&"Showing only items that have been issued to custodians",v==="available"&&!b&&"Showing only items available for assignment",!v&&b==="high-value"&&"Showing only high value items (above 5,000)",!v&&b==="low-value"&&"Showing only low value items (5,000 or less)"]})]})}),(()=>{const M=(se,Le)=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{children:"Property Number"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Custodian"}),s.jsx(_e,{children:"Condition"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Availability"}),s.jsx(_e,{children:"Total Cost"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Fr,{children:Le?s.jsx(nt,{children:s.jsx(ve,{colSpan:8,className:"text-center py-8",children:s.jsx(Kt,{className:"h-6 w-6 animate-spin mx-auto"})})}):se.map(ke=>s.jsxs(nt,{children:[s.jsx(ve,{className:"font-medium",children:ke.propertyNumber}),s.jsxs(ve,{className:"max-w-xs",children:[s.jsx("div",{className:"truncate",title:ke.description,children:ke.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[ke.brand," ",ke.model]})]}),s.jsxs(ve,{children:[s.jsx("div",{children:ke.custodian||"-"}),ke.custodianPosition&&s.jsx("div",{className:"text-xs text-muted-foreground",children:ke.custodianPosition})]}),s.jsx(ve,{children:s.jsx(Ze,{className:Pe(ke.condition),children:ke.condition})}),s.jsx(ve,{children:s.jsx(Ze,{className:Ue(ke.status),children:ke.status})}),s.jsx(ve,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[(()=>{const qe=Q(ke);return s.jsx(Ze,{className:qe.color,title:qe.reason,children:qe.status})})(),ke.hasPropertyCard===!1&&s.jsx(Ze,{variant:"outline",className:"text-xs text-amber-600 border-amber-300 bg-amber-50",children:" No Property Card"})]})}),s.jsxs(ve,{children:["",ke.totalCost.toLocaleString()]}),s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>ie(ke),title:"View Details",disabled:V.isPending||A.isPending||X.isPending,children:s.jsx(Vc,{className:"h-4 w-4"})}),s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>te(ke),title:"Edit",disabled:V.isPending||A.isPending||X.isPending,children:s.jsx(Jx,{className:"h-4 w-4"})}),s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>R(ke),title:Z(ke)?"Cannot delete: Item is assigned to a custodian":"Delete",className:"text-destructive hover:text-destructive",disabled:X.isPending||V.isPending||A.isPending||Z(ke),children:X.isPending&&(m==null?void 0:m.id)===ke.id?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(xc,{className:"h-4 w-4"})})]})})]},ke.id))})]})});return b?s.jsxs(Ae,{children:[s.jsxs(Ve,{children:[s.jsx(Ke,{children:v==="issued"?"Issued Semi-Expendable Property Items":v==="available"?"Available Semi-Expendable Property Items":"Semi-Expendable Property Items"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Mn,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(Te,{placeholder:"Search by property number, description, or custodian...",value:c,onChange:se=>{d(se.target.value),ae(se.target.value)},className:"pl-10"})]}),s.jsxs(wt,{value:v||"all",onValueChange:N,children:[s.jsx(gt,{className:"w-40",children:s.jsx(jt,{placeholder:"Status..."})}),s.jsxs(vt,{children:[s.jsx(be,{value:"all",children:"All Items"}),s.jsx(be,{value:"available",children:"Available"}),s.jsx(be,{value:"issued",children:"Issued"})]})]}),s.jsxs(wt,{value:b||"all",onValueChange:j,children:[s.jsx(gt,{className:"w-48",children:s.jsx(jt,{placeholder:"Value Filter..."})}),s.jsxs(vt,{children:[s.jsx(be,{value:"all",children:"All Values"}),s.jsx(be,{value:"high-value",children:"High Value (>5,000)"}),s.jsx(be,{value:"low-value",children:"Low Value (5,000)"})]})]})]})]}),s.jsxs(Ie,{children:[M(W,B),W.length===0&&!B&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No inventory items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]})]}):s.jsxs(Ae,{children:[s.jsxs(Ve,{children:[s.jsx(Ke,{children:v==="issued"?"Issued Semi-Expendable Property Items":v==="available"?"Available Semi-Expendable Property Items":"Semi-Expendable Property Items"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Mn,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(Te,{placeholder:"Search by property number, description, or custodian...",value:c,onChange:se=>{d(se.target.value),ae(se.target.value)},className:"pl-10"})]}),s.jsxs(wt,{value:v||"all",onValueChange:N,children:[s.jsx(gt,{className:"w-40",children:s.jsx(jt,{placeholder:"Status..."})}),s.jsxs(vt,{children:[s.jsx(be,{value:"all",children:"All Items"}),s.jsx(be,{value:"available",children:"Available"}),s.jsx(be,{value:"issued",children:"Issued"})]})]})]})]}),s.jsx(Ie,{children:s.jsxs(Jf,{defaultValue:"high-value",className:"w-full",children:[s.jsxs(td,{className:"grid w-full grid-cols-2",children:[s.jsxs(cn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:E?"...":C.length})]}),s.jsxs(cn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:I?"...":U.length})]})]}),s.jsxs(dn,{value:"high-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items above 5,000 - High Value Expendable"}),M(C,E),C.length===0&&!E&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No high value items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]}),s.jsxs(dn,{value:"low-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items 5,000 or less - Small Value Expendable"}),M(U,I),U.length===0&&!I&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No low value items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]})]})})]})})(),s.jsx(Qr,{open:o,onOpenChange:l,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xr,{children:[s.jsxs(Jr,{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-5 w-5"}),"Inventory Item Details"]}),s.jsx(ls,{children:"Complete information about this inventory item"})]}),a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{className:"text-lg",children:"Basic Information"})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Property Number"}),s.jsx("p",{className:"font-mono font-semibold",children:a.propertyNumber})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),s.jsx("p",{children:a.description})]}),a.semiExpandableCategory&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Semi-Expandable Category"}),s.jsx("p",{children:a.semiExpandableCategory})]}),a.subCategory&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Sub-Category"}),s.jsx(Ze,{variant:"outline",children:a.subCategory})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(Ze,{className:Ue(a.status),children:a.status})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),s.jsx(Ze,{className:Pe(a.condition),children:a.condition})]})]})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{className:"text-lg",children:"Item Details"})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),s.jsx("p",{children:a.brand||"-"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),s.jsx("p",{children:a.model||"-"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Serial Number"}),s.jsx("p",{className:"font-mono",children:a.serialNumber||"-"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),s.jsxs("p",{children:[a.quantity," ",a.unitOfMeasure]})]})]})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5"}),"Financial Information"]})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Unit Cost"}),s.jsxs("p",{className:"font-semibold",children:["",a.unitCost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),s.jsxs("p",{className:"font-semibold text-lg",children:["",a.totalCost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.dateAcquired&&s.jsxs("div",{children:[s.jsxs(ue,{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(nu,{className:"h-3 w-3"}),"Date Acquired"]}),s.jsx("p",{children:rs(new Date(a.dateAcquired),"MMMM dd, yyyy")})]})]})]}),(a.custodian||a.assignmentStatus)&&s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(mv,{className:"h-5 w-5"}),"Assignment Information"]})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Custodian"}),s.jsx("p",{children:a.custodian||"-"}),a.custodianPosition&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.custodianPosition})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Assignment Status"}),(()=>{const M=Q(a);return s.jsx(Ze,{className:M.color,children:M.status})})(),a.hasPropertyCard===!1&&s.jsx(Ze,{variant:"outline",className:"ml-2 text-xs text-amber-600 border-amber-300 bg-amber-50",children:" No Property Card"})]}),a.assignedDate&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Assigned Date"}),s.jsx("p",{children:rs(new Date(a.assignedDate),"MMMM dd, yyyy")})]})]})]}),(a.remarks||a.entityName||a.lastInventoryDate)&&s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{className:"text-lg",children:"Additional Information"})}),s.jsxs(Ie,{className:"space-y-4",children:[a.entityName&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Entity Name"}),s.jsx("p",{children:a.entityName})]}),a.lastInventoryDate&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Last Inventory Date"}),s.jsx("p",{children:rs(new Date(a.lastInventoryDate),"MMMM dd, yyyy")})]}),a.remarks&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Remarks"}),s.jsx("p",{className:"whitespace-pre-wrap",children:a.remarks})]})]})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{className:"text-lg",children:"System Information"})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-sm",children:rs(new Date(a.createdAt),"MMMM dd, yyyy HH:mm")})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm",children:rs(new Date(a.updatedAt),"MMMM dd, yyyy HH:mm")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>l(!1),disabled:V.isPending||A.isPending||X.isPending,children:"Close"}),s.jsxs(ce,{onClick:()=>{l(!1),te(a)},disabled:V.isPending||A.isPending||X.isPending,children:[s.jsx(Jx,{className:"h-4 w-4 mr-2"}),"Edit Item"]})]})]})]})}),s.jsx(P5,{open:u,onOpenChange:f,children:s.jsxs(KE,{children:[s.jsxs(QE,{children:[s.jsx(YE,{children:"Are you sure?"}),s.jsx(XE,{children:m&&Z(m)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-destructive font-semibold",children:" This item cannot be deleted because it is currently under custody."}),s.jsxs("p",{children:["The item ",s.jsxs("span",{className:"font-semibold",children:['"',m.propertyNumber," - ",m.description,'"']})," is assigned to ",s.jsx("span",{className:"font-semibold",children:m.custodian||"a custodian"}),"."]}),s.jsx("p",{children:"Please unassign the item from the custodian first before deleting it."})]}):s.jsxs("p",{children:["This action cannot be undone. This will permanently delete the inventory item",m&&s.jsxs("span",{className:"font-semibold",children:[' "',m.propertyNumber," - ",m.description,'"']})," from the system."]})})]}),s.jsxs(GE,{children:[s.jsx(ZE,{disabled:X.isPending,children:"Cancel"}),m&&!Z(m)&&s.jsx(JE,{onClick:le,disabled:X.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:X.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xc,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})})]})},sk=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Semi-Expendable Property Card"}),s.jsxs(ce,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Ae,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Ve,{className:"border-b-2 border-black p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute right-0 top-0 text-[11px]",children:"Annex A.1"}),s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-base font-bold uppercase tracking-wide",children:"SEMI-EXPANDABLE PROPERTY CARD"})})]})}),s.jsxs(Ie,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Entity Name :"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.entityName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Fund Cluster:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.fundCluster})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Semi-expendable Property:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.semiExpendableProperty})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Semi-expendable Property Number:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.propertyNumber})]})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Description :"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.description})]})}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"border-r border-black p-1 text-center w-[8%]",children:"Date"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[12%]",children:"Reference"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:3,children:"Receipt"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:3,children:"Issue/Transfer/Disposal"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Balance"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Amount"}),s.jsx("th",{className:"p-1 text-center w-[14%]",children:"Remarks"})]}),s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[8%]",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[14%]",children:"Office/Officer"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"p-1"})]})]}),s.jsxs("tbody",{children:[e.entries.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.date}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.reference}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.receiptQty||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.unitCost?`${r.unitCost.toFixed(2)}`:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.totalCost?`${r.totalCost.toFixed(2)}`:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.issueItemNo||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.issueQty||""}),s.jsx("td",{className:"border-r border-black p-2 align-top",children:r.officeOfficer||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.balanceQty||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.amount?`${r.amount.toFixed(2)}`:""}),s.jsx("td",{className:"p-2 align-top",children:r.remarks||""})]},n)),Array.from({length:Math.max(0,15-e.entries.length)}).map((r,n)=>s.jsx("tr",{className:"border-b border-gray-300",children:Array.from({length:11}).map((a,i)=>s.jsx("td",{className:`${i<10?"border-r border-black":""} p-3 h-8`,children:" "},i))},`empty-${n}`))]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-6 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-[11px] font-semibold",children:"Property and/or Supply Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-[11px] font-semibold",children:"Accountable Officer"})]})]})]})]})]})};var vy="Progress",yy=100,[FB,CV]=wr(vy),[$B,UB]=FB(vy),ak=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=BB,...o}=e;(a||a===0)&&!b0(a)&&console.error(qB(`${a}`,"Progress"));const l=b0(a)?a:yy;n!==null&&!w0(n,l)&&console.error(VB(`${n}`,"Progress"));const c=w0(n,l)?n:null,d=Xu(c)?i(c,l):void 0;return s.jsx($B,{scope:r,value:c,max:l,children:s.jsx(De.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":lk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ak.displayName=vy;var ik="ProgressIndicator",ok=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=UB(ik,r);return s.jsx(De.div,{"data-state":lk(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});ok.displayName=ik;function BB(e,t){return`${Math.round(e/t*100)}%`}function lk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xu(e){return typeof e=="number"}function b0(e){return Xu(e)&&!isNaN(e)&&e>0}function w0(e,t){return Xu(e)&&!isNaN(e)&&e<=t&&e>=0}function qB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yy}\`.`}function VB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ck=ak,zB=ok;const cg=h.forwardRef(({className:e,value:t,...r},n)=>s.jsx(ck,{ref:n,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(zB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));cg.displayName=ck.displayName;const hm=[{id:"general-fund",name:"General Fund",entityName:"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:"General Fund",description:"Standard property cards for general fund items",rules:{fundSource:"general"}},{id:"custom",name:"Custom Template",entityName:"",fundCluster:"",description:"Create a custom template",rules:{}}],WB=({isOpen:e,onClose:t,onSuccess:r,inventoryItems:n})=>{const[a,i]=h.useState("selection"),[o,l]=h.useState([]),[c,d]=h.useState(null),[u,f]=h.useState(hm[2]),[m,p]=h.useState([]),[x,g]=h.useState(!1),[w,y]=h.useState(0);h.useEffect(()=>{e&&(i("selection"),l([]),d(null),p([]),g(!1),y(0))},[e]),h.useMemo(()=>n.filter(_=>o.includes(_.id)),[n,o]),h.useEffect(()=>{if(c&&o.length>0){const _=o.map(T=>(n.find(ee=>ee.id===T),{itemId:T,entityName:c.entityName,fundCluster:c.fundCluster,isOverridden:!1}));p(_)}},[c,o,n]);const v=async _=>{try{const{data:T}=await ne.from("fund_sources").select("name").eq("id",_).single();return(T==null?void 0:T.name)||null}catch(T){return console.error("Error fetching fund source:",T),null}},b=async _=>{const T=n.find(B=>B.id===_);if(!T)return;let ee=(c==null?void 0:c.entityName)||"",W=(c==null?void 0:c.fundCluster)||"";if(T.entityName&&(ee=T.entityName),T.fundSource){const B=await v(T.fundSource);B&&(W=B)}return{entityName:ee,fundCluster:W}},N=_=>{l(T=>T.includes(_)?T.filter(ee=>ee!==_):[...T,_])},j=_=>{const T=hm.find(ee=>ee.id===_);d(T||null)},C=(_,T)=>{f(ee=>({...ee,[_]:T}))},E=(_,T,ee)=>{p(W=>W.map(B=>B.itemId===_?{...B,[T]:ee,isOverridden:!0}:B))},D=async()=>{const _=await Promise.all(o.map(async T=>{const ee=await b(T);return{itemId:T,entityName:(ee==null?void 0:ee.entityName)||(c==null?void 0:c.entityName)||"",fundCluster:(ee==null?void 0:ee.fundCluster)||(c==null?void 0:c.fundCluster)||"",isOverridden:!1}}));p(_)},H=async()=>{g(!0),y(0);try{for(let _=0;_<m.length;_++){const T=m[_],ee=n.find(oe=>oe.id===T.itemId);if(!ee)continue;const W=ee.description||(ee.model?`${ee.brand?ee.brand+" ":""}${ee.model}`:ee.brand)||"",{error:B}=await ne.from("property_cards").insert({entity_name:T.entityName,fund_cluster:T.fundCluster,semi_expendable_property:W,property_number:ee.propertyNumber,description:W,date_acquired:ee.dateAcquired,remarks:ee.remarks,inventory_item_id:ee.id});B?console.error(`Error creating property card for ${ee.propertyNumber}:`,B):y(_+1)}r(),t()}catch(_){console.error("Error creating property cards:",_)}finally{g(!1)}},U=()=>{const _=["selection","template","configuration","overrides","preview","processing"],T=_.indexOf(a);T<_.length-1&&i(_[T+1])},I=()=>{const _=["selection","template","configuration","overrides","preview","processing"],T=_.indexOf(a);T>0&&i(_[T-1])},q=()=>{switch(a){case"selection":return o.length>0;case"template":return c!==null;case"configuration":return!0;case"overrides":return!0;case"preview":return!0;default:return!1}},F=()=>{switch(a){case"selection":return"Select Inventory Items";case"template":return"Choose Template";case"configuration":return"Configure Common Settings";case"overrides":return"Customize Individual Items";case"preview":return"Preview & Confirm";case"processing":return"Creating Property Cards";default:return""}},P=()=>{switch(a){case"selection":return s.jsx(vi,{className:"h-5 w-5"});case"template":return s.jsx(fn,{className:"h-5 w-5"});case"configuration":return s.jsx(pp,{className:"h-5 w-5"});case"overrides":return s.jsx(pp,{className:"h-5 w-5"});case"preview":return s.jsx(Vc,{className:"h-5 w-5"});case"processing":return s.jsx(Go,{className:"h-5 w-5"});default:return null}};return s.jsx(Qr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xr,{children:s.jsxs(Jr,{className:"flex items-center gap-2",children:[P(),"Bulk Create Property Cards - ",F()]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Step ",["selection","template","configuration","overrides","preview","processing"].indexOf(a)+1," of 6"]}),s.jsxs("span",{children:[o.length," items selected"]})]}),s.jsx(cg,{value:(["selection","template","configuration","overrides","preview","processing"].indexOf(a)+1)*16.67,className:"h-2"})]}),s.jsxs("div",{className:"space-y-6",children:[a==="selection"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(mr,{children:s.jsx(pr,{children:"Select the inventory items you want to create property cards for. You can select multiple items at once."})}),s.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto",children:n.map(_=>{const T=_.description||(_.model?`${_.brand?_.brand+" ":""}${_.model}`:_.brand)||"";return s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[s.jsx(sd,{id:_.id,checked:o.includes(_.id),onCheckedChange:()=>N(_.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(ue,{htmlFor:_.id,className:"font-medium",children:[_.propertyNumber," - ",T]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.category,"  ",_.condition,"  ",_.fundSource?"Has Fund Source":"No Fund Source"]})]})]},_.id)})})]}),a==="template"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(mr,{children:s.jsx(pr,{children:"Choose a template to apply common settings to all selected items. You can customize individual items later."})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:hm.map(_=>s.jsxs(Ae,{className:`cursor-pointer transition-colors ${(c==null?void 0:c.id)===_.id?"ring-2 ring-primary":""}`,onClick:()=>j(_.id),children:[s.jsxs(Ve,{children:[s.jsx(Ke,{className:"text-lg",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]}),s.jsx(Ie,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Entity:"})," ",_.entityName||"Custom"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fund Cluster:"})," ",_.fundCluster||"Custom"]})]})})]},_.id))}),(c==null?void 0:c.id)==="custom"&&s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Custom Template"})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"customEntityName",children:"Entity Name"}),s.jsx(Te,{id:"customEntityName",value:u.entityName,onChange:_=>C("entityName",_.target.value),placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"customFundCluster",children:"Fund Cluster"}),s.jsx(Te,{id:"customFundCluster",value:u.fundCluster,onChange:_=>C("fundCluster",_.target.value),placeholder:"Enter fund cluster"})]})]})]})]}),a==="configuration"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(mr,{children:s.jsx(pr,{children:"Configure common settings that will be applied to all selected items. You can customize individual items in the next step."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"commonEntityName",children:"Entity Name"}),s.jsx(Te,{id:"commonEntityName",value:(c==null?void 0:c.entityName)||"",onChange:_=>{const T={...c,entityName:_.target.value};d(T)},placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"commonFundCluster",children:"Fund Cluster"}),s.jsx(Te,{id:"commonFundCluster",value:(c==null?void 0:c.fundCluster)||"",onChange:_=>{const T={...c,fundCluster:_.target.value};d(T)},placeholder:"Enter fund cluster"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{onClick:D,variant:"outline",children:"Auto-Assign from Inventory Data"}),s.jsx(ce,{onClick:()=>{p(_=>_.map(T=>({...T,entityName:(c==null?void 0:c.entityName)||"",fundCluster:(c==null?void 0:c.fundCluster)||"",isOverridden:!1})))},variant:"outline",children:"Apply Template to All Items"})]})]}),a==="overrides"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(mr,{children:s.jsx(pr,{children:"Review and customize individual items. Items marked with overrides will use their custom values instead of the template."})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(_=>{const T=n.find(W=>W.id===_.itemId),ee=(T==null?void 0:T.description)||(T!=null&&T.model?`${T!=null&&T.brand?T.brand+" ":""}${T.model}`:T==null?void 0:T.brand)||"";return s.jsx(Ae,{className:_.isOverridden?"ring-2 ring-orange-200":"",children:s.jsxs(Ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[T==null?void 0:T.propertyNumber," - ",ee]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T==null?void 0:T.category})]}),_.isOverridden&&s.jsx(Ze,{variant:"secondary",children:"Customized"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:`entity-${_.itemId}`,children:"Entity Name"}),s.jsx(Te,{id:`entity-${_.itemId}`,value:_.entityName,onChange:W=>E(_.itemId,"entityName",W.target.value),placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:`fund-${_.itemId}`,children:"Fund Cluster"}),s.jsx(Te,{id:`fund-${_.itemId}`,value:_.fundCluster,onChange:W=>E(_.itemId,"fundCluster",W.target.value),placeholder:"Enter fund cluster"})]})]})]})},_.itemId)})})]}),a==="preview"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(mr,{children:s.jsx(pr,{children:"Review all property cards that will be created. Make sure all information is correct before proceeding."})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(_=>{const T=n.find(W=>W.id===_.itemId),ee=(T==null?void 0:T.description)||(T!=null&&T.model?`${T!=null&&T.brand?T.brand+" ":""}${T.model}`:T==null?void 0:T.brand)||"";return s.jsx(Ae,{children:s.jsxs(Ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:[T==null?void 0:T.propertyNumber," - ",ee]}),_.isOverridden&&s.jsx(Ze,{variant:"secondary",children:"Customized"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",_.entityName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fund Cluster:"})," ",_.fundCluster]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Property Number:"})," ",T==null?void 0:T.propertyNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",ee]})]})]})},_.itemId)})})]}),a==="processing"&&s.jsx("div",{className:"space-y-4 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-lg font-medium",children:"Creating Property Cards..."}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[w," of ",m.length," cards created"]}),s.jsx(cg,{value:w/m.length*100,className:"h-2"})]})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(ce,{variant:"outline",onClick:I,disabled:a==="selection"||a==="processing",children:[s.jsx(DN,{className:"h-4 w-4 mr-2"}),"Previous"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{variant:"outline",onClick:t,children:"Cancel"}),a==="preview"?s.jsxs(ce,{onClick:H,disabled:x,children:[s.jsx(Go,{className:"h-4 w-4 mr-2"}),"Create ",m.length," Property Cards"]}):s.jsxs(ce,{onClick:U,disabled:!q()||a==="processing",children:["Next",s.jsx(CR,{className:"h-4 w-4 ml-2"})]})]})]})]})})},HB=()=>{const e=Un();Bn();const[t,r]=h.useState(""),[n,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState([]),[f,m]=h.useState({entityName:"",fundCluster:"",inventoryItemId:""}),[p,x]=h.useState(!1),[g,w]=h.useState(!1),[y,v]=h.useState(null),[b,N]=h.useState(!1),j=async R=>{try{const{data:Z}=await ne.from("fund_sources").select("name").eq("id",R).single();return(Z==null?void 0:Z.name)||null}catch(Z){return console.error("Error fetching fund source:",Z),null}},[C,E]=h.useState(!1),D=h.useMemo(()=>"",[]);h.useEffect(()=>{n&&(D?(m(R=>({...R,entityName:D})),x(!0)):x(!1))},[n,D]);const{toast:H}=$n(),U=Li(),I=h.useRef(null);h.useEffect(()=>{const R=ne.channel("realtime:property-cards-annex").on("postgres_changes",{event:"*",schema:"public",table:"property_cards"},()=>{console.log("[Realtime] Property card changed, refreshing..."),U.invalidateQueries({queryKey:["annex-property-cards"]})}).on("postgres_changes",{event:"*",schema:"public",table:"property_card_entries"},()=>{console.log("[Realtime] Property card entries changed, refreshing..."),U.invalidateQueries({queryKey:["annex-property-cards"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing property cards and available items..."),U.invalidateQueries({queryKey:["annex-property-cards"]}),U.invalidateQueries({queryKey:["inventory-items-for-property-cards"]})}).subscribe();return()=>{ne.removeChannel(R)}},[U]);const{data:q=[],isLoading:F,error:P}=Bt({queryKey:["annex-property-cards"],queryFn:async()=>{console.log("[PropertyCardsAnnex] Fetching property cards...");const{data:R,error:Z}=await ne.from("property_cards").select(`
          *,
          inventory_items(
            id,
            assignment_status,
            custodian,
            property_number,
            sub_category,
            unit_cost
          )
        `);if(Z)throw console.error("[PropertyCardsAnnex] Error fetching property cards:",Z),Z;console.log("[PropertyCardsAnnex] Fetched property cards:",(R==null?void 0:R.length)||0);const ae=(R||[]).sort((Pe,Ue)=>{const Q=new Date(Pe.created_at).getTime(),M=new Date(Ue.created_at).getTime();return Q!==M?M-Q:(Ue.property_number||"").localeCompare(Pe.property_number||"")}).map(Pe=>{const Ue=Array.isArray(Pe.inventory_items)?Pe.inventory_items[0]:Pe.inventory_items,Q=Ue==null?void 0:Ue.sub_category,M=(Ue==null?void 0:Ue.unit_cost)||0,se=Q==="High Value Expendable"||!Q&&M>5e3;return{id:Pe.id,entityName:Pe.entity_name,fundCluster:Pe.fund_cluster,semiExpendableProperty:Pe.semi_expendable_property,propertyNumber:Pe.property_number,description:Pe.description,dateAcquired:Pe.date_acquired,remarks:Pe.remarks,inventoryItemId:Pe.inventory_item_id,entries:[],createdAt:Pe.created_at,updatedAt:Pe.updated_at,assignmentStatus:Ue==null?void 0:Ue.assignment_status,custodian:Ue==null?void 0:Ue.custodian,subCategory:Q||(se?"High Value Expendable":"Small Value Expendable"),unitCost:M,isHighValue:se}});return console.log("[PropertyCardsAnnex] Mapped property cards:",ae.length),ae},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:(R,Z)=>navigator.onLine?R<2:!1}),{data:_=[]}=Bt({queryKey:["available-inventory-for-cards"],queryFn:async()=>{const{data:R,error:Z}=await ne.from("inventory_items").select("*").eq("category","Semi-Expendable").eq("status","Active").eq("condition","Serviceable").order("created_at",{ascending:!1});if(Z){console.error("Error fetching available inventory:",Z);const ae=await kr.getAll();if(ae.success){const Pe=q.map(Ue=>Ue.inventoryItemId).filter(Boolean);return ae.data.filter(Ue=>Ue.condition==="Serviceable"&&!Pe.includes(Ue.id)&&Ue.status==="Active"&&(!Ue.assignmentStatus||Ue.assignmentStatus==="Available"))}return[]}const le=q.map(ae=>ae.inventoryItemId).filter(Boolean);return R.filter(ae=>!le.includes(ae.id)).map(ae=>({id:ae.id,propertyNumber:ae.property_number,description:ae.description,brand:ae.brand,model:ae.model,serialNumber:ae.serial_number,entityName:ae.entity_name,unitOfMeasure:ae.unit_of_measure,quantity:ae.quantity,unitCost:ae.unit_cost,totalCost:ae.total_cost,dateAcquired:ae.date_acquired,supplier:ae.supplier_id,condition:ae.condition,location:ae.location,fundSource:ae.fund_source_id,remarks:ae.remarks,lastInventoryDate:ae.last_inventory_date,category:ae.category,subCategory:ae.sub_category,status:ae.status,assignmentStatus:ae.assignment_status,assignedDate:ae.assigned_date,createdAt:ae.created_at,updatedAt:ae.updated_at}))},enabled:n,staleTime:2*60*1e3});h.useEffect(()=>{var Z;const R=(Z=e.state)==null?void 0:Z.prefillItem;if(console.log("Checking for prefill item:",R),R)if(console.log("Prefill item found, opening creation dialog"),a(!0),_.length>0){const le=_.find(ae=>ae.propertyNumber===R.propertyNumber);console.log("Matching inventory item:",le),le&&(m(ae=>({...ae,inventoryItemId:le.id})),u([le.id]))}else console.log("No inventory items available yet, will retry when loaded")},[e.state,_]);const T=ja({mutationFn:async R=>await Po.createPropertyCardFromInventory(R),onSuccess:()=>{H({title:"Success",description:"Property card created successfully"}),U.invalidateQueries({queryKey:["annex-property-cards"]}),a(!1),m({entityName:"",fundCluster:"",inventoryItemId:""})},onError:R=>{H({title:"Error",description:R.message,variant:"destructive"})}}),ee=ja({mutationFn:async R=>{const Z=await Wt.canDelete(R);if(!Z.success||!Z.data)throw new Error("This property card cannot be deleted because it has custodian slip references.");const le=await Wt.safeDelete(R);if(!le.success)throw new Error(le.error||"Failed to delete property card");return le.data},onSuccess:()=>{H({title:"Success",description:"Property card deleted successfully"}),U.invalidateQueries({queryKey:["annex-property-cards"]}),v(null),E(!1)},onError:R=>{H({title:"Error",description:R.message,variant:"destructive"})}}),W=async R=>{const Z=await Po.getPropertyCardWithEntries(R);if(!Z)return null;try{const{data:le}=await ne.from("inventory_items").select("*").eq("id",Z.inventoryItemId).single();if(le)return{...Z,brand:le.brand,model:le.model,serialNumber:le.serial_number,quantity:le.quantity,unitOfMeasure:le.unit_of_measure,unitCost:le.unit_cost,totalCost:le.total_cost,semiExpandableCategory:le.semi_expandable_category,subCategory:le.sub_category,condition:le.condition,status:le.status,supplier:le.supplier,fundSource:le.fund_source}}catch(le){console.error("Error fetching inventory details:",le)}return Z},B=async()=>{if(T.isPending){console.log("Property card creation already in progress, ignoring duplicate click");return}if(!f.entityName||!f.fundCluster||!f.inventoryItemId){H({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const R=_.find(Z=>Z.id===f.inventoryItemId);if(!R){H({title:"Error",description:"Selected inventory item not found",variant:"destructive"});return}console.log("Creating property card for item:",R.propertyNumber),T.mutate({inventoryItemId:f.inventoryItemId,entityName:f.entityName,fundCluster:f.fundCluster})},oe=async R=>{try{const Z=await W(R.id);Z&&o(Z)}catch{H({title:"Error",description:"Failed to load property card details",variant:"destructive"})}},me=async R=>{try{const Z=await W(R.id);Z&&(o(Z),c(!0))}catch{H({title:"Error",description:"Failed to load property card for printing",variant:"destructive"})}},V=R=>{if(R.assignmentStatus==="Assigned"){H({title:"Cannot Delete Property Card",description:`This item is currently assigned to ${R.custodian}. Please return the item before deleting the property card.`,variant:"destructive"});return}v(R),E(!0)},A=()=>{y&&ee.mutate(y.id)},X=R=>({entityName:R.entityName,fundCluster:R.fundCluster,semiExpendableProperty:R.semiExpendableProperty,description:R.description,propertyNumber:R.propertyNumber,entries:R.entries||[],remarks:R.remarks||""}),G=q.filter(R=>R.propertyNumber.toLowerCase().includes(t.toLowerCase())||R.description.toLowerCase().includes(t.toLowerCase())||R.entityName.toLowerCase().includes(t.toLowerCase())),ie=G.filter(R=>R.isHighValue===!0),te=G.filter(R=>R.isHighValue!==!0);return F&&q.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading property cards..."})]}):P&&navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(mr,{className:"max-w-md mx-auto",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsxs(pr,{children:["Error: ",P.message]})]}),s.jsx(ce,{onClick:()=>U.invalidateQueries({queryKey:["annex-property-cards"]}),className:"mt-4",children:"Retry"})]}):P&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(mr,{className:"max-w-md mx-auto",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsx(pr,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded property cards will appear when available."})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Semi-Expendable Property Cards (Annex A.1)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ce,{onClick:()=>N(!0),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Bulk Create"]}),s.jsxs(ce,{onClick:()=>a(!0),className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Create from Inventory"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search property cards...",value:t,onChange:R=>r(R.target.value),className:"pl-10"})]})}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Semi-Expendable Property Cards"})}),s.jsx(Ie,{children:s.jsxs(Jf,{defaultValue:"high-value",className:"w-full",children:[s.jsxs(td,{className:"grid w-full grid-cols-2",children:[s.jsxs(cn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:F?"...":ie.length})]}),s.jsxs(cn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:F?"...":te.length})]})]}),(()=>{const R=(Z,le)=>s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{className:"font-semibold",children:"Property Number"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Entity Name"}),s.jsx(_e,{children:"Fund Cluster"}),s.jsx(_e,{children:"Date Acquired"}),s.jsx(_e,{children:"Assignment Status"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Fr,{children:le?s.jsx(nt,{children:s.jsx(ve,{colSpan:7,className:"text-center py-8",children:s.jsx(Kt,{className:"h-6 w-6 animate-spin mx-auto"})})}):Z.length===0?s.jsx(nt,{children:s.jsx(ve,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No property cards found."})}):Z.map(ae=>s.jsxs(nt,{children:[s.jsx(ve,{className:"font-medium font-mono",children:ae.propertyNumber}),s.jsx(ve,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:ae.description,children:ae.description})}),s.jsx(ve,{children:ae.entityName}),s.jsx(ve,{children:ae.fundCluster}),s.jsx(ve,{children:ae.dateAcquired}),s.jsx(ve,{children:ae.assignmentStatus==="Assigned"&&ae.custodian?s.jsxs(Ze,{variant:"secondary",className:"text-xs",children:["Assigned to: ",ae.custodian]}):s.jsx(Ze,{variant:"outline",className:"text-xs",children:"Available"})}),s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>oe(ae),title:"View Details",disabled:ee.isPending,children:s.jsx(Vc,{className:"h-4 w-4"})}),s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>me(ae),title:"Print",disabled:ee.isPending,children:s.jsx(yr,{className:"h-4 w-4"})}),s.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>V(ae),title:ae.assignmentStatus==="Assigned"?`Cannot delete - item is assigned to ${ae.custodian}`:"Delete property card",className:"text-destructive hover:text-destructive",disabled:ee.isPending||ae.assignmentStatus==="Assigned",children:ee.isPending&&(y==null?void 0:y.id)===ae.id?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(xc,{className:"h-4 w-4"})})]})})]},ae.id))})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(dn,{value:"high-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items above 5,000 - High Value Expendable (SPHV)"}),R(ie,F)]}),s.jsxs(dn,{value:"low-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items 5,000 or less - Small Value Expendable (SPLV)"}),R(te,F)]})]})})()]})})]}),s.jsx(Qr,{open:n,onOpenChange:a,children:s.jsxs(Ir,{className:"max-w-2xl",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Create Property Card from Inventory"}),s.jsx(ls,{children:"Select an inventory item to create a Semi-Expendable Property Card (Annex A.1)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Te,{id:"entityName",value:f.entityName,onChange:R=>m(Z=>({...Z,entityName:R.target.value})),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO",disabled:p})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"fundCluster",children:"Fund Cluster *"}),s.jsx(Te,{id:"fundCluster",value:f.fundCluster,onChange:R=>m(Z=>({...Z,fundCluster:R.target.value})),placeholder:"Enter fund cluster",disabled:g})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"inventoryItem",children:"Select Inventory Item *"}),s.jsxs(wt,{value:f.inventoryItemId,onValueChange:async R=>{const Z=_.find(le=>le.id===R);if(m(le=>({...le,inventoryItemId:R,entityName:(Z==null?void 0:Z.entityName)||le.entityName})),x(!!(Z!=null&&Z.entityName)),Z!=null&&Z.fundSource){const le=await j(Z.fundSource);le?(m(ae=>({...ae,fundCluster:le})),w(!0)):w(!1)}else w(!1)},children:[s.jsx(gt,{children:s.jsx(jt,{placeholder:"Choose an inventory item"})}),s.jsx(vt,{children:_.map(R=>s.jsxs(be,{value:R.id,children:[R.propertyNumber," - ",R.description]},R.id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(ce,{onClick:B,disabled:T.isPending,children:[T.isPending&&s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Property Card"]})]})]})]})}),s.jsx(Qr,{open:l,onOpenChange:c,children:s.jsx(Ir,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{ref:I,children:i&&s.jsx(sk,{data:X(i)})})})}),s.jsx(Qr,{open:!!i&&!l,onOpenChange:()=>o(null),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Property Card Details"}),s.jsxs(ls,{children:[i==null?void 0:i.propertyNumber," - ",i==null?void 0:i.description]})]}),i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Entity Name"}),s.jsx("p",{className:"text-sm",children:i.entityName})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Fund Cluster"}),s.jsx("p",{className:"text-sm",children:i.fundCluster})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Property Number"}),s.jsx("p",{className:"font-mono font-semibold",children:i.propertyNumber})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Date Acquired"}),s.jsx("p",{className:"text-sm",children:i.dateAcquired})]})]}),i.brand||i.model||i.serialNumber?s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Item Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[i.brand&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),s.jsx("p",{className:"text-sm",children:i.brand})]}),i.model&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),s.jsx("p",{className:"text-sm",children:i.model})]}),i.serialNumber&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Serial Number"}),s.jsx("p",{className:"font-mono text-sm",children:i.serialNumber})]}),i.quantity&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),s.jsxs("p",{className:"text-sm",children:[i.quantity," ",i.unitOfMeasure]})]})]})]}):null,i.unitCost!==void 0?s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Financial Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Unit Cost"}),s.jsxs("p",{className:"font-semibold text-sm",children:["",(i.unitCost||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),s.jsxs("p",{className:"font-semibold text-sm",children:["",(i.totalCost||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}):null,i.entries&&i.entries.length>0&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Property Card Entries"}),s.jsx("div",{className:"mt-2 rounded-md border",children:s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{children:"Date"}),s.jsx(_e,{children:"Reference"}),s.jsx(_e,{children:"Receipt Qty"}),s.jsx(_e,{children:"Issue Qty"}),s.jsx(_e,{children:"Office/Officer"}),s.jsx(_e,{children:"Balance"})]})}),s.jsx(Fr,{children:i.entries.map(R=>s.jsxs(nt,{children:[s.jsx(ve,{children:R.date}),s.jsx(ve,{children:R.reference}),s.jsx(ve,{children:R.receiptQty||"-"}),s.jsx(ve,{children:R.issueQty||"-"}),s.jsx(ve,{children:R.officeOfficer||"-"}),s.jsx(ve,{children:R.balanceQty})]},R.id))})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>o(null),children:"Close"}),s.jsxs(ce,{onClick:()=>c(!0),children:[s.jsx(yr,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})]})}),s.jsx(Qr,{open:C,onOpenChange:E,children:s.jsxs(Ir,{children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Delete Property Card"}),s.jsxs(ls,{children:["Are you sure you want to delete this property card? This action cannot be undone.",y&&s.jsxs("div",{className:"mt-2 p-2 bg-muted rounded",children:[s.jsx("strong",{children:"Property Card:"})," ",y.propertyNumber,s.jsx("br",{}),s.jsx("strong",{children:"Description:"})," ",y.description]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>{E(!1),v(null)},disabled:ee.isPending,children:"Cancel"}),s.jsx(ce,{variant:"destructive",onClick:A,disabled:ee.isPending,children:ee.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xc,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})}),s.jsx(WB,{isOpen:b,onClose:()=>N(!1),onSuccess:()=>{U.invalidateQueries({queryKey:["annex-property-cards"]}),U.invalidateQueries({queryKey:["available-inventory-for-cards"]}),U.invalidateQueries({queryKey:["available-inventory-for-slips"]}),U.invalidateQueries({queryKey:["dashboard-stats"]}),H({title:"Success",description:"Property cards created successfully!"})},inventoryItems:_})]})},KB=({data:e})=>{const r=Math.max(0,15-e.items.length);return s.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[s.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:s.jsxs(ce,{onClick:()=>window.print(),className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})}),s.jsxs("div",{className:"border-2 border-black print:border-black min-h-[11in] font-mono text-sm",children:[s.jsx("div",{className:"text-center py-3 border-b border-black",children:s.jsx("h1",{className:"text-lg font-bold",children:"INVENTORY CUSTODIAN SLIP"})}),s.jsxs("div",{className:"grid grid-cols-2 border-b border-black",children:[s.jsxs("div",{className:"p-2 border-r border-black",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Entity Name:"}),s.jsx("div",{className:"border-b border-black flex-1 min-h-[20px] px-1",children:e.entityName})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Fund Cluster:"}),s.jsx("div",{className:"border-b border-black flex-1 min-h-[20px] px-1",children:e.fundCluster})]})]}),s.jsx("div",{className:"p-2 flex items-start justify-end",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"ICS No.:"}),s.jsx("div",{className:"border-b border-black min-w-[120px] min-h-[20px] px-1",children:e.slipNumber})]})})]}),s.jsxs("table",{className:"w-full border-collapse text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-r border-black p-2 w-16 text-center font-semibold",children:"Quantity"}),s.jsx("th",{className:"border-r border-black p-2 w-12 text-center font-semibold",children:"Units of Measure"}),s.jsxs("th",{className:"border-r border-black p-2 text-center font-semibold",children:[s.jsx("div",{children:"Amount"}),s.jsxs("div",{className:"grid grid-cols-2 border-t border-black mt-1",children:[s.jsx("div",{className:"border-r border-black p-1",children:"Unit Cost"}),s.jsx("div",{className:"p-1",children:"Total Cost"})]})]}),s.jsx("th",{className:"border-r border-black p-2 text-center font-semibold",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 w-16 text-center font-semibold",children:"Item No."}),s.jsxs("th",{className:"p-2 w-20 text-center font-semibold",children:[s.jsx("div",{children:"Estimated"}),s.jsx("div",{children:"Useful Life"})]})]})}),s.jsxs("tbody",{children:[e.items.map((n,a)=>s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.quantity}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.unit}),s.jsx("td",{className:"border-r border-black p-0 align-top",children:s.jsxs("div",{className:"grid grid-cols-2 h-full",children:[s.jsxs("div",{className:"border-r border-black p-2 text-right",children:["",n.unitCost.toFixed(2)]}),s.jsxs("div",{className:"p-2 text-right",children:["",n.totalCost.toFixed(2)]})]})}),s.jsx("td",{className:"border-r border-black p-2 align-top",children:n.description}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.itemNumber}),s.jsx("td",{className:"p-2 text-center align-top",children:n.estimatedUsefulLife})]},a)),Array.from({length:r}).map((n,a)=>s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("td",{className:"border-r border-black p-2 h-8",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-0",children:s.jsxs("div",{className:"grid grid-cols-2 h-8",children:[s.jsx("div",{className:"border-r border-black",children:""}),s.jsx("div",{children:""})]})}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"p-2",children:""})]},`empty-${a}`))]})]}),s.jsxs("div",{className:"grid grid-cols-2 border-t border-black",children:[s.jsxs("div",{className:"border-r border-black p-4",children:[s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Received from:"}),s.jsxs("div",{className:"mt-12 pt-8",children:[s.jsx("div",{className:"border-b border-black mb-1 text-center px-1 min-h-[20px]",children:e.issuedBy||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Signature Over Printed Name"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.office||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Position/Office"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.dateIssued||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Date"})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Received by:"}),s.jsxs("div",{className:"mt-12 pt-8",children:[s.jsx("div",{className:"border-b border-black mb-1 text-center px-1 min-h-[20px]",children:e.receivedBy||e.custodianName||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Signature Over Printed Name"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.designation||e.office||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Position/Office"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.dateIssued||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Date"})]})]})]})]})]})},Ss={async getAll(e={}){let t=ne.from("custodians").select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).order("name",{ascending:!0});e.search&&(t=t.or(`name.ilike.%${e.search}%,custodian_no.ilike.%${e.search}%`)),e.department_id&&(t=t.eq("department_id",e.department_id)),e.is_active!==void 0&&(t=t.eq("is_active",e.is_active)),e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));const{data:r,error:n}=await t;if(n)throw n;return(r==null?void 0:r.map(a=>{var i;return{...a,department_name:(i=a.departments)==null?void 0:i.name}}))||[]},async getById(e){var n;const{data:t,error:r}=await ne.from("custodians").select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).eq("id",e).single();if(r)throw r;return t?{...t,department_name:(n=t.departments)==null?void 0:n.name}:null},async getSummary(e){const t=await this.getById(e);if(!t)return null;const{data:r,error:n}=await ne.from("custodian_slips").select("id, slip_number, custodian_name, date_issued").eq("custodian_name",t.name);if(n)throw n;const a=(r==null?void 0:r.map(g=>g.id))||[];let i=[];if(a.length>0){const{data:g,error:w}=await ne.from("custodian_slip_items").select(`
          *,
          inventory_items (
            property_number,
            description,
            category,
            sub_category,
            unit_cost,
            total_cost,
            condition,
            status,
            assignment_status,
            assigned_date
          )
        `).in("slip_id",a);if(w)throw w;i=g||[]}const{data:o,error:l}=await ne.from("inventory_items").select("*").eq("custodian",t.name).eq("assignment_status","Assigned").eq("status","Active");if(l)throw l;const c=(i==null?void 0:i.length)||0,d=(i==null?void 0:i.reduce((g,w)=>{var y;return g+(((y=w.inventory_items)==null?void 0:y.total_cost)||0)},0))||0,u=(o==null?void 0:o.length)||0,f=(o==null?void 0:o.reduce((g,w)=>g+(w.total_cost||0),0))||0,m=c-u,p=d-f,x=r!=null&&r.length?Math.max(...r.map(g=>new Date(g.date_issued||0).getTime())):void 0;return{custodian:t,total_items_assigned:c,total_value_assigned:d,currently_assigned_items:u,currently_assigned_value:f,historical_items:m,historical_value:p,last_activity_date:x?new Date(x).toISOString():void 0}},async getItemHistory(e,t={}){const r=await this.getById(e);if(!r)return[];const{data:n,error:a}=await ne.from("custodian_slips").select("id, slip_number, custodian_name, date_issued").eq("custodian_name",r.name);if(a)throw a;if(!n||n.length===0)return[];const i=n.map(u=>u.id);let o=ne.from("custodian_slip_items").select(`
        *,
        custodian_slips!inner (id, slip_number, custodian_name, date_issued),
        inventory_items (
          property_number,
          description,
          brand,
          model,
          category,
          sub_category,
          unit_cost,
          total_cost,
          condition,
          status,
          assignment_status,
          assigned_date
        )
      `).in("slip_id",i).order("created_at",{ascending:!1});t.includeReturned,t.limit&&(o=o.limit(t.limit)),t.offset&&(o=o.range(t.offset,t.offset+(t.limit||10)-1));const{data:l,error:c}=await o;if(c)throw c;let d=l||[];return t.includeReturned||(d=d.filter(u=>{var f;return((f=u.inventory_items)==null?void 0:f.assignment_status)==="Assigned"})),d.map(u=>{const f=n.find(x=>x.id===u.slip_id),m=u.inventory_items,p=(m==null?void 0:m.description)||(m!=null&&m.model?`${(m==null?void 0:m.brand)||""} ${m==null?void 0:m.model}`.trim():m==null?void 0:m.brand)||"No description available";return{id:u.id,property_number:(m==null?void 0:m.property_number)||"",description:p,category:(m==null?void 0:m.category)||"Semi-Expendable",sub_category:m==null?void 0:m.sub_category,unit_cost:Number(m==null?void 0:m.unit_cost)||0,total_cost:Number(m==null?void 0:m.total_cost)||0,condition:(m==null?void 0:m.condition)||"",status:(m==null?void 0:m.status)||"",assignment_status:(m==null?void 0:m.assignment_status)||"",assigned_date:m==null?void 0:m.assigned_date,custodian_slip_id:u.slip_id,custodian_slip_number:(f==null?void 0:f.slip_number)||"",date_issued:(f==null?void 0:f.date_issued)||"",date_returned:(m==null?void 0:m.assignment_status)==="Available"?m==null?void 0:m.assigned_date:void 0,is_currently_assigned:(m==null?void 0:m.assignment_status)==="Assigned"}})},async getCurrentItems(e){const t=await this.getById(e);if(!t)return[];const{data:r,error:n}=await ne.from("inventory_items").select("*").eq("custodian",t.name).eq("assignment_status","Assigned").eq("status","Active").order("assigned_date",{ascending:!1});if(n)throw n;return(r==null?void 0:r.map(a=>{const i=a.description||(a.model?`${a.brand||""} ${a.model}`.trim():a.brand)||"No description available";return{id:a.id,property_number:a.property_number,description:i,category:a.category||"Semi-Expendable",sub_category:a.sub_category,unit_cost:Number(a.unit_cost)||0,total_cost:Number(a.total_cost)||0,condition:a.condition,status:a.status,assignment_status:a.assignment_status,assigned_date:a.assigned_date,custodian_slip_id:"",custodian_slip_number:"",date_issued:a.assigned_date||"",date_returned:void 0,is_currently_assigned:!0}}))||[]},async create(e){var n;const{data:t,error:r}=await ne.from("custodians").insert([e]).select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).single();if(r)throw r;return{...t,department_name:(n=t.departments)==null?void 0:n.name}},async update(e,t){var a;const{data:r,error:n}=await ne.from("custodians").update(t).eq("id",e).select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).single();if(n)throw n;return{...r,department_name:(a=r.departments)==null?void 0:a.name}},async delete(e){const{error:t}=await ne.from("custodians").delete().eq("id",e);if(t)throw t},async getAllSummaries(e={}){const t=await this.getAll(e),r=[];for(const n of t){const a=await this.getSummary(n.id);a&&r.push(a)}return r}},dg=({value:e,onChange:t,placeholder:r="Search for custodian...",label:n="Custodian Name",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),m=h.useRef(null),p=h.useRef(null),{data:x=[],isLoading:g}=Bt({queryKey:["custodians-search",c],queryFn:()=>Ss.getAll({search:c,is_active:!0,limit:20}),enabled:o,staleTime:5*60*1e3}),w=x.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.custodian_no.toLowerCase().includes(c.toLowerCase())||j.department_name&&j.department_name.toLowerCase().includes(c.toLowerCase())),y=j=>{f(j),d(j.name),l(!1),t(j.name,j)},v=j=>{const C=j.target.value;d(C),C?u&&C!==u.name&&(f(null),t(C)):(f(null),t("")),l(!0)},b=()=>{l(!0),!c&&u&&d(u.name)},N=()=>{setTimeout(()=>{l(!1)},200)};return h.useEffect(()=>{const j=C=>{m.current&&!m.current.contains(C.target)&&l(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),h.useEffect(()=>{e&&!u&&d(e)},[e,u]),s.jsxs("div",{className:Ee("relative",i),ref:m,children:[n&&s.jsxs(ue,{htmlFor:"custodian-selector",className:"text-sm font-medium",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{ref:p,id:"custodian-selector",value:c,onChange:v,onFocus:b,onBlur:N,placeholder:r,className:"pl-10 pr-10",autoComplete:"off"}),s.jsx(ce,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(!o),children:s.jsx(Nf,{className:Ee("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:g?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:"Loading custodians..."}):w.length===0?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:c?"No custodians found":"Start typing to search custodians"}):s.jsx("div",{className:"py-1",children:w.map(j=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:()=>y(j),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.custodian_no,j.department_name&&s.jsxs(s.Fragment,{children:["  ",s.jsx(mv,{className:"inline h-3 w-3 mr-1"}),j.department_name]})]})]})]}),(u==null?void 0:u.id)===j.id&&s.jsx(Ms,{className:"h-4 w-4 text-green-600"})]})},j.id))})})]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",u.name]}),s.jsxs("div",{className:"text-green-600",children:[u.custodian_no,u.department_name&&`  ${u.department_name}`]})]})]})})]})},QB=({value:e,onChange:t,placeholder:r="Search for department...",label:n="Office/Department",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),m=h.useRef(null),p=h.useRef(null),{data:x=[],isLoading:g}=Bt({queryKey:["departments-search",c],queryFn:()=>Pr.getDepartments(),enabled:o,staleTime:5*60*1e3}),w=x.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.code&&j.code.toLowerCase().includes(c.toLowerCase())),y=j=>{f(j),d(j.name),l(!1),t(j.name,j)},v=j=>{const C=j.target.value;d(C),C?u&&C!==u.name&&(f(null),t(C)):(f(null),t("")),l(!0)},b=()=>{l(!0),!c&&u&&d(u.name)},N=()=>{setTimeout(()=>{l(!1)},200)};return h.useEffect(()=>{const j=C=>{m.current&&!m.current.contains(C.target)&&l(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),h.useEffect(()=>{e&&!u&&d(e)},[e,u]),s.jsxs("div",{className:Ee("relative",i),ref:m,children:[n&&s.jsxs(ue,{htmlFor:"department-selector",className:"text-sm font-medium",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{ref:p,id:"department-selector",value:c,onChange:v,onFocus:b,onBlur:N,placeholder:r,className:"pl-10 pr-10",autoComplete:"off"}),s.jsx(ce,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(!o),children:s.jsx(Nf,{className:Ee("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:g?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:"Loading departments..."}):w.length===0?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:c?"No departments found":"Start typing to search departments"}):s.jsx("div",{className:"py-1",children:w.map(j=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",onClick:()=>y(j),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mv,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name}),j.code&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(Gx,{className:"inline h-3 w-3 mr-1"}),j.code]})]})]}),(u==null?void 0:u.id)===j.id&&s.jsx(Ms,{className:"h-4 w-4 text-green-600"})]})},j.id))})})]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",u.name]}),u.code&&s.jsxs("div",{className:"text-green-600",children:[s.jsx(Gx,{className:"inline h-3 w-3 mr-1"}),u.code]})]})]})})]})},GB=({value:e,onChange:t,placeholder:r="Search for custodian or enter manually...",label:n="Received By",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(e),{data:m=[],isLoading:p,error:x}=Bt({queryKey:["custodians-for-received-by"],queryFn:async()=>{try{return await Ss.getAll()||[]}catch(b){return console.error("Error fetching custodians:",b),[]}},staleTime:5*60*1e3}),g=h.useMemo(()=>!e||e.length<2?m:m.filter(b=>{var N,j;return b.name.toLowerCase().includes(e.toLowerCase())||((N=b.position)==null?void 0:N.toLowerCase().includes(e.toLowerCase()))||((j=b.department_name)==null?void 0:j.toLowerCase().includes(e.toLowerCase()))}),[m,e]),w=()=>{d(!c),c?f(""):(f(""),t(""))},y=b=>{t(b),l(!1),d(!1)},v=b=>{f(b),t(b)};return h.useEffect(()=>{c&&f(e)},[e,c]),s.jsxs("div",{className:Ee("space-y-2",i),children:[s.jsxs(ue,{htmlFor:"received-by-selector",children:[n,a&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:c?s.jsx(Te,{id:"received-by-manual",value:u,onChange:b=>v(b.target.value),placeholder:"Enter receiver name manually...",className:"w-full"}):s.jsxs(uE,{open:o,onOpenChange:l,children:[s.jsx(fE,{asChild:!0,children:s.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[e?s.jsx("span",{className:"truncate",children:e}):s.jsx("span",{className:"text-muted-foreground",children:r}),s.jsx(FN,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(oy,{className:"w-full p-0",align:"start",children:s.jsxs(cy,{children:[s.jsx(dy,{placeholder:"Search custodians..."}),s.jsxs(uy,{children:[s.jsx(fy,{children:p?"Loading custodians...":"No custodians found."}),s.jsx(hy,{children:g.map(b=>s.jsxs(my,{value:b.name,onSelect:()=>y(b.name),children:[s.jsx(Ms,{className:Ee("mr-2 h-4 w-4",e===b.name?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.position,"  ",b.department_name]})]})]},b.id))})]})]})})]})}),s.jsx(ce,{type:"button",variant:"outline",size:"sm",onClick:w,className:"px-3",title:c?"Switch to dropdown selection":"Switch to manual input",children:s.jsx(wc,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c?"Manual input mode - type the receiver's name directly":"Dropdown mode - search and select from existing custodians"})]})},YB=()=>{Bn(),Un();const[e,t]=h.useState(""),[r,n]=h.useState(!1),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState([]),[u,f]=h.useState({custodianName:"",designation:"",office:"",dateIssued:new Date().toISOString().split("T")[0],issuedBy:"",receivedBy:""}),[m,p]=h.useState(null),[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useRef(!1),b=(A,X)=>{f(G=>({...G,custodianName:A})),p(X||null),X&&f(G=>({...G,custodianName:A,designation:X.position||G.designation,office:X.department_name||G.office}))},N=(A,X)=>{f(G=>({...G,office:A})),g(X||null)},{toast:j}=$n(),C=Li(),E=h.useRef(null);h.useEffect(()=>{const A=ne.channel("realtime:custodian-slips-annex").on("postgres_changes",{event:"*",schema:"public",table:"custodian_slips"},()=>{console.log("[Realtime] Custodian slip changed, refreshing..."),C.invalidateQueries({queryKey:["annex-custodian-slips"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing..."),C.invalidateQueries({queryKey:["annex-custodian-slips"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing available items..."),C.invalidateQueries({queryKey:["available-inventory-for-slips"]})}).subscribe();return()=>{ne.removeChannel(A)}},[C]);const{data:D=[],isLoading:H,error:U}=Bt({queryKey:["annex-custodian-slips"],queryFn:async()=>{const{data:A,error:X}=await ne.from("custodian_slips").select(`
          *,
          custodian_slip_items(
            *,
            inventory_items (
              estimated_useful_life,
              sub_category,
              category
            )
          )
        `).order("created_at",{ascending:!1});if(X)throw X;return A.map(G=>({id:G.id,slipNumber:G.slip_number,custodianName:G.custodian_name,designation:G.designation,office:G.office,dateIssued:G.date_issued,issuedBy:G.issued_by,receivedBy:G.received_by,slipStatus:G.slip_status,items:G.custodian_slip_items.map(ie=>({id:ie.id,slipId:ie.slip_id,inventoryItemId:ie.inventory_item_id,propertyNumber:ie.property_number,description:ie.description,quantity:ie.quantity,unit:ie.unit,unitCost:ie.unit_cost||0,totalCost:ie.total_cost||0,amount:ie.amount||ie.total_cost||0,itemNumber:ie.item_number||"",estimatedUsefulLife:ie.estimated_useful_life||ie.inventory_items&&ie.inventory_items.estimated_useful_life||"",dateIssued:ie.date_issued,propertyCardEntryId:ie.property_card_entry_id,createdAt:ie.created_at,updatedAt:ie.updated_at})),createdAt:G.created_at,updatedAt:G.updated_at}))},staleTime:5*60*1e3,retry:(A,X)=>navigator.onLine?A<2:!1}),{data:I=[]}=Bt({queryKey:["available-inventory-for-slips"],queryFn:async()=>{const{data:A,error:X}=await ne.from("available_inventory_items_with_property_cards").select("*").order("created_at",{ascending:!1});if(X){console.error("Error fetching available inventory:",X);const G=await kr.getAll();if(G.success){const ie=[];for(const te of G.data){const{data:R}=await ne.from("property_cards").select("id").eq("inventory_item_id",te.id).single();if(R){const Z=te.condition==="Serviceable",le=te.status==="Active",ae=!te.custodian||te.custodian==="",Pe=!te.assignmentStatus||te.assignmentStatus==="Available",Ue=te.assignmentStatus!=="Assigned";Z&&le&&ae&&Pe&&Ue&&ie.push(te)}}return ie}return[]}return A.map(G=>({id:G.id,propertyNumber:G.property_number,description:G.description,brand:G.brand,model:G.model,serialNumber:G.serial_number,unitOfMeasure:G.unit_of_measure,quantity:G.quantity,unitCost:G.unit_cost,totalCost:G.total_cost,dateAcquired:G.date_acquired,supplier:G.supplier,condition:G.condition,location:G.location,fundSource:G.fund_source_id,remarks:G.remarks,lastInventoryDate:G.last_inventory_date,semiExpandableCategory:G.semi_expandable_category,status:G.status,assignmentStatus:G.assignment_status,assignedDate:G.assigned_date,createdAt:G.created_at,updatedAt:G.updated_at}))},enabled:r,staleTime:2*60*1e3}),q=ja({mutationKey:["create-custodian-slip"],mutationFn:async A=>(console.log("[mutationFn] Executing - calling annexService.createCustodianSlip"),await Po.createCustodianSlip(A)),retry:!1,onSuccess:A=>{v.current=!1;const X=Array.isArray(A)?A.length:1;X>1?j({title:"Success",description:`${X} custodian slips created (separated by value)! ${c.length} item(s) assigned to ${u.custodianName}`}):j({title:"Success",description:`Custodian slip created successfully! ${c.length} item(s) assigned to ${u.custodianName}`}),C.invalidateQueries({queryKey:["annex-custodian-slips"]}),C.invalidateQueries({queryKey:["available-inventory-for-slips"]}),C.invalidateQueries({queryKey:["inventory-items"]}),C.invalidateQueries({queryKey:["custodian-summaries"]}),C.invalidateQueries({queryKey:["custodian-summary"]}),C.invalidateQueries({queryKey:["custodian-item-history"]}),C.invalidateQueries({queryKey:["custodian-current-items"]}),C.refetchQueries({queryKey:["annex-custodian-slips"]}),n(!1),f({custodianName:"",designation:"",office:"",dateIssued:new Date().toISOString().split("T")[0],issuedBy:"",receivedBy:""}),p(null),g(null),d([])},onError:A=>{v.current=!1,console.log("Custodian slip creation error:",A.message),j({title:"Error",description:A.message,variant:"destructive"})}}),F=ja({mutationFn:async A=>{console.log("Attempting to delete custodian slip:",A);const{data:X,error:G}=await ne.from("custodian_slips").select("slip_status").eq("id",A).single();if(G)throw new Error(`Failed to get slip data: ${G.message}`);if(!X)throw new Error("Custodian slip not found");if(X.slip_status!=="Draft")throw new Error("This custodian slip cannot be deleted because it has been officially issued. Only draft slips can be deleted.");const{data:ie,error:te}=await ne.from("custodian_slip_items").select("inventory_item_id").eq("slip_id",A);if(te)throw new Error(`Failed to get slip items: ${te.message}`);if(console.log("Found slip items:",ie),ie&&ie.length>0){const ae=ie.map(Ue=>Ue.inventory_item_id),{error:Pe}=await ne.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,updated_at:new Date().toISOString()}).in("id",ae);Pe?console.warn("Could not update inventory items:",Pe.message):console.log("Successfully released inventory items")}const{error:R}=await ne.from("property_card_entries").delete().eq("related_slip_id",A);R?console.warn("Could not delete property card entries:",R.message):console.log("Successfully deleted property card entries");const{error:Z}=await ne.from("custodian_slip_items").delete().eq("slip_id",A);if(Z)throw new Error(`Failed to delete slip items: ${Z.message}`);const{error:le}=await ne.from("custodian_slips").delete().eq("id",A);if(le)throw console.error("Delete slip error:",le),new Error(`Failed to delete custodian slip: ${le.message} (Code: ${le.code})`);return console.log("Successfully deleted custodian slip"),!0},onSuccess:()=>{j({title:"Success",description:"Custodian slip deleted successfully"}),C.invalidateQueries({queryKey:["annex-custodian-slips"]}),C.invalidateQueries({queryKey:["available-inventory-for-slips"]}),C.invalidateQueries({queryKey:["inventory-items"]})},onError:A=>{j({title:"Error",description:A.message,variant:"destructive"})}}),P=ja({mutationFn:async A=>{const{data:X,error:G}=await ne.from("custodian_slips").select(`
          *,
          custodian_slip_items(*)
        `).eq("id",A).single();if(G||!X)throw new Error(`Failed to get slip details: ${G==null?void 0:G.message}`);const{error:ie}=await ne.from("custodian_slips").update({slip_status:"Issued",updated_at:new Date().toISOString()}).eq("id",A);if(ie)throw new Error(`Failed to confirm slip: ${ie.message}`);if(X.custodian_slip_items&&X.custodian_slip_items.length>0){const te=X.custodian_slip_items.map(Z=>Z.inventory_item_id),{error:R}=await ne.from("inventory_items").update({custodian:X.custodian_name,custodian_position:X.designation,assignment_status:"Assigned",assigned_date:X.date_issued,updated_at:new Date().toISOString()}).in("id",te);R?console.error("Failed to update inventory items:",R):console.log(`Successfully assigned ${te.length} inventory items to ${X.custodian_name}`)}},onSuccess:()=>{j({title:"Success",description:"Custodian slip has been officially confirmed and cannot be deleted"}),C.invalidateQueries({queryKey:["annex-custodian-slips"]}),C.invalidateQueries({queryKey:["inventory-items"]}),C.invalidateQueries({queryKey:["available-inventory-for-slips"]}),C.invalidateQueries({queryKey:["custodian-summaries"]}),y(null)},onError:A=>{j({title:"Error",description:A.message,variant:"destructive"})}}),_=async()=>{if(console.log("[handleCreateSlip] Called. Ref:",v.current,"isPending:",q.isPending),v.current||q.isPending){console.log("[handleCreateSlip] BLOCKED - Creation already in progress, ignoring duplicate call");return}if(!u.custodianName||!u.designation||!u.office||!u.issuedBy||!u.receivedBy){j({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(c.length===0){j({title:"Validation Error",description:"Please select at least one inventory item",variant:"destructive"});return}v.current=!0,console.log("[handleCreateSlip] Creating custodian slip with items:",c),console.log("[handleCreateSlip] About to call mutate()"),q.mutate({custodianName:u.custodianName,designation:u.designation,office:u.office,dateIssued:u.dateIssued,issuedBy:u.issuedBy,receivedBy:u.receivedBy,inventoryItemIds:c}),console.log("[handleCreateSlip] mutate() called, returning from handler")},T=async A=>{try{const X=await Po.getCustodianSlipWithItems(A.id);X&&i(X)}catch{j({title:"Error",description:"Failed to load custodian slip details",variant:"destructive"})}},ee=async A=>{try{const X=await Po.getCustodianSlipWithItems(A.id);X&&(i(X),l(!0))}catch{j({title:"Error",description:"Failed to load custodian slip for printing",variant:"destructive"})}},W=A=>{confirm("Are you sure you want to delete this custodian slip? This will release all assigned inventory items.")&&F.mutate(A)},B=A=>{confirm("Are you sure you want to officially confirm this custodian slip? Once confirmed, it cannot be deleted and will be marked as an official document.")&&P.mutate(A)},oe=A=>{const X=A.items.reduce((G,ie)=>G+(ie.amount||0),0);return{slipNumber:A.slipNumber,entityName:"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:"General Fund",custodianName:A.custodianName,designation:A.designation,office:A.office,dateIssued:A.dateIssued,issuedBy:A.issuedBy,receivedBy:A.receivedBy,items:A.items.map(G=>({itemNumber:G.propertyNumber,propertyNumber:G.propertyNumber,description:G.description,quantity:G.quantity,unit:G.unit,unitCost:G.unitCost,totalCost:G.totalCost,amount:G.amount,estimatedUsefulLife:G.estimatedUsefulLife,dateIssued:G.dateIssued})),totalAmount:X}},me=A=>{d(X=>X.includes(A)?X.filter(G=>G!==A):[...X,A])},V=D.filter(A=>A.slipNumber.toLowerCase().includes(e.toLowerCase())||A.custodianName.toLowerCase().includes(e.toLowerCase())||A.office.toLowerCase().includes(e.toLowerCase()));return H&&D.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading custodian slips..."})]}):U&&navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(mr,{className:"max-w-md mx-auto",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsxs(pr,{children:["Error: ",U.message]})]}),s.jsx(ce,{onClick:()=>C.invalidateQueries({queryKey:["annex-custodian-slips"]}),className:"mt-4",children:"Retry"})]}):U&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(mr,{className:"max-w-md mx-auto",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsx(pr,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded custodian slips will appear when available."})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Inventory Custodian Slips (ICS)"}),s.jsxs(ce,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Create New Slip"]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search custodian slips...",value:e,onChange:A=>t(A.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(A=>s.jsxs(Ae,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Ve,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{className:"text-lg font-mono",children:A.slipNumber}),s.jsx(Ze,{variant:A.slipStatus==="Issued"?"default":"secondary",className:"ml-2",children:A.slipStatus||"Draft"})]})}),s.jsx(Ie,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Property Numbers:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:A.items.map((X,G)=>s.jsx(Ze,{variant:"outline",className:"font-mono text-xs",children:X.propertyNumber},X.id||G))}),A.items.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"No items"})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>T(A),className:"flex items-center gap-1 flex-1",children:[s.jsx(Vc,{className:"h-3 w-3"}),"View"]}),s.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>ee(A),className:"flex items-center gap-1 flex-1",children:[s.jsx(yr,{className:"h-3 w-3"}),"Print"]}),(A.slipStatus==="Draft"||!A.slipStatus)&&s.jsxs(ce,{variant:"default",size:"sm",onClick:()=>B(A.id),className:"flex items-center gap-1 bg-green-600 hover:bg-green-700 flex-1",disabled:P.isPending,title:"Confirm this slip as official (cannot be deleted after confirmation)",children:[P.isPending?s.jsx(Kt,{className:"h-3 w-3 animate-spin"}):s.jsx(Go,{className:"h-3 w-3"}),"Confirm"]}),(A.slipStatus==="Draft"||!A.slipStatus)&&s.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>W(A.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",disabled:F.isPending,title:"Delete this draft custodian slip",children:[s.jsx(xc,{className:"h-3 w-3"}),"Delete"]})]})]})})]},A.id))}),V.length===0&&!H&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No custodian slips found."}),s.jsx(ce,{onClick:()=>n(!0),className:"mt-4",children:"Create your first custodian slip"})]}),s.jsx(Qr,{open:r,onOpenChange:A=>{n(A),A||(v.current=!1)},children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Create Inventory Custodian Slip"}),s.jsx(ls,{children:"Create a new ICS by selecting inventory items and assigning them to a custodian"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(dg,{value:u.custodianName,onChange:b,placeholder:"Search for custodian...",label:"Custodian Name",required:!0})}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"designation",children:"Designation *"}),s.jsx(Te,{id:"designation",value:u.designation,onChange:A=>f(X=>({...X,designation:A.target.value})),placeholder:"Enter designation"})]}),s.jsx("div",{children:s.jsx(QB,{value:u.office,onChange:N,placeholder:"Search for department...",label:"Office/Department",required:!0})}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"dateIssued",children:"Date Issued *"}),s.jsx(Te,{id:"dateIssued",type:"date",value:u.dateIssued,onChange:A=>f(X=>({...X,dateIssued:A.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"issuedBy",children:"Issued By *"}),s.jsx(Te,{id:"issuedBy",value:u.issuedBy,onChange:A=>f(X=>({...X,issuedBy:A.target.value})),placeholder:"Enter issuer name"})]}),s.jsx("div",{children:s.jsx(GB,{value:u.receivedBy,onChange:A=>f(X=>({...X,receivedBy:A})),placeholder:"Search for custodian or enter manually...",label:"Received By",required:!0})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Select Inventory Items *"}),s.jsx("div",{className:"border rounded-md max-h-64 overflow-y-auto",children:s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{className:"w-12",children:"Select"}),s.jsx(_e,{children:"Property Number"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Condition"}),s.jsx(_e,{children:"Quantity"}),s.jsx(_e,{children:"Unit"}),s.jsx(_e,{children:"Unit Cost"}),s.jsx(_e,{children:"Total Cost"})]})}),s.jsx(Fr,{children:I.length===0?s.jsx(nt,{children:s.jsx(ve,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No available inventory items found. All items may be assigned to custodians or marked as unserviceable."})}):I.map(A=>{var X,G;return s.jsxs(nt,{children:[s.jsx(ve,{children:s.jsx(sd,{checked:c.includes(A.id),onCheckedChange:()=>me(A.id)})}),s.jsx(ve,{children:A.propertyNumber}),s.jsx(ve,{children:A.description}),s.jsx(ve,{children:s.jsx(Ze,{variant:A.condition==="Serviceable"?"default":"destructive",children:A.condition})}),s.jsx(ve,{children:A.quantity}),s.jsx(ve,{children:A.unitOfMeasure}),s.jsxs(ve,{children:["",((X=A.unitCost)==null?void 0:X.toFixed(2))||"0.00"]}),s.jsxs(ve,{children:["",((G=A.totalCost)==null?void 0:G.toFixed(2))||"0.00"]})]},A.id)})})]})}),I.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx("p",{children:"No items available for assignment."}),s.jsx("p",{className:"text-xs mt-1",children:"Items must be in 'Serviceable' condition and not already assigned to be available."})]}):s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",c.length," items  Available: ",I.length," items"]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(ce,{onClick:_,disabled:q.isPending||v.current,children:[(q.isPending||v.current)&&s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Custodian Slip"]})]})]})]})}),s.jsx(Qr,{open:o,onOpenChange:l,children:s.jsxs(Ir,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Print Custodian Slip"}),s.jsx(ls,{children:"Inventory Custodian Slip (ICS) - Ready for printing"})]}),s.jsx("div",{ref:E,children:a&&s.jsx(KB,{data:oe(a)})})]})}),s.jsx(Qr,{open:!!a&&!o,onOpenChange:()=>i(null),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Custodian Slip Details"}),s.jsxs(ls,{children:[a==null?void 0:a.slipNumber," - ",a==null?void 0:a.custodianName]})]}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Slip Number"}),s.jsx("p",{className:"text-sm",children:a.slipNumber})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Custodian Name"}),s.jsx("p",{className:"text-sm",children:a.custodianName})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Designation"}),s.jsx("p",{className:"text-sm",children:a.designation})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Office"}),s.jsx("p",{className:"text-sm",children:a.office})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Date Issued"}),s.jsx("p",{className:"text-sm",children:a.dateIssued})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Issued By"}),s.jsx("p",{className:"text-sm",children:a.issuedBy})]})]}),a.items&&a.items.length>0&&s.jsxs("div",{children:[s.jsx(ue,{children:"Items"}),s.jsx("div",{className:"border rounded-md",children:s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{children:"Item No."}),s.jsx(_e,{children:"Property Number"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Quantity"}),s.jsx(_e,{children:"Unit"}),s.jsx(_e,{children:"Unit Cost"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Est. Life"})]})}),s.jsx(Fr,{children:a.items.map(A=>{var X,G;return s.jsxs(nt,{children:[s.jsx(ve,{children:A.itemNumber}),s.jsx(ve,{children:A.propertyNumber}),s.jsx(ve,{children:A.description}),s.jsx(ve,{children:A.quantity}),s.jsx(ve,{children:A.unit}),s.jsxs(ve,{children:["",((X=A.unitCost)==null?void 0:X.toFixed(2))||"0.00"]}),s.jsxs(ve,{children:["",((G=A.amount)==null?void 0:G.toFixed(2))||"0.00"]}),s.jsx(ve,{children:A.estimatedUsefulLife||"N/A"})]},A.id)})})]})}),s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Total Items:"})," ",a.items.length," |",s.jsx("strong",{children:" Total Amount:"})," ",a.items.reduce((A,X)=>A+(X.amount||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",onClick:()=>i(null),children:"Close"}),s.jsxs(ce,{onClick:()=>l(!0),children:[s.jsx(yr,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})]})})]})};function XB(){const e=Bn(),[t,r]=h.useState(""),[n,a]=h.useState(null),[i,o]=h.useState(!1);$n();const l=Li();h.useEffect(()=>{const y=ne.channel("realtime:custodians-page").on("postgres_changes",{event:"*",schema:"public",table:"custodian_slips"},()=>{console.log("[Realtime] Custodian slips changed, refreshing..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-summary"]}),l.invalidateQueries({queryKey:["custodian-item-history"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-summary"]}),l.invalidateQueries({queryKey:["custodian-item-history"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing custodian data..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).subscribe();return()=>{ne.removeChannel(y)}},[l]);const{data:c=[],isLoading:d,error:u}=Bt({queryKey:["custodians"],queryFn:()=>Ss.getAll({search:t}),enabled:!0}),{data:f=[]}=Bt({queryKey:["custodian-summaries"],queryFn:()=>Ss.getAllSummaries(),enabled:!0,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:m}=Bt({queryKey:["custodian-summary",n==null?void 0:n.id],queryFn:()=>Ss.getSummary(n.id),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:p=[]}=Bt({queryKey:["custodian-item-history",n==null?void 0:n.id],queryFn:()=>Ss.getItemHistory(n.id,{includeReturned:!0}),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:x=[]}=Bt({queryKey:["custodian-current-items",n==null?void 0:n.id],queryFn:()=>Ss.getCurrentItems(n.id),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),g=y=>{a(y),o(!0)},w=c.filter(y=>y.name.toLowerCase().includes(t.toLowerCase())||y.custodian_no.toLowerCase().includes(t.toLowerCase())||y.department_name&&y.department_name.toLowerCase().includes(t.toLowerCase()));return u?s.jsx("div",{className:"p-6",children:s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"text-center text-red-600",children:["Error loading custodians: ",u.message]})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Custodians"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and view custodian information and item assignments"})]}),s.jsxs(ce,{onClick:()=>e("/settings/lookups#custodians"),children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Add Custodian"]})]}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search custodians by name, number, or department...",value:t,onChange:y=>r(y.target.value),className:"pl-10"})]})})}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-5 w-5"}),"All Custodians (",w.length,")"]})}),s.jsx(Ie,{children:d?s.jsx("div",{className:"text-center py-8",children:"Loading custodians..."}):s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{children:"Custodian No."}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Position"}),s.jsx(_e,{children:"Department"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Current Items"}),s.jsx(_e,{children:"Total Value"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Fr,{children:w.map(y=>{const v=f.find(b=>b.custodian.id===y.id);return s.jsxs(nt,{children:[s.jsx(ve,{className:"font-mono",children:y.custodian_no}),s.jsx(ve,{className:"font-medium",children:y.name}),s.jsx(ve,{children:y.position||"-"}),s.jsx(ve,{children:y.department_name||"-"}),s.jsx(ve,{children:s.jsx(Ze,{variant:y.is_active?"default":"secondary",children:y.is_active?"Active":"Inactive"})}),s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kr,{className:"h-4 w-4"}),(v==null?void 0:v.currently_assigned_items)||0]})}),s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gi,{className:"h-4 w-4"}),"",((v==null?void 0:v.currently_assigned_value)||0).toLocaleString()]})}),s.jsx(ve,{children:s.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>g(y),children:[s.jsx(Vc,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},y.id)})})]})})]}),s.jsx(Qr,{open:i,onOpenChange:o,children:s.jsxs(Ir,{className:"max-w-6xl max-h-[90vh] overflow-y-auto print:max-w-full print:max-h-none print:overflow-visible",children:[s.jsxs(Xr,{className:"print:block pr-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 print:flex-col print:items-start print:gap-2",children:[s.jsxs(Jr,{className:"flex items-center gap-2 print:text-2xl",children:[s.jsx(wc,{className:"h-5 w-5 print:hidden"}),"Custodian Details"]}),s.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>window.print(),className:"print:hidden",children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Print"]})]}),s.jsx(ls,{className:"print:hidden",children:"View detailed information and item history for this custodian"})]}),n&&m&&s.jsxs("div",{className:"space-y-6 print:space-y-4",children:[s.jsxs(Ae,{className:"print:shadow-none print:border print:border-gray-300",children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:n.name}),s.jsx(Ze,{variant:n.is_active?"default":"secondary",children:n.is_active?"Active":"Inactive"})]})}),s.jsx(Ie,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custodian Number"}),s.jsx("p",{className:"font-mono",children:n.custodian_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Position"}),s.jsx("p",{children:n.position||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{children:n.department_name||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),s.jsx("p",{children:m.last_activity_date?rs(new Date(m.last_activity_date),"MMM dd, yyyy"):"No activity"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Items"}),s.jsx("p",{className:"text-2xl font-bold",children:m.currently_assigned_items})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",m.currently_assigned_value.toLocaleString()]})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fn,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:m.total_items_assigned})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",m.total_value_assigned.toLocaleString()]})]})]})})})]}),s.jsxs(Jf,{defaultValue:"current",className:"w-full",children:[s.jsxs(td,{className:"grid w-full grid-cols-2",children:[s.jsxs(cn,{value:"current",children:["Currently Assigned (",x.length,")"]}),s.jsxs(cn,{value:"history",children:["All History (",p.length,")"]})]}),s.jsx(dn,{value:"current",className:"space-y-4",children:s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Currently Assigned Items"})}),s.jsx(Ie,{children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No items currently assigned to this custodian."}):s.jsxs(gr,{className:"print:border print:border-gray-300",children:[s.jsx(Lr,{className:"print:bg-gray-100",children:s.jsxs(nt,{className:"print:border-b print:border-gray-300",children:[s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Property Number"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Description"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Condition"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Value"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Assigned Date"})]})}),s.jsx(Fr,{children:x.map(y=>s.jsxs(nt,{className:"print:border-b print:border-gray-300",children:[s.jsx(ve,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:y.property_number}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.description}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ze,{variant:y.condition==="Serviceable"?"default":"destructive",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:y.condition})}),s.jsxs(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:["",y.total_cost.toLocaleString()]}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.assigned_date?rs(new Date(y.assigned_date),"MMM dd, yyyy"):"-"})]},y.id))})]})})]})}),s.jsx(dn,{value:"history",className:"space-y-4",children:s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"All Item History"})}),s.jsx(Ie,{children:p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No item history found for this custodian."}):s.jsxs(gr,{className:"print:border print:border-gray-300",children:[s.jsx(Lr,{className:"print:bg-gray-100",children:s.jsxs(nt,{className:"print:border-b print:border-gray-300",children:[s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Property Number"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Description"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Condition"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Value"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Slip Number"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Date Issued"}),s.jsx(_e,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Status"})]})}),s.jsx(Fr,{children:p.map(y=>s.jsxs(nt,{className:"print:border-b print:border-gray-300",children:[s.jsx(ve,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:y.property_number}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.description}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ze,{variant:y.condition==="Serviceable"?"default":"destructive",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:y.condition})}),s.jsxs(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:["",y.total_cost.toLocaleString()]}),s.jsx(ve,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:y.custodian_slip_number}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.date_issued?rs(new Date(y.date_issued),"MMM dd, yyyy"):"-"}),s.jsx(ve,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ze,{variant:y.is_currently_assigned?"default":"secondary",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:y.is_currently_assigned?"Currently Assigned":"Returned"})})]},y.id))})]})})]})})]})]})]})})]})}function JB(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var xy="ScrollArea",[dk,EV]=wr(xy),[ZB,vn]=dk(xy),uk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,x]=h.useState(null),[g,w]=h.useState(null),[y,v]=h.useState(0),[b,N]=h.useState(0),[j,C]=h.useState(!1),[E,D]=h.useState(!1),H=We(t,I=>c(I)),U=Gc(a);return s.jsx(ZB,{scope:r,type:n,dir:U,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:D,onCornerWidthChange:v,onCornerHeightChange:N,children:s.jsx(De.div,{dir:U,...o,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});uk.displayName=xy;var fk="ScrollAreaViewport",hk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=vn(fk,r),l=h.useRef(null),c=We(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(De.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});hk.displayName=fk;var us="ScrollAreaScrollbar",by=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=vn(us,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(eq,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(tq,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(mk,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(wy,{...n,ref:t}):null});by.displayName=us;var eq=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=vn(us,e.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Yt,{present:r||i,children:s.jsx(mk,{"data-state":i?"visible":"hidden",...n,ref:t})})}),tq=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=vn(us,e.__scopeScrollArea),i=e.orientation==="horizontal",o=sh(()=>c("SCROLL_END"),100),[l,c]=JB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(Yt,{present:r||l!=="hidden",children:s.jsx(wy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:we(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mk=h.forwardRef((e,t)=>{const r=vn(us,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=h.useState(!1),l=e.orientation==="horizontal",c=sh(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return tl(r.viewport,c),tl(r.content,c),s.jsx(Yt,{present:n||i,children:s.jsx(wy,{"data-state":i?"visible":"hidden",...a,ref:t})})}),wy=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=vn(us,e.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=xk(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return oq(m,o.current,l,p)}return r==="horizontal"?s.jsx(rq,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=j0(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(nq,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=j0(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),rq=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=vn(us,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=We(t,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(gk,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),wk(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zu(o.paddingLeft),paddingEnd:Zu(o.paddingRight)}})}})}),nq=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=vn(us,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=We(t,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(gk,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),wk(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zu(o.paddingTop),paddingEnd:Zu(o.paddingBottom)}})}})}),[sq,pk]=dk(us),gk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,p=vn(us,r),[x,g]=h.useState(null),w=We(t,H=>g(H)),y=h.useRef(null),v=h.useRef(""),b=p.viewport,N=n.content-n.viewport,j=Tt(u),C=Tt(c),E=sh(f,10);function D(H){if(y.current){const U=H.clientX-y.current.left,I=H.clientY-y.current.top;d({x:U,y:I})}}return h.useEffect(()=>{const H=U=>{const I=U.target;(x==null?void 0:x.contains(I))&&j(U,N)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[b,x,N,j]),h.useEffect(C,[n,C]),tl(x,E),tl(p.content,E),s.jsx(sq,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Tt(i),onThumbPointerUp:Tt(o),onThumbPositionChange:C,onThumbPointerDown:Tt(l),children:s.jsx(De.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:we(e.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),y.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),D(H))}),onPointerMove:we(e.onPointerMove,D),onPointerUp:we(e.onPointerUp,H=>{const U=H.target;U.hasPointerCapture(H.pointerId)&&U.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Ju="ScrollAreaThumb",vk=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=pk(Ju,e.__scopeScrollArea);return s.jsx(Yt,{present:r||a.hasThumb,children:s.jsx(aq,{ref:t,...n})})}),aq=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=vn(Ju,r),o=pk(Ju,r),{onThumbPositionChange:l}=o,c=We(t,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=sh(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const p=lq(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(De.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:we(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:we(e.onPointerUp,o.onThumbPointerUp)})});vk.displayName=Ju;var jy="ScrollAreaCorner",yk=h.forwardRef((e,t)=>{const r=vn(jy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(iq,{...e,ref:t}):null});yk.displayName=jy;var iq=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=vn(jy,r),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return tl(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),tl(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(De.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zu(e){return e?parseInt(e,10):0}function xk(e,t){const r=e/t;return isNaN(r)?0:r}function nh(e){const t=xk(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function oq(e,t,r,n="ltr"){const a=nh(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return bk([c,d],f)(e)}function j0(e,t,r="ltr"){const n=nh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=tg(e,c);return bk([0,o],[0,l])(d)}function bk(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wk(e,t){return e>0&&e<t}var lq=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function sh(e,t){const r=Tt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function tl(e,t){const r=Tt(t);Gt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var jk=uk,cq=hk,dq=yk;const du=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jk,{ref:n,className:Ee("relative overflow-hidden",e),...r,children:[s.jsx(cq,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Nk,{}),s.jsx(dq,{})]}));du.displayName=jk.displayName;const Nk=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(by,{ref:n,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(vk,{className:"relative flex-1 rounded-full bg-border"})}));Nk.displayName=by.displayName;const ug=["Donation","Reassignment","Relocate","Others"],Bd={entityName:"",fromAccountableOfficer:"",toAccountableOfficer:"",fundCluster:"",itrNumber:"",date:"",transferType:"Donation",otherTransferType:"",reason:"",status:"Pending",items:[]},mm=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"})},uq=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},Ja=e=>e==null?"":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),yo=(e,t)=>e?t?`${e} / ${t}`:e:"",pm=e=>{const t=new Date().getFullYear(),r=new RegExp(`^ITR-${t}-(\\d{4})$`);let n=0;for(const i of e){const o=r.exec(i.itrNumber);if(o){const l=parseInt(o[1],10);Number.isNaN(l)||(n=Math.max(n,l))}}const a=String(n+1).padStart(4,"0");return`ITR-${t}-${a}`},fq=(e,t)=>{const r=t.map(o=>o.map(l=>`"${l.replace(/"/g,'""')}"`).join(",")).join(`\r
`),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},hq=e=>({propertyNumber:e.propertyNumber,description:e.description,quantity:e.quantity,condition:e.condition,dateAcquired:e.dateAcquired,amount:e.amount,icsSlipId:e.icsSlipId,icsSlipNumber:e.icsSlipNumber,icsDate:e.icsDate,inventoryItemId:e.inventoryItemId,custodianName:e.custodianName}),N0=(e,t=!1)=>{const r=e.items||[],n=Math.max(12-r.length,0),a=t?"bg-white border border-border rounded-lg shadow-sm text-foreground":"bg-white text-black border border-black",i=t?"p-6":"p-10",o=l=>l.icsSlipNumber&&l.icsDate?`${l.icsSlipNumber} / ${l.icsDate}`:l.icsSlipNumber?l.icsSlipNumber:l.icsDate?l.icsDate:"";return s.jsxs("div",{className:`${a} ${i}`,children:[s.jsx("div",{className:`flex justify-end text-xs mb-2 ${t?"text-muted-foreground":""}`,children:"Annex A.5"}),s.jsx("div",{className:"text-center border-b border-black pb-2 mb-4",children:s.jsx("h1",{className:"text-2xl font-bold tracking-wide",children:"INVENTORY TRANSFER REPORT"})}),s.jsx("table",{className:"w-full text-sm mb-4",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsxs("td",{className:"pr-4 align-top",children:["Entity Name:",s.jsx("span",{className:"inline-block min-w-[250px] border-b border-black",children:e.entityName||""})]}),s.jsxs("td",{className:"align-top",children:["Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[180px] border-b border-black",children:e.fundCluster||""})]})]})})}),s.jsx("table",{className:"w-full text-sm mb-2",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsxs("td",{className:"pr-2 align-top w-[55%]",children:[s.jsxs("div",{children:["From Accountable Officer/Agency/Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[230px] border-b border-black",children:yo(e.fromAccountableOfficer,e.fromAccountableOfficerDepartment)||""})]}),s.jsxs("div",{className:"mt-2",children:["To Accountable Officer/Agency/Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[230px] border-b border-black",children:yo(e.toAccountableOfficer,e.toAccountableOfficerDepartment)||""})]})]}),s.jsxs("td",{className:"align-top",children:[s.jsxs("div",{children:["ITR No.:",s.jsx("span",{className:"inline-block min-w-[160px] border-b border-black",children:e.itrNumber||""})]}),s.jsxs("div",{className:"mt-2",children:["Date:",s.jsx("span",{className:"inline-block min-w-[160px] border-b border-black",children:e.date||""})]})]})]})})}),s.jsxs("div",{className:"border border-black p-2 mb-4",children:[s.jsx("div",{className:"text-sm mb-2 font-semibold",children:"Transfer Type: (check only one)"}),s.jsx("div",{className:"grid grid-cols-2 gap-y-1 text-sm",children:ug.map(l=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-3.5 w-3.5 items-center justify-center border border-black text-[10px] font-bold",children:e.transferType===l?"":""}),s.jsxs("span",{children:[l==="Others"?"Others (Specify)":l,l==="Others"&&e.transferType==="Others"&&e.otherTransferType?`: ${e.otherTransferType}`:""]})]},l))})]}),s.jsxs("table",{className:"w-full border-collapse border border-black text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-black p-2 text-left w-[12%]",children:"Date Acquired"}),s.jsx("th",{className:"border border-black p-2 text-left w-[10%]",children:"Item No."}),s.jsx("th",{className:"border border-black p-2 text-left w-[15%]",children:"ICS No./Date"}),s.jsx("th",{className:"border border-black p-2 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-2 text-right w-[12%]",children:"Amount"}),s.jsx("th",{className:"border border-black p-2 text-center w-[15%]",children:"Condition of Inventory"})]})}),s.jsxs("tbody",{children:[r.map((l,c)=>s.jsxs("tr",{className:"h-10 align-top",children:[s.jsx("td",{className:"border border-black p-2",children:l.dateAcquired||""}),s.jsx("td",{className:"border border-black p-2",children:l.propertyNumber||""}),s.jsx("td",{className:"border border-black p-2",children:o(l)}),s.jsxs("td",{className:"border border-black p-2",children:[l.description,l.quantity?` (Qty: ${l.quantity})`:""]}),s.jsx("td",{className:"border border-black p-2 text-right",children:l.amount!==void 0?Ja(l.amount):""}),s.jsx("td",{className:"border border-black p-2 text-center",children:l.condition||""})]},l.propertyNumber??c)),Array.from({length:n}).map((l,c)=>s.jsxs("tr",{className:"h-10",children:[s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""})]},`blank-${c}`))]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"font-semibold text-sm mb-1",children:"Reasons for Transfer:"}),s.jsx("div",{className:"border border-black h-24 p-3 leading-tight text-sm",children:e.reason||""})]}),s.jsx("div",{className:"grid grid-cols-3 gap-6 text-sm mt-6",children:["Approved by","Released/Issued by","Received by"].map(l=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-t border-black pt-2 text-center",children:s.jsx("p",{className:"font-semibold uppercase text-xs",children:l})}),s.jsx("div",{className:"space-y-2",children:["Signature:","Printed Name:","Designation:","Date:"].map(c=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"whitespace-nowrap",children:c}),s.jsx("span",{className:"flex-1 border-b border-black h-4"})]},c))})]},l))})]})},mq=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState("All"),[m,p]=h.useState("All"),[x,g]=h.useState(""),[w,y]=h.useState(""),[v,b]=h.useState({}),[N,j]=h.useState(!1),[C,E]=h.useState([]),[D,H]=h.useState(""),U=h.useRef(null),{toast:I}=$n(),q=Bn(),[F,P]=h.useState(Bd);h.useEffect(()=>{(async()=>{try{n(!0);const{data:M,error:se}=await ne.from("property_transfers").select(`
            id,
            transfer_number,
            from_department,
            to_department,
            transfer_type,
            status,
            requested_by,
            approved_by,
            date_requested,
            date_approved,
            date_completed,
            reason,
            remarks,
            created_at,
            transfer_items (
              id,
              property_number,
              description,
              quantity,
              condition
            )
          `).order("date_requested",{ascending:!1});if(se)throw console.error("Failed to load transfers",se),se;const Le=(M||[]).map(ke=>({id:ke.id,entityName:"",fromAccountableOfficer:ke.from_department,toAccountableOfficer:ke.to_department,fundCluster:"",itrNumber:ke.transfer_number,date:ke.date_requested,transferType:ke.transfer_type||"Donation",reason:ke.reason,status:ke.status,dateCompleted:ke.date_completed,items:(ke.transfer_items||[]).map(qe=>({propertyNumber:qe.property_number,description:qe.description,quantity:qe.quantity,condition:qe.condition})),history:[{timestamp:ke.created_at,status:ke.status,action:"Transfer created",details:`Created ${ke.transfer_number}`}]}));t(Le)}catch(M){console.error("Error loading transfers:",M),I({title:"Error loading transfers",description:"Could not load transfers from database",variant:"destructive"})}finally{n(!1)}})()},[I]);const _=h.useMemo(()=>["PROVINCIAL GOVERNMENT OF APAYAO","CITY OF LUNA","MUNICIPALITY OF FLORA","PROVINCIAL ACCOUNTING OFFICE"],[]),{data:T=[],isLoading:ee}=Bt({queryKey:["transfer-ics-options"],queryFn:async()=>{var Le,ke,qe,O;const{data:Q,error:M}=await ne.from("custodian_slips").select(`
          id,
          slip_number,
          date_issued,
          custodian_name,
          custodian_slip_items (
            id,
            inventory_item_id,
            property_number,
            description,
            quantity,
            unit,
            date_issued,
            inventory_items (
              id,
              date_acquired,
              property_number,
              total_cost,
              condition
            )
          )
        `).order("date_issued",{ascending:!1}).limit(100);if(M)throw console.error("Failed to load custodian slip items for transfers",M),M;const se=[];for(const Y of Q||[]){const re=Y.custodian_slip_items||[];for(const pe of re)se.push({id:pe.id,propertyNumber:pe.property_number||"",description:pe.description||"",quantity:pe.quantity||0,condition:((Le=pe.inventory_items)==null?void 0:Le.condition)||"",amount:Number(((ke=pe.inventory_items)==null?void 0:ke.total_cost)??0),dateAcquired:((qe=pe.inventory_items)==null?void 0:qe.date_acquired)||"",custodianName:Y.custodian_name||"",icsSlipId:Y.id,icsSlipNumber:Y.slip_number||"",icsDate:pe.date_issued||Y.date_issued||"",inventoryItemId:pe.inventory_item_id||((O=pe.inventory_items)==null?void 0:O.id)||""})}return console.log("Loaded ICS options for transfer:",{totalSlips:Q==null?void 0:Q.length,totalItems:se.length,custodians:[...new Set(se.map(Y=>Y.custodianName))],sampleItems:se.slice(0,3)}),se},staleTime:5*60*1e3}),W=h.useMemo(()=>{const Q=F.fromAccountableOfficer?F.fromAccountableOfficer.toLowerCase().trim():"",M=new Set(F.items.map(Le=>Le.propertyNumber));let se=T.filter(Le=>M.has(Le.propertyNumber)?!1:Q?(Le.custodianName||"").toLowerCase().trim()===Q:!0);return D&&(se=se.filter(Le=>`${Le.propertyNumber} ${Le.description} ${Le.icsSlipNumber} ${Le.custodianName||""}`.toLowerCase().includes(D.toLowerCase()))),console.log("Filtered ICS items:",{fromOfficer:F.fromAccountableOfficer,totalOptions:T.length,filteredCount:se.length,items:se.map(Le=>({custodian:Le.custodianName,propertyNumber:Le.propertyNumber}))}),se},[T,F.fromAccountableOfficer,F.items,D]),B=h.useMemo(()=>{const Q=c.toLowerCase();return e.filter(M=>{const Le=[M.itrNumber,M.entityName,M.fromAccountableOfficer,M.toAccountableOfficer,M.reason,M.items.map(re=>`${re.propertyNumber} ${re.description}`).join(" ")].join(" ").toLowerCase().includes(Q),ke=u==="All"||M.status===u,qe=m==="All"||M.transferType===m,O=!x||M.date>=x,Y=!w||M.date<=w;return Le&&ke&&qe&&O&&Y})},[e,c,u,m,x,w]);h.useEffect(()=>{o?(P(Q=>({...Bd,...Q,itrNumber:Q.itrNumber||pm(e),status:"Pending"})),b({})):(P(Bd),E([]),j(!1))},[o,e]);const oe=Q=>{const M={};return Q.entityName.trim()||(M.entityName="Entity name is required."),Q.fundCluster.trim()||(M.fundCluster="Fund cluster is required."),Q.itrNumber.trim()||(M.itrNumber="ITR number is required."),Q.date.trim()||(M.date="Date is required."),Q.fromAccountableOfficer.trim()||(M.fromOfficer="Select the releasing accountable officer."),Q.toAccountableOfficer.trim()||(M.toOfficer="Select the receiving accountable officer."),Q.reason.trim()||(M.reason="Please provide the reason for transfer."),Q.items.length||(M.items="Select at least one item from the ICS list."),M},me=()=>{const Q=pm(e);P(M=>({...M,itrNumber:Q}))},V=async()=>{var M;const Q=oe(F);if(Object.keys(Q).length>0){b(Q),I({title:"Missing information",description:"Please fill in the required fields before saving the transfer.",variant:"destructive"});return}try{const se=new Date().toISOString(),Le=F.itrNumber||pm(e),ke=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`,O={Donation:"Permanent",Reassignment:"Permanent",Relocate:"Temporary",Others:"Temporary"}[F.transferType]??"Permanent",{data:Y}=await ne.auth.getUser(),re=(M=Y==null?void 0:Y.user)==null?void 0:M.id;if(!re){I({title:"Authentication required",description:"You must be signed in to create transfers.",variant:"destructive"});return}const{error:pe}=await ne.from("property_transfers").insert({id:ke,transfer_number:Le,from_department:F.fromAccountableOfficer,to_department:F.toAccountableOfficer,transfer_type:O,status:F.status,date_requested:F.date,reason:F.reason,requested_by:re});if(pe)throw pe;const Se=F.items.map(je=>{var Me;return{id:((Me=crypto.randomUUID)==null?void 0:Me.call(crypto))||`${Date.now()}-${Math.random()}`,transfer_id:ke,property_number:je.propertyNumber,description:je.description,quantity:je.quantity,condition:je.condition}});if(Se.length>0){const{error:je}=await ne.from("transfer_items").insert(Se);if(je)throw je}for(const je of F.items)if(je.inventoryItemId){const{error:Me}=await ne.from("inventory_items").update({status:"transferred"}).eq("id",je.inventoryItemId);Me&&console.error("Failed to update inventory item:",Me)}for(const je of F.items){const{error:Me}=await ne.from("property_cards").update({status:"transferred"}).eq("property_number",je.propertyNumber);Me&&console.error("Failed to update property card:",Me)}for(const je of F.items)if(je.icsSlipId){const{error:Me}=await ne.from("custodian_slip_items").update({status:"transferred"}).eq("slip_id",je.icsSlipId).eq("property_number",je.propertyNumber);Me&&console.error("Failed to update ICS item:",Me)}const{data:ye}=await ne.from("property_transfers").select(`
          id,
          transfer_number,
          from_department,
          to_department,
          transfer_type,
          status,
          requested_by,
          approved_by,
          date_requested,
          date_approved,
          date_completed,
          reason,
          remarks,
          created_at,
          transfer_items (
            id,
            property_number,
            description,
            quantity,
            condition
          )
        `).order("date_requested",{ascending:!1});if(ye){const je=(ye||[]).map(Me=>({id:Me.id,entityName:"",fromAccountableOfficer:Me.from_department,toAccountableOfficer:Me.to_department,fundCluster:"",itrNumber:Me.transfer_number,date:Me.date_requested,transferType:Me.transfer_type||"Donation",reason:Me.reason,status:Me.status,dateCompleted:Me.date_completed,items:(Me.transfer_items||[]).map(tt=>({propertyNumber:tt.property_number,description:tt.description,quantity:tt.quantity,condition:tt.condition})),history:[{timestamp:Me.created_at,status:Me.status,action:"Transfer created",details:`Created ${Me.transfer_number}`}]}));t(je)}P(Bd),l(!1),b({}),E([]),I({title:"Transfer saved",description:`Transfer ${Le} has been saved and related records updated.`})}catch(se){console.error("Error creating transfer:",se),I({title:"Error saving transfer",description:se instanceof Error?se.message:"Failed to save transfer",variant:"destructive"})}},A=async(Q,M)=>{try{const se=M==="Completed"?new Date().toISOString().split("T")[0]:null,{error:Le}=await ne.from("property_transfers").update({status:M,...se&&{date_completed:se}}).eq("id",Q);if(Le)throw Le;t(ke=>ke.map(qe=>{if(qe.id!==Q)return qe;const O=new Date().toISOString();return{...qe,status:M,dateCompleted:M==="Completed"?se:qe.dateCompleted,history:[...qe.history,{timestamp:O,status:M,action:`Status changed to ${M}`,details:M==="Completed"?"Transfer marked as completed.":M==="Rejected"?"Transfer was rejected.":void 0}]}})),I({title:"Status updated",description:`Transfer marked as ${M}.`})}catch(se){console.error("Error updating transfer status:",se),I({title:"Error updating status",description:se instanceof Error?se.message:"Failed to update transfer status",variant:"destructive"})}},X=async Q=>{if(window.confirm("Are you sure you want to delete this transfer? This action cannot be undone."))try{const{error:M}=await ne.from("transfer_items").delete().eq("transfer_id",Q);if(M)throw M;const{error:se}=await ne.from("property_transfers").delete().eq("id",Q);if(se)throw se;t(Le=>Le.filter(ke=>ke.id!==Q)),I({title:"Transfer deleted",description:"The transfer has been permanently removed."})}catch(M){console.error("Error deleting transfer:",M),I({title:"Error deleting transfer",description:M instanceof Error?M.message:"Failed to delete transfer",variant:"destructive"})}},G=Q=>{i(Q),setTimeout(()=>{window.print(),setTimeout(()=>{i(null)},500)},300)},ie=()=>{if(!B.length){I({title:"Nothing to export",description:"Adjust the filters to include at least one transfer before exporting.",variant:"destructive"});return}const Q=[["ITR No.","Entity","Fund Cluster","From Officer","To Officer","Date","Transfer Type","Status","Reason","Item Count","Items","Total Amount"]];B.forEach(M=>{const se=M.items.reduce((ke,qe)=>ke+(qe.amount??0),0),Le=M.items.map(ke=>`${ke.propertyNumber} - ${ke.description}`).join("; ");Q.push([M.itrNumber,M.entityName,M.fundCluster,yo(M.fromAccountableOfficer,M.fromAccountableOfficerDepartment),yo(M.toAccountableOfficer,M.toAccountableOfficerDepartment),M.date,M.transferType==="Others"&&M.otherTransferType?`${M.transferType} (${M.otherTransferType})`:M.transferType,M.status,M.reason,M.items.length.toString(),Le,se?Ja(se):""])}),fq(`inventory-transfers-${Date.now()}.csv`,Q)},te=Q=>{P(M=>({...M,items:M.items.filter(se=>se.propertyNumber!==Q)}))},R=()=>{if(!F.fromAccountableOfficer){I({title:"Select an accountable officer first",description:"Please choose the releasing accountable officer to filter the ICS items.",variant:"destructive"});return}j(!0)},Z=Q=>{E(M=>M.includes(Q)?M.filter(se=>se!==Q):[...M,Q])},le=()=>{const Q=W.filter(M=>C.includes(M.id));if(!Q.length){I({title:"No items selected",description:"Choose at least one item from the list before confirming.",variant:"destructive"});return}P(M=>{const se=new Map;return M.items.forEach(Le=>se.set(Le.propertyNumber,Le)),Q.map(hq).forEach(Le=>se.set(Le.propertyNumber,Le)),{...M,items:Array.from(se.values())}}),E([]),j(!1)},ae=h.useMemo(()=>({id:"preview",entityName:F.entityName,fromAccountableOfficer:F.fromAccountableOfficer,fromAccountableOfficerDepartment:F.fromAccountableOfficerDepartment,toAccountableOfficer:F.toAccountableOfficer,toAccountableOfficerDepartment:F.toAccountableOfficerDepartment,fundCluster:F.fundCluster,itrNumber:F.itrNumber,date:F.date,transferType:F.transferType,otherTransferType:F.otherTransferType,reason:F.reason,status:F.status,items:F.items,history:[]}),[F]),Pe=F.items.reduce((Q,M)=>Q+(M.amount??0),0),Ue=o&&(F.entityName||F.fundCluster||F.itrNumber||F.items.length>0||F.reason);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Property Transfers"}),s.jsxs(ce,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Create Transfer"]})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search by ITR no., officer, reason, or item",value:c,onChange:Q=>d(Q.target.value),className:"pl-10"})]}),s.jsxs(wt,{value:u,onValueChange:f,children:[s.jsx(gt,{children:s.jsx(jt,{placeholder:"Filter by status"})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All status"}),s.jsx(be,{value:"Pending",children:"Pending"}),s.jsx(be,{value:"In Transit",children:"In Transit"}),s.jsx(be,{value:"Completed",children:"Completed"}),s.jsx(be,{value:"Rejected",children:"Rejected"})]})]}),s.jsxs(wt,{value:m,onValueChange:p,children:[s.jsx(gt,{children:s.jsx(jt,{placeholder:"Filter by transfer type"})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All types"}),ug.map(Q=>s.jsx(be,{value:Q,children:Q},Q))]})]}),s.jsx(Te,{type:"date",value:x,onChange:Q=>g(Q.target.value),placeholder:"From date"}),s.jsx(Te,{type:"date",value:w,onChange:Q=>y(Q.target.value),placeholder:"To date"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ce,{type:"button",variant:"outline",onClick:ie,className:"flex-1 sm:flex-none",children:[s.jsx(pv,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsx(ce,{type:"button",variant:"ghost",className:"flex-1 sm:flex-none",onClick:()=>{f("All"),p("All"),g(""),y(""),d("")},children:"Clear Filters"})]})]}),o&&s.jsxs("div",{className:"grid gap-6 xl:grid-cols-[minmax(0,1fr)_420px]",children:[s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Create Inventory Transfer Report"})}),s.jsxs(Ie,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Te,{id:"entityName",list:"entity-suggestions",value:F.entityName,onChange:Q=>P({...F,entityName:Q.target.value}),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO"}),s.jsx("datalist",{id:"entity-suggestions",children:_.map(Q=>s.jsx("option",{value:Q},Q))}),v.entityName&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.entityName}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Suggested: PROVINCIAL GOVERNMENT OF APAYAO (used across property cards and ICS forms)"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"fundCluster",children:"Fund Cluster *"}),s.jsx(Te,{id:"fundCluster",value:F.fundCluster,onChange:Q=>P({...F,fundCluster:Q.target.value}),placeholder:"e.g., 101"}),v.fundCluster&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.fundCluster})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"itrNumber",children:"ITR No. *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{id:"itrNumber",value:F.itrNumber,onChange:Q=>P({...F,itrNumber:Q.target.value.toUpperCase()}),placeholder:"ITR-2025-0001"}),s.jsx(ce,{type:"button",variant:"outline",onClick:me,children:"Generate"})]}),v.itrNumber&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.itrNumber}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format suggestion: ITR-YYYY-#### (independent sequence from ICS numbers)"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"transferDate",children:"Date *"}),s.jsx(Te,{id:"transferDate",type:"date",value:F.date,onChange:Q=>P({...F,date:Q.target.value})}),v.date&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.date})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dg,{className:"space-y-1",label:"From Accountable Officer *",value:F.fromAccountableOfficer,onChange:(Q,M)=>P(se=>({...se,fromAccountableOfficer:Q,fromAccountableOfficerDepartment:M==null?void 0:M.department_name,fromAccountableOfficerId:M==null?void 0:M.id})),placeholder:"Search custodians...",required:!0}),v.fromOfficer&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.fromOfficer})]}),s.jsxs("div",{children:[s.jsx(dg,{className:"space-y-1",label:"To Accountable Officer *",value:F.toAccountableOfficer,onChange:(Q,M)=>P(se=>({...se,toAccountableOfficer:Q,toAccountableOfficerDepartment:M==null?void 0:M.department_name,toAccountableOfficerId:M==null?void 0:M.id})),placeholder:"Search custodians...",required:!0}),v.toOfficer&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.toOfficer})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Transfer Type *"}),s.jsxs(wt,{value:F.transferType,onValueChange:Q=>P(M=>({...M,transferType:Q,otherTransferType:Q==="Others"?M.otherTransferType:""})),children:[s.jsx(gt,{children:s.jsx(jt,{placeholder:"Select transfer type"})}),s.jsx(vt,{children:ug.map(Q=>s.jsx(be,{value:Q,children:Q},Q))})]})]}),F.transferType==="Others"&&s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"otherTransferType",children:"Specify Other Transfer Type"}),s.jsx(Te,{id:"otherTransferType",value:F.otherTransferType||"",onChange:Q=>P({...F,otherTransferType:Q.target.value}),placeholder:"Describe the transfer type"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(ue,{className:"text-base font-semibold",children:"Items to Transfer *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{type:"button",variant:"outline",size:"sm",onClick:R,children:"Select from ICS"}),ee&&s.jsx(Kt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]})]}),v.items&&s.jsx("p",{className:"text-sm text-destructive",children:v.items}),F.items.length===0?s.jsx("div",{className:"rounded-md border border-dashed p-4 text-sm text-muted-foreground bg-muted/30",children:"Select items from existing ICS slips. The table will auto-fill Item No., ICS number/date, description, amount, and condition."}):s.jsxs("div",{className:"rounded-md border overflow-hidden",children:[s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{className:"w-[120px]",children:"Item No."}),s.jsx(_e,{children:"ICS No./Date"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{className:"text-right w-[120px]",children:"Amount"}),s.jsx(_e,{className:"w-[140px]",children:"Condition"}),s.jsx(_e,{className:"w-[160px] text-right",children:"Actions"})]})}),s.jsx(Fr,{children:F.items.map(Q=>{const M=[Q.icsSlipNumber,Q.icsDate].filter(Boolean).join(" / ");return s.jsxs(nt,{children:[s.jsx(ve,{className:"font-medium",children:Q.propertyNumber}),s.jsx(ve,{children:M||""}),s.jsxs(ve,{children:[s.jsx("div",{className:"font-medium",children:Q.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[mm(Q.dateAcquired),Q.quantity?`  Qty: ${Q.quantity}`:""]})]}),s.jsx(ve,{className:"text-right",children:Q.amount!==void 0?Ja(Q.amount):""}),s.jsx(ve,{children:Q.condition||""}),s.jsx(ve,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(`/property-cards?search=${encodeURIComponent(Q.propertyNumber)}`),children:"Card"}),s.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(`/custodian-slips?slip=${encodeURIComponent(Q.icsSlipNumber||"")}`),children:"ICS"}),s.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>te(Q.propertyNumber),children:"Remove"})]})})]},Q.propertyNumber)})})]}),s.jsxs("div",{className:"px-4 py-2 text-sm text-right text-muted-foreground border-t",children:["Total amount of selected items: ",s.jsx("span",{className:"font-semibold",children:Ja(Pe)})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reason",children:"Reason for Transfer *"}),s.jsx(xi,{id:"reason",value:F.reason,onChange:Q=>P({...F,reason:Q.target.value}),placeholder:"Provide the justification or remarks for this transfer.",rows:4}),v.reason&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.reason})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),s.jsx(ce,{type:"button",onClick:V,children:"Save Transfer"})]})]})]}),Ue&&s.jsxs(Ae,{className:"xl:sticky xl:top-24 h-fit",children:[s.jsxs(Ve,{children:[s.jsx(Ke,{children:"Print Preview"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates automatically as you complete the form. This mirrors the Annex A.5 layout."})]}),s.jsx(Ie,{children:s.jsx(du,{className:"max-h-[70vh] pr-2",children:N0(ae,!0)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[B.map(Q=>{const M=Q.items.reduce((se,Le)=>se+(Le.amount??0),0);return s.jsxs(Ae,{className:"flex flex-col",children:[s.jsx(Ve,{children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx(Ke,{className:"text-lg",children:Q.itrNumber}),s.jsx("p",{className:"text-sm text-muted-foreground",children:mm(Q.date)})]}),s.jsxs(Ze,{variant:Q.status==="Pending"?"warning":Q.status==="Completed"?"success":Q.status==="Rejected"?"destructive":"secondary",className:"flex items-center gap-1",children:[Q.status==="Pending"?s.jsx(Yo,{className:"h-3.5 w-3.5"}):Q.status==="Completed"?s.jsx(Go,{className:"h-3.5 w-3.5"}):Q.status==="Rejected"?s.jsx(ka,{className:"h-3.5 w-3.5"}):s.jsx(Yo,{className:"h-3.5 w-3.5"}),Q.status]})]})}),s.jsxs(Ie,{className:"flex flex-1 flex-col gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Entity:"})," ",Q.entityName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fund Cluster:"})," ",Q.fundCluster]}),s.jsxs("p",{children:[s.jsx("strong",{children:"From:"})," ",yo(Q.fromAccountableOfficer,Q.fromAccountableOfficerDepartment)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"To:"})," ",yo(Q.toAccountableOfficer,Q.toAccountableOfficerDepartment)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Transfer Type:"})," ",Q.transferType==="Others"&&Q.otherTransferType?`${Q.transferType}  ${Q.otherTransferType}`:Q.transferType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reason:"})," ",Q.reason||""]}),M>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Total Amount:"})," ",Ja(M)]})]}),Q.items.length>0&&s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{children:"Item No."}),s.jsx(_e,{children:"ICS"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{className:"text-right",children:"Amount"})]})}),s.jsx(Fr,{children:Q.items.map(se=>{const Le=[se.icsSlipNumber,se.icsDate].filter(Boolean).join(" / ");return s.jsxs(nt,{children:[s.jsx(ve,{className:"font-medium",children:se.propertyNumber}),s.jsx(ve,{children:Le||""}),s.jsxs(ve,{children:[s.jsx("div",{children:se.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[se.condition||"",se.quantity?`  Qty: ${se.quantity}`:""]})]}),s.jsx(ve,{className:"text-right",children:se.amount!==void 0?Ja(se.amount):""})]},se.propertyNumber)})})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx(AR,{className:"h-4 w-4"}),"History"]}),s.jsx(du,{className:"mt-2 max-h-32 pr-2",children:s.jsx("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:Q.history.map((se,Le)=>s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:uq(se.timestamp)})," "," ",se.action," (",se.status,")",se.details&&s.jsx("div",{className:"ml-5 text-[11px]",children:se.details})]},`${se.timestamp}-${Le}`))})})]}),s.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[s.jsxs(ce,{type:"button",size:"sm",variant:"outline",onClick:()=>G(Q),children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Print Inventory Transfer Report"]}),Q.status==="Rejected"&&s.jsx(ce,{type:"button",size:"sm",variant:"destructive",className:"w-full",onClick:()=>X(Q.id),children:"Delete Rejected Transfer"}),Q.status!=="Completed"&&Q.status!=="Rejected"&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[Q.status==="Pending"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{type:"button",size:"sm",variant:"secondary",className:"flex-1",onClick:()=>A(Q.id,"In Transit"),children:"Mark In Transit"}),s.jsx(ce,{type:"button",size:"sm",variant:"destructive",className:"flex-1",onClick:()=>A(Q.id,"Rejected"),children:"Reject"})]}),Q.status==="In Transit"&&s.jsx(ce,{type:"button",size:"sm",className:"flex-1",onClick:()=>A(Q.id,"Completed"),children:"Mark Complete"})]})]})]})]},Q.id)}),!B.length&&s.jsxs(Ae,{className:"col-span-full border-dashed border-muted-foreground/40",children:[s.jsx(Ve,{children:s.jsx(Ke,{className:"text-lg",children:"No transfers found"})}),s.jsx(Ie,{className:"text-muted-foreground",children:"Adjust the filters or create a new transfer to see it listed here."})]})]}),a&&s.jsx("div",{className:"print-only",ref:U,children:N0(a)}),s.jsx(Qr,{open:N,onOpenChange:j,children:s.jsxs(Ir,{className:"max-w-4xl",children:[s.jsxs(Xr,{children:[s.jsx(Jr,{children:"Select Items from ICS"}),s.jsxs(ls,{children:["Showing items issued to ",F.fromAccountableOfficer||"the selected accountable officer",". Choose the items that will be transferred."]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Te,{placeholder:"Search by item number, description, ICS number",value:D,onChange:Q=>H(Q.target.value)}),s.jsxs("div",{className:"border rounded-md h-[360px] overflow-hidden",children:[s.jsx(gr,{children:s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{className:"w-[40px]"}),s.jsx(_e,{children:"Item No."}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"ICS No."}),s.jsx(_e,{children:"Date Issued"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Condition"})]})})}),s.jsx(du,{className:"h-[300px]",children:s.jsx(gr,{children:s.jsx(Fr,{children:ee?s.jsx(nt,{children:s.jsx(ve,{colSpan:7,className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 py-10 text-muted-foreground",children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin"}),"Loading ICS items"]})})}):W.length===0?s.jsx(nt,{children:s.jsx(ve,{colSpan:7,className:"text-center text-muted-foreground py-10",children:"No ICS items found for the selected officer. Adjust your search or confirm the officer selection."})}):W.map(Q=>{const M=C.includes(Q.id);return s.jsxs(nt,{className:"cursor-pointer",onClick:()=>Z(Q.id),children:[s.jsx(ve,{className:"w-[40px]",children:s.jsx(sd,{checked:M,onCheckedChange:()=>Z(Q.id)})}),s.jsx(ve,{className:"font-medium",children:Q.propertyNumber}),s.jsx(ve,{children:Q.description}),s.jsx(ve,{children:Q.icsSlipNumber}),s.jsx(ve,{children:mm(Q.icsDate)}),s.jsx(ve,{children:Q.amount!==void 0?Ja(Q.amount):""}),s.jsx(ve,{children:Q.condition||""})]},Q.id)})})})})]})]}),s.jsxs(F1,{className:"flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:C.length?`${C.length} item(s) selected`:"Select one or more items to add to the transfer."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{type:"button",variant:"ghost",onClick:()=>j(!1),children:"Cancel"}),s.jsx(ce,{type:"button",onClick:le,children:"Add Selected Items"})]})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; width: 100%; }
        }
        .print-only { display: none; }
      `})]})},pq=()=>{var q,F;const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState("All"),u=h.useRef(null),{toast:f}=$n(),[m,p]=h.useState({countNumber:"",department:"",countDate:"",countType:"Annual",status:"Planned",conductedBy:[""],witnessedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}],remarks:""}),x=(P,_)=>_-P,g=()=>{var B;if(!m.countNumber||!m.department){f({title:"Error",description:"Please fill in required fields",variant:"destructive"});return}const P=((B=m.items)==null?void 0:B.map(oe=>({...oe,variance:x(oe.expectedQuantity,oe.actualQuantity)})))||[],_=P.reduce((oe,me)=>oe+me.expectedQuantity,0),T=P.reduce((oe,me)=>oe+me.actualQuantity,0),ee=T-_,W={id:Date.now().toString(),...m,items:P,totalExpected:_,totalActual:T,totalVariance:ee};t([...e,W]),p({countNumber:"",department:"",countDate:"",countType:"Annual",status:"Planned",conductedBy:[""],witnessedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}],remarks:""}),i(!1),f({title:"Success",description:"Physical count record created successfully"})},w=()=>{p({...m,items:[...m.items||[],{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}]})},y=(P,_,T)=>{const ee=[...m.items||[]];if(ee[P]={...ee[P],[_]:T},_==="expectedQuantity"||_==="actualQuantity"){const W=_==="expectedQuantity"?T:ee[P].expectedQuantity,B=_==="actualQuantity"?T:ee[P].actualQuantity;ee[P].variance=x(W,B)}p({...m,items:ee})},v=P=>{var T;const _=(T=m.items)==null?void 0:T.filter((ee,W)=>W!==P);p({...m,items:_})},b=()=>{p({...m,conductedBy:[...m.conductedBy||[],""]})},N=(P,_)=>{const T=[...m.conductedBy||[]];T[P]=_,p({...m,conductedBy:T})},j=P=>{var T;const _=(T=m.conductedBy)==null?void 0:T.filter((ee,W)=>W!==P);p({...m,conductedBy:_})},C=(P,_)=>{t(e.map(T=>T.id===P?{...T,status:_}:T)),f({title:"Success",description:`Physical count status updated to ${_}`})},E=P=>{n(P),setTimeout(()=>{window.print()},100)},D=P=>{switch(P){case"Planned":return s.jsx(Yo,{className:"h-4 w-4"});case"Completed":return s.jsx(Go,{className:"h-4 w-4"});case"Under Review":return s.jsx(bc,{className:"h-4 w-4"});default:return s.jsx(Yo,{className:"h-4 w-4"})}},H=P=>{switch(P){case"Planned":return"secondary";case"In Progress":return"warning";case"Completed":return"success";case"Under Review":return"warning";default:return"secondary"}},U=P=>P===0?"success":P>0?"warning":"destructive",I=e.filter(P=>{const _=P.countNumber.toLowerCase().includes(o.toLowerCase())||P.department.toLowerCase().includes(o.toLowerCase()),T=c==="All"||P.status===c;return _&&T});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Physical Count of Semi-Expandable Property"}),s.jsxs(ce,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Create Physical Count"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search physical counts...",value:o,onChange:P=>l(P.target.value),className:"pl-10"})]}),s.jsxs(wt,{value:c,onValueChange:d,children:[s.jsx(gt,{className:"w-48",children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All Status"}),s.jsx(be,{value:"Planned",children:"Planned"}),s.jsx(be,{value:"In Progress",children:"In Progress"}),s.jsx(be,{value:"Completed",children:"Completed"}),s.jsx(be,{value:"Under Review",children:"Under Review"})]})]})]}),a&&s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Create Physical Count Record"})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"countNumber",children:"Count Number *"}),s.jsx(Te,{id:"countNumber",value:m.countNumber,onChange:P=>p({...m,countNumber:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"countDate",children:"Count Date"}),s.jsx(Te,{id:"countDate",type:"date",value:m.countDate,onChange:P=>p({...m,countDate:P.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"department",children:"Department *"}),s.jsx(Te,{id:"department",value:m.department,onChange:P=>p({...m,department:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Count Type"}),s.jsxs(wt,{value:m.countType,onValueChange:P=>p({...m,countType:P}),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"Annual",children:"Annual"}),s.jsx(be,{value:"Quarterly",children:"Quarterly"}),s.jsx(be,{value:"Special",children:"Special"}),s.jsx(be,{value:"Spot Check",children:"Spot Check"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{children:"Conducted By"}),s.jsx(ce,{type:"button",onClick:b,size:"sm",variant:"outline",children:"Add Person"})]}),(q=m.conductedBy)==null?void 0:q.map((P,_)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(Te,{placeholder:"Name and Position",value:P,onChange:T=>N(_,T.target.value)}),m.conductedBy&&m.conductedBy.length>1&&s.jsx(ce,{type:"button",onClick:()=>j(_),size:"sm",variant:"destructive",children:"Remove"})]},_))]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"witnessedBy",children:"Witnessed By"}),s.jsx(Te,{id:"witnessedBy",value:m.witnessedBy,onChange:P=>p({...m,witnessedBy:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"approvedBy",children:"Approved By"}),s.jsx(Te,{id:"approvedBy",value:m.approvedBy,onChange:P=>p({...m,approvedBy:P.target.value})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{children:"Items"}),s.jsx(ce,{type:"button",onClick:w,size:"sm",variant:"outline",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:(F=m.items)==null?void 0:F.map((P,_)=>s.jsxs("div",{className:"grid grid-cols-8 gap-2 p-2 border rounded",children:[s.jsx(Te,{placeholder:"Property #",value:P.propertyNumber,onChange:T=>y(_,"propertyNumber",T.target.value)}),s.jsx(Te,{placeholder:"Description",value:P.description,onChange:T=>y(_,"description",T.target.value)}),s.jsx(Te,{placeholder:"Expected",type:"number",value:P.expectedQuantity,onChange:T=>y(_,"expectedQuantity",parseInt(T.target.value)||0)}),s.jsx(Te,{placeholder:"Actual",type:"number",value:P.actualQuantity,onChange:T=>y(_,"actualQuantity",parseInt(T.target.value)||0)}),s.jsx(Te,{placeholder:"Location",value:P.location,onChange:T=>y(_,"location",T.target.value)}),s.jsxs(wt,{value:P.condition,onValueChange:T=>y(_,"condition",T),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"Serviceable",children:"Serviceable"}),s.jsx(be,{value:"For Repair",children:"For Repair"}),s.jsx(be,{value:"Unserviceable",children:"Unserviceable"}),s.jsx(be,{value:"Missing",children:"Missing"})]})]}),s.jsx("div",{className:"text-center py-2",children:s.jsxs(Ze,{variant:U(P.variance),children:[P.variance>0?"+":"",P.variance]})}),s.jsx(ce,{type:"button",onClick:()=>v(_),size:"sm",variant:"destructive",children:""})]},_))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"remarks",children:"General Remarks"}),s.jsx(xi,{id:"remarks",value:m.remarks,onChange:P=>p({...m,remarks:P.target.value})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{onClick:g,children:"Create Count"}),s.jsx(ce,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:I.map(P=>s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Ke,{className:"text-lg",children:P.countNumber}),s.jsxs(Ze,{variant:H(P.status),className:"flex items-center gap-1",children:[D(P.status),P.status]})]})}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",P.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",P.countType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",P.countDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Items:"})," ",P.items.length]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Expected:"})," ",P.totalExpected]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Actual:"})," ",P.totalActual]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:"Variance:"}),s.jsxs(Ze,{variant:U(P.totalVariance),children:[P.totalVariance>0?"+":"",P.totalVariance]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs(ce,{onClick:()=>E(P),size:"sm",variant:"outline",children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Print Report"]}),P.status!=="Completed"&&s.jsxs("div",{className:"flex gap-1",children:[P.status==="Planned"&&s.jsx(ce,{onClick:()=>C(P.id,"In Progress"),size:"sm",className:"flex-1",children:"Start Count"}),P.status==="In Progress"&&s.jsx(ce,{onClick:()=>C(P.id,"Under Review"),size:"sm",className:"flex-1",children:"Submit Review"}),P.status==="Under Review"&&s.jsx(ce,{onClick:()=>C(P.id,"Completed"),size:"sm",className:"flex-1",children:"Complete"})]})]})]})]},P.id))}),r&&s.jsx("div",{className:"print-only",children:s.jsxs("div",{ref:u,className:"max-w-4xl mx-auto p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"REPORT ON THE PHYSICAL COUNT OF SEMI-EXPANDABLE PROPERTY"}),s.jsxs("p",{className:"text-lg",children:["Count No: ",r.countNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"COUNT DETAILS"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",r.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Count Type:"})," ",r.countType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",r.countDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",r.status]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"SUMMARY"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Total Expected:"})," ",r.totalExpected]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Actual:"})," ",r.totalActual]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Variance:"})," ",r.totalVariance>0?"+":"",r.totalVariance]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"CONDUCTED BY"}),s.jsx("div",{className:"space-y-1",children:r.conductedBy.map((P,_)=>s.jsxs("p",{children:[" ",P]},_))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"ITEMS COUNTED"}),s.jsxs("table",{className:"w-full border-collapse border border-black text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-1 text-left",children:"Property Number"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Expected"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Actual"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Variance"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Condition"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Location"})]})}),s.jsx("tbody",{children:r.items.map((P,_)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1",children:P.propertyNumber}),s.jsx("td",{className:"border border-black p-1",children:P.description}),s.jsx("td",{className:"border border-black p-1 text-center",children:P.expectedQuantity}),s.jsx("td",{className:"border border-black p-1 text-center",children:P.actualQuantity}),s.jsxs("td",{className:"border border-black p-1 text-center",children:[P.variance>0?"+":"",P.variance]}),s.jsx("td",{className:"border border-black p-1",children:P.condition}),s.jsx("td",{className:"border border-black p-1",children:P.location})]},_))})]})]}),r.remarks&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"REMARKS"}),s.jsx("p",{children:r.remarks})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center mt-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Count Team Leader"}),s.jsx("p",{className:"mt-8",children:r.conductedBy[0]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Witnessed By"}),s.jsx("p",{className:"mt-8",children:r.witnessedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Approved By"}),s.jsx("p",{className:"mt-8",children:r.approvedBy})]})})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; }
        }
        .print-only { display: none; }
      `})]})},gq=()=>{var U;const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState("All"),[u,f]=h.useState("All"),m=h.useRef(null),{toast:p}=$n(),[x,g]=h.useState({reportNumber:"",department:"",reportDate:"",incidentDate:"",reportType:"Lost",status:"Draft",reportedBy:"",investigatedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:"Lost",circumstances:""}],incidentDescription:"",actionsTaken:"",recommendations:"",attachments:[]}),w=()=>{var F;if(!x.reportNumber||!x.department||!x.reportType){p({title:"Error",description:"Please fill in required fields",variant:"destructive"});return}const I=((F=x.items)==null?void 0:F.reduce((P,_)=>P+_.totalCost,0))||0,q={id:Date.now().toString(),...x,totalLossAmount:I};t([...e,q]),g({reportNumber:"",department:"",reportDate:"",incidentDate:"",reportType:"Lost",status:"Draft",reportedBy:"",investigatedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:"Lost",circumstances:""}],incidentDescription:"",actionsTaken:"",recommendations:"",attachments:[]}),i(!1),p({title:"Success",description:"Loss report created successfully"})},y=()=>{g({...x,items:[...x.items||[],{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:x.reportType||"Lost",circumstances:""}]})},v=(I,q,F)=>{const P=[...x.items||[]];if(P[I]={...P[I],[q]:F},q==="quantity"||q==="unitCost"){const _=q==="quantity"?F:P[I].quantity,T=q==="unitCost"?F:P[I].unitCost;P[I].totalCost=_*T}g({...x,items:P})},b=I=>{var F;const q=(F=x.items)==null?void 0:F.filter((P,_)=>_!==I);g({...x,items:q})},N=(I,q)=>{t(e.map(F=>F.id===I?{...F,status:q}:F)),p({title:"Success",description:`Report status updated to ${q}`})},j=I=>{n(I),setTimeout(()=>{window.print()},100)},C=I=>{switch(I){case"Draft":return s.jsx(Yo,{className:"h-4 w-4"});case"Under Investigation":return s.jsx(bc,{className:"h-4 w-4"});case"Approved":return s.jsx(Go,{className:"h-4 w-4"});default:return s.jsx(Yo,{className:"h-4 w-4"})}},E=I=>{switch(I){case"Draft":return"secondary";case"Submitted":return"warning";case"Under Investigation":return"warning";case"Approved":return"success";case"Rejected":return"destructive";default:return"secondary"}},D=I=>{switch(I){case"Lost":return"warning";case"Stolen":return"destructive";case"Damaged":return"secondary";case"Destroyed":return"destructive";default:return"secondary"}},H=e.filter(I=>{const q=I.reportNumber.toLowerCase().includes(o.toLowerCase())||I.department.toLowerCase().includes(o.toLowerCase()),F=c==="All"||I.status===c,P=u==="All"||I.reportType===u;return q&&F&&P});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Loss/Damage Reports"}),s.jsxs(ce,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),"Create New Report"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search reports...",value:o,onChange:I=>l(I.target.value),className:"pl-10"})]}),s.jsxs(wt,{value:c,onValueChange:d,children:[s.jsx(gt,{className:"w-48",children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All Status"}),s.jsx(be,{value:"Draft",children:"Draft"}),s.jsx(be,{value:"Submitted",children:"Submitted"}),s.jsx(be,{value:"Under Investigation",children:"Under Investigation"}),s.jsx(be,{value:"Approved",children:"Approved"}),s.jsx(be,{value:"Rejected",children:"Rejected"})]})]}),s.jsxs(wt,{value:u,onValueChange:f,children:[s.jsx(gt,{className:"w-48",children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All Types"}),s.jsx(be,{value:"Lost",children:"Lost"}),s.jsx(be,{value:"Stolen",children:"Stolen"}),s.jsx(be,{value:"Damaged",children:"Damaged"}),s.jsx(be,{value:"Destroyed",children:"Destroyed"})]})]})]}),a&&s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Create Loss/Damage Report"})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reportNumber",children:"Report Number *"}),s.jsx(Te,{id:"reportNumber",value:x.reportNumber,onChange:I=>g({...x,reportNumber:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reportDate",children:"Report Date"}),s.jsx(Te,{id:"reportDate",type:"date",value:x.reportDate,onChange:I=>g({...x,reportDate:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"department",children:"Department *"}),s.jsx(Te,{id:"department",value:x.department,onChange:I=>g({...x,department:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"incidentDate",children:"Incident Date"}),s.jsx(Te,{id:"incidentDate",type:"date",value:x.incidentDate,onChange:I=>g({...x,incidentDate:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Report Type *"}),s.jsxs(wt,{value:x.reportType,onValueChange:I=>g({...x,reportType:I}),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"Lost",children:"Lost"}),s.jsx(be,{value:"Stolen",children:"Stolen"}),s.jsx(be,{value:"Damaged",children:"Damaged"}),s.jsx(be,{value:"Destroyed",children:"Destroyed"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"incidentDescription",children:"Incident Description"}),s.jsx(xi,{id:"incidentDescription",value:x.incidentDescription,onChange:I=>g({...x,incidentDescription:I.target.value}),placeholder:"Describe what happened, when, where, and circumstances"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{children:"Affected Items"}),s.jsx(ce,{type:"button",onClick:y,size:"sm",variant:"outline",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:(U=x.items)==null?void 0:U.map((I,q)=>s.jsxs("div",{className:"grid grid-cols-7 gap-2 p-2 border rounded",children:[s.jsx(Te,{placeholder:"Property Number",value:I.propertyNumber,onChange:F=>v(q,"propertyNumber",F.target.value)}),s.jsx(Te,{placeholder:"Description",value:I.description,onChange:F=>v(q,"description",F.target.value)}),s.jsx(Te,{placeholder:"Qty",type:"number",value:I.quantity,onChange:F=>v(q,"quantity",parseInt(F.target.value)||0)}),s.jsx(Te,{placeholder:"Unit Cost",type:"number",step:"0.01",value:I.unitCost,onChange:F=>v(q,"unitCost",parseFloat(F.target.value)||0)}),s.jsx(Te,{placeholder:"Total Cost",type:"number",value:I.totalCost,readOnly:!0,className:"bg-muted"}),s.jsxs(wt,{value:I.condition,onValueChange:F=>v(q,"condition",F),children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"Lost",children:"Lost"}),s.jsx(be,{value:"Stolen",children:"Stolen"}),s.jsx(be,{value:"Damaged",children:"Damaged"}),s.jsx(be,{value:"Destroyed",children:"Destroyed"})]})]}),s.jsx(ce,{type:"button",onClick:()=>b(q),size:"sm",variant:"destructive",children:""})]},q))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"actionsTaken",children:"Actions Taken"}),s.jsx(xi,{id:"actionsTaken",value:x.actionsTaken,onChange:I=>g({...x,actionsTaken:I.target.value}),placeholder:"Describe immediate actions taken after the incident"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"recommendations",children:"Recommendations"}),s.jsx(xi,{id:"recommendations",value:x.recommendations,onChange:I=>g({...x,recommendations:I.target.value}),placeholder:"Recommendations to prevent similar incidents"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reportedBy",children:"Reported By"}),s.jsx(Te,{id:"reportedBy",value:x.reportedBy,onChange:I=>g({...x,reportedBy:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"investigatedBy",children:"Investigated By"}),s.jsx(Te,{id:"investigatedBy",value:x.investigatedBy,onChange:I=>g({...x,investigatedBy:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"approvedBy",children:"Approved By"}),s.jsx(Te,{id:"approvedBy",value:x.approvedBy,onChange:I=>g({...x,approvedBy:I.target.value})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{onClick:w,children:"Create Report"}),s.jsx(ce,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:H.map(I=>s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Ke,{className:"text-lg",children:I.reportNumber}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs(Ze,{variant:E(I.status),className:"flex items-center gap-1",children:[C(I.status),I.status]}),s.jsx(Ze,{variant:D(I.reportType),children:I.reportType})]})]})}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",I.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incident Date:"})," ",I.incidentDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Items Affected:"})," ",I.items.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Loss:"})," ",I.totalLossAmount.toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reported By:"})," ",I.reportedBy]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs(ce,{onClick:()=>j(I),size:"sm",variant:"outline",children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Print Report"]}),I.status!=="Approved"&&I.status!=="Rejected"&&s.jsxs("div",{className:"flex gap-1",children:[I.status==="Draft"&&s.jsx(ce,{onClick:()=>N(I.id,"Submitted"),size:"sm",className:"flex-1",children:"Submit"}),I.status==="Submitted"&&s.jsx(ce,{onClick:()=>N(I.id,"Under Investigation"),size:"sm",className:"flex-1",children:"Investigate"}),I.status==="Under Investigation"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ce,{onClick:()=>N(I.id,"Approved"),size:"sm",className:"flex-1",children:"Approve"}),s.jsx(ce,{onClick:()=>N(I.id,"Rejected"),size:"sm",variant:"destructive",className:"flex-1",children:"Reject"})]})]})]})]})]},I.id))}),r&&s.jsx("div",{className:"print-only",children:s.jsxs("div",{ref:m,className:"max-w-4xl mx-auto p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["REPORT OF ",r.reportType.toUpperCase(),", STOLEN, DAMAGED OR DESTROYED PROPERTY"]}),s.jsxs("p",{className:"text-lg",children:["Report No: ",r.reportNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"REPORT DETAILS"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",r.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report Type:"})," ",r.reportType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report Date:"})," ",r.reportDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incident Date:"})," ",r.incidentDate]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"PERSONNEL"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Reported By:"})," ",r.reportedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Investigated By:"})," ",r.investigatedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Approved By:"})," ",r.approvedBy]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"INCIDENT DESCRIPTION"}),s.jsx("p",{className:"text-justify",children:r.incidentDescription})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"AFFECTED ITEMS"}),s.jsxs("table",{className:"w-full border-collapse border border-black",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-2 text-left",children:"Property Number"}),s.jsx("th",{className:"border border-black p-2 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border border-black p-2 text-right",children:"Unit Cost"}),s.jsx("th",{className:"border border-black p-2 text-right",children:"Total Cost"}),s.jsx("th",{className:"border border-black p-2 text-center",children:"Status"})]})}),s.jsxs("tbody",{children:[r.items.map((I,q)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-2",children:I.propertyNumber}),s.jsx("td",{className:"border border-black p-2",children:I.description}),s.jsx("td",{className:"border border-black p-2 text-center",children:I.quantity}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",I.unitCost.toLocaleString()]}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",I.totalCost.toLocaleString()]}),s.jsx("td",{className:"border border-black p-2 text-center",children:I.condition})]},q)),s.jsxs("tr",{className:"font-bold bg-gray-100",children:[s.jsx("td",{colSpan:4,className:"border border-black p-2 text-right",children:"TOTAL LOSS AMOUNT:"}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",r.totalLossAmount.toLocaleString()]}),s.jsx("td",{className:"border border-black p-2"})]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"ACTIONS TAKEN"}),s.jsx("p",{className:"text-justify",children:r.actionsTaken})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"RECOMMENDATIONS"}),s.jsx("p",{className:"text-justify",children:r.recommendations})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center mt-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Reported By"}),s.jsx("p",{className:"mt-8",children:r.reportedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Investigated By"}),s.jsx("p",{className:"mt-8",children:r.investigatedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Approved By"}),s.jsx("p",{className:"mt-8",children:r.approvedBy})]})})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; }
        }
        .print-only { display: none; }
      `})]})},vq=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Semi-Expandable Property Ledger Card"}),s.jsxs(ce,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Ae,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Ve,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-bold uppercase",children:"SEMI-EXPANDABLE PROPERTY LEDGER CARD"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Property Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.propertyNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Description:"}),s.jsx("p",{className:"text-sm",children:e.description})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Unit:"}),s.jsx("p",{className:"text-sm",children:e.unit})]})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Reference Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Received"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Issued"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Balance"}),s.jsx("th",{className:"p-2 text-center",children:"Recipient/Issuer"})]})}),s.jsxs("tbody",{children:[e.entries.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.date}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.referenceNumber}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.received||"-"}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.issued||"-"}),s.jsx("td",{className:"border-r border-black p-2 text-center font-semibold",children:r.balance}),s.jsx("td",{className:"p-2",children:r.recipient})]},n)),Array.from({length:Math.max(0,10-e.entries.length)}).map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 h-8",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"p-2",children:""})]},`empty-${n}`))]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]})]})]})]})]})},yq=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory Transfer Report"}),s.jsxs(ce,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Ae,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Ve,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-bold uppercase",children:"INVENTORY TRANSFER REPORT"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Transfer Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.transferNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Date:"}),s.jsx("p",{className:"text-sm",children:e.date})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"From Department:"}),s.jsx("p",{className:"text-sm",children:e.fromDepartment})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"From Custodian:"}),s.jsx("p",{className:"text-sm",children:e.fromCustodian})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"To Department:"}),s.jsx("p",{className:"text-sm",children:e.toDepartment})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"To Custodian:"}),s.jsx("p",{className:"text-sm",children:e.toCustodian})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Reason for Transfer:"}),s.jsx("p",{className:"text-sm",children:e.reason})]})]})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Serial Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"p-2 text-center",children:"Remarks"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.quantity}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.unit}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.serialNumber}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.condition}),s.jsx("td",{className:"p-2",children:r.remarks})]},n))})]})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Released by:"}),s.jsx("p",{className:"text-xs",children:"(Signature over Printed Name)"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Received by:"}),s.jsx("p",{className:"text-xs",children:"(Signature over Printed Name)"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Approved by:"}),s.jsx("p",{className:"text-xs",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Date"})]})]})]})]})]})},xq=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Report on Physical Count of Semi-Expandable Property"}),s.jsxs(ce,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Ae,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Ve,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"REPORT ON THE PHYSICAL COUNT OF SEMI-EXPANDABLE PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Count Date:"}),s.jsx("p",{className:"text-sm",children:e.countDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Property Custodian:"}),s.jsx("p",{className:"text-sm",children:e.custodian})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Counted By:"}),s.jsx("div",{className:"text-sm space-y-1",children:e.countedBy.map((r,n)=>s.jsx("p",{children:r},n))})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Book Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Actual Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Variance"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Location"}),s.jsx("th",{className:"p-2 text-center",children:"Remarks"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.bookQuantity}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.actualQuantity}),s.jsxs("td",{className:`border-r border-black p-2 text-center font-semibold ${r.variance!==0?r.variance>0?"text-green-600":"text-red-600":""}`,children:[r.variance>0?"+":"",r.variance]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.condition}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.location}),s.jsx("td",{className:"p-2",children:r.remarks})]},n))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL VARIANCE:"}),s.jsxs("td",{className:`border-r border-black p-2 text-center font-bold text-lg ${e.totalVariance!==0?e.totalVariance>0?"text-green-600":"text-red-600":""}`,children:[e.totalVariance>0?"+":"",e.totalVariance]}),s.jsx("td",{colSpan:3,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"SUMMARY OF VARIANCES:"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Overage: "}),s.jsxs("span",{className:"text-green-600",children:["+",e.items.filter(r=>r.variance>0).reduce((r,n)=>r+n.variance,0)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Shortage: "}),s.jsx("span",{className:"text-red-600",children:e.items.filter(r=>r.variance<0).reduce((r,n)=>r+n.variance,0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Net Variance: "}),s.jsxs("span",{className:e.totalVariance!==0?e.totalVariance>0?"text-green-600":"text-red-600":"",children:[e.totalVariance>0?"+":"",e.totalVariance]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Inventory Committee Chairman"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]})]})]})]})]})},bq=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Report of Lost, Stolen, Damaged or Destroyed Property"}),s.jsxs(ce,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Ae,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Ve,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"REPORT OF LOST, STOLEN, DAMAGED OR DESTROYED PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Date:"}),s.jsx("p",{className:"text-sm",children:e.reportDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Reported By:"}),s.jsx("p",{className:"text-sm",children:e.reportedBy})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Investigated By:"}),s.jsx("p",{className:"text-sm",children:e.investigatedBy})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date Acquired"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date of Loss"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Cause"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Responsible Person"}),s.jsx("th",{className:"p-2 text-center",children:"Action Taken"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.quantity}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",r.unitCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-semibold",children:["",r.totalCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.dateAcquired}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.dateOfLoss}),s.jsx("td",{className:"border-r border-black p-2",children:r.cause}),s.jsx("td",{className:"border-r border-black p-2",children:r.responsible}),s.jsx("td",{className:"p-2",children:r.actionTaken})]},n))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL LOSS VALUE:"}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-bold text-lg text-red-600",children:["",e.totalLoss.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{colSpan:5,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"RECOMMENDATIONS:"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{className:"border-b border-gray-200 pb-8",children:s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended actions based on investigation findings:"})})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Prepared by:"}),s.jsx("p",{className:"text-xs",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Noted by:"}),s.jsx("p",{className:"text-xs",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Approved by:"}),s.jsx("p",{className:"text-xs",children:"Head of Office"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Date"})]})]})]})]})]})},wq=({data:e})=>{const t=()=>{window.print()},r=n=>{switch(n){case"Repair":return"text-blue-600";case"Dispose":return"text-orange-600";case"Condemn":return"text-red-600";default:return""}};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory and Inspection Report of Unserviceable Semi-Expandable Property"}),s.jsxs(ce,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Ae,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Ve,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"INVENTORY AND INSPECTION REPORT OF UNSERVICEABLE SEMI-EXPANDABLE PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Date:"}),s.jsx("p",{className:"text-sm",children:e.reportDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Review Period:"}),s.jsx("p",{className:"text-sm",children:e.reviewPeriod})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Inspected By:"}),s.jsx("div",{className:"text-sm space-y-1",children:e.inspectedBy.map((n,a)=>s.jsx("p",{children:n},a))})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date Acquired"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Defects/Issues"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Recommendation"}),s.jsx("th",{className:"p-2 text-center",children:"Estimated Repair Cost"})]})}),s.jsx("tbody",{children:e.items.map((n,a)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:a+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:n.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:n.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.quantity}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",n.unitCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",n.totalCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.dateAcquired}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.condition}),s.jsx("td",{className:"border-r border-black p-2",children:n.defects}),s.jsx("td",{className:`border-r border-black p-2 text-center font-semibold ${r(n.recommendation)}`,children:n.recommendation}),s.jsx("td",{className:"p-2 text-right",children:n.estimatedRepairCost?`${n.estimatedRepairCost.toLocaleString("en-PH",{minimumFractionDigits:2})}`:"-"})]},a))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL VALUE OF UNSERVICEABLE PROPERTY:"}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-bold text-lg text-orange-600",children:["",e.totalValue.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{colSpan:5,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border border-gray-400",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-blue-600",children:"FOR REPAIR"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Repair").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-orange-600",children:"FOR DISPOSAL"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Dispose").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-red-600",children:"FOR CONDEMNATION"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Condemn").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]})]}),s.jsxs("div",{className:"p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"INSPECTOR'S NOTES:"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{className:"border-b border-gray-200 pb-8",children:s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Additional observations and recommendations:"})})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Inspection Committee Chairman"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]})]})]})]})]})},jq=({data:e})=>{const[t,r]=h.useState(""),[n,a]=h.useState(!1),{data:i=[],isLoading:o}=Bt({queryKey:["custodian-summaries"],queryFn:()=>Ss.getAllSummaries(),enabled:!0}),{data:l=[]}=Bt({queryKey:["custodian-item-history",t,n],queryFn:()=>Ss.getItemHistory(t,{includeReturned:n}),enabled:!!t}),c=i.find(u=>u.custodian.id===t),d=()=>{console.log("Exporting custodian report...")};return o?s.jsx("div",{className:"p-6",children:s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading custodian data..."})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(vi,{className:"h-8 w-8"}),"Custodian Information Report"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive report showing all items and records for each custodian"})]}),s.jsxs(ce,{onClick:d,children:[s.jsx(pv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vi,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Custodians"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items Assigned"}),s.jsx("p",{className:"text-2xl font-bold",children:i.reduce((u,f)=>u+f.total_items_assigned,0)})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Assigned"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",i.reduce((u,f)=>u+f.total_value_assigned,0).toLocaleString()]})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently Assigned"}),s.jsx("p",{className:"text-2xl font-bold",children:i.reduce((u,f)=>u+f.currently_assigned_items,0)})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-5 w-5"}),"All Custodians"]})}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.map(u=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${t===u.custodian.id?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,onClick:()=>r(u.custodian.id),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.custodian.name}),s.jsx("p",{className:"text-sm opacity-75",children:u.custodian.custodian_no})]}),s.jsx(Ze,{variant:u.custodian.is_active?"default":"secondary",children:u.currently_assigned_items})]}),s.jsxs("div",{className:"mt-2 text-xs opacity-75",children:[s.jsx("p",{children:u.custodian.department_name||"No Department"}),s.jsxs("p",{children:["",u.currently_assigned_value.toLocaleString()]})]})]},u.custodian.id))})})]})}),s.jsx("div",{className:"lg:col-span-2",children:c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:c.custodian.name}),s.jsx(Ze,{variant:c.custodian.is_active?"default":"secondary",children:c.custodian.is_active?"Active":"Inactive"})]})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custodian Number"}),s.jsx("p",{className:"font-mono",children:c.custodian.custodian_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Position"}),s.jsx("p",{children:c.custodian.position||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{children:c.custodian.department_name||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),s.jsx("p",{children:c.last_activity_date?rs(new Date(c.last_activity_date),"MMM dd, yyyy"):"No activity"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Items"}),s.jsx("p",{className:"text-2xl font-bold",children:c.currently_assigned_items})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",c.currently_assigned_value.toLocaleString()]})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fn,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:c.total_items_assigned})]})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",c.total_value_assigned.toLocaleString()]})]})]})})})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs(Ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Item History"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(wt,{value:n?"all":"current",onValueChange:u=>a(u==="all"),children:[s.jsx(gt,{className:"w-40",children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"current",children:"Current Only"}),s.jsx(be,{value:"all",children:"All History"})]})]})})]})}),s.jsx(Ie,{children:l.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No item history found for this custodian."}):s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{children:"Property Number"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Condition"}),s.jsx(_e,{children:"Value"}),s.jsx(_e,{children:"Slip Number"}),s.jsx(_e,{children:"Date Issued"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Fr,{children:l.map(u=>s.jsxs(nt,{children:[s.jsx(ve,{className:"font-mono",children:u.property_number}),s.jsx(ve,{children:u.description}),s.jsx(ve,{children:s.jsx(Ze,{variant:"outline",children:u.category})}),s.jsx(ve,{children:s.jsx(Ze,{variant:u.condition==="Serviceable"?"default":"destructive",children:u.condition})}),s.jsxs(ve,{children:["",u.total_cost.toLocaleString()]}),s.jsx(ve,{className:"font-mono",children:u.custodian_slip_number}),s.jsx(ve,{children:u.date_issued?rs(new Date(u.date_issued),"MMM dd, yyyy"):"-"}),s.jsx(ve,{children:s.jsx(Ze,{variant:u.is_currently_assigned?"default":"secondary",children:u.is_currently_assigned?"Currently Assigned":"Returned"})})]},u.id))})]})})]})]}):s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Select a custodian from the list to view detailed information"})})})})]})]})},Nq={async getAll(e={}){const{page:t=1,limit:r=50,category:n,status:a,condition:i,search:o}=e,{from:l,to:c}=Mf(t,r);let d=ne.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `,{count:"exact"}).range(l,c);n&&(d=d.eq("category",n)),a&&(d=d.eq("status",a)),i&&(d=d.eq("condition",i)),o&&(d=d.or(`property_number.ilike.%${o}%,description.ilike.%${o}%,brand.ilike.%${o}%`));const u=await d.order("created_at",{ascending:!1});if(u.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:u.error.message};const f=u.count||0,m=Math.ceil(f/r);return{data:u.data||[],pagination:{page:t,limit:r,total:f,totalPages:m},success:!0}},async getById(e){var r;const t=await ne.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `).eq("id",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getByPropertyNumber(e){var r;const t=await ne.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `).eq("property_number",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async create(e){var r;const t=await ne.from("inventory_items").insert({property_number:e.propertyNumber,description:e.description,brand:e.brand,model:e.model,serial_number:e.serialNumber,unit_of_measure:e.unitOfMeasure,quantity:e.quantity,unit_cost:e.unitCost,total_cost:e.totalCost,date_acquired:e.dateAcquired,supplier_id:e.supplier||null,condition:e.condition,location_id:e.location||null,custodian_id:e.custodian||null,custodian_position:e.custodianPosition,accountable_officer:e.accountableOfficer,fund_source_id:e.fundSource||null,remarks:e.remarks,last_inventory_date:e.lastInventoryDate,category:e.category,status:e.status}).select().single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var a;const r={};t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.brand&&(r.brand=t.brand),t.model&&(r.model=t.model),t.serialNumber&&(r.serial_number=t.serialNumber),t.unitOfMeasure&&(r.unit_of_measure=t.unitOfMeasure),t.quantity!==void 0&&(r.quantity=t.quantity),t.unitCost!==void 0&&(r.unit_cost=t.unitCost),t.totalCost!==void 0&&(r.total_cost=t.totalCost),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.supplier&&(r.supplier_id=t.supplier),t.condition&&(r.condition=t.condition),t.location&&(r.location_id=t.location),t.custodian&&(r.custodian_id=t.custodian),t.custodianPosition&&(r.custodian_position=t.custodianPosition),t.accountableOfficer&&(r.accountable_officer=t.accountableOfficer),t.fundSource&&(r.fund_source_id=t.fundSource),t.remarks&&(r.remarks=t.remarks),t.lastInventoryDate&&(r.last_inventory_date=t.lastInventoryDate),t.category&&(r.category=t.category),t.status&&(r.status=t.status);const n=await ne.from("inventory_items").update(r).eq("id",e).select().single();return{data:n.data,error:((a=n.error)==null?void 0:a.message)||null,success:!n.error}},async delete(e){var r;const t=await ne.from("inventory_items").delete().eq("id",e);return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getStatistics(){try{const{count:e}=await ne.from("inventory_items").select("*",{count:"exact",head:!0}),{data:t}=await ne.from("inventory_items").select("total_cost"),r=(t==null?void 0:t.reduce((d,u)=>d+(u.total_cost||0),0))||0,{data:n}=await ne.from("inventory_items").select("category").not("category","is",null),a=(n==null?void 0:n.reduce((d,u)=>(d[u.category]=(d[u.category]||0)+1,d),{}))||{},{data:i}=await ne.from("inventory_items").select("status").not("status","is",null),o=(i==null?void 0:i.reduce((d,u)=>(d[u.status]=(d[u.status]||0)+1,d),{}))||{},{data:l}=await ne.from("inventory_items").select("condition").not("condition","is",null),c=(l==null?void 0:l.reduce((d,u)=>(d[u.condition]=(d[u.condition]||0)+1,d),{}))||{};return{data:{totalItems:e||0,totalValue:r,byCategory:a,byStatus:o,byCondition:c},error:null,success:!0}}catch(e){return{data:null,error:e instanceof Error?e.message:"Unknown error",success:!1}}},async search(e,t={}){return this.getAll({...t,search:e})}},_q={async getAll(e={}){const{page:t=1,limit:r=50,isActive:n,search:a}=e,{from:i,to:o}=Mf(t,r);let l=ne.from("departments").select("*",{count:"exact"}).range(i,o);n!==void 0&&(l=l.eq("is_active",n)),a&&(l=l.or(`name.ilike.%${a}%,code.ilike.%${a}%,description.ilike.%${a}%`));const c=await l.order("name",{ascending:!0});if(c.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:c.error.message};const d=c.count||0,u=Math.ceil(d/r);return{data:c.data||[],pagination:{page:t,limit:r,total:d,totalPages:u},success:!0}},async getById(e){var r;const t=await ne.from("departments").select("*").eq("id",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async create(e){var r;const t=await ne.from("departments").insert(e).select().single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var n;const r=await ne.from("departments").update(t).eq("id",e).select().single();return{data:r.data,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async delete(e){var r;const t=await ne.from("departments").delete().eq("id",e);return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}}},gm={inventory:Nq,departments:_q,propertyCards:Wt},qd=({reportType:e,reportName:t,trigger:r})=>{const[n,a]=h.useState("live"),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(null),f=async()=>{c(!0),u(null);try{switch(e){case"Inventory Summary":case"Property Card":const p=await gm.propertyCards.getAll({limit:1});if(p.success&&p.data.length>0){const g=p.data[0],w=await gm.propertyCards.getEntries(g.id);o({...g,entries:w.data||[]})}break;case"Property Ledger":const x=await gm.inventory.getAll({limit:1});if(x.success&&x.data.length>0){const g=x.data[0];o({propertyNumber:g.propertyNumber,description:g.description,unit:g.unitOfMeasure,entries:[{date:g.dateAcquired,referenceNumber:"INITIAL",received:g.quantity,issued:0,balance:g.quantity,recipient:"Stock Inventory"}]})}break;case"Custodian Report":u("Custodian reports not available");break;case"Transfer Report":u("Transfer reports not available");break;case"Physical Count Summary":u("Physical count reports not available");break;case"Loss Report Summary":u("Loss reports not available");break;case"Unserviceable Report":u("Unserviceable reports not available");break;case"Custodian Report":o({});break;default:u("Report type not implemented yet")}}catch(p){u(p instanceof Error?p.message:"Failed to fetch report data")}finally{c(!1)}};h.useEffect(()=>{n==="live"&&f()},[n,e]);const m=()=>{if(l)return s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading report data..."})]});if(d)return s.jsxs("div",{className:"p-8 text-center",children:[s.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",d]}),s.jsx(ce,{onClick:f,children:"Retry"})]});if(!i)return s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available for this report."})});switch(e){case"Inventory Summary":case"Property Card":return s.jsx(sk,{data:i});case"Property Ledger":return s.jsx(vq,{data:i});case"Custodian Report":return s.jsx(jq,{data:i});case"Transfer Report":return s.jsx(yq,{data:i});case"Physical Count Summary":return s.jsx(xq,{data:i});case"Loss Report Summary":return s.jsx(bq,{data:i});case"Unserviceable Report":return s.jsx(wq,{data:i});default:return s.jsx("div",{className:"p-8 text-center",children:"Report type not implemented yet."})}};return s.jsxs(Qr,{children:[s.jsx(pU,{asChild:!0,children:r||s.jsx(ce,{variant:"outline",children:t})}),s.jsxs(Ir,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Xr,{children:s.jsx(Jr,{children:t})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Source:"}),s.jsxs(wt,{value:n,onValueChange:a,children:[s.jsx(gt,{className:"w-48",children:s.jsx(jt,{})}),s.jsx(vt,{children:s.jsx(be,{value:"live",children:"Live Data"})})]}),n==="live"&&s.jsx(ce,{onClick:f,variant:"outline",size:"sm",children:"Refresh"})]}),m()]})]})]})},Sq=[{id:"1",name:"Inventory Summary Report",type:"Inventory Summary",description:"Complete overview of all semi-expandable property items with their current status, location, and condition",frequency:"Monthly",status:"Available"},{id:"2",name:"Issued vs Unissued Items Report",type:"Inventory Summary",description:"Detailed breakdown of issued and unissued items with assignment status and custodian information",frequency:"Weekly",status:"Available"},{id:"3",name:"Semi-Expendable Property Ledger",type:"Property Ledger",description:"Detailed ledger showing all property movements, acquisitions, transfers, and disposals",frequency:"Quarterly",status:"Available"},{id:"4",name:"Property Transfer Summary",type:"Transfer Report",description:"Summary of all property transfers between departments including pending and completed transfers",frequency:"Monthly",status:"Available"},{id:"5",name:"Custodian Information Report",type:"Custodian Report",description:"Comprehensive report showing all items and records for each custodian, including current assignments and historical data",frequency:"Weekly",status:"Available"},{id:"6",name:"Physical Count Variance Report",type:"Physical Count Summary",description:"Analysis of physical count results showing variances between expected and actual quantities",frequency:"Annual",status:"Generating"},{id:"5",name:"Loss and Damage Summary",type:"Loss Report Summary",description:"Comprehensive report of lost, stolen, damaged, or destroyed property with financial impact",frequency:"Quarterly",status:"Available"},{id:"6",name:"Unserviceable Property Report",type:"Unserviceable Report",description:"Report on property items that are unserviceable and recommendations for disposal or repair",frequency:"Monthly",status:"Available"},{id:"7",name:"Custodian Accountability Report",type:"Custodian Report",description:"Report showing property assigned to each custodian and their current accountability status",frequency:"Quarterly",status:"Scheduled"}],Cq=()=>{const[e]=h.useState(Sq),[t,r]=h.useState("All"),[n,a]=h.useState("All"),[i,o]=h.useState({from:"",to:""}),[l,c]=h.useState("All"),{toast:d}=$n(),u=x=>{d({title:"Download Started",description:`Downloading ${x.name}...`})},f=x=>{switch(x){case"Available":return"success";case"Generating":return"warning";case"Scheduled":return"secondary";default:return"secondary"}},m=x=>{switch(x){case"Inventory Summary":return s.jsx(Kr,{className:"h-5 w-5"});case"Property Ledger":return s.jsx(fn,{className:"h-5 w-5"});case"Transfer Report":return s.jsx(gp,{className:"h-5 w-5"});case"Physical Count Summary":return s.jsx(su,{className:"h-5 w-5"});case"Loss Report Summary":return s.jsx(bc,{className:"h-5 w-5"});case"Unserviceable Report":return s.jsx(bc,{className:"h-5 w-5"});case"Custodian Report":return s.jsx(fn,{className:"h-5 w-5"});default:return s.jsx(fn,{className:"h-5 w-5"})}},p=e.filter(x=>{const g=t==="All"||x.type===t,w=n==="All"||x.status===n;return g&&w});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reports & Analytics"}),s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(nu,{className:"h-4 w-4"}),"Schedule Report"]})]}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Report Filters"})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Report Type"}),s.jsxs(wt,{value:t,onValueChange:r,children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All Types"}),s.jsx(be,{value:"Inventory Summary",children:"Inventory Summary"}),s.jsx(be,{value:"Property Ledger",children:"Property Ledger"}),s.jsx(be,{value:"Transfer Report",children:"Transfer Report"}),s.jsx(be,{value:"Physical Count Summary",children:"Physical Count"}),s.jsx(be,{value:"Loss Report Summary",children:"Loss Report"}),s.jsx(be,{value:"Unserviceable Report",children:"Unserviceable"}),s.jsx(be,{value:"Custodian Report",children:"Custodian Report"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(wt,{value:n,onValueChange:a,children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All Status"}),s.jsx(be,{value:"Available",children:"Available"}),s.jsx(be,{value:"Generating",children:"Generating"}),s.jsx(be,{value:"Scheduled",children:"Scheduled"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Department"}),s.jsxs(wt,{value:l,onValueChange:c,children:[s.jsx(gt,{children:s.jsx(jt,{})}),s.jsxs(vt,{children:[s.jsx(be,{value:"All",children:"All Departments"}),s.jsx(be,{value:"IT",children:"IT Department"}),s.jsx(be,{value:"HR",children:"Human Resources"}),s.jsx(be,{value:"Finance",children:"Finance"}),s.jsx(be,{value:"Operations",children:"Operations"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Date Range"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{type:"date",value:i.from,onChange:x=>o({...i,from:x.target.value}),className:"flex-1"}),s.jsx(Te,{type:"date",value:i.to,onChange:x=>o({...i,to:x.target.value}),className:"flex-1"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Reports"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Available").length})]}),s.jsx(fn,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Generating"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Generating").length})]}),s.jsx(su,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Scheduled").length})]}),s.jsx(nu,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Ae,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Reports"}),s.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),s.jsx(gp,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(x=>s.jsxs(Ae,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Ve,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m(x.type),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-lg",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.type})]})]}),s.jsx(Ze,{variant:f(x.status),children:x.status})]})}),s.jsxs(Ie,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:x.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Frequency:"}),s.jsx("span",{className:"font-medium",children:x.frequency})]}),x.lastGenerated&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Generated:"}),s.jsx("span",{className:"font-medium",children:x.lastGenerated})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(qd,{reportType:x.type,reportName:x.name,trigger:s.jsx(ce,{className:"flex-1",disabled:x.status==="Generating",children:x.status==="Generating"?"Generating...":"Generate"})}),s.jsx(ce,{onClick:()=>u(x),variant:"outline",size:"icon",disabled:x.status!=="Available",children:s.jsx(pv,{className:"h-4 w-4"})})]})]})]},x.id))}),s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsx(Ke,{children:"Report Templates"})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(qd,{reportType:"Property Card",reportName:"Custom Property Card",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Kr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Custom Property Card"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a semi-expandable property card with specific property details"})]})}),s.jsx(qd,{reportType:"Property Ledger",reportName:"Property Ledger Card",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(su,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Property Ledger Card"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate detailed property ledger showing all movements and transactions"})]})}),s.jsx(qd,{reportType:"Custodian Report",reportName:"Inventory Custodian Slip",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(nu,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Custodian Slip"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate inventory custodian slip for property accountability"})]})})]})})]})]})};function Eq(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(""),[o,l]=h.useState(""),[c,d]=h.useState(null),u=async()=>{const p=[];try{p.push({step:"env:VITE_SUPABASE_URL",ok:!0,info:"https://drlfakeottpbmxiudftz.supabase.co"}),p.push({step:"env:VITE_SUPABASE_ANON_KEY",ok:!0,info:"<present>"});const{data:x,error:g}=await ne.from("property_cards").select("id").limit(1);g?p.push({step:"db:select property_cards",ok:!1,error:g.message}):p.push({step:"db:select property_cards",ok:!0,info:`${(x==null?void 0:x.length)||0} rows accessible`});const w=(await ne.auth.getSession()).data.session;p.push({step:"auth:session",ok:!!w,info:w?`user ${w.user.id}`:"no session"});const y={entity_name:"Debug Entity",fund_cluster:"101",semi_expendable_property:"Debug Item",property_number:`DBG-${Date.now()}`,description:"Debug connectivity",date_acquired:new Date().toISOString().slice(0,10),remarks:"debug"},v=await ne.from("property_cards").insert(y).select("id").single();v.error?p.push({step:"db:insert property_cards",ok:!1,error:v.error.message}):(p.push({step:"db:insert property_cards",ok:!0,info:`id ${v.data.id}`}),await ne.from("property_cards").delete().eq("id",v.data.id))}catch(x){p.push({step:"unexpected",ok:!1,error:(x==null?void 0:x.message)||String(x)})}finally{t(p),n(!1)}};h.useEffect(()=>{u()},[]);const f=async()=>{d(null),n(!0);const{error:p}=await ne.auth.signInWithPassword({email:a,password:o});d(p?p.message:"Signed in"),await u()},m=async()=>{d(null),n(!0),await ne.auth.signOut(),d("Signed out"),await u()};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Supabase Debug"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Visit this page to verify environment, connectivity, auth session, and RLS inserts."}),s.jsxs("div",{className:"rounded border p-4 space-y-3",children:[s.jsx("div",{className:"font-medium",children:"Auth test"}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx("input",{className:"border rounded px-2 py-1",placeholder:"email",value:a,onChange:p=>i(p.target.value)}),s.jsx("input",{className:"border rounded px-2 py-1",placeholder:"password",type:"password",value:o,onChange:p=>l(p.target.value)}),s.jsx("button",{className:"border rounded px-3 py-1",onClick:f,children:"Sign in"}),s.jsx("button",{className:"border rounded px-3 py-1",onClick:m,children:"Sign out"})]}),c&&s.jsx("div",{className:"text-xs text-muted-foreground",children:c})]}),r?s.jsx("div",{children:"Running checks"}):s.jsx("div",{className:"space-y-2",children:e.map((p,x)=>s.jsxs("div",{className:`rounded border p-3 ${p.ok?"border-green-500/40 bg-green-500/5":"border-red-500/40 bg-red-500/5"}`,children:[s.jsx("div",{className:"font-medium",children:p.step}),p.info&&s.jsx("div",{className:"text-xs mt-1",children:p.info}),p.error&&s.jsx("div",{className:"text-xs mt-1 text-red-600",children:p.error})]},x))})]})}function kq(){const e=Un(),t=Bn(),{toast:r}=$n(),[n,a]=h.useState(!1),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,m]=h.useState([]),[p,x]=h.useState([]),[g,w]=h.useState(""),y=e.hash?e.hash.substring(1):"suppliers",v=E=>{t(`${e.pathname}#${E}`,{replace:!0})},b=async()=>{a(!0);try{const[E,D,H,U,I]=await Promise.all([Pr.getSuppliers(),Pr.getFundSources(),Pr.getDepartments(),Pr.getCustodians(),Pr.getSemiExpandableCategories()]);o(E),c(D),u(H),m(U),x(I)}catch(E){r({title:"Failed to load lookups",description:(E==null?void 0:E.message)||String(E),variant:"destructive"})}finally{a(!1)}};h.useEffect(()=>{b()},[]);const N=E=>E.filter(D=>(D.name||"").toLowerCase().includes(g.toLowerCase())||(D.code||"").toLowerCase().includes(g.toLowerCase())),j=(E,D,H)=>{const[U,I]=h.useState("idle"),[q,F]=h.useState(null),[P,_]=h.useState({name:""}),T=E==="fund_sources"||E==="departments"||E==="custodians"||E==="semi_expandable_categories",ee=E==="fund_sources",W=()=>{I("create"),F(null),_(T?{name:"",code:""}:{name:""})},B=A=>{I("edit"),F(A),_(T?{name:A.name,code:A.code}:{name:A.name})},oe=()=>{I("idle"),F(null),_({name:"",code:""})};return{mode:U,editing:q,form:P,setForm:_,startCreate:W,startEdit:B,save:async()=>{if(U==="edit"&&q){const A=await Pr.update(E,q.id,P);H(D.map(X=>X.id===q.id?A:X))}else if(U==="create"){const A=await Pr.create(E,P);H([A,...D])}oe()},remove:async A=>{await Pr.remove(E,A),H(D.filter(X=>X.id!==A))},cancel:oe,hasCode:T,codeRequired:ee}},C=({title:E,items:D,table:H,setItems:U})=>{var G;const{mode:I,editing:q,form:F,setForm:P,startCreate:_,startEdit:T,save:ee,remove:W,cancel:B,hasCode:oe,codeRequired:me}=j(H,D,U),V=h.useMemo(()=>{if(H!=="custodians")return[];const R=((q?D.filter(Z=>Z.id!==q.id):D)||[]).map(Z=>(Z.code||"").trim()).filter(Boolean).map(Z=>({c:Z,n:Z.match(/\d+/)?parseInt(Z.match(/\d+/)[0],10):NaN}));return R.sort((Z,le)=>(isFinite(le.n)?le.n:-1)-(isFinite(Z.n)?Z.n:-1)),R.map(Z=>Z.c)},[H,D,q]),A=h.useMemo(()=>{if(H!=="custodians")return"";const ie=V.map(R=>R.match(/\d+/)?parseInt(R.match(/\d+/)[0],10):NaN).filter(R=>Number.isFinite(R)),te=ie.length?Math.max(...ie)+1:1;return`CUST-${String(te).padStart(4,"0")}`},[H,V]),X=h.useMemo(()=>{if(H!=="custodians")return!1;const ie=(F.code||"").trim();if(!ie)return!1;const R=`CUST-${(ie.match(/\d+/)?ie.match(/\d+/)[0]:ie).padStart(4,"0")}`;return V.includes(ie)||V.includes(R)},[H,F.code,V]);return s.jsxs(Ae,{children:[s.jsx(Ve,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{children:E}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{placeholder:"Search",value:g,onChange:ie=>w(ie.target.value)}),s.jsx(ce,{variant:"outline",onClick:b,disabled:n,children:"Refresh"}),s.jsx(ce,{onClick:_,children:"Add"})]})]})}),s.jsxs(Ie,{children:[I!=="idle"&&s.jsxs("div",{className:"mb-4 p-3 border rounded grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsx(Te,{placeholder:"Name",value:F.name,onChange:ie=>P({...F,name:ie.target.value})}),oe&&s.jsx(Te,{placeholder:H==="custodians"?"Custodian No (auto if blank)":me?"Code (required)":"Code (optional)",value:F.code||"",onChange:ie=>P({...F,code:ie.target.value}),required:me}),H==="custodians"&&I==="create"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"outline",type:"button",onClick:()=>P({...F,code:A}),children:"Use suggested"}),X&&s.jsx("span",{className:"text-xs text-red-600",children:"This number already exists"})]}),H==="custodians"&&s.jsx("div",{className:"text-xs text-muted-foreground col-span-1 md:col-span-3",children:s.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-1",children:[s.jsx("span",{children:"Existing Nos:"}),s.jsxs("span",{className:"max-w-full truncate",children:[V.slice(0,12).join(", ")||"None yet",V.length>12?"":""]}),s.jsx("span",{className:"ml-2",children:"Suggested next:"}),s.jsx("span",{className:"font-medium",children:A})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{onClick:ee,disabled:!F.name.trim()||me&&!((G=F.code)!=null&&G.trim())||H==="custodians"&&X,children:"Save"}),s.jsx(ce,{variant:"outline",onClick:B,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded border",children:[s.jsxs(gr,{children:[s.jsx(Lr,{children:s.jsxs(nt,{children:[s.jsx(_e,{className:"w-64",children:"Name"}),oe&&s.jsx(_e,{children:"Code"}),s.jsx(_e,{className:"w-40 text-right",children:"Actions"})]})}),s.jsx(Fr,{children:N(D).map(ie=>s.jsxs(nt,{children:[s.jsx(ve,{children:ie.name}),oe&&s.jsx(ve,{children:ie.code||""}),s.jsx(ve,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ce,{variant:"outline",size:"sm",onClick:()=>T(ie),children:"Edit"}),s.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>W(ie.id),children:"Delete"})]})})]},ie.id))})]}),N(D).length===0&&s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No records"})]})]})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings  Lookups"}),s.jsxs(Jf,{value:y,onValueChange:v,children:[s.jsxs(td,{children:[s.jsx(cn,{value:"suppliers",children:"Suppliers"}),s.jsx(cn,{value:"fundSources",children:"Fund Sources"}),s.jsx(cn,{value:"departments",children:"Departments"}),s.jsx(cn,{value:"custodians",children:"Custodians"}),s.jsx(cn,{value:"semiExpandableCategories",children:"Semi Expandable Categories"})]}),s.jsx(dn,{value:"suppliers",children:s.jsx(C,{title:"Suppliers",items:i,table:"suppliers",setItems:o})}),s.jsx(dn,{value:"fundSources",children:s.jsx(C,{title:"Fund Sources",items:l,table:"fund_sources",setItems:c})}),s.jsx(dn,{value:"departments",children:s.jsx(C,{title:"Departments",items:d,table:"departments",setItems:u})}),s.jsxs(dn,{value:"custodians",children:[s.jsx(C,{title:"Custodians",items:f,table:"custodians",setItems:m}),f.length===0&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," If you don't see any custodians, make sure to run the SQL setup script in Supabase first. Check the ",s.jsx("code",{children:"database/custodians-setup.sql"})," file for the complete setup."]})})]}),s.jsx(dn,{value:"semiExpandableCategories",children:s.jsx(C,{title:"Semi Expandable Categories",items:p,table:"semi_expandable_categories",setItems:x})})]})]})}var ad=e=>e.type==="checkbox",si=e=>e instanceof Date,hr=e=>e==null;const _k=e=>typeof e=="object";var At=e=>!hr(e)&&!Array.isArray(e)&&_k(e)&&!si(e),Pq=e=>At(e)&&e.target?ad(e.target)?e.target.checked:e.target.value:e,Tq=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Rq=(e,t)=>e.has(Tq(t)),Aq=e=>{const t=e.constructor&&e.constructor.prototype;return At(t)&&t.hasOwnProperty("isPrototypeOf")},Ny=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ny&&(e instanceof Blob||n))&&(r||At(e)))if(t=r?[]:{},!r&&!Aq(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Vt(e[a]));else return e;return t}var ah=e=>/^\w*$/.test(e),Dt=e=>e===void 0,_y=e=>Array.isArray(e)?e.filter(Boolean):[],Sy=e=>_y(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,r)=>{if(!t||!At(e))return r;const n=(ah(t)?[t]:Sy(t)).reduce((a,i)=>hr(a)?a:a[i],e);return Dt(n)||n===e?Dt(e[t])?r:e[t]:n},Yn=e=>typeof e=="boolean",xt=(e,t,r)=>{let n=-1;const a=ah(t)?[t]:Sy(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=At(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const _0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Iq=fe.createContext(null);Iq.displayName="HookFormContext";var Oq=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Rn.all&&(t._proxyFormState[o]=!n||Rn.all),e[o]}});return a};const Dq=typeof window<"u"?fe.useLayoutEffect:fe.useEffect;var ss=e=>typeof e=="string",Mq=(e,t,r,n,a)=>ss(e)?(n&&t.watch.add(e),Fe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Fe(r,i))):(n&&(t.watchAll=!0),r),fg=e=>hr(e)||!_k(e);function ea(e,t,r=new WeakSet){if(fg(e)||fg(t))return e===t;if(si(e)&&si(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(si(o)&&si(l)||At(o)&&At(l)||Array.isArray(o)&&Array.isArray(l)?!ea(o,l,r):o!==l)return!1}}return!0}var Lq=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},ec=e=>Array.isArray(e)?e:[e],S0=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Cr=e=>At(e)&&!Object.keys(e).length,Cy=e=>e.type==="file",An=e=>typeof e=="function",ef=e=>{if(!Ny)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Sk=e=>e.type==="select-multiple",Ey=e=>e.type==="radio",Fq=e=>Ey(e)||ad(e),vm=e=>ef(e)&&e.isConnected;function $q(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Dt(e)?n++:e[t[n++]];return e}function Uq(e){for(const t in e)if(e.hasOwnProperty(t)&&!Dt(e[t]))return!1;return!0}function Ot(e,t){const r=Array.isArray(t)?t:ah(t)?[t]:Sy(t),n=r.length===1?e:$q(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(At(n)&&Cr(n)||Array.isArray(n)&&Uq(n))&&Ot(e,r.slice(0,-1)),e}var Ck=e=>{for(const t in e)if(An(e[t]))return!0;return!1};function tf(e,t={}){const r=Array.isArray(e);if(At(e)||r)for(const n in e)Array.isArray(e[n])||At(e[n])&&!Ck(e[n])?(t[n]=Array.isArray(e[n])?[]:{},tf(e[n],t[n])):hr(e[n])||(t[n]=!0);return t}function Ek(e,t,r){const n=Array.isArray(e);if(At(e)||n)for(const a in e)Array.isArray(e[a])||At(e[a])&&!Ck(e[a])?Dt(t)||fg(r[a])?r[a]=Array.isArray(e[a])?tf(e[a],[]):{...tf(e[a])}:Ek(e[a],hr(t)?{}:t[a],r[a]):r[a]=!ea(e[a],t[a]);return r}var Rl=(e,t)=>Ek(e,t,tf(t));const C0={value:!1,isValid:!1},E0={value:!0,isValid:!0};var kk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Dt(e[0].attributes.value)?Dt(e[0].value)||e[0].value===""?E0:{value:e[0].value,isValid:!0}:E0:C0}return C0},Pk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Dt(e)?e:t?e===""?NaN:e&&+e:r&&ss(e)?new Date(e):n?n(e):e;const k0={isValid:!1,value:null};var Tk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,k0):k0;function P0(e){const t=e.ref;return Cy(t)?t.files:Ey(t)?Tk(e.refs).value:Sk(t)?[...t.selectedOptions].map(({value:r})=>r):ad(t)?kk(e.refs).value:Pk(Dt(t.value)?e.ref.value:t.value,e)}var Bq=(e,t,r,n)=>{const a={};for(const i of e){const o=Fe(t,i);o&&xt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},rf=e=>e instanceof RegExp,Al=e=>Dt(e)?e:rf(e)?e.source:At(e)?rf(e.value)?e.value.source:e.value:e,T0=e=>({isOnSubmit:!e||e===Rn.onSubmit,isOnBlur:e===Rn.onBlur,isOnChange:e===Rn.onChange,isOnAll:e===Rn.all,isOnTouch:e===Rn.onTouched});const R0="AsyncFunction";var qq=e=>!!e&&!!e.validate&&!!(An(e.validate)&&e.validate.constructor.name===R0||At(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===R0)),Vq=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),A0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const tc=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Fe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(tc(l,t))break}else if(At(l)&&tc(l,t))break}}};function I0(e,t,r){const n=Fe(e,r);if(n||ah(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Fe(t,i),l=Fe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var zq=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Cr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Rn.all))},Wq=(e,t,r)=>!e||!t||e===t||ec(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Hq=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Kq=(e,t)=>!_y(Fe(e,t)).length&&Ot(e,t),Qq=(e,t,r)=>{const n=ec(Fe(e,r));return xt(n,"root",t[r]),xt(e,r,n),e},uu=e=>ss(e);function O0(e,t,r="validate"){if(uu(e)||Array.isArray(e)&&e.every(uu)||Yn(e)&&!e)return{type:r,message:uu(e)?e:"",ref:t}}var eo=e=>At(e)&&!rf(e)?e:{value:e,message:""},D0=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:m,pattern:p,validate:x,name:g,valueAsNumber:w,mount:y}=e._f,v=Fe(r,g);if(!y||t.has(g))return{};const b=l?l[0]:o,N=q=>{a&&b.reportValidity&&(b.setCustomValidity(Yn(q)?"":q||""),b.reportValidity())},j={},C=Ey(o),E=ad(o),D=C||E,H=(w||Cy(o))&&Dt(o.value)&&Dt(v)||ef(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,U=Lq.bind(null,g,n,j),I=(q,F,P,_=ms.maxLength,T=ms.minLength)=>{const ee=q?F:P;j[g]={type:q?_:T,message:ee,ref:o,...U(q?_:T,ee)}};if(i?!Array.isArray(v)||!v.length:c&&(!D&&(H||hr(v))||Yn(v)&&!v||E&&!kk(l).isValid||C&&!Tk(l).isValid)){const{value:q,message:F}=uu(c)?{value:!!c,message:c}:eo(c);if(q&&(j[g]={type:ms.required,message:F,ref:b,...U(ms.required,F)},!n))return N(F),j}if(!H&&(!hr(f)||!hr(m))){let q,F;const P=eo(m),_=eo(f);if(!hr(v)&&!isNaN(v)){const T=o.valueAsNumber||v&&+v;hr(P.value)||(q=T>P.value),hr(_.value)||(F=T<_.value)}else{const T=o.valueAsDate||new Date(v),ee=oe=>new Date(new Date().toDateString()+" "+oe),W=o.type=="time",B=o.type=="week";ss(P.value)&&v&&(q=W?ee(v)>ee(P.value):B?v>P.value:T>new Date(P.value)),ss(_.value)&&v&&(F=W?ee(v)<ee(_.value):B?v<_.value:T<new Date(_.value))}if((q||F)&&(I(!!q,P.message,_.message,ms.max,ms.min),!n))return N(j[g].message),j}if((d||u)&&!H&&(ss(v)||i&&Array.isArray(v))){const q=eo(d),F=eo(u),P=!hr(q.value)&&v.length>+q.value,_=!hr(F.value)&&v.length<+F.value;if((P||_)&&(I(P,q.message,F.message),!n))return N(j[g].message),j}if(p&&!H&&ss(v)){const{value:q,message:F}=eo(p);if(rf(q)&&!v.match(q)&&(j[g]={type:ms.pattern,message:F,ref:o,...U(ms.pattern,F)},!n))return N(F),j}if(x){if(An(x)){const q=await x(v,r),F=O0(q,b);if(F&&(j[g]={...F,...U(ms.validate,F.message)},!n))return N(F.message),j}else if(At(x)){let q={};for(const F in x){if(!Cr(q)&&!n)break;const P=O0(await x[F](v,r),b,F);P&&(q={...P,...U(F,P.message)},N(P.message),n&&(j[g]=q))}if(!Cr(q)&&(j[g]={ref:b,...q},!n))return j}}return N(!0),j};const Gq={mode:Rn.onSubmit,reValidateMode:Rn.onChange,shouldFocusError:!0};function Yq(e={}){let t={...Gq,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:An(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=At(t.defaultValues)||At(t.values)?Vt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Vt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const m={array:S0(),state:S0()},p=t.criteriaMode===Rn.all,x=O=>Y=>{clearTimeout(d),d=setTimeout(O,Y)},g=async O=>{if(!t.disabled&&(u.isValid||f.isValid||O)){const Y=t.resolver?Cr((await E()).errors):await H(n,!0);Y!==r.isValid&&m.state.next({isValid:Y})}},w=(O,Y)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((O||Array.from(l.mount)).forEach(re=>{re&&(Y?xt(r.validatingFields,re,Y):Ot(r.validatingFields,re))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Cr(r.validatingFields)}))},y=(O,Y=[],re,pe,Se=!0,ye=!0)=>{if(pe&&re&&!t.disabled){if(o.action=!0,ye&&Array.isArray(Fe(n,O))){const je=re(Fe(n,O),pe.argA,pe.argB);Se&&xt(n,O,je)}if(ye&&Array.isArray(Fe(r.errors,O))){const je=re(Fe(r.errors,O),pe.argA,pe.argB);Se&&xt(r.errors,O,je),Kq(r.errors,O)}if((u.touchedFields||f.touchedFields)&&ye&&Array.isArray(Fe(r.touchedFields,O))){const je=re(Fe(r.touchedFields,O),pe.argA,pe.argB);Se&&xt(r.touchedFields,O,je)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Rl(a,i)),m.state.next({name:O,isDirty:I(O,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(i,O,Y)},v=(O,Y)=>{xt(r.errors,O,Y),m.state.next({errors:r.errors})},b=O=>{r.errors=O,m.state.next({errors:r.errors,isValid:!1})},N=(O,Y,re,pe)=>{const Se=Fe(n,O);if(Se){const ye=Fe(i,O,Dt(re)?Fe(a,O):re);Dt(ye)||pe&&pe.defaultChecked||Y?xt(i,O,Y?ye:P0(Se._f)):P(O,ye),o.mount&&g()}},j=(O,Y,re,pe,Se)=>{let ye=!1,je=!1;const Me={name:O};if(!t.disabled){if(!re||pe){(u.isDirty||f.isDirty)&&(je=r.isDirty,r.isDirty=Me.isDirty=I(),ye=je!==Me.isDirty);const tt=ea(Fe(a,O),Y);je=!!Fe(r.dirtyFields,O),tt?Ot(r.dirtyFields,O):xt(r.dirtyFields,O,!0),Me.dirtyFields=r.dirtyFields,ye=ye||(u.dirtyFields||f.dirtyFields)&&je!==!tt}if(re){const tt=Fe(r.touchedFields,O);tt||(xt(r.touchedFields,O,re),Me.touchedFields=r.touchedFields,ye=ye||(u.touchedFields||f.touchedFields)&&tt!==re)}ye&&Se&&m.state.next(Me)}return ye?Me:{}},C=(O,Y,re,pe)=>{const Se=Fe(r.errors,O),ye=(u.isValid||f.isValid)&&Yn(Y)&&r.isValid!==Y;if(t.delayError&&re?(c=x(()=>v(O,re)),c(t.delayError)):(clearTimeout(d),c=null,re?xt(r.errors,O,re):Ot(r.errors,O)),(re?!ea(Se,re):Se)||!Cr(pe)||ye){const je={...pe,...ye&&Yn(Y)?{isValid:Y}:{},errors:r.errors,name:O};r={...r,...je},m.state.next(je)}},E=async O=>{w(O,!0);const Y=await t.resolver(i,t.context,Bq(O||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(O),Y},D=async O=>{const{errors:Y}=await E(O);if(O)for(const re of O){const pe=Fe(Y,re);pe?xt(r.errors,re,pe):Ot(r.errors,re)}else r.errors=Y;return Y},H=async(O,Y,re={valid:!0})=>{for(const pe in O){const Se=O[pe];if(Se){const{_f:ye,...je}=Se;if(ye){const Me=l.array.has(ye.name),tt=Se._f&&qq(Se._f);tt&&u.validatingFields&&w([pe],!0);const Xt=await D0(Se,l.disabled,i,p,t.shouldUseNativeValidation&&!Y,Me);if(tt&&u.validatingFields&&w([pe]),Xt[ye.name]&&(re.valid=!1,Y))break;!Y&&(Fe(Xt,ye.name)?Me?Qq(r.errors,Xt,ye.name):xt(r.errors,ye.name,Xt[ye.name]):Ot(r.errors,ye.name))}!Cr(je)&&await H(je,Y,re)}}return re.valid},U=()=>{for(const O of l.unMount){const Y=Fe(n,O);Y&&(Y._f.refs?Y._f.refs.every(re=>!vm(re)):!vm(Y._f.ref))&&te(O)}l.unMount=new Set},I=(O,Y)=>!t.disabled&&(O&&Y&&xt(i,O,Y),!ea(oe(),a)),q=(O,Y,re)=>Mq(O,l,{...o.mount?i:Dt(Y)?a:ss(O)?{[O]:Y}:Y},re,Y),F=O=>_y(Fe(o.mount?i:a,O,t.shouldUnregister?Fe(a,O,[]):[])),P=(O,Y,re={})=>{const pe=Fe(n,O);let Se=Y;if(pe){const ye=pe._f;ye&&(!ye.disabled&&xt(i,O,Pk(Y,ye)),Se=ef(ye.ref)&&hr(Y)?"":Y,Sk(ye.ref)?[...ye.ref.options].forEach(je=>je.selected=Se.includes(je.value)):ye.refs?ad(ye.ref)?ye.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(Se)?je.checked=!!Se.find(Me=>Me===je.value):je.checked=Se===je.value||!!Se)}):ye.refs.forEach(je=>je.checked=je.value===Se):Cy(ye.ref)?ye.ref.value="":(ye.ref.value=Se,ye.ref.type||m.state.next({name:O,values:Vt(i)})))}(re.shouldDirty||re.shouldTouch)&&j(O,Se,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&B(O)},_=(O,Y,re)=>{for(const pe in Y){if(!Y.hasOwnProperty(pe))return;const Se=Y[pe],ye=O+"."+pe,je=Fe(n,ye);(l.array.has(O)||At(Se)||je&&!je._f)&&!si(Se)?_(ye,Se,re):P(ye,Se,re)}},T=(O,Y,re={})=>{const pe=Fe(n,O),Se=l.array.has(O),ye=Vt(Y);xt(i,O,ye),Se?(m.array.next({name:O,values:Vt(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&m.state.next({name:O,dirtyFields:Rl(a,i),isDirty:I(O,ye)})):pe&&!pe._f&&!hr(ye)?_(O,ye,re):P(O,ye,re),A0(O,l)&&m.state.next({...r,name:O}),m.state.next({name:o.mount?O:void 0,values:Vt(i)})},ee=async O=>{o.mount=!0;const Y=O.target;let re=Y.name,pe=!0;const Se=Fe(n,re),ye=tt=>{pe=Number.isNaN(tt)||si(tt)&&isNaN(tt.getTime())||ea(tt,Fe(i,re,tt))},je=T0(t.mode),Me=T0(t.reValidateMode);if(Se){let tt,Xt;const rn=Y.type?P0(Se._f):Pq(O),Ur=O.type===_0.BLUR||O.type===_0.FOCUS_OUT,Va=!Vq(Se._f)&&!t.resolver&&!Fe(r.errors,re)&&!Se._f.deps||Hq(Ur,Fe(r.touchedFields,re),r.isSubmitted,Me,je),zn=A0(re,l,Ur);xt(i,re,rn),Ur?(Se._f.onBlur&&Se._f.onBlur(O),c&&c(0)):Se._f.onChange&&Se._f.onChange(O);const Nr=j(re,rn,Ur),qi=!Cr(Nr)||zn;if(!Ur&&m.state.next({name:re,type:O.type,values:Vt(i)}),Va)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?Ur&&g():Ur||g()),qi&&m.state.next({name:re,...zn?{}:Nr});if(!Ur&&zn&&m.state.next({...r}),t.resolver){const{errors:yn}=await E([re]);if(ye(rn),pe){const za=I0(r.errors,n,re),Wa=I0(yn,n,za.name||re);tt=Wa.error,re=Wa.name,Xt=Cr(yn)}}else w([re],!0),tt=(await D0(Se,l.disabled,i,p,t.shouldUseNativeValidation))[re],w([re]),ye(rn),pe&&(tt?Xt=!1:(u.isValid||f.isValid)&&(Xt=await H(n,!0)));pe&&(Se._f.deps&&B(Se._f.deps),C(re,Xt,tt,Nr))}},W=(O,Y)=>{if(Fe(r.errors,Y)&&O.focus)return O.focus(),1},B=async(O,Y={})=>{let re,pe;const Se=ec(O);if(t.resolver){const ye=await D(Dt(O)?O:Se);re=Cr(ye),pe=O?!Se.some(je=>Fe(ye,je)):re}else O?(pe=(await Promise.all(Se.map(async ye=>{const je=Fe(n,ye);return await H(je&&je._f?{[ye]:je}:je)}))).every(Boolean),!(!pe&&!r.isValid)&&g()):pe=re=await H(n);return m.state.next({...!ss(O)||(u.isValid||f.isValid)&&re!==r.isValid?{}:{name:O},...t.resolver||!O?{isValid:re}:{},errors:r.errors}),Y.shouldFocus&&!pe&&tc(n,W,O?Se:l.mount),pe},oe=O=>{const Y={...o.mount?i:a};return Dt(O)?Y:ss(O)?Fe(Y,O):O.map(re=>Fe(Y,re))},me=(O,Y)=>({invalid:!!Fe((Y||r).errors,O),isDirty:!!Fe((Y||r).dirtyFields,O),error:Fe((Y||r).errors,O),isValidating:!!Fe(r.validatingFields,O),isTouched:!!Fe((Y||r).touchedFields,O)}),V=O=>{O&&ec(O).forEach(Y=>Ot(r.errors,Y)),m.state.next({errors:O?r.errors:{}})},A=(O,Y,re)=>{const pe=(Fe(n,O,{_f:{}})._f||{}).ref,Se=Fe(r.errors,O)||{},{ref:ye,message:je,type:Me,...tt}=Se;xt(r.errors,O,{...tt,...Y,ref:pe}),m.state.next({name:O,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&pe&&pe.focus&&pe.focus()},X=(O,Y)=>An(O)?m.state.subscribe({next:re=>"values"in re&&O(q(void 0,Y),re)}):q(O,Y,!0),G=O=>m.state.subscribe({next:Y=>{Wq(O.name,Y.name,O.exact)&&zq(Y,O.formState||u,Le,O.reRenderRoot)&&O.callback({values:{...i},...r,...Y,defaultValues:a})}}).unsubscribe,ie=O=>(o.mount=!0,f={...f,...O.formState},G({...O,formState:f})),te=(O,Y={})=>{for(const re of O?ec(O):l.mount)l.mount.delete(re),l.array.delete(re),Y.keepValue||(Ot(n,re),Ot(i,re)),!Y.keepError&&Ot(r.errors,re),!Y.keepDirty&&Ot(r.dirtyFields,re),!Y.keepTouched&&Ot(r.touchedFields,re),!Y.keepIsValidating&&Ot(r.validatingFields,re),!t.shouldUnregister&&!Y.keepDefaultValue&&Ot(a,re);m.state.next({values:Vt(i)}),m.state.next({...r,...Y.keepDirty?{isDirty:I()}:{}}),!Y.keepIsValid&&g()},R=({disabled:O,name:Y})=>{(Yn(O)&&o.mount||O||l.disabled.has(Y))&&(O?l.disabled.add(Y):l.disabled.delete(Y))},Z=(O,Y={})=>{let re=Fe(n,O);const pe=Yn(Y.disabled)||Yn(t.disabled);return xt(n,O,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:O}},name:O,mount:!0,...Y}}),l.mount.add(O),re?R({disabled:Yn(Y.disabled)?Y.disabled:t.disabled,name:O}):N(O,!0,Y.value),{...pe?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:Al(Y.min),max:Al(Y.max),minLength:Al(Y.minLength),maxLength:Al(Y.maxLength),pattern:Al(Y.pattern)}:{},name:O,onChange:ee,onBlur:ee,ref:Se=>{if(Se){Z(O,Y),re=Fe(n,O);const ye=Dt(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,je=Fq(ye),Me=re._f.refs||[];if(je?Me.find(tt=>tt===ye):ye===re._f.ref)return;xt(n,O,{_f:{...re._f,...je?{refs:[...Me.filter(vm),ye,...Array.isArray(Fe(a,O))?[{}]:[]],ref:{type:ye.type,name:O}}:{ref:ye}}}),N(O,!1,void 0,ye)}else re=Fe(n,O,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(Rq(l.array,O)&&o.action)&&l.unMount.add(O)}}},le=()=>t.shouldFocusError&&tc(n,W,l.mount),ae=O=>{Yn(O)&&(m.state.next({disabled:O}),tc(n,(Y,re)=>{const pe=Fe(n,re);pe&&(Y.disabled=pe._f.disabled||O,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(Se=>{Se.disabled=pe._f.disabled||O}))},0,!1))},Pe=(O,Y)=>async re=>{let pe;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let Se=Vt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ye,values:je}=await E();r.errors=ye,Se=Vt(je)}else await H(n);if(l.disabled.size)for(const ye of l.disabled)Ot(Se,ye);if(Ot(r.errors,"root"),Cr(r.errors)){m.state.next({errors:{}});try{await O(Se,re)}catch(ye){pe=ye}}else Y&&await Y({...r.errors},re),le(),setTimeout(le);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},Ue=(O,Y={})=>{Fe(n,O)&&(Dt(Y.defaultValue)?T(O,Vt(Fe(a,O))):(T(O,Y.defaultValue),xt(a,O,Vt(Y.defaultValue))),Y.keepTouched||Ot(r.touchedFields,O),Y.keepDirty||(Ot(r.dirtyFields,O),r.isDirty=Y.defaultValue?I(O,Vt(Fe(a,O))):I()),Y.keepError||(Ot(r.errors,O),u.isValid&&g()),m.state.next({...r}))},Q=(O,Y={})=>{const re=O?Vt(O):a,pe=Vt(re),Se=Cr(O),ye=Se?a:pe;if(Y.keepDefaultValues||(a=re),!Y.keepValues){if(Y.keepDirtyValues){const je=new Set([...l.mount,...Object.keys(Rl(a,i))]);for(const Me of Array.from(je))Fe(r.dirtyFields,Me)?xt(ye,Me,Fe(i,Me)):T(Me,Fe(ye,Me))}else{if(Ny&&Dt(O))for(const je of l.mount){const Me=Fe(n,je);if(Me&&Me._f){const tt=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(ef(tt)){const Xt=tt.closest("form");if(Xt){Xt.reset();break}}}}if(Y.keepFieldsRef)for(const je of l.mount)T(je,Fe(ye,je));else n={}}i=t.shouldUnregister?Y.keepDefaultValues?Vt(a):{}:Vt(ye),m.array.next({values:{...ye}}),m.state.next({values:{...ye}})}l={mount:Y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:Se?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!ea(O,a)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Se?{}:Y.keepDirtyValues?Y.keepDefaultValues&&i?Rl(a,i):r.dirtyFields:Y.keepDefaultValues&&O?Rl(a,O):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},M=(O,Y)=>Q(An(O)?O(i):O,Y),se=(O,Y={})=>{const re=Fe(n,O),pe=re&&re._f;if(pe){const Se=pe.refs?pe.refs[0]:pe.ref;Se.focus&&(Se.focus(),Y.shouldSelect&&An(Se.select)&&Se.select())}},Le=O=>{r={...r,...O}},qe={control:{register:Z,unregister:te,getFieldState:me,handleSubmit:Pe,setError:A,_subscribe:G,_runSchema:E,_focusError:le,_getWatch:q,_getDirty:I,_setValid:g,_setFieldArray:y,_setDisabledField:R,_setErrors:b,_getFieldArray:F,_reset:Q,_resetDefaultValues:()=>An(t.defaultValues)&&t.defaultValues().then(O=>{M(O,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:ae,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(O){o=O},get _defaultValues(){return a},get _names(){return l},set _names(O){l=O},get _formState(){return r},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:ie,trigger:B,register:Z,handleSubmit:Pe,watch:X,setValue:T,getValues:oe,reset:M,resetField:Ue,clearErrors:V,unregister:te,setError:A,setFocus:se,getFieldState:me};return{...qe,formControl:qe}}function Xq(e={}){const t=fe.useRef(void 0),r=fe.useRef(void 0),[n,a]=fe.useState({isDirty:!1,isValidating:!1,isLoading:An(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:An(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!An(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Yq(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,Dq(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),fe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),fe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),fe.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),fe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),fe.useEffect(()=>{e.values&&!ea(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Oq(n,i),t.current}const Jq="_blob_18s1g_13",ym={blob:Jq};function Zq(){const{register:e,handleSubmit:t,formState:{errors:r},reset:n}=Xq(),[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),u=Bn(),f=async m=>{i(!0),l(null),d(!1);try{const{error:p}=await ne.auth.signInWithPassword({email:m.email,password:m.password});p?l(p.message):(d(!0),l(null),n(),setTimeout(()=>u("/"),1500))}catch(p){l(p instanceof Error?p.message:"An error occurred during login")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 relative overflow-hidden",children:[s.jsx("div",{className:`absolute top-20 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${ym.blob}`}),s.jsx("div",{className:`absolute top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${ym.blob}`}),s.jsx("div",{className:`absolute -bottom-8 left-20 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${ym.blob}`}),s.jsxs(Ae,{className:"w-full max-w-md shadow-lg relative z-10 border-slate-700 bg-slate-800/90 backdrop-blur",children:[s.jsxs(Ve,{className:"space-y-1",children:[s.jsx(Ke,{className:"text-2xl font-bold text-white",children:"Semi-Property Guardian"}),s.jsx(OC,{className:"text-slate-300",children:"Sign in to your account"})]}),s.jsxs(Ie,{children:[o&&s.jsxs(mr,{variant:"destructive",className:"mb-4",children:[s.jsx(ka,{className:"h-4 w-4"}),s.jsx(pr,{children:o})]}),c&&s.jsxs(mr,{className:"mb-4 border-green-600 bg-green-50 dark:bg-green-950",children:[s.jsx(PR,{className:"h-4 w-4 text-green-600"}),s.jsx(pr,{className:"text-green-600",children:"Login successful! Redirecting..."})]}),s.jsxs("form",{onSubmit:t(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-200",children:"Email"}),s.jsx(Te,{id:"email",type:"email",placeholder:"your@email.com",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),disabled:a,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-200",children:"Password"}),s.jsx(Te,{id:"password",type:"password",placeholder:"",...e("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),disabled:a,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password.message})]}),s.jsx(ce,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:a,children:a?"Signing in...":"Sign In"})]})]})]})]})}const eV=()=>{const e=Un();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Rk=new hD({defaultOptions:{queries:{staleTime:U_,gcTime:ID,retry:1,refetchOnReconnect:!0,refetchOnWindowFocus:!0},mutations:{retry:1}}});PD({queryClient:Rk,persister:AD,maxAge:OD,buster:"v1",hydrateOptions:{defaultOptions:{queries:{staleTime:U_}}},dehydrateOptions:{shouldDehydrateMutation:()=>!1,onDeleteOldestQuery:TD}});const tV=()=>{const[e,t]=fe.useState(null);return fe.useEffect(()=>{const r=async()=>{const{data:a}=await ne.auth.getSession();t(!!a.session)};r();const{data:n}=ne.auth.onAuthStateChange(()=>{r()});return()=>{var a,i;return(i=(a=n==null?void 0:n.subscription)==null?void 0:a.unsubscribe)==null?void 0:i.call(a)}},[]),e===null?null:s.jsx(y3,{defaultTheme:"system",storageKey:"semi-property-theme",children:s.jsx(mD,{client:Rk,children:s.jsxs(AO,{children:[s.jsx(gA,{}),s.jsx(QA,{}),s.jsx(QF,{children:s.jsxs("div",{className:"min-h-screen bg-background",children:[e&&s.jsxs(s.Fragment,{children:[s.jsx(b3,{}),s.jsx(MO,{})]}),s.jsxs("div",{className:"flex",children:[e&&s.jsx(j3,{}),s.jsx("main",{className:e?"flex-1 p-6":"w-full",children:s.jsx(UF,{children:e?s.jsxs(s.Fragment,{children:[s.jsx(ar,{path:"/",element:s.jsx(S3,{})}),s.jsx(ar,{path:"/inventory",element:s.jsx(LB,{})}),s.jsx(ar,{path:"/property-cards",element:s.jsx(HB,{})}),s.jsx(ar,{path:"/custodian-slips",element:s.jsx(YB,{})}),s.jsx(ar,{path:"/custodians",element:s.jsx(XB,{})}),s.jsx(ar,{path:"/transfers",element:s.jsx(mq,{})}),s.jsx(ar,{path:"/physical-count",element:s.jsx(pq,{})}),s.jsx(ar,{path:"/loss-reports",element:s.jsx(gq,{})}),s.jsx(ar,{path:"/reports",element:s.jsx(Cq,{})}),s.jsx(ar,{path:"/debug",element:s.jsx(Eq,{})}),s.jsx(ar,{path:"/settings/lookups",element:s.jsx(kq,{})}),s.jsx(ar,{path:"*",element:s.jsx(eV,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ar,{path:"/login",element:s.jsx(Zq,{})}),s.jsx(ar,{path:"/",element:s.jsx(Yb,{to:"/login",replace:!0})}),s.jsx(ar,{path:"*",element:s.jsx(Yb,{to:"/login",replace:!0})})]})})})]})]})})]})})})};window.addEventListener("online",()=>{DD({"propertyCards.create":async e=>{await Wt.create(e.card)},"propertyCards.update":async e=>{await Wt.update(e.id,e.updates)},"propertyCards.delete":async e=>{await Wt.delete(e.id)},"propertyCards.addEntry":async e=>{await Wt.addEntry(e.propertyCardId,e.entry)},"propertyCards.updateEntry":async e=>{await Wt.updateEntry(e.propertyCardId,e.entryId,e.updates)},"propertyCards.deleteEntry":async e=>{await Wt.deleteEntry(e.propertyCardId,e.entryId)},"inventory.create":async e=>{await kr.create(e.item)},"inventory.update":async e=>{await kr.update(e.id,e.updates)},"inventory.delete":async e=>{await kr.delete(e.id)}}).then(({processed:e,failed:t})=>{(e||t)&&console.log(`[offline-queue] processed=${e} failed=${t}`)})});iN(document.getElementById("root")).render(s.jsx(tV,{}));
