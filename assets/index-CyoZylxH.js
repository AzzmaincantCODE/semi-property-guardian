var Uv=e=>{throw TypeError(e)};var jh=(e,t,r)=>t.has(e)||Uv("Cannot "+r);var q=(e,t,r)=>(jh(e,t,"read from private field"),r?r.call(e):t.get(e)),qe=(e,t,r)=>t.has(e)?Uv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(jh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),it=(e,t,r)=>(jh(e,t,"access private method"),r);var gd=(e,t,r,n)=>({set _(a){Ie(e,t,a,r)},get _(){return q(e,t,n)}});function aP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ng(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var n0={exports:{}},mf={},s0={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),oP=Symbol.for("react.portal"),lP=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),dP=Symbol.for("react.profiler"),uP=Symbol.for("react.provider"),fP=Symbol.for("react.context"),hP=Symbol.for("react.forward_ref"),mP=Symbol.for("react.suspense"),pP=Symbol.for("react.memo"),gP=Symbol.for("react.lazy"),Bv=Symbol.iterator;function yP(e){return e===null||typeof e!="object"?null:(e=Bv&&e[Bv]||e["@@iterator"],typeof e=="function"?e:null)}var a0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i0=Object.assign,o0={};function dl(e,t,r){this.props=e,this.context=t,this.refs=o0,this.updater=r||a0}dl.prototype.isReactComponent={};dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l0(){}l0.prototype=dl.prototype;function Sg(e,t,r){this.props=e,this.context=t,this.refs=o0,this.updater=r||a0}var Cg=Sg.prototype=new l0;Cg.constructor=Sg;i0(Cg,dl.prototype);Cg.isPureReactComponent=!0;var Vv=Array.isArray,c0=Object.prototype.hasOwnProperty,Eg={current:null},d0={key:!0,ref:!0,__self:!0,__source:!0};function u0(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)c0.call(t,n)&&!d0.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:zc,type:e,key:i,ref:o,props:a,_owner:Eg.current}}function vP(e,t){return{$$typeof:zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===zc}function xP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zv=/\/+/g;function _h(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xP(""+e.key):t.toString(36)}function Jd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zc:case oP:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+_h(o,0):n,Vv(a)?(r="",e!=null&&(r=e.replace(zv,"$&/")+"/"),Jd(a,t,r,"",function(d){return d})):a!=null&&(kg(a)&&(a=vP(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(zv,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Vv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+_h(i,l);o+=Jd(i,t,r,c,a)}else if(c=yP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+_h(i,l++),o+=Jd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yd(e,t,r){if(e==null)return e;var n=[],a=0;return Jd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function bP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Br={current:null},Zd={transition:null},wP={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:Zd,ReactCurrentOwner:Eg};function f0(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:yd,forEach:function(e,t,r){yd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yd(e,function(){t++}),t},toArray:function(e){return yd(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=dl;dt.Fragment=lP;dt.Profiler=dP;dt.PureComponent=Sg;dt.StrictMode=cP;dt.Suspense=mP;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;dt.act=f0;dt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=i0({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Eg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)c0.call(t,c)&&!d0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:zc,type:e.type,key:a,ref:i,props:n,_owner:o}};dt.createContext=function(e){return e={$$typeof:fP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uP,_context:e},e.Consumer=e};dt.createElement=u0;dt.createFactory=function(e){var t=u0.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:hP,render:e}};dt.isValidElement=kg;dt.lazy=function(e){return{$$typeof:gP,_payload:{_status:-1,_result:e},_init:bP}};dt.memo=function(e,t){return{$$typeof:pP,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Zd.transition;Zd.transition={};try{e()}finally{Zd.transition=t}};dt.unstable_act=f0;dt.useCallback=function(e,t){return Br.current.useCallback(e,t)};dt.useContext=function(e){return Br.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Br.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Br.current.useEffect(e,t)};dt.useId=function(){return Br.current.useId()};dt.useImperativeHandle=function(e,t,r){return Br.current.useImperativeHandle(e,t,r)};dt.useInsertionEffect=function(e,t){return Br.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Br.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Br.current.useMemo(e,t)};dt.useReducer=function(e,t,r){return Br.current.useReducer(e,t,r)};dt.useRef=function(e){return Br.current.useRef(e)};dt.useState=function(e){return Br.current.useState(e)};dt.useSyncExternalStore=function(e,t,r){return Br.current.useSyncExternalStore(e,t,r)};dt.useTransition=function(){return Br.current.useTransition()};dt.version="18.3.1";s0.exports=dt;var h=s0.exports;const pe=Ng(h),Pg=aP({__proto__:null,default:pe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP=h,_P=Symbol.for("react.element"),NP=Symbol.for("react.fragment"),SP=Object.prototype.hasOwnProperty,CP=jP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EP={key:!0,ref:!0,__self:!0,__source:!0};function h0(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)SP.call(t,n)&&!EP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_P,type:e,key:i,ref:o,props:a,_owner:CP.current}}mf.Fragment=NP;mf.jsx=h0;mf.jsxs=h0;n0.exports=mf;var s=n0.exports,m0={exports:{}},jn={},p0={exports:{}},g0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,W){var ae=Q.length;Q.push(W);e:for(;0<ae;){var ge=ae-1>>>1,G=Q[ge];if(0<a(G,W))Q[ge]=W,Q[ae]=G,ae=ge;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var W=Q[0],ae=Q.pop();if(ae!==W){Q[0]=ae;e:for(var ge=0,G=Q.length,ie=G>>>1;ge<ie;){var de=2*(ge+1)-1,he=Q[de],me=de+1,se=Q[me];if(0>a(he,ae))me<G&&0>a(se,he)?(Q[ge]=se,Q[me]=ae,ge=me):(Q[ge]=he,Q[de]=ae,ge=de);else if(me<G&&0>a(se,ae))Q[ge]=se,Q[me]=ae,ge=me;else break e}}return W}function a(Q,W){var ae=Q.sortIndex-W.sortIndex;return ae!==0?ae:Q.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=Q)n(d),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(d)}}function j(Q){if(g=!1,b(Q),!x)if(r(c)!==null)x=!0,A(_);else{var W=r(d);W!==null&&ne(j,W.startTime-Q)}}function _(Q,W){x=!1,g&&(g=!1,v(M),M=-1),p=!0;var ae=m;try{for(b(W),f=r(c);f!==null&&(!(f.expirationTime>W)||Q&&!L());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,m=f.priorityLevel;var G=ge(f.expirationTime<=W);W=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(W)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var de=r(d);de!==null&&ne(j,de.startTime-W),ie=!1}return ie}finally{f=null,m=ae,p=!1}}var N=!1,E=null,M=-1,U=5,$=-1;function L(){return!(e.unstable_now()-$<U)}function F(){if(E!==null){var Q=e.unstable_now();$=Q;var W=!0;try{W=E(!0,Q)}finally{W?O():(N=!1,E=null)}}else N=!1}var O;if(typeof y=="function")O=function(){y(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,S=R.port2;R.port1.onmessage=F,O=function(){S.postMessage(null)}}else O=function(){w(F,0)};function A(Q){E=Q,N||(N=!0,O())}function ne(Q,W){M=w(function(){Q(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,A(_))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var ae=m;m=W;try{return Q()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,W){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=m;m=Q;try{return W()}finally{m=ae}},e.unstable_scheduleCallback=function(Q,W,ae){var ge=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,Q={id:u++,callback:W,priorityLevel:Q,startTime:ae,expirationTime:G,sortIndex:-1},ae>ge?(Q.sortIndex=ae,t(d,Q),r(c)===null&&Q===r(d)&&(g?(v(M),M=-1):g=!0,ne(j,ae-ge))):(Q.sortIndex=G,t(c,Q),x||p||(x=!0,A(_))),Q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(Q){var W=m;return function(){var ae=m;m=W;try{return Q.apply(this,arguments)}finally{m=ae}}}})(g0);p0.exports=g0;var kP=p0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=h,wn=kP;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y0=new Set,uc={};function zi(e,t){Yo(e,t),Yo(e+"Capture",t)}function Yo(e,t){for(uc[e]=t,e=0;e<t.length;e++)y0.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,TP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv={},Hv={};function AP(e){return Pm.call(Hv,e)?!0:Pm.call(Wv,e)?!1:TP.test(e)?Hv[e]=!0:(Wv[e]=!0,!1)}function IP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RP(e,t,r,n){if(t===null||typeof t>"u"||IP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nr[e]=new Vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nr[t]=new Vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nr[e]=new Vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nr[e]=new Vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nr[e]=new Vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nr[e]=new Vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nr[e]=new Vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nr[e]=new Vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nr[e]=new Vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tg=/[\-:]([a-z])/g;function Ag(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tg,Ag);Nr[t]=new Vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tg,Ag);Nr[t]=new Vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tg,Ag);Nr[t]=new Vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ig(e,t,r,n){var a=Nr.hasOwnProperty(t)?Nr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RP(t,r,a,n)&&(r=null),n||a===null?AP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zs=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vd=Symbol.for("react.element"),mo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Im=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),b0=Symbol.for("react.offscreen"),Qv=Symbol.iterator;function Sl(e){return e===null||typeof e!="object"?null:(e=Qv&&e[Qv]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,Nh;function Bl(e){if(Nh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||""}return`
`+Nh+e}var Sh=!1;function Ch(e,t){if(!e||Sh)return"";Sh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bl(e):""}function OP(e){switch(e.tag){case 5:return Bl(e.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return e=Ch(e.type,!1),e;case 11:return e=Ch(e.type.render,!1),e;case 1:return e=Ch(e.type,!0),e;default:return""}}function Rm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case mo:return"Portal";case Tm:return"Profiler";case Rg:return"StrictMode";case Am:return"Suspense";case Im:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x0:return(e.displayName||"Context")+".Consumer";case v0:return(e._context.displayName||"Context")+".Provider";case Og:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dg:return t=e.displayName||null,t!==null?t:Rm(e.type)||"Memo";case da:t=e._payload,e=e._init;try{return Rm(e(t))}catch{}}return null}function DP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rm(t);case 8:return t===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MP(e){var t=w0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xd(e){e._valueTracker||(e._valueTracker=MP(e))}function j0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=w0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Om(e,t){var r=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Kv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _0(e,t){t=t.checked,t!=null&&Ig(e,"checked",t,!1)}function Dm(e,t){_0(e,t);var r=qa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mm(e,t.type,qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mm(e,t,r){(t!=="number"||bu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vl=Array.isArray;function Eo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(Vl(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qa(r)}}function N0(e,t){var r=qa(t.value),n=qa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bd,C0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bd=bd||document.createElement("div"),bd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LP=["Webkit","ms","Moz","O"];Object.keys(Yl).forEach(function(e){LP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yl[t]=Yl[e]})});function E0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yl.hasOwnProperty(e)&&Yl[e]?(""+t).trim():t+"px"}function k0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=E0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var FP=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(e,t){if(t){if(FP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Um=null;function Mg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bm=null,ko=null,Po=null;function Jv(e){if(e=Qc(e)){if(typeof Bm!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=xf(t),Bm(e.stateNode,e.type,t))}}function P0(e){ko?Po?Po.push(e):Po=[e]:ko=e}function T0(){if(ko){var e=ko,t=Po;if(Po=ko=null,Jv(e),t)for(e=0;e<t.length;e++)Jv(t[e])}}function A0(e,t){return e(t)}function I0(){}var Eh=!1;function R0(e,t,r){if(Eh)return e(t,r);Eh=!0;try{return A0(e,t,r)}finally{Eh=!1,(ko!==null||Po!==null)&&(I0(),T0())}}function hc(e,t){var r=e.stateNode;if(r===null)return null;var n=xf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var Vm=!1;if(zs)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Vm=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Vm=!1}function $P(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Xl=!1,wu=null,ju=!1,zm=null,qP={onError:function(e){Xl=!0,wu=e}};function UP(e,t,r,n,a,i,o,l,c){Xl=!1,wu=null,$P.apply(qP,arguments)}function BP(e,t,r,n,a,i,o,l,c){if(UP.apply(this,arguments),Xl){if(Xl){var d=wu;Xl=!1,wu=null}else throw Error(ve(198));ju||(ju=!0,zm=d)}}function Wi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function O0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zv(e){if(Wi(e)!==e)throw Error(ve(188))}function VP(e){var t=e.alternate;if(!t){if(t=Wi(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Zv(a),e;if(i===n)return Zv(a),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function D0(e){return e=VP(e),e!==null?M0(e):null}function M0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=M0(e);if(t!==null)return t;e=e.sibling}return null}var L0=wn.unstable_scheduleCallback,ex=wn.unstable_cancelCallback,zP=wn.unstable_shouldYield,WP=wn.unstable_requestPaint,Xt=wn.unstable_now,HP=wn.unstable_getCurrentPriorityLevel,Lg=wn.unstable_ImmediatePriority,F0=wn.unstable_UserBlockingPriority,_u=wn.unstable_NormalPriority,QP=wn.unstable_LowPriority,$0=wn.unstable_IdlePriority,pf=null,bs=null;function KP(e){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:XP,GP=Math.log,YP=Math.LN2;function XP(e){return e>>>=0,e===0?32:31-(GP(e)/YP|0)|0}var wd=64,jd=4194304;function zl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=zl(l):(i&=o,i!==0&&(n=zl(i)))}else o=r&~a,o!==0?n=zl(o):i!==0&&(n=zl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kn(t),a=1<<r,n|=e[r],t&=~a;return n}function JP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Kn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=JP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Wm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q0(){var e=wd;return wd<<=1,!(wd&4194240)&&(wd=64),e}function kh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=r}function eT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Kn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Fg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Nt=0;function U0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var B0,$g,V0,z0,W0,Hm=!1,_d=[],ka=null,Pa=null,Ta=null,mc=new Map,pc=new Map,fa=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tx(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(t.pointerId)}}function El(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Qc(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function rT(e,t,r,n,a){switch(t){case"focusin":return ka=El(ka,e,t,r,n,a),!0;case"dragenter":return Pa=El(Pa,e,t,r,n,a),!0;case"mouseover":return Ta=El(Ta,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return mc.set(i,El(mc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,pc.set(i,El(pc.get(i)||null,e,t,r,n,a)),!0}return!1}function H0(e){var t=hi(e.target);if(t!==null){var r=Wi(t);if(r!==null){if(t=r.tag,t===13){if(t=O0(r),t!==null){e.blockedOn=t,W0(e.priority,function(){V0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Um=n,r.target.dispatchEvent(n),Um=null}else return t=Qc(r),t!==null&&$g(t),e.blockedOn=r,!1;t.shift()}return!0}function rx(e,t,r){eu(e)&&r.delete(t)}function nT(){Hm=!1,ka!==null&&eu(ka)&&(ka=null),Pa!==null&&eu(Pa)&&(Pa=null),Ta!==null&&eu(Ta)&&(Ta=null),mc.forEach(rx),pc.forEach(rx)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Hm||(Hm=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,nT)))}function gc(e){function t(a){return kl(a,e)}if(0<_d.length){kl(_d[0],e);for(var r=1;r<_d.length;r++){var n=_d[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ka!==null&&kl(ka,e),Pa!==null&&kl(Pa,e),Ta!==null&&kl(Ta,e),mc.forEach(t),pc.forEach(t),r=0;r<fa.length;r++)n=fa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fa.length&&(r=fa[0],r.blockedOn===null);)H0(r),r.blockedOn===null&&fa.shift()}var To=Zs.ReactCurrentBatchConfig,Su=!0;function sT(e,t,r,n){var a=Nt,i=To.transition;To.transition=null;try{Nt=1,qg(e,t,r,n)}finally{Nt=a,To.transition=i}}function aT(e,t,r,n){var a=Nt,i=To.transition;To.transition=null;try{Nt=4,qg(e,t,r,n)}finally{Nt=a,To.transition=i}}function qg(e,t,r,n){if(Su){var a=Qm(e,t,r,n);if(a===null)Fh(e,t,n,Cu,r),tx(e,n);else if(rT(a,e,t,r,n))n.stopPropagation();else if(tx(e,n),t&4&&-1<tT.indexOf(e)){for(;a!==null;){var i=Qc(a);if(i!==null&&B0(i),i=Qm(e,t,r,n),i===null&&Fh(e,t,n,Cu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Fh(e,t,n,null,r)}}var Cu=null;function Qm(e,t,r,n){if(Cu=null,e=Mg(n),e=hi(e),e!==null)if(t=Wi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=O0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cu=e,null}function Q0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HP()){case Lg:return 1;case F0:return 4;case _u:case QP:return 16;case $0:return 536870912;default:return 16}default:return 16}}var Sa=null,Ug=null,tu=null;function K0(){if(tu)return tu;var e,t=Ug,r=t.length,n,a="value"in Sa?Sa.value:Sa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return tu=a.slice(e,1<n?1-n:void 0)}function ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nd(){return!0}function nx(){return!1}function _n(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nd:nx,this.isPropagationStopped=nx,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=_n(ul),Hc=zt({},ul,{view:0,detail:0}),iT=_n(Hc),Ph,Th,Pl,gf=zt({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(Ph=e.screenX-Pl.screenX,Th=e.screenY-Pl.screenY):Th=Ph=0,Pl=e),Ph)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),sx=_n(gf),oT=zt({},gf,{dataTransfer:0}),lT=_n(oT),cT=zt({},Hc,{relatedTarget:0}),Ah=_n(cT),dT=zt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),uT=_n(dT),fT=zt({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hT=_n(fT),mT=zt({},ul,{data:0}),ax=_n(mT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yT[e])?!!t[e]:!1}function Vg(){return vT}var xT=zt({},Hc,{key:function(e){if(e.key){var t=pT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vg,charCode:function(e){return e.type==="keypress"?ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bT=_n(xT),wT=zt({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=_n(wT),jT=zt({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vg}),_T=_n(jT),NT=zt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=_n(NT),CT=zt({},gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=_n(CT),kT=[9,13,27,32],zg=zs&&"CompositionEvent"in window,Jl=null;zs&&"documentMode"in document&&(Jl=document.documentMode);var PT=zs&&"TextEvent"in window&&!Jl,G0=zs&&(!zg||Jl&&8<Jl&&11>=Jl),ox=" ",lx=!1;function Y0(e,t){switch(e){case"keyup":return kT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var go=!1;function TT(e,t){switch(e){case"compositionend":return X0(t);case"keypress":return t.which!==32?null:(lx=!0,ox);case"textInput":return e=t.data,e===ox&&lx?null:e;default:return null}}function AT(e,t){if(go)return e==="compositionend"||!zg&&Y0(e,t)?(e=K0(),tu=Ug=Sa=null,go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G0&&t.locale!=="ko"?null:t.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IT[e.type]:t==="textarea"}function J0(e,t,r,n){P0(n),t=Eu(t,"onChange"),0<t.length&&(r=new Bg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zl=null,yc=null;function RT(e){cj(e,0)}function yf(e){var t=xo(e);if(j0(t))return e}function OT(e,t){if(e==="change")return t}var Z0=!1;if(zs){var Ih;if(zs){var Rh="oninput"in document;if(!Rh){var dx=document.createElement("div");dx.setAttribute("oninput","return;"),Rh=typeof dx.oninput=="function"}Ih=Rh}else Ih=!1;Z0=Ih&&(!document.documentMode||9<document.documentMode)}function ux(){Zl&&(Zl.detachEvent("onpropertychange",ej),yc=Zl=null)}function ej(e){if(e.propertyName==="value"&&yf(yc)){var t=[];J0(t,yc,e,Mg(e)),R0(RT,t)}}function DT(e,t,r){e==="focusin"?(ux(),Zl=t,yc=r,Zl.attachEvent("onpropertychange",ej)):e==="focusout"&&ux()}function MT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yf(yc)}function LT(e,t){if(e==="click")return yf(t)}function FT(e,t){if(e==="input"||e==="change")return yf(t)}function $T(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:$T;function vc(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Pm.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hx(e,t){var r=fx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fx(r)}}function tj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rj(){for(var e=window,t=bu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bu(e.document)}return t}function Wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qT(e){var t=rj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tj(r.ownerDocument.documentElement,r)){if(n!==null&&Wg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=hx(r,i);var o=hx(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UT=zs&&"documentMode"in document&&11>=document.documentMode,yo=null,Km=null,ec=null,Gm=!1;function mx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gm||yo==null||yo!==bu(n)||(n=yo,"selectionStart"in n&&Wg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ec&&vc(ec,n)||(ec=n,n=Eu(Km,"onSelect"),0<n.length&&(t=new Bg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yo)))}function Sd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vo={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},Oh={},nj={};zs&&(nj=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function vf(e){if(Oh[e])return Oh[e];if(!vo[e])return e;var t=vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nj)return Oh[e]=t[r];return e}var sj=vf("animationend"),aj=vf("animationiteration"),ij=vf("animationstart"),oj=vf("transitionend"),lj=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(e,t){lj.set(e,t),zi(t,[e])}for(var Dh=0;Dh<px.length;Dh++){var Mh=px[Dh],BT=Mh.toLowerCase(),VT=Mh[0].toUpperCase()+Mh.slice(1);Ka(BT,"on"+VT)}Ka(sj,"onAnimationEnd");Ka(aj,"onAnimationIteration");Ka(ij,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(oj,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function gx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,BP(n,t,void 0,e),e.currentTarget=null}function cj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;gx(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;gx(a,l,d),i=c}}}if(ju)throw e=zm,ju=!1,zm=null,e}function It(e,t){var r=t[ep];r===void 0&&(r=t[ep]=new Set);var n=e+"__bubble";r.has(n)||(dj(t,e,2,!1),r.add(n))}function Lh(e,t,r){var n=0;t&&(n|=4),dj(r,e,n,t)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[Cd]){e[Cd]=!0,y0.forEach(function(r){r!=="selectionchange"&&(zT.has(r)||Lh(r,!1,e),Lh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Lh("selectionchange",!1,t))}}function dj(e,t,r,n){switch(Q0(t)){case 1:var a=sT;break;case 4:a=aT;break;default:a=qg}r=a.bind(null,t,r,e),a=void 0,!Vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Fh(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=hi(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}R0(function(){var d=i,u=Mg(r),f=[];e:{var m=lj.get(e);if(m!==void 0){var p=Bg,x=e;switch(e){case"keypress":if(ru(r)===0)break e;case"keydown":case"keyup":p=bT;break;case"focusin":x="focus",p=Ah;break;case"focusout":x="blur",p=Ah;break;case"beforeblur":case"afterblur":p=Ah;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_T;break;case sj:case aj:case ij:p=uT;break;case oj:p=ST;break;case"scroll":p=iT;break;case"wheel":p=ET;break;case"copy":case"cut":case"paste":p=hT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ix}var g=(t&4)!==0,w=!g&&e==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var y=d,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=hc(y,v),j!=null&&g.push(bc(y,j,b)))),w)break;y=y.return}0<g.length&&(m=new p(m,x,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Um&&(x=r.relatedTarget||r.fromElement)&&(hi(x)||x[Ws]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?hi(x):null,x!==null&&(w=Wi(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=sx,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=ix,j="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?m:xo(p),b=x==null?m:xo(x),m=new g(j,y+"leave",p,r,u),m.target=w,m.relatedTarget=b,j=null,hi(u)===d&&(g=new g(v,y+"enter",x,r,u),g.target=b,g.relatedTarget=w,j=g),w=j,p&&x)t:{for(g=p,v=x,y=0,b=g;b;b=Ji(b))y++;for(b=0,j=v;j;j=Ji(j))b++;for(;0<y-b;)g=Ji(g),y--;for(;0<b-y;)v=Ji(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ji(g),v=Ji(v)}g=null}else g=null;p!==null&&yx(f,m,p,g,!1),x!==null&&w!==null&&yx(f,w,x,g,!0)}}e:{if(m=d?xo(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=OT;else if(cx(m))if(Z0)_=FT;else{_=MT;var N=DT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=LT);if(_&&(_=_(e,d))){J0(f,_,r,u);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Mm(m,"number",m.value)}switch(N=d?xo(d):window,e){case"focusin":(cx(N)||N.contentEditable==="true")&&(yo=N,Km=d,ec=null);break;case"focusout":ec=Km=yo=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,mx(f,r,u);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":mx(f,r,u)}var E;if(zg)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else go?Y0(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(G0&&r.locale!=="ko"&&(go||M!=="onCompositionStart"?M==="onCompositionEnd"&&go&&(E=K0()):(Sa=u,Ug="value"in Sa?Sa.value:Sa.textContent,go=!0)),N=Eu(d,M),0<N.length&&(M=new ax(M,e,null,r,u),f.push({event:M,listeners:N}),E?M.data=E:(E=X0(r),E!==null&&(M.data=E)))),(E=PT?TT(e,r):AT(e,r))&&(d=Eu(d,"onBeforeInput"),0<d.length&&(u=new ax("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=E))}cj(f,t)})}function bc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Eu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=hc(e,r),i!=null&&n.unshift(bc(e,i,a)),i=hc(e,t),i!=null&&n.push(bc(e,i,a))),e=e.return}return n}function Ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=hc(r,i),c!=null&&o.unshift(bc(r,c,l))):a||(c=hc(r,i),c!=null&&o.push(bc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var WT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function vx(e){return(typeof e=="string"?e:""+e).replace(WT,`
`).replace(HT,"")}function Ed(e,t,r){if(t=vx(t),vx(e)!==t&&r)throw Error(ve(425))}function ku(){}var Ym=null,Xm=null;function Jm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,xx=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof xx<"u"?function(e){return xx.resolve(null).then(e).catch(GT)}:Zm;function GT(e){setTimeout(function(){throw e})}function $h(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),gc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);gc(t)}function Aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),hs="__reactFiber$"+fl,wc="__reactProps$"+fl,Ws="__reactContainer$"+fl,ep="__reactEvents$"+fl,YT="__reactListeners$"+fl,XT="__reactHandles$"+fl;function hi(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[hs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bx(e);e!==null;){if(r=e[hs])return r;e=bx(e)}return t}e=r,r=e.parentNode}return null}function Qc(e){return e=e[hs]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function xf(e){return e[wc]||null}var tp=[],bo=-1;function Ga(e){return{current:e}}function Dt(e){0>bo||(e.current=tp[bo],tp[bo]=null,bo--)}function Pt(e,t){bo++,tp[bo]=e.current,e.current=t}var Ua={},Ar=Ga(Ua),an=Ga(!1),Ai=Ua;function Xo(e,t){var r=e.type.contextTypes;if(!r)return Ua;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function on(e){return e=e.childContextTypes,e!=null}function Pu(){Dt(an),Dt(Ar)}function wx(e,t,r){if(Ar.current!==Ua)throw Error(ve(168));Pt(Ar,t),Pt(an,r)}function uj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,DP(e)||"Unknown",a));return zt({},r,n)}function Tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ua,Ai=Ar.current,Pt(Ar,e),Pt(an,an.current),!0}function jx(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=uj(e,t,Ai),n.__reactInternalMemoizedMergedChildContext=e,Dt(an),Dt(Ar),Pt(Ar,e)):Dt(an),Pt(an,r)}var Rs=null,bf=!1,qh=!1;function fj(e){Rs===null?Rs=[e]:Rs.push(e)}function JT(e){bf=!0,fj(e)}function Ya(){if(!qh&&Rs!==null){qh=!0;var e=0,t=Nt;try{var r=Rs;for(Nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rs=null,bf=!1}catch(a){throw Rs!==null&&(Rs=Rs.slice(e+1)),L0(Lg,Ya),a}finally{Nt=t,qh=!1}}return null}var wo=[],jo=0,Au=null,Iu=0,En=[],kn=0,Ii=null,$s=1,qs="";function oi(e,t){wo[jo++]=Iu,wo[jo++]=Au,Au=e,Iu=t}function hj(e,t,r){En[kn++]=$s,En[kn++]=qs,En[kn++]=Ii,Ii=e;var n=$s;e=qs;var a=32-Kn(n)-1;n&=~(1<<a),r+=1;var i=32-Kn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,$s=1<<32-Kn(t)+a|r<<a|n,qs=i+e}else $s=1<<i|r<<a|n,qs=e}function Hg(e){e.return!==null&&(oi(e,1),hj(e,1,0))}function Qg(e){for(;e===Au;)Au=wo[--jo],wo[jo]=null,Iu=wo[--jo],wo[jo]=null;for(;e===Ii;)Ii=En[--kn],En[kn]=null,qs=En[--kn],En[kn]=null,$s=En[--kn],En[kn]=null}var yn=null,pn=null,Ft=!1,Wn=null;function mj(e,t){var r=Pn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _x(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,pn=Aa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ii!==null?{id:$s,overflow:qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yn=e,pn=null,!0):!1;default:return!1}}function rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function np(e){if(Ft){var t=pn;if(t){var r=t;if(!_x(e,t)){if(rp(e))throw Error(ve(418));t=Aa(r.nextSibling);var n=yn;t&&_x(e,t)?mj(n,r):(e.flags=e.flags&-4097|2,Ft=!1,yn=e)}}else{if(rp(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Ft=!1,yn=e}}}function Nx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function kd(e){if(e!==yn)return!1;if(!Ft)return Nx(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jm(e.type,e.memoizedProps)),t&&(t=pn)){if(rp(e))throw pj(),Error(ve(418));for(;t;)mj(e,t),t=Aa(t.nextSibling)}if(Nx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pn=Aa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=yn?Aa(e.stateNode.nextSibling):null;return!0}function pj(){for(var e=pn;e;)e=Aa(e.nextSibling)}function Jo(){pn=yn=null,Ft=!1}function Kg(e){Wn===null?Wn=[e]:Wn.push(e)}var ZT=Zs.ReactCurrentBatchConfig;function Tl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Pd(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sx(e){var t=e._init;return t(e._payload)}function gj(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Da(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,j){return y===null||y.tag!==6?(y=Qh(b,v.mode,j),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,j){var _=b.type;return _===po?u(v,y,b.props.children,j,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===da&&Sx(_)===y.type)?(j=a(y,b.props),j.ref=Tl(v,y,b),j.return=v,j):(j=cu(b.type,b.key,b.props,null,v.mode,j),j.ref=Tl(v,y,b),j.return=v,j)}function d(v,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Kh(b,v.mode,j),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function u(v,y,b,j,_){return y===null||y.tag!==7?(y=ki(b,v.mode,j,_),y.return=v,y):(y=a(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qh(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vd:return b=cu(y.type,y.key,y.props,null,v.mode,b),b.ref=Tl(v,null,y),b.return=v,b;case mo:return y=Kh(y,v.mode,b),y.return=v,y;case da:var j=y._init;return f(v,j(y._payload),b)}if(Vl(y)||Sl(y))return y=ki(y,v.mode,b,null),y.return=v,y;Pd(v,y)}return null}function m(v,y,b,j){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(v,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vd:return b.key===_?c(v,y,b,j):null;case mo:return b.key===_?d(v,y,b,j):null;case da:return _=b._init,m(v,y,_(b._payload),j)}if(Vl(b)||Sl(b))return _!==null?null:u(v,y,b,j,null);Pd(v,b)}return null}function p(v,y,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(y,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vd:return v=v.get(j.key===null?b:j.key)||null,c(y,v,j,_);case mo:return v=v.get(j.key===null?b:j.key)||null,d(y,v,j,_);case da:var N=j._init;return p(v,y,b,N(j._payload),_)}if(Vl(j)||Sl(j))return v=v.get(b)||null,u(y,v,j,_,null);Pd(y,j)}return null}function x(v,y,b,j){for(var _=null,N=null,E=y,M=y=0,U=null;E!==null&&M<b.length;M++){E.index>M?(U=E,E=null):U=E.sibling;var $=m(v,E,b[M],j);if($===null){E===null&&(E=U);break}e&&E&&$.alternate===null&&t(v,E),y=i($,y,M),N===null?_=$:N.sibling=$,N=$,E=U}if(M===b.length)return r(v,E),Ft&&oi(v,M),_;if(E===null){for(;M<b.length;M++)E=f(v,b[M],j),E!==null&&(y=i(E,y,M),N===null?_=E:N.sibling=E,N=E);return Ft&&oi(v,M),_}for(E=n(v,E);M<b.length;M++)U=p(E,v,M,b[M],j),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?M:U.key),y=i(U,y,M),N===null?_=U:N.sibling=U,N=U);return e&&E.forEach(function(L){return t(v,L)}),Ft&&oi(v,M),_}function g(v,y,b,j){var _=Sl(b);if(typeof _!="function")throw Error(ve(150));if(b=_.call(b),b==null)throw Error(ve(151));for(var N=_=null,E=y,M=y=0,U=null,$=b.next();E!==null&&!$.done;M++,$=b.next()){E.index>M?(U=E,E=null):U=E.sibling;var L=m(v,E,$.value,j);if(L===null){E===null&&(E=U);break}e&&E&&L.alternate===null&&t(v,E),y=i(L,y,M),N===null?_=L:N.sibling=L,N=L,E=U}if($.done)return r(v,E),Ft&&oi(v,M),_;if(E===null){for(;!$.done;M++,$=b.next())$=f(v,$.value,j),$!==null&&(y=i($,y,M),N===null?_=$:N.sibling=$,N=$);return Ft&&oi(v,M),_}for(E=n(v,E);!$.done;M++,$=b.next())$=p(E,v,M,$.value,j),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?M:$.key),y=i($,y,M),N===null?_=$:N.sibling=$,N=$);return e&&E.forEach(function(F){return t(v,F)}),Ft&&oi(v,M),_}function w(v,y,b,j){if(typeof b=="object"&&b!==null&&b.type===po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vd:e:{for(var _=b.key,N=y;N!==null;){if(N.key===_){if(_=b.type,_===po){if(N.tag===7){r(v,N.sibling),y=a(N,b.props.children),y.return=v,v=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===da&&Sx(_)===N.type){r(v,N.sibling),y=a(N,b.props),y.ref=Tl(v,N,b),y.return=v,v=y;break e}r(v,N);break}else t(v,N);N=N.sibling}b.type===po?(y=ki(b.props.children,v.mode,j,b.key),y.return=v,v=y):(j=cu(b.type,b.key,b.props,null,v.mode,j),j.ref=Tl(v,y,b),j.return=v,v=j)}return o(v);case mo:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Kh(b,v.mode,j),y.return=v,v=y}return o(v);case da:return N=b._init,w(v,y,N(b._payload),j)}if(Vl(b))return x(v,y,b,j);if(Sl(b))return g(v,y,b,j);Pd(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,b),y.return=v,v=y):(r(v,y),y=Qh(b,v.mode,j),y.return=v,v=y),o(v)):r(v,y)}return w}var Zo=gj(!0),yj=gj(!1),Ru=Ga(null),Ou=null,_o=null,Gg=null;function Yg(){Gg=_o=Ou=null}function Xg(e){var t=Ru.current;Dt(Ru),e._currentValue=t}function sp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ao(e,t){Ou=e,Gg=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(Gg!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(Ou===null)throw Error(ve(308));_o=e,Ou.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var mi=null;function Jg(e){mi===null?mi=[e]:mi.push(e)}function vj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Jg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Hs(e,n)}function Hs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ua=!1;function Zg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Hs(e,r)}return a=n.interleaved,a===null?(t.next=t,Jg(n)):(t.next=a.next,a.next=t),n.interleaved=t,Hs(e,r)}function nu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fg(e,r)}}function Cx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Du(e,t,r,n){var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=zt({},f,m);break e;case 2:ua=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Oi|=o,e.lanes=o,e.memoizedState=f}}function Ex(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var Kc={},ws=Ga(Kc),jc=Ga(Kc),_c=Ga(Kc);function pi(e){if(e===Kc)throw Error(ve(174));return e}function ey(e,t){switch(Pt(_c,t),Pt(jc,e),Pt(ws,Kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fm(t,e)}Dt(ws),Pt(ws,t)}function el(){Dt(ws),Dt(jc),Dt(_c)}function bj(e){pi(_c.current);var t=pi(ws.current),r=Fm(t,e.type);t!==r&&(Pt(jc,e),Pt(ws,r))}function ty(e){jc.current===e&&(Dt(ws),Dt(jc))}var Bt=Ga(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uh=[];function ry(){for(var e=0;e<Uh.length;e++)Uh[e]._workInProgressVersionPrimary=null;Uh.length=0}var su=Zs.ReactCurrentDispatcher,Bh=Zs.ReactCurrentBatchConfig,Ri=0,Vt=null,cr=null,gr=null,Lu=!1,tc=!1,Nc=0,eA=0;function Cr(){throw Error(ve(321))}function ny(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yn(e[r],t[r]))return!1;return!0}function sy(e,t,r,n,a,i){if(Ri=i,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,su.current=e===null||e.memoizedState===null?sA:aA,e=r(n,a),tc){i=0;do{if(tc=!1,Nc=0,25<=i)throw Error(ve(301));i+=1,gr=cr=null,t.updateQueue=null,su.current=iA,e=r(n,a)}while(tc)}if(su.current=Fu,t=cr!==null&&cr.next!==null,Ri=0,gr=cr=Vt=null,Lu=!1,t)throw Error(ve(300));return e}function ay(){var e=Nc!==0;return Nc=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Vt.memoizedState=gr=e:gr=gr.next=e,gr}function On(){if(cr===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=cr.next;var t=gr===null?Vt.memoizedState:gr.next;if(t!==null)gr=t,cr=e;else{if(e===null)throw Error(ve(310));cr=e,e={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},gr===null?Vt.memoizedState=gr=e:gr=gr.next=e}return gr}function Sc(e,t){return typeof t=="function"?t(e):t}function Vh(e){var t=On(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=cr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ri&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Vt.lanes|=u,Oi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Yn(n,t.memoizedState)||(nn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Vt.lanes|=i,Oi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zh(e){var t=On(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Yn(i,t.memoizedState)||(nn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function wj(){}function jj(e,t){var r=Vt,n=On(),a=t(),i=!Yn(n.memoizedState,a);if(i&&(n.memoizedState=a,nn=!0),n=n.queue,iy(Sj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||gr!==null&&gr.memoizedState.tag&1){if(r.flags|=2048,Cc(9,Nj.bind(null,r,n,a,t),void 0,null),yr===null)throw Error(ve(349));Ri&30||_j(r,t,a)}return a}function _j(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nj(e,t,r,n){t.value=r,t.getSnapshot=n,Cj(t)&&Ej(e)}function Sj(e,t,r){return r(function(){Cj(t)&&Ej(e)})}function Cj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch{return!0}}function Ej(e){var t=Hs(e,1);t!==null&&Gn(t,e,1,-1)}function kx(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:e},t.queue=e,e=e.dispatch=nA.bind(null,Vt,e),[t.memoizedState,e]}function Cc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kj(){return On().memoizedState}function au(e,t,r,n){var a=os();Vt.flags|=e,a.memoizedState=Cc(1|t,r,void 0,n===void 0?null:n)}function wf(e,t,r,n){var a=On();n=n===void 0?null:n;var i=void 0;if(cr!==null){var o=cr.memoizedState;if(i=o.destroy,n!==null&&ny(n,o.deps)){a.memoizedState=Cc(t,r,i,n);return}}Vt.flags|=e,a.memoizedState=Cc(1|t,r,i,n)}function Px(e,t){return au(8390656,8,e,t)}function iy(e,t){return wf(2048,8,e,t)}function Pj(e,t){return wf(4,2,e,t)}function Tj(e,t){return wf(4,4,e,t)}function Aj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ij(e,t,r){return r=r!=null?r.concat([e]):null,wf(4,4,Aj.bind(null,t,e),r)}function oy(){}function Rj(e,t){var r=On();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ny(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Oj(e,t){var r=On();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ny(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dj(e,t,r){return Ri&21?(Yn(r,t)||(r=q0(),Vt.lanes|=r,Oi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=r)}function tA(e,t){var r=Nt;Nt=r!==0&&4>r?r:4,e(!0);var n=Bh.transition;Bh.transition={};try{e(!1),t()}finally{Nt=r,Bh.transition=n}}function Mj(){return On().memoizedState}function rA(e,t,r){var n=Oa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Lj(e))Fj(t,r);else if(r=vj(e,t,r,n),r!==null){var a=qr();Gn(r,e,n,a),$j(r,t,n)}}function nA(e,t,r){var n=Oa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lj(e))Fj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Yn(l,o)){var c=t.interleaved;c===null?(a.next=a,Jg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=vj(e,t,a,n),r!==null&&(a=qr(),Gn(r,e,n,a),$j(r,t,n))}}function Lj(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function Fj(e,t){tc=Lu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $j(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fg(e,r)}}var Fu={readContext:Rn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},sA={readContext:Rn,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:Px,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,au(4194308,4,Aj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return au(4194308,4,e,t)},useInsertionEffect:function(e,t){return au(4,2,e,t)},useMemo:function(e,t){var r=os();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=os();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rA.bind(null,Vt,e),[n.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:kx,useDebugValue:oy,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=kx(!1),t=e[0];return e=tA.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Vt,a=os();if(Ft){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),yr===null)throw Error(ve(349));Ri&30||_j(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Px(Sj.bind(null,n,i,e),[e]),n.flags|=2048,Cc(9,Nj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=os(),t=yr.identifierPrefix;if(Ft){var r=qs,n=$s;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aA={readContext:Rn,useCallback:Rj,useContext:Rn,useEffect:iy,useImperativeHandle:Ij,useInsertionEffect:Pj,useLayoutEffect:Tj,useMemo:Oj,useReducer:Vh,useRef:kj,useState:function(){return Vh(Sc)},useDebugValue:oy,useDeferredValue:function(e){var t=On();return Dj(t,cr.memoizedState,e)},useTransition:function(){var e=Vh(Sc)[0],t=On().memoizedState;return[e,t]},useMutableSource:wj,useSyncExternalStore:jj,useId:Mj,unstable_isNewReconciler:!1},iA={readContext:Rn,useCallback:Rj,useContext:Rn,useEffect:iy,useImperativeHandle:Ij,useInsertionEffect:Pj,useLayoutEffect:Tj,useMemo:Oj,useReducer:zh,useRef:kj,useState:function(){return zh(Sc)},useDebugValue:oy,useDeferredValue:function(e){var t=On();return cr===null?t.memoizedState=e:Dj(t,cr.memoizedState,e)},useTransition:function(){var e=zh(Sc)[0],t=On().memoizedState;return[e,t]},useMutableSource:wj,useSyncExternalStore:jj,useId:Mj,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ap(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jf={isMounted:function(e){return(e=e._reactInternals)?Wi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qr(),a=Oa(e),i=Us(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ia(e,i,a),t!==null&&(Gn(t,e,a,n),nu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qr(),a=Oa(e),i=Us(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ia(e,i,a),t!==null&&(Gn(t,e,a,n),nu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qr(),n=Oa(e),a=Us(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ia(e,a,n),t!==null&&(Gn(t,e,n,r),nu(t,e,n))}};function Tx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!vc(r,n)||!vc(a,i):!0}function qj(e,t,r){var n=!1,a=Ua,i=t.contextType;return typeof i=="object"&&i!==null?i=Rn(i):(a=on(t)?Ai:Ar.current,n=t.contextTypes,i=(n=n!=null)?Xo(e,a):Ua),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ax(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jf.enqueueReplaceState(t,t.state,null)}function ip(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Zg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Rn(i):(i=on(t)?Ai:Ar.current,a.context=Xo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ap(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&jf.enqueueReplaceState(a,a.state,null),Du(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function tl(e,t){try{var r="",n=t;do r+=OP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Wh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function op(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oA=typeof WeakMap=="function"?WeakMap:Map;function Uj(e,t,r){r=Us(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qu||(qu=!0,yp=n),op(e,t)},r}function Bj(e,t,r){r=Us(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){op(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){op(e,t),typeof n!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ix(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=wA.bind(null,e,t,r),t.then(e,e))}function Rx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ox(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Us(-1,1),t.tag=2,Ia(r,t,1))),r.lanes|=1),e)}var lA=Zs.ReactCurrentOwner,nn=!1;function Mr(e,t,r,n){t.child=e===null?yj(t,null,r,n):Zo(t,e.child,r,n)}function Dx(e,t,r,n,a){r=r.render;var i=t.ref;return Ao(t,a),n=sy(e,t,r,n,i,a),r=ay(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qs(e,t,a)):(Ft&&r&&Hg(t),t.flags|=1,Mr(e,t,n,a),t.child)}function Mx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!py(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Vj(e,t,i,n,a)):(e=cu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:vc,r(o,n)&&e.ref===t.ref)return Qs(e,t,a)}return t.flags|=1,e=Da(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vj(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(vc(i,n)&&e.ref===t.ref)if(nn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,Qs(e,t,a)}return lp(e,t,r,n,a)}function zj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(So,hn),hn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(So,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Pt(So,hn),hn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Pt(So,hn),hn|=n;return Mr(e,t,a,r),t.child}function Wj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lp(e,t,r,n,a){var i=on(r)?Ai:Ar.current;return i=Xo(t,i),Ao(t,a),r=sy(e,t,r,n,i,a),n=ay(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qs(e,t,a)):(Ft&&n&&Hg(t),t.flags|=1,Mr(e,t,r,a),t.child)}function Lx(e,t,r,n,a){if(on(r)){var i=!0;Tu(t)}else i=!1;if(Ao(t,a),t.stateNode===null)iu(e,t),qj(t,r,n),ip(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Rn(d):(d=on(r)?Ai:Ar.current,d=Xo(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Ax(t,o,n,d),ua=!1;var m=t.memoizedState;o.state=m,Du(t,n,o,a),c=t.memoizedState,l!==n||m!==c||an.current||ua?(typeof u=="function"&&(ap(t,r,u,n),c=t.memoizedState),(l=ua||Tx(t,r,l,n,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:qn(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rn(c):(c=on(r)?Ai:Ar.current,c=Xo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Ax(t,o,n,c),ua=!1,m=t.memoizedState,o.state=m,Du(t,n,o,a);var x=t.memoizedState;l!==f||m!==x||an.current||ua?(typeof p=="function"&&(ap(t,r,p,n),x=t.memoizedState),(d=ua||Tx(t,r,d,n,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return cp(e,t,r,n,i,a)}function cp(e,t,r,n,a,i){Wj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&jx(t,r,!1),Qs(e,t,i);n=t.stateNode,lA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zo(t,e.child,null,i),t.child=Zo(t,null,l,i)):Mr(e,t,l,i),t.memoizedState=n.state,a&&jx(t,r,!0),t.child}function Hj(e){var t=e.stateNode;t.pendingContext?wx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wx(e,t.context,!1),ey(e,t.containerInfo)}function Fx(e,t,r,n,a){return Jo(),Kg(a),t.flags|=256,Mr(e,t,r,n),t.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function up(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qj(e,t,r){var n=t.pendingProps,a=Bt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pt(Bt,a&1),e===null)return np(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sf(o,n,0,null),e=ki(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=up(r),t.memoizedState=dp,e):ly(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return cA(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Da(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Da(l,i):(i=ki(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?up(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=dp,n}return i=e.child,e=i.sibling,n=Da(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ly(e,t){return t=Sf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Td(e,t,r,n){return n!==null&&Kg(n),Zo(t,e.child,null,r),e=ly(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cA(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Wh(Error(ve(422))),Td(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Sf({mode:"visible",children:n.children},a,0,null),i=ki(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zo(t,e.child,null,o),t.child.memoizedState=up(o),t.memoizedState=dp,i);if(!(t.mode&1))return Td(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ve(419)),n=Wh(i,n,void 0),Td(e,t,o,n)}if(l=(o&e.childLanes)!==0,nn||l){if(n=yr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Hs(e,a),Gn(n,e,a,-1))}return my(),n=Wh(Error(ve(421))),Td(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=jA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,pn=Aa(a.nextSibling),yn=t,Ft=!0,Wn=null,e!==null&&(En[kn++]=$s,En[kn++]=qs,En[kn++]=Ii,$s=e.id,qs=e.overflow,Ii=t),t=ly(t,n.children),t.flags|=4096,t)}function $x(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sp(e.return,t,r)}function Hh(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Kj(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mr(e,t,n.children,r),n=Bt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$x(e,r,t);else if(e.tag===19)$x(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pt(Bt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Mu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Hh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Mu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Hh(t,!0,r,null,i);break;case"together":Hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Oi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Da(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Da(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dA(e,t,r){switch(t.tag){case 3:Hj(t),Jo();break;case 5:bj(t);break;case 1:on(t.type)&&Tu(t);break;case 4:ey(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pt(Ru,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pt(Bt,Bt.current&1),t.flags|=128,null):r&t.child.childLanes?Qj(e,t,r):(Pt(Bt,Bt.current&1),e=Qs(e,t,r),e!==null?e.sibling:null);Pt(Bt,Bt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pt(Bt,Bt.current),n)break;return null;case 22:case 23:return t.lanes=0,zj(e,t,r)}return Qs(e,t,r)}var Gj,fp,Yj,Xj;Gj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fp=function(){};Yj=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,pi(ws.current);var i=null;switch(r){case"input":a=Om(e,a),n=Om(e,n),i=[];break;case"select":a=zt({},a,{value:void 0}),n=zt({},n,{value:void 0}),i=[];break;case"textarea":a=Lm(e,a),n=Lm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ku)}$m(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(uc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(uc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&It("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Xj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Al(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uA(e,t,r){var n=t.pendingProps;switch(Qg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return on(t.type)&&Pu(),Er(t),null;case 3:return n=t.stateNode,el(),Dt(an),Dt(Ar),ry(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(bp(Wn),Wn=null))),fp(e,t),Er(t),null;case 5:ty(t);var a=pi(_c.current);if(r=t.type,e!==null&&t.stateNode!=null)Yj(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return Er(t),null}if(e=pi(ws.current),kd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hs]=t,n[wc]=i,e=(t.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Wl.length;a++)It(Wl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":Kv(n,i),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},It("invalid",n);break;case"textarea":Yv(n,i),It("invalid",n)}$m(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ed(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ed(n.textContent,l,e),a=["children",""+l]):uc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&It("scroll",n)}switch(r){case"input":xd(n),Gv(n,i,!0);break;case"textarea":xd(n),Xv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ku)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hs]=t,e[wc]=n,Gj(e,t,!1,!1),t.stateNode=e;e:{switch(o=qm(r,n),r){case"dialog":It("cancel",e),It("close",e),a=n;break;case"iframe":case"object":case"embed":It("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wl.length;a++)It(Wl[a],e);a=n;break;case"source":It("error",e),a=n;break;case"img":case"image":case"link":It("error",e),It("load",e),a=n;break;case"details":It("toggle",e),a=n;break;case"input":Kv(e,n),a=Om(e,n),It("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=zt({},n,{value:void 0}),It("invalid",e);break;case"textarea":Yv(e,n),a=Lm(e,n),It("invalid",e);break;default:a=n}$m(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?k0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&C0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fc(e,c):typeof c=="number"&&fc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",e):c!=null&&Ig(e,i,c,o))}switch(r){case"input":xd(e),Gv(e,n,!1);break;case"textarea":xd(e),Xv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Eo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Eo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ku)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)Xj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=pi(_c.current),pi(ws.current),kd(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(i=n.nodeValue!==r)&&(e=yn,e!==null))switch(e.tag){case 3:Ed(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ed(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=t,t.stateNode=n}return Er(t),null;case 13:if(Dt(Bt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&pn!==null&&t.mode&1&&!(t.flags&128))pj(),Jo(),t.flags|=98560,i=!1;else if(i=kd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[hs]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),i=!1}else Wn!==null&&(bp(Wn),Wn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Bt.current&1?ur===0&&(ur=3):my())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return el(),fp(e,t),e===null&&xc(t.stateNode.containerInfo),Er(t),null;case 10:return Xg(t.type._context),Er(t),null;case 17:return on(t.type)&&Pu(),Er(t),null;case 19:if(Dt(Bt),i=t.memoizedState,i===null)return Er(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Al(i,!1);else{if(ur!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mu(e),o!==null){for(t.flags|=128,Al(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pt(Bt,Bt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xt()>rl&&(t.flags|=128,n=!0,Al(i,!1),t.lanes=4194304)}else{if(!n)if(e=Mu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ft)return Er(t),null}else 2*Xt()-i.renderingStartTime>rl&&r!==1073741824&&(t.flags|=128,n=!0,Al(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xt(),t.sibling=null,r=Bt.current,Pt(Bt,n?r&1|2:r&1),t):(Er(t),null);case 22:case 23:return hy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hn&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function fA(e,t){switch(Qg(t),t.tag){case 1:return on(t.type)&&Pu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return el(),Dt(an),Dt(Ar),ry(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ty(t),null;case 13:if(Dt(Bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(Bt),null;case 4:return el(),null;case 10:return Xg(t.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var Ad=!1,Pr=!1,hA=typeof WeakSet=="function"?WeakSet:Set,De=null;function No(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qt(e,t,n)}else r.current=null}function hp(e,t,r){try{r()}catch(n){Qt(e,t,n)}}var qx=!1;function mA(e,t){if(Ym=Su,e=rj(),Wg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xm={focusedElem:e,selectionRange:r},Su=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:qn(t.type,g),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(j){Qt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return x=qx,qx=!1,x}function rc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&hp(t,r,i)}a=a.next}while(a!==n)}}function _f(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jj(e){var t=e.alternate;t!==null&&(e.alternate=null,Jj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hs],delete t[wc],delete t[ep],delete t[YT],delete t[XT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zj(e){return e.tag===5||e.tag===3||e.tag===4}function Ux(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ku));else if(n!==4&&(e=e.child,e!==null))for(pp(e,t,r),e=e.sibling;e!==null;)pp(e,t,r),e=e.sibling}function gp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gp(e,t,r),e=e.sibling;e!==null;)gp(e,t,r),e=e.sibling}var br=null,Vn=!1;function ra(e,t,r){for(r=r.child;r!==null;)e_(e,t,r),r=r.sibling}function e_(e,t,r){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(pf,r)}catch{}switch(r.tag){case 5:Pr||No(r,t);case 6:var n=br,a=Vn;br=null,ra(e,t,r),br=n,Vn=a,br!==null&&(Vn?(e=br,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):br.removeChild(r.stateNode));break;case 18:br!==null&&(Vn?(e=br,r=r.stateNode,e.nodeType===8?$h(e.parentNode,r):e.nodeType===1&&$h(e,r),gc(e)):$h(br,r.stateNode));break;case 4:n=br,a=Vn,br=r.stateNode.containerInfo,Vn=!0,ra(e,t,r),br=n,Vn=a;break;case 0:case 11:case 14:case 15:if(!Pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hp(r,t,o),a=a.next}while(a!==n)}ra(e,t,r);break;case 1:if(!Pr&&(No(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qt(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(Pr=(n=Pr)||r.memoizedState!==null,ra(e,t,r),Pr=n):ra(e,t,r);break;default:ra(e,t,r)}}function Bx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hA),t.forEach(function(n){var a=_A.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:br=l.stateNode,Vn=!1;break e;case 3:br=l.stateNode.containerInfo,Vn=!0;break e;case 4:br=l.stateNode.containerInfo,Vn=!0;break e}l=l.return}if(br===null)throw Error(ve(160));e_(i,o,a),br=null,Vn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Qt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t_(t,e),t=t.sibling}function t_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mn(t,e),is(e),n&4){try{rc(3,e,e.return),_f(3,e)}catch(g){Qt(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Qt(e,e.return,g)}}break;case 1:Mn(t,e),is(e),n&512&&r!==null&&No(r,r.return);break;case 5:if(Mn(t,e),is(e),n&512&&r!==null&&No(r,r.return),e.flags&32){var a=e.stateNode;try{fc(a,"")}catch(g){Qt(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_0(a,i),qm(l,o);var d=qm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?k0(a,f):u==="dangerouslySetInnerHTML"?C0(a,f):u==="children"?fc(a,f):Ig(a,u,f,d)}switch(l){case"input":Dm(a,i);break;case"textarea":N0(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Eo(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Eo(a,!!i.multiple,i.defaultValue,!0):Eo(a,!!i.multiple,i.multiple?[]:"",!1))}a[wc]=i}catch(g){Qt(e,e.return,g)}}break;case 6:if(Mn(t,e),is(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Qt(e,e.return,g)}}break;case 3:if(Mn(t,e),is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gc(t.containerInfo)}catch(g){Qt(e,e.return,g)}break;case 4:Mn(t,e),is(e);break;case 13:Mn(t,e),is(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(uy=Xt())),n&4&&Bx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Pr=(d=Pr)||u,Mn(t,e),Pr=d):Mn(t,e),is(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(De=e,u=e.child;u!==null;){for(f=De=u;De!==null;){switch(m=De,p=m.child,m.tag){case 0:case 11:case 14:case 15:rc(4,m,m.return);break;case 1:No(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Qt(n,r,g)}}break;case 5:No(m,m.return);break;case 22:if(m.memoizedState!==null){zx(f);continue}}p!==null?(p.return=m,De=p):zx(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=E0("display",o))}catch(g){Qt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Qt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mn(t,e),is(e),n&4&&Bx(e);break;case 21:break;default:Mn(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zj(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(fc(a,""),n.flags&=-33);var i=Ux(e);gp(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ux(e);pp(e,l,o);break;default:throw Error(ve(161))}}catch(c){Qt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pA(e,t,r){De=e,r_(e)}function r_(e,t,r){for(var n=(e.mode&1)!==0;De!==null;){var a=De,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ad;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Pr;l=Ad;var d=Pr;if(Ad=o,(Pr=c)&&!d)for(De=a;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?Wx(a):c!==null?(c.return=o,De=c):Wx(a);for(;i!==null;)De=i,r_(i),i=i.sibling;De=a,Ad=l,Pr=d}Vx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,De=i):Vx(e)}}function Vx(e){for(;De!==null;){var t=De;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pr||_f(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:qn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ex(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ex(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&gc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Pr||t.flags&512&&mp(t)}catch(m){Qt(t,t.return,m)}}if(t===e){De=null;break}if(r=t.sibling,r!==null){r.return=t.return,De=r;break}De=t.return}}function zx(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var r=t.sibling;if(r!==null){r.return=t.return,De=r;break}De=t.return}}function Wx(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_f(4,t)}catch(c){Qt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Qt(t,a,c)}}var i=t.return;try{mp(t)}catch(c){Qt(t,i,c)}break;case 5:var o=t.return;try{mp(t)}catch(c){Qt(t,o,c)}}}catch(c){Qt(t,t.return,c)}if(t===e){De=null;break}var l=t.sibling;if(l!==null){l.return=t.return,De=l;break}De=t.return}}var gA=Math.ceil,$u=Zs.ReactCurrentDispatcher,cy=Zs.ReactCurrentOwner,Tn=Zs.ReactCurrentBatchConfig,pt=0,yr=null,ar=null,jr=0,hn=0,So=Ga(0),ur=0,Ec=null,Oi=0,Nf=0,dy=0,nc=null,Zr=null,uy=0,rl=1/0,As=null,qu=!1,yp=null,Ra=null,Id=!1,Ca=null,Uu=0,sc=0,vp=null,ou=-1,lu=0;function qr(){return pt&6?Xt():ou!==-1?ou:ou=Xt()}function Oa(e){return e.mode&1?pt&2&&jr!==0?jr&-jr:ZT.transition!==null?(lu===0&&(lu=q0()),lu):(e=Nt,e!==0||(e=window.event,e=e===void 0?16:Q0(e.type)),e):1}function Gn(e,t,r,n){if(50<sc)throw sc=0,vp=null,Error(ve(185));Wc(e,r,n),(!(pt&2)||e!==yr)&&(e===yr&&(!(pt&2)&&(Nf|=r),ur===4&&ha(e,jr)),ln(e,n),r===1&&pt===0&&!(t.mode&1)&&(rl=Xt()+500,bf&&Ya()))}function ln(e,t){var r=e.callbackNode;ZP(e,t);var n=Nu(e,e===yr?jr:0);if(n===0)r!==null&&ex(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ex(r),t===1)e.tag===0?JT(Hx.bind(null,e)):fj(Hx.bind(null,e)),KT(function(){!(pt&6)&&Ya()}),r=null;else{switch(U0(n)){case 1:r=Lg;break;case 4:r=F0;break;case 16:r=_u;break;case 536870912:r=$0;break;default:r=_u}r=d_(r,n_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function n_(e,t){if(ou=-1,lu=0,pt&6)throw Error(ve(327));var r=e.callbackNode;if(Io()&&e.callbackNode!==r)return null;var n=Nu(e,e===yr?jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bu(e,n);else{t=n;var a=pt;pt|=2;var i=a_();(yr!==e||jr!==t)&&(As=null,rl=Xt()+500,Ei(e,t));do try{xA();break}catch(l){s_(e,l)}while(!0);Yg(),$u.current=i,pt=a,ar!==null?t=0:(yr=null,jr=0,t=ur)}if(t!==0){if(t===2&&(a=Wm(e),a!==0&&(n=a,t=xp(e,a))),t===1)throw r=Ec,Ei(e,0),ha(e,n),ln(e,Xt()),r;if(t===6)ha(e,n);else{if(a=e.current.alternate,!(n&30)&&!yA(a)&&(t=Bu(e,n),t===2&&(i=Wm(e),i!==0&&(n=i,t=xp(e,i))),t===1))throw r=Ec,Ei(e,0),ha(e,n),ln(e,Xt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:li(e,Zr,As);break;case 3:if(ha(e,n),(n&130023424)===n&&(t=uy+500-Xt(),10<t)){if(Nu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){qr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Zm(li.bind(null,e,Zr,As),t);break}li(e,Zr,As);break;case 4:if(ha(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Kn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gA(n/1960))-n,10<n){e.timeoutHandle=Zm(li.bind(null,e,Zr,As),n);break}li(e,Zr,As);break;case 5:li(e,Zr,As);break;default:throw Error(ve(329))}}}return ln(e,Xt()),e.callbackNode===r?n_.bind(null,e):null}function xp(e,t){var r=nc;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=Bu(e,t),e!==2&&(t=Zr,Zr=r,t!==null&&bp(t)),e}function bp(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function yA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t){for(t&=~dy,t&=~Nf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kn(t),n=1<<r;e[r]=-1,t&=~n}}function Hx(e){if(pt&6)throw Error(ve(327));Io();var t=Nu(e,0);if(!(t&1))return ln(e,Xt()),null;var r=Bu(e,t);if(e.tag!==0&&r===2){var n=Wm(e);n!==0&&(t=n,r=xp(e,n))}if(r===1)throw r=Ec,Ei(e,0),ha(e,t),ln(e,Xt()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e,Zr,As),ln(e,Xt()),null}function fy(e,t){var r=pt;pt|=1;try{return e(t)}finally{pt=r,pt===0&&(rl=Xt()+500,bf&&Ya())}}function Di(e){Ca!==null&&Ca.tag===0&&!(pt&6)&&Io();var t=pt;pt|=1;var r=Tn.transition,n=Nt;try{if(Tn.transition=null,Nt=1,e)return e()}finally{Nt=n,Tn.transition=r,pt=t,!(pt&6)&&Ya()}}function hy(){hn=So.current,Dt(So)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QT(r)),ar!==null)for(r=ar.return;r!==null;){var n=r;switch(Qg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pu();break;case 3:el(),Dt(an),Dt(Ar),ry();break;case 5:ty(n);break;case 4:el();break;case 13:Dt(Bt);break;case 19:Dt(Bt);break;case 10:Xg(n.type._context);break;case 22:case 23:hy()}r=r.return}if(yr=e,ar=e=Da(e.current,null),jr=hn=t,ur=0,Ec=null,dy=Nf=Oi=0,Zr=nc=null,mi!==null){for(t=0;t<mi.length;t++)if(r=mi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}mi=null}return e}function s_(e,t){do{var r=ar;try{if(Yg(),su.current=Fu,Lu){for(var n=Vt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Lu=!1}if(Ri=0,gr=cr=Vt=null,tc=!1,Nc=0,cy.current=null,r===null||r.return===null){ur=1,Ec=t,ar=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Rx(o);if(p!==null){p.flags&=-257,Ox(p,o,l,i,t),p.mode&1&&Ix(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Ix(i,d,t),my();break e}c=Error(ve(426))}}else if(Ft&&l.mode&1){var w=Rx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ox(w,o,l,i,t),Kg(tl(c,l));break e}}i=c=tl(c,l),ur!==4&&(ur=2),nc===null?nc=[i]:nc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Uj(i,c,t);Cx(i,v);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ra===null||!Ra.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Bj(i,l,t);Cx(i,j);break e}}i=i.return}while(i!==null)}o_(r)}catch(_){t=_,ar===r&&r!==null&&(ar=r=r.return);continue}break}while(!0)}function a_(){var e=$u.current;return $u.current=Fu,e===null?Fu:e}function my(){(ur===0||ur===3||ur===2)&&(ur=4),yr===null||!(Oi&268435455)&&!(Nf&268435455)||ha(yr,jr)}function Bu(e,t){var r=pt;pt|=2;var n=a_();(yr!==e||jr!==t)&&(As=null,Ei(e,t));do try{vA();break}catch(a){s_(e,a)}while(!0);if(Yg(),pt=r,$u.current=n,ar!==null)throw Error(ve(261));return yr=null,jr=0,ur}function vA(){for(;ar!==null;)i_(ar)}function xA(){for(;ar!==null&&!zP();)i_(ar)}function i_(e){var t=c_(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?o_(e):ar=t,cy.current=null}function o_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fA(r,t),r!==null){r.flags&=32767,ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ur=6,ar=null;return}}else if(r=uA(r,t,hn),r!==null){ar=r;return}if(t=t.sibling,t!==null){ar=t;return}ar=t=e}while(t!==null);ur===0&&(ur=5)}function li(e,t,r){var n=Nt,a=Tn.transition;try{Tn.transition=null,Nt=1,bA(e,t,r,n)}finally{Tn.transition=a,Nt=n}return null}function bA(e,t,r,n){do Io();while(Ca!==null);if(pt&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(eT(e,i),e===yr&&(ar=yr=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Id||(Id=!0,d_(_u,function(){return Io(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Tn.transition,Tn.transition=null;var o=Nt;Nt=1;var l=pt;pt|=4,cy.current=null,mA(e,r),t_(r,e),qT(Xm),Su=!!Ym,Xm=Ym=null,e.current=r,pA(r),WP(),pt=l,Nt=o,Tn.transition=i}else e.current=r;if(Id&&(Id=!1,Ca=e,Uu=a),i=e.pendingLanes,i===0&&(Ra=null),KP(r.stateNode),ln(e,Xt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(qu)throw qu=!1,e=yp,yp=null,e;return Uu&1&&e.tag!==0&&Io(),i=e.pendingLanes,i&1?e===vp?sc++:(sc=0,vp=e):sc=0,Ya(),null}function Io(){if(Ca!==null){var e=U0(Uu),t=Tn.transition,r=Nt;try{if(Tn.transition=null,Nt=16>e?16:e,Ca===null)var n=!1;else{if(e=Ca,Ca=null,Uu=0,pt&6)throw Error(ve(331));var a=pt;for(pt|=4,De=e.current;De!==null;){var i=De,o=i.child;if(De.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(De=d;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:rc(8,u,i)}var f=u.child;if(f!==null)f.return=u,De=f;else for(;De!==null;){u=De;var m=u.sibling,p=u.return;if(Jj(u),u===d){De=null;break}if(m!==null){m.return=p,De=m;break}De=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}De=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,De=o;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,De=v;break e}De=i.return}}var y=e.current;for(De=y;De!==null;){o=De;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,De=b;else e:for(o=y;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_f(9,l)}}catch(_){Qt(l,l.return,_)}if(l===o){De=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,De=j;break e}De=l.return}}if(pt=a,Ya(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(pf,e)}catch{}n=!0}return n}finally{Nt=r,Tn.transition=t}}return!1}function Qx(e,t,r){t=tl(r,t),t=Uj(e,t,1),e=Ia(e,t,1),t=qr(),e!==null&&(Wc(e,1,t),ln(e,t))}function Qt(e,t,r){if(e.tag===3)Qx(e,e,r);else for(;t!==null;){if(t.tag===3){Qx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ra===null||!Ra.has(n))){e=tl(r,e),e=Bj(t,e,1),t=Ia(t,e,1),e=qr(),t!==null&&(Wc(t,1,e),ln(t,e));break}}t=t.return}}function wA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&r,yr===e&&(jr&r)===r&&(ur===4||ur===3&&(jr&130023424)===jr&&500>Xt()-uy?Ei(e,0):dy|=r),ln(e,t)}function l_(e,t){t===0&&(e.mode&1?(t=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):t=1);var r=qr();e=Hs(e,t),e!==null&&(Wc(e,t,r),ln(e,r))}function jA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),l_(e,r)}function _A(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),l_(e,r)}var c_;c_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)nn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nn=!1,dA(e,t,r);nn=!!(e.flags&131072)}else nn=!1,Ft&&t.flags&1048576&&hj(t,Iu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;iu(e,t),e=t.pendingProps;var a=Xo(t,Ar.current);Ao(t,r),a=sy(null,t,n,e,a,r);var i=ay();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(n)?(i=!0,Tu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zg(t),a.updater=jf,t.stateNode=a,a._reactInternals=t,ip(t,n,e,r),t=cp(null,t,n,!0,i,r)):(t.tag=0,Ft&&i&&Hg(t),Mr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(iu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=SA(n),e=qn(n,e),a){case 0:t=lp(null,t,n,e,r);break e;case 1:t=Lx(null,t,n,e,r);break e;case 11:t=Dx(null,t,n,e,r);break e;case 14:t=Mx(null,t,n,qn(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),lp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),Lx(e,t,n,a,r);case 3:e:{if(Hj(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,a=i.element,xj(e,t),Du(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=tl(Error(ve(423)),t),t=Fx(e,t,n,r,a);break e}else if(n!==a){a=tl(Error(ve(424)),t),t=Fx(e,t,n,r,a);break e}else for(pn=Aa(t.stateNode.containerInfo.firstChild),yn=t,Ft=!0,Wn=null,r=yj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jo(),n===a){t=Qs(e,t,r);break e}Mr(e,t,n,r)}t=t.child}return t;case 5:return bj(t),e===null&&np(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Jm(n,a)?o=null:i!==null&&Jm(n,i)&&(t.flags|=32),Wj(e,t),Mr(e,t,o,r),t.child;case 6:return e===null&&np(t),null;case 13:return Qj(e,t,r);case 4:return ey(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zo(t,null,n,r):Mr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),Dx(e,t,n,a,r);case 7:return Mr(e,t,t.pendingProps,r),t.child;case 8:return Mr(e,t,t.pendingProps.children,r),t.child;case 12:return Mr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Pt(Ru,n._currentValue),n._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===a.children&&!an.current){t=Qs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Us(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),sp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ao(t,r),a=Rn(a),n=n(a),t.flags|=1,Mr(e,t,n,r),t.child;case 14:return n=t.type,a=qn(n,t.pendingProps),a=qn(n.type,a),Mx(e,t,n,a,r);case 15:return Vj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qn(n,a),iu(e,t),t.tag=1,on(n)?(e=!0,Tu(t)):e=!1,Ao(t,r),qj(t,n,a),ip(t,n,a,r),cp(null,t,n,!0,e,r);case 19:return Kj(e,t,r);case 22:return zj(e,t,r)}throw Error(ve(156,t.tag))};function d_(e,t){return L0(e,t)}function NA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,t,r,n){return new NA(e,t,r,n)}function py(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SA(e){if(typeof e=="function")return py(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Og)return 11;if(e===Dg)return 14}return 2}function Da(e,t){var r=e.alternate;return r===null?(r=Pn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cu(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")py(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case po:return ki(r.children,a,i,t);case Rg:o=8,a|=8;break;case Tm:return e=Pn(12,r,t,a|2),e.elementType=Tm,e.lanes=i,e;case Am:return e=Pn(13,r,t,a),e.elementType=Am,e.lanes=i,e;case Im:return e=Pn(19,r,t,a),e.elementType=Im,e.lanes=i,e;case b0:return Sf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v0:o=10;break e;case x0:o=9;break e;case Og:o=11;break e;case Dg:o=14;break e;case da:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Pn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ki(e,t,r,n){return e=Pn(7,e,n,t),e.lanes=r,e}function Sf(e,t,r,n){return e=Pn(22,e,n,t),e.elementType=b0,e.lanes=r,e.stateNode={isHidden:!1},e}function Qh(e,t,r){return e=Pn(6,e,null,t),e.lanes=r,e}function Kh(e,t,r){return t=Pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gy(e,t,r,n,a,i,o,l,c){return e=new CA(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zg(i),e}function EA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function u_(e){if(!e)return Ua;e=e._reactInternals;e:{if(Wi(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(on(r))return uj(e,r,t)}return t}function f_(e,t,r,n,a,i,o,l,c){return e=gy(r,n,!0,e,a,i,o,l,c),e.context=u_(null),r=e.current,n=qr(),a=Oa(r),i=Us(n,a),i.callback=t??null,Ia(r,i,a),e.current.lanes=a,Wc(e,a,n),ln(e,n),e}function Cf(e,t,r,n){var a=t.current,i=qr(),o=Oa(a);return r=u_(r),t.context===null?t.context=r:t.pendingContext=r,t=Us(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ia(a,t,o),e!==null&&(Gn(e,a,o,i),nu(e,a,o)),o}function Vu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yy(e,t){Kx(e,t),(e=e.alternate)&&Kx(e,t)}function kA(){return null}var h_=typeof reportError=="function"?reportError:function(e){console.error(e)};function vy(e){this._internalRoot=e}Ef.prototype.render=vy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Cf(e,t,null,null)};Ef.prototype.unmount=vy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Di(function(){Cf(null,e,null,null)}),t[Ws]=null}};function Ef(e){this._internalRoot=e}Ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=z0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fa.length&&t!==0&&t<fa[r].priority;r++);fa.splice(r,0,e),r===0&&H0(e)}};function xy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gx(){}function PA(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Vu(o);i.call(d)}}var o=f_(t,n,e,0,null,!1,!1,"",Gx);return e._reactRootContainer=o,e[Ws]=o.current,xc(e.nodeType===8?e.parentNode:e),Di(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Vu(c);l.call(d)}}var c=gy(e,0,!1,null,null,!1,!1,"",Gx);return e._reactRootContainer=c,e[Ws]=c.current,xc(e.nodeType===8?e.parentNode:e),Di(function(){Cf(t,c,r,n)}),c}function Pf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Vu(o);l.call(c)}}Cf(t,o,e,a)}else o=PA(r,t,e,a,n);return Vu(o)}B0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zl(t.pendingLanes);r!==0&&(Fg(t,r|1),ln(t,Xt()),!(pt&6)&&(rl=Xt()+500,Ya()))}break;case 13:Di(function(){var n=Hs(e,1);if(n!==null){var a=qr();Gn(n,e,1,a)}}),yy(e,1)}};$g=function(e){if(e.tag===13){var t=Hs(e,134217728);if(t!==null){var r=qr();Gn(t,e,134217728,r)}yy(e,134217728)}};V0=function(e){if(e.tag===13){var t=Oa(e),r=Hs(e,t);if(r!==null){var n=qr();Gn(r,e,t,n)}yy(e,t)}};z0=function(){return Nt};W0=function(e,t){var r=Nt;try{return Nt=e,t()}finally{Nt=r}};Bm=function(e,t,r){switch(t){case"input":if(Dm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=xf(n);if(!a)throw Error(ve(90));j0(n),Dm(n,a)}}}break;case"textarea":N0(e,r);break;case"select":t=r.value,t!=null&&Eo(e,!!r.multiple,t,!1)}};A0=fy;I0=Di;var TA={usingClientEntryPoint:!1,Events:[Qc,xo,xf,P0,T0,fy]},Il={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AA={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=D0(e),e===null?null:e.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||kA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{pf=Rd.inject(AA),bs=Rd}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TA;jn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(t))throw Error(ve(200));return EA(e,t,null,r)};jn.createRoot=function(e,t){if(!xy(e))throw Error(ve(299));var r=!1,n="",a=h_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gy(e,1,!1,null,null,r,!1,n,a),e[Ws]=t.current,xc(e.nodeType===8?e.parentNode:e),new vy(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=D0(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return Di(e)};jn.hydrate=function(e,t,r){if(!kf(t))throw Error(ve(200));return Pf(null,e,t,!0,r)};jn.hydrateRoot=function(e,t,r){if(!xy(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=h_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=f_(t,null,e,1,r??null,a,!1,i,o),e[Ws]=t.current,xc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ef(t)};jn.render=function(e,t,r){if(!kf(t))throw Error(ve(200));return Pf(null,e,t,!1,r)};jn.unmountComponentAtNode=function(e){if(!kf(e))throw Error(ve(40));return e._reactRootContainer?(Di(function(){Pf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};jn.unstable_batchedUpdates=fy;jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kf(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Pf(e,t,r,!1,n)};jn.version="18.3.1-next-f1338f8080-20240426";function m_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m_)}catch(e){console.error(e)}}m_(),m0.exports=jn;var Xa=m0.exports;const p_=Ng(Xa);var g_,Yx=Xa;g_=Yx.createRoot,Yx.hydrateRoot;const IA=1,RA=1e6;let Gh=0;function OA(){return Gh=(Gh+1)%Number.MAX_SAFE_INTEGER,Gh.toString()}const Yh=new Map,Xx=e=>{if(Yh.has(e))return;const t=setTimeout(()=>{Yh.delete(e),ac({type:"REMOVE_TOAST",toastId:e})},RA);Yh.set(e,t)},DA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,IA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Xx(r):e.toasts.forEach(n=>{Xx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},du=[];let uu={toasts:[]};function ac(e){uu=DA(uu,e),du.forEach(t=>{t(uu)})}function MA({...e}){const t=OA(),r=a=>ac({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>ac({type:"DISMISS_TOAST",toastId:t});return ac({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function es(){const[e,t]=h.useState(uu);return h.useEffect(()=>(du.push(t),()=>{const r=du.indexOf(t);r>-1&&du.splice(r,1)}),[e]),{...e,toast:MA,dismiss:r=>ac({type:"DISMISS_TOAST",toastId:r})}}function _e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Jx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ks(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Jx(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Jx(e[a],null)}}}}function Xe(...e){return h.useCallback(Ks(...e),e)}function LA(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function zr(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=f=>{var v;const{scope:m,children:p,...x}=f,g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=h.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,FA(a,...t)]}function FA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ba(e){const t=qA(e),r=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(UA);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var $A=Ba("Slot");function qA(e){const t=h.forwardRef((r,n)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=VA(a),l=BA(i,a.props);return a.type!==h.Fragment&&(l.ref=n?Ks(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y_=Symbol("radix.slottable");function v_(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=y_,t}function UA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y_}function BA(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function VA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Tf(e){const t=e+"CollectionProvider",[r,n]=zr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,y=pe.useRef(null),b=pe.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:y,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Ba(l),d=pe.forwardRef((g,w)=>{const{scope:v,children:y}=g,b=i(l,v),j=Xe(w,b.collectionRef);return s.jsx(c,{ref:j,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ba(u),p=pe.forwardRef((g,w)=>{const{scope:v,children:y,...b}=g,j=pe.useRef(null),_=Xe(w,j),N=i(u,v);return pe.useEffect(()=>(N.itemMap.set(j,{ref:j,...b}),()=>void N.itemMap.delete(j))),s.jsx(m,{[f]:"",ref:_,children:y})});p.displayName=u;function x(g){const w=i(e+"CollectionConsumer",g);return pe.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,E)=>b.indexOf(N.ref.current)-b.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,n]}var zA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=zA.reduce((e,t)=>{const r=Ba(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function by(e,t){e&&Xa.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function WA(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var HA="DismissableLayer",wp="dismissableLayer.update",QA="dismissableLayer.pointerDownOutside",KA="dismissableLayer.focusOutside",Zx,x_=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(x_),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=Xe(t,E=>f(E)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),y=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,_=YA(E=>{const M=E.target,U=[...d.branches].some($=>$.contains(M));!j||U||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),N=XA(E=>{const M=E.target;[...d.branches].some($=>$.contains(M))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return WA(E=>{y===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Zx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),eb(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Zx)}},[u,m,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),eb())},[u,d]),h.useEffect(()=>{const E=()=>p({});return document.addEventListener(wp,E),()=>document.removeEventListener(wp,E)},[]),s.jsx(Me.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,N.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,_.onPointerDownCapture)})});Hi.displayName=HA;var GA="DismissableLayerBranch",b_=h.forwardRef((e,t)=>{const r=h.useContext(x_),n=h.useRef(null),a=Xe(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});b_.displayName=GA;function YA(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){w_(QA,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XA(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&w_(KA,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eb(){const e=new CustomEvent(wp);document.dispatchEvent(e)}function w_(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?by(a,i):a.dispatchEvent(i)}var JA=Hi,ZA=b_,vr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},eI="Portal",hl=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=h.useState(!1);vr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?p_.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});hl.displayName=eI;function tI(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var xr=e=>{const{present:t,children:r}=e,n=rI(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Xe(n.ref,nI(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};xr.displayName="Presence";function rI(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=tI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Od(n.current);i.current=l==="mounted"?d:"none"},[l]),vr(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Od(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),vr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Od(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(i.current=Od(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Od(e){return(e==null?void 0:e.animationName)||"none"}function nI(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sI=Pg[" useInsertionEffect ".trim().toString()]||vr;function Gs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=aI({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const m=iI(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function aI({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),a=h.useRef(r),i=h.useRef(t);return sI(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function iI(e){return typeof e=="function"}var j_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oI="VisuallyHidden",Af=h.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...j_,...e.style}}));Af.displayName=oI;var lI=Af,wy="ToastProvider",[jy,cI,dI]=Tf("Toast"),[__,vV]=zr("Toast",[dI]),[uI,If]=__(wy),N_=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wy}\`. Expected non-empty \`string\`.`),s.jsx(jy.Provider,{scope:t,children:s.jsx(uI,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};N_.displayName=wy;var S_="ToastViewport",fI=["F8"],jp="toast.viewportPause",_p="toast.viewportResume",C_=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=fI,label:a="Notifications ({hotkey})",...i}=e,o=If(S_,r),l=cI(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=Xe(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;h.useEffect(()=>{const w=v=>{var b;n.length!==0&&n.every(j=>v[j]||v.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,v=f.current;if(x&&w&&v){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(jp);v.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(_p);v.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",y),w.addEventListener("focusout",j),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const y=l().map(b=>{const j=b.ref.current,_=[j,...SI(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const v=y=>{var _,N,E;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const M=document.activeElement,U=y.shiftKey;if(y.target===w&&U){(_=d.current)==null||_.focus();return}const F=g({tabbingDirection:U?"backwards":"forwards"}),O=F.findIndex(R=>R===M);Xh(F.slice(O+1))?y.preventDefault():U?(N=d.current)==null||N.focus():(E=u.current)==null||E.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,g]),s.jsxs(ZA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Np,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Xh(w)}}),s.jsx(jy.Slot,{scope:r,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:m})}),x&&s.jsx(Np,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Xh(w)}})]})});C_.displayName=S_;var E_="ToastFocusProxy",Np=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=If(E_,r);return s.jsx(Af,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Np.displayName=E_;var Gc="Toast",hI="toast.swipeStart",mI="toast.swipeMove",pI="toast.swipeCancel",gI="toast.swipeEnd",k_=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Gs({prop:n,defaultProp:a??!0,onChange:i,caller:Gc});return s.jsx(xr,{present:r||l,children:s.jsx(xI,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Jt(e.onPause),onResume:Jt(e.onResume),onSwipeStart:_e(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:_e(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});k_.displayName=Gc;var[yI,vI]=__(Gc,{onClose(){}}),xI=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=If(Gc,r),[w,v]=h.useState(null),y=Xe(t,R=>v(R)),b=h.useRef(null),j=h.useRef(null),_=a||g.duration,N=h.useRef(0),E=h.useRef(_),M=h.useRef(0),{onToastAdd:U,onToastRemove:$}=g,L=Jt(()=>{var S;(w==null?void 0:w.contains(document.activeElement))&&((S=g.viewport)==null||S.focus()),o()}),F=h.useCallback(R=>{!R||R===1/0||(window.clearTimeout(M.current),N.current=new Date().getTime(),M.current=window.setTimeout(L,R))},[L]);h.useEffect(()=>{const R=g.viewport;if(R){const S=()=>{F(E.current),d==null||d()},A=()=>{const ne=new Date().getTime()-N.current;E.current=E.current-ne,window.clearTimeout(M.current),c==null||c()};return R.addEventListener(jp,A),R.addEventListener(_p,S),()=>{R.removeEventListener(jp,A),R.removeEventListener(_p,S)}}},[g.viewport,_,c,d,F]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&F(_)},[i,_,g.isClosePausedRef,F]),h.useEffect(()=>(U(),()=>$()),[U,$]);const O=h.useMemo(()=>w?D_(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[O&&s.jsx(bI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),s.jsx(yI,{scope:r,onClose:L,children:Xa.createPortal(s.jsx(jy.ItemSlot,{scope:r,children:s.jsx(JA,{asChild:!0,onEscapeKeyDown:_e(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:_e(e.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:_e(e.onPointerMove,R=>{if(!b.current)return;const S=R.clientX-b.current.x,A=R.clientY-b.current.y,ne=!!j.current,Q=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ae=Q?W(0,S):0,ge=Q?0:W(0,A),G=R.pointerType==="touch"?10:2,ie={x:ae,y:ge},de={originalEvent:R,delta:ie};ne?(j.current=ie,Dd(mI,f,de,{discrete:!1})):tb(ie,g.swipeDirection,G)?(j.current=ie,Dd(hI,u,de,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(S)>G||Math.abs(A)>G)&&(b.current=null)}),onPointerUp:_e(e.onPointerUp,R=>{const S=j.current,A=R.target;if(A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),j.current=null,b.current=null,S){const ne=R.currentTarget,Q={originalEvent:R,delta:S};tb(S,g.swipeDirection,g.swipeThreshold)?Dd(gI,p,Q,{discrete:!0}):Dd(pI,m,Q,{discrete:!0}),ne.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),bI=e=>{const{__scopeToast:t,children:r,...n}=e,a=If(Gc,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return _I(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(hl,{asChild:!0,children:s.jsx(Af,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},wI="ToastTitle",P_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});P_.displayName=wI;var jI="ToastDescription",T_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});T_.displayName=jI;var A_="ToastAction",I_=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(O_,{altText:r,asChild:!0,children:s.jsx(_y,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${A_}\`. Expected non-empty \`string\`.`),null)});I_.displayName=A_;var R_="ToastClose",_y=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=vI(R_,r);return s.jsx(O_,{asChild:!0,children:s.jsx(Me.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,a.onClose)})})});_y.displayName=R_;var O_=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function D_(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),NI(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...D_(n))}}),t}function Dd(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?by(a,i):a.dispatchEvent(i)}var tb=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function _I(e=()=>{}){const t=Jt(e);vr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function NI(e){return e.nodeType===e.ELEMENT_NODE}function SI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var CI=N_,M_=C_,L_=k_,F_=P_,$_=T_,q_=I_,U_=_y;function B_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=B_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function V_(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=B_(e))&&(n&&(n+=" "),n+=t);return n}const rb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nb=V_,Yc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return nb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=rb(u)||rb(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return nb(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...kI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:z_("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const r=h.forwardRef(({className:n,...a},i)=>h.createElement(PI,{ref:i,iconNode:t,className:z_(`lucide-${EI(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Je("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Je("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Je("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Je("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Je("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Je("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cy="-",UI=e=>{const t=VI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Cy);return l[0]===""&&l.length!==1&&l.shift(),G_(l,t)||BI(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},G_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?G_(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Cy);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},cb=/^\[(.+)\]$/,BI=e=>{if(cb.test(e)){const t=cb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},VI=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return WI(Object.entries(e.classGroups),r).forEach(([i,o])=>{Ep(o,n,i,t)}),n},Ep=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:db(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(zI(a)){Ep(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Ep(o,db(t,i),r,n)})})},db=(e,t)=>{let r=e;return t.split(Cy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zI=e=>e.isThemeGetter,WI=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,HI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Y_="!",QI=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(d===0){if(v===a&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(v==="/"){f=w;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(Y_),x=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},KI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},GI=e=>({cache:HI(e.cacheSize),parseClassName:QI(e),...UI(e)}),YI=/\s+/,XI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(YI);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let x=!!p,g=n(x?m.substring(0,p):m);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=KI(u).join(":"),v=f?w+Y_:w,y=v+g;if(i.includes(y))continue;i.push(y);const b=a(g,x);for(let j=0;j<b.length;++j){const _=b[j];i.push(v+_)}l=d+(l.length>0?" "+l:l)}return l};function JI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=X_(t))&&(n&&(n+=" "),n+=r);return n}const X_=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=X_(e[n]))&&(r&&(r+=" "),r+=t);return r};function ZI(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=GI(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=XI(c,r);return a(c,u),u}return function(){return i(JI.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},J_=/^\[(?:([a-z-]+):)?(.+)\]$/i,eR=/^\d+\/\d+$/,tR=new Set(["px","full","screen"]),rR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=e=>Ro(e)||tR.has(e)||eR.test(e),na=e=>ml(e,"length",mR),Ro=e=>!!e&&!Number.isNaN(Number(e)),Zh=e=>ml(e,"number",Ro),Rl=e=>!!e&&Number.isInteger(Number(e)),oR=e=>e.endsWith("%")&&Ro(e.slice(0,-1)),nt=e=>J_.test(e),sa=e=>rR.test(e),lR=new Set(["length","size","percentage"]),cR=e=>ml(e,lR,Z_),dR=e=>ml(e,"position",Z_),uR=new Set(["image","url"]),fR=e=>ml(e,uR,gR),hR=e=>ml(e,"",pR),Ol=()=>!0,ml=(e,t,r)=>{const n=J_.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},mR=e=>nR.test(e)&&!sR.test(e),Z_=()=>!1,pR=e=>aR.test(e),gR=e=>iR.test(e),yR=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),a=At("borderColor"),i=At("borderRadius"),o=At("borderSpacing"),l=At("borderWidth"),c=At("contrast"),d=At("grayscale"),u=At("hueRotate"),f=At("invert"),m=At("gap"),p=At("gradientColorStops"),x=At("gradientColorStopPositions"),g=At("inset"),w=At("margin"),v=At("opacity"),y=At("padding"),b=At("saturate"),j=At("scale"),_=At("sepia"),N=At("skew"),E=At("space"),M=At("translate"),U=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",nt,t],F=()=>[nt,t],O=()=>["",Es,na],R=()=>["auto",Ro,nt],S=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",nt],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Ro,nt];return{cacheSize:500,separator:":",theme:{colors:[Ol],spacing:[Es,na],blur:["none","",sa,nt],brightness:ge(),borderColor:[e],borderRadius:["none","","full",sa,nt],borderSpacing:F(),borderWidth:O(),contrast:ge(),grayscale:W(),hueRotate:ge(),invert:W(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[oR,na],inset:L(),margin:L(),opacity:ge(),padding:F(),saturate:ge(),scale:ge(),sepia:W(),skew:ge(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[sa]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...S(),nt]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,nt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Rl,nt]}],"grid-cols":[{"grid-cols":[Ol]}],"col-start-end":[{col:["auto",{span:["full",Rl,nt]},nt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Ol]}],"row-start-end":[{row:["auto",{span:[Rl,nt]},nt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[sa]},sa]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sa,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zh]}],"font-family":[{font:[Ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Ro,Zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,na]}],"underline-offset":[{"underline-offset":["auto",Es,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...S(),dR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:A()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Es,nt]}],"outline-w":[{outline:[Es,na]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Es,na]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sa,hR]}],"shadow-color":[{shadow:[Ol]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sa,nt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Rl,nt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Es,na,Zh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vR=ZI(yR);function Ee(...e){return vR(V_(e))}const xR=1e3*60*60,bR=48;function Of(e,t=bR){if(!e)return!1;const r=new Date(e).getTime();return Number.isNaN(r)?!1:Date.now()-r<=t*xR}function Df(e){let t=null,r=-1/0;for(const n of e){if(!(n!=null&&n.createdAt))continue;const a=new Date(n.createdAt).getTime();Number.isNaN(a)||a>r&&(r=a,t=n.id)}return t}const wR=CI,eN=h.forwardRef(({className:e,...t},r)=>s.jsx(M_,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eN.displayName=M_.displayName;const jR=Yc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tN=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(L_,{ref:n,className:Ee(jR({variant:t}),e),...r}));tN.displayName=L_.displayName;const _R=h.forwardRef(({className:e,...t},r)=>s.jsx(q_,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_R.displayName=q_.displayName;const rN=h.forwardRef(({className:e,...t},r)=>s.jsx(U_,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(K_,{className:"h-4 w-4"})}));rN.displayName=U_.displayName;const nN=h.forwardRef(({className:e,...t},r)=>s.jsx(F_,{ref:r,className:Ee("text-sm font-semibold",e),...t}));nN.displayName=F_.displayName;const sN=h.forwardRef(({className:e,...t},r)=>s.jsx($_,{ref:r,className:Ee("text-sm opacity-90",e),...t}));sN.displayName=$_.displayName;function NR(){const{toasts:e}=es();return s.jsxs(wR,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(tN,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(nN,{children:r}),n&&s.jsx(sN,{children:n})]}),a,s.jsx(rN,{})]},t)}),s.jsx(eN,{})]})}var ub=["light","dark"],SR="(prefers-color-scheme: dark)",CR=h.createContext(void 0),ER={setTheme:e=>{},themes:[]},kR=()=>{var e;return(e=h.useContext(CR))!=null?e:ER};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?ub.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,w=!0)=>{let v=o?o[x]:x,y=g?x+"|| ''":`'${v}'`,b="";return a&&w&&!g&&ub.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?g||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${SR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var PR=e=>{switch(e){case"success":return IR;case"info":return OR;case"warning":return RR;case"error":return DR;default:return null}},TR=Array(12).fill(0),AR=({visible:e,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},pe.createElement("div",{className:"sonner-spinner"},TR.map((r,n)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),IR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LR=()=>{let[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},kp=1,FR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kp++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],pe.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(qR(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||kp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yr=new FR,$R=(e,t)=>{let r=(t==null?void 0:t.id)||kp++;return Yr.addToast({title:e,...t,id:r}),r},qR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",UR=$R,BR=()=>Yr.toasts,VR=()=>Yr.getActiveToasts();Object.assign(UR,{success:Yr.success,info:Yr.info,warning:Yr.warning,error:Yr.error,custom:Yr.custom,message:Yr.message,promise:Yr.promise,dismiss:Yr.dismiss,loading:Yr.loading},{getHistory:BR,getToasts:VR});function zR(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}zR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Md(e){return e.label!==void 0}var WR=3,HR="32px",QR="16px",fb=4e3,KR=356,GR=14,YR=20,XR=200;function Ln(...e){return e.filter(Boolean).join(" ")}function JR(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var ZR=e=>{var t,r,n,a,i,o,l,c,d,u,f;let{invert:m,toast:p,unstyled:x,interacting:g,setHeights:w,visibleToasts:v,heights:y,index:b,toasts:j,expanded:_,removeToast:N,defaultRichColors:E,closeButton:M,style:U,cancelButtonStyle:$,actionButtonStyle:L,className:F="",descriptionClassName:O="",duration:R,position:S,gap:A,loadingIcon:ne,expandByDefault:Q,classNames:W,icons:ae,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:G}=e,[ie,de]=pe.useState(null),[he,me]=pe.useState(null),[se,J]=pe.useState(!1),[fe,T]=pe.useState(!1),[H,ee]=pe.useState(!1),[oe,be]=pe.useState(!1),[He,ut]=pe.useState(!1),[Pe,Be]=pe.useState(0),[tt,C]=pe.useState(0),z=pe.useRef(p.duration||R||fb),k=pe.useRef(null),D=pe.useRef(null),X=b===0,te=b+1<=v,re=p.type,Te=p.dismissible!==!1,ke=p.className||"",Ge=p.descriptionClassName||"",Qe=pe.useMemo(()=>y.findIndex($e=>$e.toastId===p.id)||0,[y,p.id]),lt=pe.useMemo(()=>{var $e;return($e=p.closeButton)!=null?$e:M},[p.closeButton,M]),gt=pe.useMemo(()=>p.duration||R||fb,[p.duration,R]),yt=pe.useRef(0),rt=pe.useRef(0),Tt=pe.useRef(0),Ke=pe.useRef(null),[fr,Ve]=S.split("-"),St=pe.useMemo(()=>y.reduce(($e,Ze,ze)=>ze>=Qe?$e:$e+Ze.height,0),[y,Qe]),ht=LR(),Ir=p.invert||m,Ct=re==="loading";rt.current=pe.useMemo(()=>Qe*A+St,[Qe,St]),pe.useEffect(()=>{z.current=gt},[gt]),pe.useEffect(()=>{J(!0)},[]),pe.useEffect(()=>{let $e=D.current;if($e){let Ze=$e.getBoundingClientRect().height;return C(Ze),w(ze=>[{toastId:p.id,height:Ze,position:p.position},...ze]),()=>w(ze=>ze.filter(Et=>Et.toastId!==p.id))}},[w,p.id]),pe.useLayoutEffect(()=>{if(!se)return;let $e=D.current,Ze=$e.style.height;$e.style.height="auto";let ze=$e.getBoundingClientRect().height;$e.style.height=Ze,C(ze),w(Et=>Et.find(vt=>vt.toastId===p.id)?Et.map(vt=>vt.toastId===p.id?{...vt,height:ze}:vt):[{toastId:p.id,height:ze,position:p.position},...Et])},[se,p.title,p.description,w,p.id]);let Ue=pe.useCallback(()=>{T(!0),Be(rt.current),w($e=>$e.filter(Ze=>Ze.toastId!==p.id)),setTimeout(()=>{N(p)},XR)},[p,N,w,rt]);pe.useEffect(()=>{if(p.promise&&re==="loading"||p.duration===1/0||p.type==="loading")return;let $e;return _||g||G&&ht?(()=>{if(Tt.current<yt.current){let Ze=new Date().getTime()-yt.current;z.current=z.current-Ze}Tt.current=new Date().getTime()})():z.current!==1/0&&(yt.current=new Date().getTime(),$e=setTimeout(()=>{var Ze;(Ze=p.onAutoClose)==null||Ze.call(p,p),Ue()},z.current)),()=>clearTimeout($e)},[_,g,p,re,G,ht,Ue]),pe.useEffect(()=>{p.delete&&Ue()},[Ue,p.delete]);function Mt(){var $e,Ze,ze;return ae!=null&&ae.loading?pe.createElement("div",{className:Ln(W==null?void 0:W.loader,($e=p==null?void 0:p.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":re==="loading"},ae.loading):ne?pe.createElement("div",{className:Ln(W==null?void 0:W.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":re==="loading"},ne):pe.createElement(AR,{className:Ln(W==null?void 0:W.loader,(ze=p==null?void 0:p.classNames)==null?void 0:ze.loader),visible:re==="loading"})}return pe.createElement("li",{tabIndex:0,ref:D,className:Ln(F,ke,W==null?void 0:W.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,W==null?void 0:W.default,W==null?void 0:W[re],(r=p==null?void 0:p.classNames)==null?void 0:r[re]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:E,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":se,"data-promise":!!p.promise,"data-swiped":He,"data-removed":fe,"data-visible":te,"data-y-position":fr,"data-x-position":Ve,"data-index":b,"data-front":X,"data-swiping":H,"data-dismissible":Te,"data-type":re,"data-invert":Ir,"data-swipe-out":oe,"data-swipe-direction":he,"data-expanded":!!(_||Q&&se),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${fe?Pe:rt.current}px`,"--initial-height":Q?"auto":`${tt}px`,...U,...p.style},onDragEnd:()=>{ee(!1),de(null),Ke.current=null},onPointerDown:$e=>{Ct||!Te||(k.current=new Date,Be(rt.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(ee(!0),Ke.current={x:$e.clientX,y:$e.clientY}))},onPointerUp:()=>{var $e,Ze,ze,Et;if(oe||!Te)return;Ke.current=null;let vt=Number((($e=D.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gt=Number(((Ze=D.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((ze=k.current)==null?void 0:ze.getTime()),tr=ie==="x"?vt:Gt,Sr=Math.abs(tr)/Wt;if(Math.abs(tr)>=YR||Sr>.11){Be(rt.current),(Et=p.onDismiss)==null||Et.call(p,p),me(ie==="x"?vt>0?"right":"left":Gt>0?"down":"up"),Ue(),be(!0),ut(!1);return}ee(!1),de(null)},onPointerMove:$e=>{var Ze,ze,Et,vt;if(!Ke.current||!Te||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let Gt=$e.clientY-Ke.current.y,Wt=$e.clientX-Ke.current.x,tr=(ze=e.swipeDirections)!=null?ze:JR(S);!ie&&(Math.abs(Wt)>1||Math.abs(Gt)>1)&&de(Math.abs(Wt)>Math.abs(Gt)?"x":"y");let Sr={x:0,y:0};ie==="y"?(tr.includes("top")||tr.includes("bottom"))&&(tr.includes("top")&&Gt<0||tr.includes("bottom")&&Gt>0)&&(Sr.y=Gt):ie==="x"&&(tr.includes("left")||tr.includes("right"))&&(tr.includes("left")&&Wt<0||tr.includes("right")&&Wt>0)&&(Sr.x=Wt),(Math.abs(Sr.x)>0||Math.abs(Sr.y)>0)&&ut(!0),(Et=D.current)==null||Et.style.setProperty("--swipe-amount-x",`${Sr.x}px`),(vt=D.current)==null||vt.style.setProperty("--swipe-amount-y",`${Sr.y}px`)}},lt&&!p.jsx?pe.createElement("button",{"aria-label":ge,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!Te?()=>{}:()=>{var $e;Ue(),($e=p.onDismiss)==null||$e.call(p,p)},className:Ln(W==null?void 0:W.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=ae==null?void 0:ae.close)!=null?i:MR):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:pe.createElement(pe.Fragment,null,re||p.icon||p.promise?pe.createElement("div",{"data-icon":"",className:Ln(W==null?void 0:W.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Mt():null,p.type!=="loading"?p.icon||(ae==null?void 0:ae[re])||PR(re):null):null,pe.createElement("div",{"data-content":"",className:Ln(W==null?void 0:W.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},pe.createElement("div",{"data-title":"",className:Ln(W==null?void 0:W.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?pe.createElement("div",{"data-description":"",className:Ln(O,Ge,W==null?void 0:W.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Md(p.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||$,onClick:$e=>{var Ze,ze;Md(p.cancel)&&Te&&((ze=(Ze=p.cancel).onClick)==null||ze.call(Ze,$e),Ue())},className:Ln(W==null?void 0:W.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Md(p.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:$e=>{var Ze,ze;Md(p.action)&&((ze=(Ze=p.action).onClick)==null||ze.call(Ze,$e),!$e.defaultPrevented&&Ue())},className:Ln(W==null?void 0:W.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function hb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function e2(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?QR:HR;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var t2=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:m,style:p,visibleToasts:x=WR,toastOptions:g,dir:w=hb(),gap:v=GR,loadingIcon:y,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[N,E]=pe.useState([]),M=pe.useMemo(()=>Array.from(new Set([n].concat(N.filter(G=>G.position).map(G=>G.position)))),[N,n]),[U,$]=pe.useState([]),[L,F]=pe.useState(!1),[O,R]=pe.useState(!1),[S,A]=pe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=pe.useRef(null),Q=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=pe.useRef(null),ae=pe.useRef(!1),ge=pe.useCallback(G=>{E(ie=>{var de;return(de=ie.find(he=>he.id===G.id))!=null&&de.delete||Yr.dismiss(G.id),ie.filter(({id:he})=>he!==G.id)})},[]);return pe.useEffect(()=>Yr.subscribe(G=>{if(G.dismiss){E(ie=>ie.map(de=>de.id===G.id?{...de,delete:!0}:de));return}setTimeout(()=>{p_.flushSync(()=>{E(ie=>{let de=ie.findIndex(he=>he.id===G.id);return de!==-1?[...ie.slice(0,de),{...ie[de],...G},...ie.slice(de+1)]:[G,...ie]})})})}),[]),pe.useEffect(()=>{if(u!=="system"){A(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ie})=>{A(ie?"dark":"light")})}catch{G.addListener(({matches:de})=>{try{A(de?"dark":"light")}catch(he){console.error(he)}})}},[u]),pe.useEffect(()=>{N.length<=1&&F(!1)},[N]),pe.useEffect(()=>{let G=ie=>{var de,he;a.every(me=>ie[me]||ie.code===me)&&(F(!0),(de=ne.current)==null||de.focus()),ie.code==="Escape"&&(document.activeElement===ne.current||(he=ne.current)!=null&&he.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),pe.useEffect(()=>{if(ne.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,ae.current=!1)}},[ne.current]),pe.createElement("section",{ref:t,"aria-label":`${j} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((G,ie)=>{var de;let[he,me]=G.split("-");return N.length?pe.createElement("ol",{key:G,dir:w==="auto"?hb():w,tabIndex:-1,ref:ne,className:l,"data-sonner-toaster":!0,"data-theme":S,"data-y-position":he,"data-lifted":L&&N.length>1&&!i,"data-x-position":me,style:{"--front-toast-height":`${((de=U[0])==null?void 0:de.height)||0}px`,"--width":`${KR}px`,"--gap":`${v}px`,...p,...e2(c,d)},onBlur:se=>{ae.current&&!se.currentTarget.contains(se.relatedTarget)&&(ae.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,W.current=se.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{O||F(!1)},onDragEnd:()=>F(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},N.filter(se=>!se.position&&ie===0||se.position===G).map((se,J)=>{var fe,T;return pe.createElement(ZR,{key:se.id,icons:b,index:J,toast:se,defaultRichColors:f,duration:(fe=g==null?void 0:g.duration)!=null?fe:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(T=g==null?void 0:g.closeButton)!=null?T:o,interacting:O,position:G,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ge,toasts:N.filter(H=>H.position==se.position),heights:U.filter(H=>H.position==se.position),setHeights:$,expandByDefault:i,gap:v,loadingIcon:y,expanded:L,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const r2=({...e})=>{const{theme:t="system"}=kR();return s.jsx(t2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var n2=Pg[" useId ".trim().toString()]||(()=>{}),s2=0;function _r(e){const[t,r]=h.useState(n2());return vr(()=>{r(n=>n??String(s2++))},[e]),t?`radix-${t}`:""}const a2=["top","right","bottom","left"],Wa=Math.min,mn=Math.max,Wu=Math.round,Ld=Math.floor,js=e=>({x:e,y:e}),i2={left:"right",right:"left",bottom:"top",top:"bottom"},o2={start:"end",end:"start"};function Pp(e,t,r){return mn(e,Wa(t,r))}function Xs(e,t){return typeof e=="function"?e(t):e}function Js(e){return e.split("-")[0]}function pl(e){return e.split("-")[1]}function Ey(e){return e==="x"?"y":"x"}function ky(e){return e==="y"?"height":"width"}const l2=new Set(["top","bottom"]);function vs(e){return l2.has(Js(e))?"y":"x"}function Py(e){return Ey(vs(e))}function c2(e,t,r){r===void 0&&(r=!1);const n=pl(e),a=Py(e),i=ky(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hu(o)),[o,Hu(o)]}function d2(e){const t=Hu(e);return[Tp(e),t,Tp(t)]}function Tp(e){return e.replace(/start|end/g,t=>o2[t])}const mb=["left","right"],pb=["right","left"],u2=["top","bottom"],f2=["bottom","top"];function h2(e,t,r){switch(e){case"top":case"bottom":return r?t?pb:mb:t?mb:pb;case"left":case"right":return t?u2:f2;default:return[]}}function m2(e,t,r,n){const a=pl(e);let i=h2(Js(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Tp)))),i}function Hu(e){return e.replace(/left|right|bottom|top/g,t=>i2[t])}function p2(e){return{top:0,right:0,bottom:0,left:0,...e}}function aN(e){return typeof e!="number"?p2(e):{top:e,right:e,bottom:e,left:e}}function Qu(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function gb(e,t,r){let{reference:n,floating:a}=e;const i=vs(t),o=Py(t),l=ky(o),c=Js(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(pl(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const g2=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=gb(d,n,c),m=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:v}=l[g],{x:y,y:b,data:j,reset:_}=await v({x:u,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=b??f,p={...p,[w]:{...p[w],...j}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:u,y:f}=gb(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:p}};async function Tc(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Xs(t,e),x=aN(p),w=l[m?f==="floating"?"reference":"floating":f],v=Qu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Qu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-_.top+x.top)/j.y,bottom:(_.bottom-v.bottom+x.bottom)/j.y,left:(v.left-_.left+x.left)/j.x,right:(_.right-v.right+x.right)/j.x}}const y2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Xs(e,t)||{};if(d==null)return{};const f=aN(u),m={x:r,y:n},p=Py(a),x=ky(p),g=await o.getDimensions(d),w=p==="y",v=w?"top":"left",y=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[p]-m[p]-i.floating[x],_=m[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=N?N[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(N)))&&(E=l.floating[b]||i.floating[x]);const M=j/2-_/2,U=E/2-g[x]/2-1,$=Wa(f[v],U),L=Wa(f[y],U),F=$,O=E-g[x]-L,R=E/2-g[x]/2+M,S=Pp(F,R,O),A=!c.arrow&&pl(a)!=null&&R!==S&&i.reference[x]/2-(R<F?$:L)-g[x]/2<0,ne=A?R<F?R-F:R-O:0;return{[p]:m[p]+ne,data:{[p]:S,centerOffset:R-S-ne,...A&&{alignmentOffset:ne}},reset:A}}}),v2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Xs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Js(a),y=vs(l),b=Js(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(b||!g?[Hu(l)]:d2(l)),N=x!=="none";!m&&N&&_.push(...m2(l,g,x,j));const E=[l,..._],M=await Tc(t,w),U=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&U.push(M[v]),f){const R=c2(a,o,j);U.push(M[R[0]],M[R[1]])}if($=[...$,{placement:a,overflows:U}],!U.every(R=>R<=0)){var L,F;const R=(((L=i.flip)==null?void 0:L.index)||0)+1,S=E[R];if(S&&(!(f==="alignment"?y!==vs(S):!1)||$.every(Q=>Q.overflows[0]>0&&vs(Q.placement)===y)))return{data:{index:R,overflows:$},reset:{placement:S}};let A=(F=$.filter(ne=>ne.overflows[0]<=0).sort((ne,Q)=>ne.overflows[1]-Q.overflows[1])[0])==null?void 0:F.placement;if(!A)switch(p){case"bestFit":{var O;const ne=(O=$.filter(Q=>{if(N){const W=vs(Q.placement);return W===y||W==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(W=>W>0).reduce((W,ae)=>W+ae,0)]).sort((Q,W)=>Q[1]-W[1])[0])==null?void 0:O[0];ne&&(A=ne);break}case"initialPlacement":A=l;break}if(a!==A)return{reset:{placement:A}}}return{}}}};function yb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vb(e){return a2.some(t=>e[t]>=0)}const x2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Xs(e,t);switch(n){case"referenceHidden":{const i=await Tc(t,{...a,elementContext:"reference"}),o=yb(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vb(o)}}}case"escaped":{const i=await Tc(t,{...a,altBoundary:!0}),o=yb(i,r.floating);return{data:{escapedOffsets:o,escaped:vb(o)}}}default:return{}}}}},iN=new Set(["left","top"]);async function b2(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Js(r),l=pl(r),c=vs(r)==="y",d=iN.has(o)?-1:1,u=i&&c?-1:1,f=Xs(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const w2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await b2(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},j2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...c}=Xs(e,t),d={x:r,y:n},u=await Tc(t,c),f=vs(Js(a)),m=Ey(f);let p=d[m],x=d[f];if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=p+u[w],b=p-u[v];p=Pp(y,p,b)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=x+u[w],b=x-u[v];x=Pp(y,x,b)}const g=l.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},_2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Xs(e,t),u={x:r,y:n},f=vs(a),m=Ey(f);let p=u[m],x=u[f];const g=Xs(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",j=i.reference[m]-i.floating[b]+w.mainAxis,_=i.reference[m]+i.reference[b]-w.mainAxis;p<j?p=j:p>_&&(p=_)}if(d){var v,y;const b=m==="y"?"width":"height",j=iN.has(Js(a)),_=i.reference[f]-i.floating[b]+(j&&((v=o.offset)==null?void 0:v[f])||0)+(j?0:w.crossAxis),N=i.reference[f]+i.reference[b]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?w.crossAxis:0);x<_?x=_:x>N&&(x=N)}return{[m]:p,[f]:x}}}},N2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Xs(e,t),u=await Tc(t,d),f=Js(a),m=pl(a),p=vs(a)==="y",{width:x,height:g}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=m==="end"?"top":"bottom");const y=g-u.top-u.bottom,b=x-u.left-u.right,j=Wa(g-u[w],y),_=Wa(x-u[v],b),N=!t.middlewareData.shift;let E=j,M=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=y),N&&!m){const $=mn(u.left,0),L=mn(u.right,0),F=mn(u.top,0),O=mn(u.bottom,0);p?M=x-2*($!==0||L!==0?$+L:mn(u.left,u.right)):E=g-2*(F!==0||O!==0?F+O:mn(u.top,u.bottom))}await c({...t,availableWidth:M,availableHeight:E});const U=await o.getDimensions(l.floating);return x!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function Mf(){return typeof window<"u"}function gl(e){return oN(e)?(e.nodeName||"").toLowerCase():"#document"}function vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ss(e){var t;return(t=(oN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oN(e){return Mf()?e instanceof Node||e instanceof vn(e).Node:!1}function Jn(e){return Mf()?e instanceof Element||e instanceof vn(e).Element:!1}function Ns(e){return Mf()?e instanceof HTMLElement||e instanceof vn(e).HTMLElement:!1}function xb(e){return!Mf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vn(e).ShadowRoot}const S2=new Set(["inline","contents"]);function Jc(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!S2.has(a)}const C2=new Set(["table","td","th"]);function E2(e){return C2.has(gl(e))}const k2=[":popover-open",":modal"];function Lf(e){return k2.some(t=>{try{return e.matches(t)}catch{return!1}})}const P2=["transform","translate","scale","rotate","perspective"],T2=["transform","translate","scale","rotate","perspective","filter"],A2=["paint","layout","strict","content"];function Ty(e){const t=Ay(),r=Jn(e)?Zn(e):e;return P2.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||T2.some(n=>(r.willChange||"").includes(n))||A2.some(n=>(r.contain||"").includes(n))}function I2(e){let t=Ha(e);for(;Ns(t)&&!al(t);){if(Ty(t))return t;if(Lf(t))return null;t=Ha(t)}return null}function Ay(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const R2=new Set(["html","body","#document"]);function al(e){return R2.has(gl(e))}function Zn(e){return vn(e).getComputedStyle(e)}function Ff(e){return Jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(gl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xb(e)&&e.host||Ss(e);return xb(t)?t.host:t}function lN(e){const t=Ha(e);return al(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(t)&&Jc(t)?t:lN(t)}function Ac(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=lN(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=vn(a);if(i){const l=Ap(o);return t.concat(o,o.visualViewport||[],Jc(a)?a:[],l&&r?Ac(l):[])}return t.concat(a,Ac(a,[],r))}function Ap(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cN(e){const t=Zn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ns(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Wu(r)!==i||Wu(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Iy(e){return Jn(e)?e:e.contextElement}function Oo(e){const t=Iy(e);if(!Ns(t))return js(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=cN(t);let o=(i?Wu(r.width):r.width)/n,l=(i?Wu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const O2=js(0);function dN(e){const t=vn(e);return!Ay()||!t.visualViewport?O2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==vn(e)?!1:t}function Mi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Iy(e);let o=js(1);t&&(n?Jn(n)&&(o=Oo(n)):o=Oo(e));const l=D2(i,r,n)?dN(i):js(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=vn(i),p=n&&Jn(n)?vn(n):n;let x=m,g=Ap(x);for(;g&&n&&p!==x;){const w=Oo(g),v=g.getBoundingClientRect(),y=Zn(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,j=v.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=j,x=vn(g),g=Ap(x)}}return Qu({width:u,height:f,x:c,y:d})}function Ry(e,t){const r=Ff(e).scrollLeft;return t?t.left+r:Mi(Ss(e)).left+r}function uN(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Ry(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function M2(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ss(n),l=t?Lf(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=js(1);const u=js(0),f=Ns(n);if((f||!f&&!i)&&((gl(n)!=="body"||Jc(o))&&(c=Ff(n)),Ns(n))){const p=Mi(n);d=Oo(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!f&&!i?uN(o,c,!0):js(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function L2(e){return Array.from(e.getClientRects())}function F2(e){const t=Ss(e),r=Ff(e),n=e.ownerDocument.body,a=mn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=mn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ry(e);const l=-r.scrollTop;return Zn(n).direction==="rtl"&&(o+=mn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function $2(e,t){const r=vn(e),n=Ss(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Ay();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const q2=new Set(["absolute","fixed"]);function U2(e,t){const r=Mi(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ns(e)?Oo(e):js(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function bb(e,t,r){let n;if(t==="viewport")n=$2(e,r);else if(t==="document")n=F2(Ss(e));else if(Jn(t))n=U2(t,r);else{const a=dN(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Qu(n)}function fN(e,t){const r=Ha(e);return r===t||!Jn(r)||al(r)?!1:Zn(r).position==="fixed"||fN(r,t)}function B2(e,t){const r=t.get(e);if(r)return r;let n=Ac(e,[],!1).filter(l=>Jn(l)&&gl(l)!=="body"),a=null;const i=Zn(e).position==="fixed";let o=i?Ha(e):e;for(;Jn(o)&&!al(o);){const l=Zn(o),c=Ty(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&q2.has(a.position)||Jc(o)&&!c&&fN(e,o))?n=n.filter(u=>u!==o):a=l,o=Ha(o)}return t.set(e,n),n}function V2(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Lf(t)?[]:B2(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=bb(t,u,a);return d.top=mn(f.top,d.top),d.right=Wa(f.right,d.right),d.bottom=Wa(f.bottom,d.bottom),d.left=mn(f.left,d.left),d},bb(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function z2(e){const{width:t,height:r}=cN(e);return{width:t,height:r}}function W2(e,t,r){const n=Ns(t),a=Ss(t),i=r==="fixed",o=Mi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=js(0);function d(){c.x=Ry(a)}if(n||!n&&!i)if((gl(t)!=="body"||Jc(a))&&(l=Ff(t)),n){const p=Mi(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?uN(a,l):js(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function em(e){return Zn(e).position==="static"}function wb(e,t){if(!Ns(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ss(e)===r&&(r=r.ownerDocument.body),r}function hN(e,t){const r=vn(e);if(Lf(e))return r;if(!Ns(e)){let a=Ha(e);for(;a&&!al(a);){if(Jn(a)&&!em(a))return a;a=Ha(a)}return r}let n=wb(e,t);for(;n&&E2(n)&&em(n);)n=wb(n,t);return n&&al(n)&&em(n)&&!Ty(n)?r:n||I2(e)||r}const H2=async function(e){const t=this.getOffsetParent||hN,r=this.getDimensions,n=await r(e.floating);return{reference:W2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Q2(e){return Zn(e).direction==="rtl"}const K2={convertOffsetParentRelativeRectToViewportRelativeRect:M2,getDocumentElement:Ss,getClippingRect:V2,getOffsetParent:hN,getElementRects:H2,getClientRects:L2,getDimensions:z2,getScale:Oo,isElement:Jn,isRTL:Q2};function mN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function G2(e,t){let r=null,n;const a=Ss(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=d;if(l||t(),!m||!p)return;const x=Ld(f),g=Ld(a.clientWidth-(u+m)),w=Ld(a.clientHeight-(f+p)),v=Ld(u),b={rootMargin:-x+"px "+-g+"px "+-w+"px "+-v+"px",threshold:mn(0,Wa(1,c))||1};let j=!0;function _(N){const E=N[0].intersectionRatio;if(E!==c){if(!j)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!mN(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return o(!0),i}function Y2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Iy(e),u=a||i?[...d?Ac(d):[],...Ac(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=d&&l?G2(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?Mi(e):null;c&&w();function w(){const v=Mi(e);g&&!mN(g,v)&&r(),g=v,x=requestAnimationFrame(w)}return r(),()=>{var v;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const X2=w2,J2=j2,Z2=v2,eO=N2,tO=x2,jb=y2,rO=_2,nO=(e,t,r)=>{const n=new Map,a={platform:K2,...r},i={...a.platform,_c:n};return g2(e,t,{...a,platform:i})};var sO=typeof document<"u",aO=function(){},mu=sO?h.useLayoutEffect:aO;function Ku(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ku(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Ku(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function pN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _b(e,t){const r=pN(e);return Math.round(t*r)/r}function tm(e){const t=h.useRef(e);return mu(()=>{t.current=e}),t}function iO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);Ku(m,n)||p(n);const[x,g]=h.useState(null),[w,v]=h.useState(null),y=h.useCallback(Q=>{Q!==N.current&&(N.current=Q,g(Q))},[]),b=h.useCallback(Q=>{Q!==E.current&&(E.current=Q,v(Q))},[]),j=i||x,_=o||w,N=h.useRef(null),E=h.useRef(null),M=h.useRef(u),U=c!=null,$=tm(c),L=tm(a),F=tm(d),O=h.useCallback(()=>{if(!N.current||!E.current)return;const Q={placement:t,strategy:r,middleware:m};L.current&&(Q.platform=L.current),nO(N.current,E.current,Q).then(W=>{const ae={...W,isPositioned:F.current!==!1};R.current&&!Ku(M.current,ae)&&(M.current=ae,Xa.flushSync(()=>{f(ae)}))})},[m,t,r,L,F]);mu(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[d]);const R=h.useRef(!1);mu(()=>(R.current=!0,()=>{R.current=!1}),[]),mu(()=>{if(j&&(N.current=j),_&&(E.current=_),j&&_){if($.current)return $.current(j,_,O);O()}},[j,_,O,$,U]);const S=h.useMemo(()=>({reference:N,floating:E,setReference:y,setFloating:b}),[y,b]),A=h.useMemo(()=>({reference:j,floating:_}),[j,_]),ne=h.useMemo(()=>{const Q={position:r,left:0,top:0};if(!A.floating)return Q;const W=_b(A.floating,u.x),ae=_b(A.floating,u.y);return l?{...Q,transform:"translate("+W+"px, "+ae+"px)",...pN(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:ae}},[r,l,A.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:O,refs:S,elements:A,floatingStyles:ne}),[u,O,S,A,ne])}const oO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jb({element:n.current,padding:a}).fn(r):{}:n?jb({element:n,padding:a}).fn(r):{}}}},lO=(e,t)=>({...X2(e),options:[e,t]}),cO=(e,t)=>({...J2(e),options:[e,t]}),dO=(e,t)=>({...rO(e),options:[e,t]}),uO=(e,t)=>({...Z2(e),options:[e,t]}),fO=(e,t)=>({...eO(e),options:[e,t]}),hO=(e,t)=>({...tO(e),options:[e,t]}),mO=(e,t)=>({...oO(e),options:[e,t]});var pO="Arrow",gN=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});gN.displayName=pO;var gO=gN;function yN(e){const[t,r]=h.useState(void 0);return vr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Oy="Popper",[vN,Ja]=zr(Oy),[yO,xN]=vN(Oy),bN=e=>{const{__scopePopper:t,children:r}=e,[n,a]=h.useState(null);return s.jsx(yO,{scope:t,anchor:n,onAnchorChange:a,children:r})};bN.displayName=Oy;var wN="PopperAnchor",jN=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=xN(wN,r),o=h.useRef(null),l=Xe(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});jN.displayName=wN;var Dy="PopperContent",[vO,xO]=vN(Dy),_N=h.forwardRef((e,t)=>{var se,J,fe,T,H,ee;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=xN(Dy,r),[v,y]=h.useState(null),b=Xe(t,oe=>y(oe)),[j,_]=h.useState(null),N=yN(j),E=(N==null?void 0:N.width)??0,M=(N==null?void 0:N.height)??0,U=n+(i!=="center"?"-"+i:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],F=L.length>0,O={padding:$,boundary:L.filter(wO),altBoundary:F},{refs:R,floatingStyles:S,placement:A,isPositioned:ne,middlewareData:Q}=iO({strategy:"fixed",placement:U,whileElementsMounted:(...oe)=>Y2(...oe,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[lO({mainAxis:a+M,alignmentAxis:o}),c&&cO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dO():void 0,...O}),c&&uO({...O}),fO({...O,apply:({elements:oe,rects:be,availableWidth:He,availableHeight:ut})=>{const{width:Pe,height:Be}=be.reference,tt=oe.floating.style;tt.setProperty("--radix-popper-available-width",`${He}px`),tt.setProperty("--radix-popper-available-height",`${ut}px`),tt.setProperty("--radix-popper-anchor-width",`${Pe}px`),tt.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),j&&mO({element:j,padding:l}),jO({arrowWidth:E,arrowHeight:M}),m&&hO({strategy:"referenceHidden",...O})]}),[W,ae]=CN(A),ge=Jt(x);vr(()=>{ne&&(ge==null||ge())},[ne,ge]);const G=(se=Q.arrow)==null?void 0:se.x,ie=(J=Q.arrow)==null?void 0:J.y,de=((fe=Q.arrow)==null?void 0:fe.centerOffset)!==0,[he,me]=h.useState();return vr(()=>{v&&me(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...S,transform:ne?S.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(T=Q.transformOrigin)==null?void 0:T.x,(H=Q.transformOrigin)==null?void 0:H.y].join(" "),...((ee=Q.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(vO,{scope:r,placedSide:W,onArrowChange:_,arrowX:G,arrowY:ie,shouldHideArrow:de,children:s.jsx(Me.div,{"data-side":W,"data-align":ae,...g,ref:b,style:{...g.style,animation:ne?void 0:"none"}})})})});_N.displayName=Dy;var NN="PopperArrow",bO={top:"bottom",right:"left",bottom:"top",left:"right"},SN=h.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=xO(NN,n),o=bO[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(gO,{...a,ref:r,style:{...a.style,display:"block"}})})});SN.displayName=NN;function wO(e){return e!==null}var jO=e=>({name:"transformOrigin",options:e,fn(t){var w,v,y;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=CN(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?f:`${m}px`,g=`${-c}px`):d==="top"?(x=o?f:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x,y:g}}}});function CN(e){const[t,r="center"]=e.split("-");return[t,r]}var My=bN,Zc=jN,$f=_N,qf=SN,[Uf,xV]=zr("Tooltip",[Ja]),Ly=Ja(),EN="TooltipProvider",_O=700,Nb="tooltip.open",[NO,kN]=Uf(EN),PN=e=>{const{__scopeTooltip:t,delayDuration:r=_O,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(NO,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};PN.displayName=EN;var TN="Tooltip",[bV,Bf]=Uf(TN),Ip="TooltipTrigger",SO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Bf(Ip,r),i=kN(Ip,r),o=Ly(r),l=h.useRef(null),c=Xe(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Zc,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:_e(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_e(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});SO.displayName=Ip;var CO="TooltipPortal",[wV,EO]=Uf(CO,{forceMount:void 0}),il="TooltipContent",AN=h.forwardRef((e,t)=>{const r=EO(il,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Bf(il,e.__scopeTooltip);return s.jsx(xr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(IN,{side:a,...i,ref:t}):s.jsx(kO,{side:a,...i,ref:t})})}),kO=h.forwardRef((e,t)=>{const r=Bf(il,e.__scopeTooltip),n=kN(il,e.__scopeTooltip),a=h.useRef(null),i=Xe(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((x,g)=>{const w=x.currentTarget,v={x:x.clientX,y:x.clientY},y=RO(v,w.getBoundingClientRect()),b=OO(v,y),j=DO(g.getBoundingClientRect()),_=LO([...b,...j]);l(_),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const x=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(o){const x=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!MO(v,o);y?m():b&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),s.jsx(IN,{...e,ref:i})}),[PO,TO]=Uf(TN,{isInside:!1}),AO=v_("TooltipContent"),IN=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Bf(il,r),d=Ly(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Nb,u),()=>document.removeEventListener(Nb,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs($f,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(AO,{children:n}),s.jsx(PO,{scope:r,isInside:!0,children:s.jsx(lI,{id:c.contentId,role:"tooltip",children:a||n})})]})})});AN.displayName=il;var RN="TooltipArrow",IO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ly(r);return TO(RN,r).isInside?null:s.jsx(qf,{...a,...n,ref:t})});IO.displayName=RN;function RO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function OO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function DO(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function MO(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function LO(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),FO(t)}function FO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var $O=PN,ON=AN;const qO=$O,UO=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(ON,{ref:n,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));UO.displayName=ON.displayName;const BO=Yc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fr=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ee(BO({variant:t}),e),...r}));Fr.displayName="Alert";const VO=h.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));VO.displayName="AlertTitle";const $r=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));$r.displayName="AlertDescription";function zO(){const[e,t]=h.useState(navigator.onLine);return h.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e?null:s.jsxs(Fr,{className:"mb-4 border-orange-200 bg-orange-50",children:[s.jsx(qI,{className:"h-4 w-4"}),s.jsx($r,{children:"You're currently offline. Some features may not work properly until your connection is restored."})]})}var yl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WO={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ga,_g,Hw,HO=(Hw=class{constructor(){qe(this,ga,WO);qe(this,_g,!1)}setTimeoutProvider(e){Ie(this,ga,e)}setTimeout(e,t){return q(this,ga).setTimeout(e,t)}clearTimeout(e){q(this,ga).clearTimeout(e)}setInterval(e,t){return q(this,ga).setInterval(e,t)}clearInterval(e){q(this,ga).clearInterval(e)}},ga=new WeakMap,_g=new WeakMap,Hw),gi=new HO;function QO(e){setTimeout(e,0)}var Li=typeof window>"u"||"Deno"in globalThis;function wr(){}function KO(e,t){return typeof e=="function"?e(t):e}function Rp(e){return typeof e=="number"&&e>=0&&e!==1/0}function DN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function La(e,t){return typeof e=="function"?e(t):e}function Cn(e,t){return typeof e=="function"?e(t):e}function Sb(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Fy(o,t.options))return!1}else if(!Ic(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Cb(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Fi(t.options.mutationKey)!==Fi(i))return!1}else if(!Ic(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Fy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Fi)(e)}function Fi(e){return JSON.stringify(e,(t,r)=>Op(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ic(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ic(e[r],t[r])):!1}var GO=Object.prototype.hasOwnProperty;function MN(e,t){if(e===t)return e;const r=Eb(e)&&Eb(t);if(!r&&!(Op(e)&&Op(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],f=e[u],m=t[u];if(f===m){l[u]=f,(r?d<a:GO.call(e,u))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[u]=m;continue}const p=MN(f,m);l[u]=p,p===f&&c++}return a===o&&c===a?e:l}function Gu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Eb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Op(e){if(!kb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!kb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kb(e){return Object.prototype.toString.call(e)==="[object Object]"}function YO(e){return new Promise(t=>{gi.setTimeout(t,e)})}function Dp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?MN(e,t):t}function XO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function JO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var $y=Symbol();function LN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$y?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function FN(e,t){return typeof e=="function"?e(...t):!!e}var vi,ya,Fo,Qw,ZO=(Qw=class extends yl{constructor(){super();qe(this,vi);qe(this,ya);qe(this,Fo);Ie(this,Fo,t=>{if(!Li&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){q(this,ya)||this.setEventListener(q(this,Fo))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,ya))==null||t.call(this),Ie(this,ya,void 0))}setEventListener(t){var r;Ie(this,Fo,t),(r=q(this,ya))==null||r.call(this),Ie(this,ya,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,vi)!==t&&(Ie(this,vi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof q(this,vi)=="boolean"?q(this,vi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vi=new WeakMap,ya=new WeakMap,Fo=new WeakMap,Qw),qy=new ZO;function Mp(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function eD(e){var r;let t;if((r=e.then(n=>(t=n,n),wr))==null||r.catch(wr),t!==void 0)return{data:t}}function $N(e){return e}function tD(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function rD(e,t,r){var n;return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:(n=e.promise)==null?void 0:n.then(t).catch(a=>r(a)?Promise.reject(new Error("redacted")):Promise.reject(a))},...e.meta&&{meta:e.meta}}}function nD(e){return e.state.isPaused}function sD(e){return e.state.status==="success"}function aD(e){return!0}function iD(e,t={}){var c,d,u,f;const r=t.shouldDehydrateMutation??((c=e.getDefaultOptions().dehydrate)==null?void 0:c.shouldDehydrateMutation)??nD,n=e.getMutationCache().getAll().flatMap(m=>r(m)?[tD(m)]:[]),a=t.shouldDehydrateQuery??((d=e.getDefaultOptions().dehydrate)==null?void 0:d.shouldDehydrateQuery)??sD,i=t.shouldRedactErrors??((u=e.getDefaultOptions().dehydrate)==null?void 0:u.shouldRedactErrors)??aD,o=t.serializeData??((f=e.getDefaultOptions().dehydrate)==null?void 0:f.serializeData)??$N,l=e.getQueryCache().getAll().flatMap(m=>a(m)?[rD(m,o,i)]:[]);return{mutations:n,queries:l}}function oD(e,t,r){var c,d;if(typeof t!="object"||t===null)return;const n=e.getMutationCache(),a=e.getQueryCache(),i=((c=r==null?void 0:r.defaultOptions)==null?void 0:c.deserializeData)??((d=e.getDefaultOptions().hydrate)==null?void 0:d.deserializeData)??$N,o=t.mutations||[],l=t.queries||[];o.forEach(({state:u,...f})=>{var m,p;n.build(e,{...(m=e.getDefaultOptions().hydrate)==null?void 0:m.mutations,...(p=r==null?void 0:r.defaultOptions)==null?void 0:p.mutations,...f},u)}),l.forEach(({queryKey:u,state:f,queryHash:m,meta:p,promise:x,dehydratedAt:g})=>{var N,E;const w=x?eD(x):void 0,v=f.data===void 0?w==null?void 0:w.data:f.data,y=v===void 0?v:i(v);let b=a.get(m);const j=(b==null?void 0:b.state.status)==="pending",_=(b==null?void 0:b.state.fetchStatus)==="fetching";if(b){const M=w&&g!==void 0&&g>b.state.dataUpdatedAt;if(f.dataUpdatedAt>b.state.dataUpdatedAt||M){const{fetchStatus:U,...$}=f;b.setState({...$,data:y})}}else b=a.build(e,{...(N=e.getDefaultOptions().hydrate)==null?void 0:N.queries,...(E=r==null?void 0:r.defaultOptions)==null?void 0:E.queries,queryKey:u,queryHash:m,meta:p},{...f,data:y,fetchStatus:"idle",status:y!==void 0?"success":f.status});x&&!j&&!_&&(g===void 0||g>b.state.dataUpdatedAt)&&b.fetch(void 0,{initialPromise:Promise.resolve(x).then(i)})})}var lD=QO;function cD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=lD;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var dr=cD(),$o,va,qo,Kw,dD=(Kw=class extends yl{constructor(){super();qe(this,$o,!0);qe(this,va);qe(this,qo);Ie(this,qo,t=>{if(!Li&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,va)||this.setEventListener(q(this,qo))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,va))==null||t.call(this),Ie(this,va,void 0))}setEventListener(t){var r;Ie(this,qo,t),(r=q(this,va))==null||r.call(this),Ie(this,va,t(this.setOnline.bind(this)))}setOnline(t){q(this,$o)!==t&&(Ie(this,$o,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return q(this,$o)}},$o=new WeakMap,va=new WeakMap,qo=new WeakMap,Kw),Yu=new dD;function uD(e){return Math.min(1e3*2**e,3e4)}function qN(e){return(e??"online")==="online"?Yu.isOnline():!0}var Lp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function UN(e){let t=!1,r=0,n;const a=Mp(),i=()=>a.status!=="pending",o=g=>{var w;if(!i()){const v=new Lp(g);m(v),(w=e.onCancel)==null||w.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>qy.isFocused()&&(e.networkMode==="always"||Yu.isOnline())&&e.canRun(),u=()=>qN(e.networkMode)&&e.canRun(),f=g=>{i()||(n==null||n(),a.resolve(g))},m=g=>{i()||(n==null||n(),a.reject(g))},p=()=>new Promise(g=>{var w;n=v=>{(i()||d())&&g(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(i())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var N;if(i())return;const y=e.retry??(Li?0:3),b=e.retryDelay??uD,j=typeof b=="function"?b(r,v):b,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!_){m(v);return}r++,(N=e.onFail)==null||N.call(e,r,v),YO(j).then(()=>d()?void 0:p()).then(()=>{t?m(v):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),a)}}var xi,Gw,BN=(Gw=class{constructor(){qe(this,xi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rp(this.gcTime)&&Ie(this,xi,gi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Li?1/0:5*60*1e3))}clearGcTimeout(){q(this,xi)&&(gi.clearTimeout(q(this,xi)),Ie(this,xi,void 0))}},xi=new WeakMap,Gw),bi,Uo,Sn,wi,mr,$c,ji,Un,Ps,Yw,fD=(Yw=class extends BN{constructor(t){super();qe(this,Un);qe(this,bi);qe(this,Uo);qe(this,Sn);qe(this,wi);qe(this,mr);qe(this,$c);qe(this,ji);Ie(this,ji,!1),Ie(this,$c,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,wi,t.client),Ie(this,Sn,q(this,wi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,bi,Pb(this.options)),this.state=t.state??q(this,bi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,mr))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,$c),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Pb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ie(this,bi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Sn).remove(this)}setData(t,r){const n=Dp(this.state.data,t,this.options);return it(this,Un,Ps).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){it(this,Un,Ps).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=q(this,mr))==null?void 0:n.promise;return(a=q(this,mr))==null||a.cancel(t),r?r.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,bi))}isActive(){return this.observers.some(t=>Cn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$y||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>La(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!DN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,mr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,mr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Sn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(q(this,mr)&&(q(this,ji)?q(this,mr).cancel({revert:!0}):q(this,mr).cancelRetry()),this.scheduleGc()),q(this,Sn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,Un,Ps).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,f,m,p,x,g,w,v,y,b;if(this.state.fetchStatus!=="idle"&&((c=q(this,mr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,mr))return q(this,mr).continueRetry(),q(this,mr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Ie(this,ji,!0),n.signal)})},i=()=>{const j=LN(this.options,r),N=(()=>{const E={client:q(this,wi),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return Ie(this,ji,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:q(this,wi),state:this.state,fetchFn:i};return a(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),Ie(this,Uo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&it(this,Un,Ps).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ie(this,mr,UN({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Lp&&j.revert&&this.setState({...q(this,Uo),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{it(this,Un,Ps).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{it(this,Un,Ps).call(this,{type:"pause"})},onContinue:()=>{it(this,Un,Ps).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await q(this,mr).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(m=q(this,Sn).config).onSuccess)==null||p.call(m,j,this),(g=(x=q(this,Sn).config).onSettled)==null||g.call(x,j,this.state.error,this),j}catch(j){if(j instanceof Lp){if(j.silent)return q(this,mr).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw it(this,Un,Ps).call(this,{type:"error",error:j}),(v=(w=q(this,Sn).config).onError)==null||v.call(w,j,this),(b=(y=q(this,Sn).config).onSettled)==null||b.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},bi=new WeakMap,Uo=new WeakMap,Sn=new WeakMap,wi=new WeakMap,mr=new WeakMap,$c=new WeakMap,ji=new WeakMap,Un=new WeakSet,Ps=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VN(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,Uo,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,Sn).notify({query:this,type:"updated",action:t})})},Yw);function VN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Pb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qr,ft,qc,Or,_i,Bo,Ds,xa,Uc,Vo,zo,Ni,Si,ba,Wo,bt,Hl,Fp,$p,qp,Up,Bp,Vp,zp,zN,Xw,hD=(Xw=class extends yl{constructor(t,r){super();qe(this,bt);qe(this,Qr);qe(this,ft);qe(this,qc);qe(this,Or);qe(this,_i);qe(this,Bo);qe(this,Ds);qe(this,xa);qe(this,Uc);qe(this,Vo);qe(this,zo);qe(this,Ni);qe(this,Si);qe(this,ba);qe(this,Wo,new Set);this.options=r,Ie(this,Qr,t),Ie(this,xa,null),Ie(this,Ds,Mp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,ft).addObserver(this),Tb(q(this,ft),this.options)?it(this,bt,Hl).call(this):this.updateResult(),it(this,bt,Up).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wp(q(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wp(q(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,bt,Bp).call(this),it(this,bt,Vp).call(this),q(this,ft).removeObserver(this)}setOptions(t){const r=this.options,n=q(this,ft);if(this.options=q(this,Qr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cn(this.options.enabled,q(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,bt,zp).call(this),q(this,ft).setOptions(this.options),r._defaulted&&!Gu(this.options,r)&&q(this,Qr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,ft),observer:this});const a=this.hasListeners();a&&Ab(q(this,ft),n,this.options,r)&&it(this,bt,Hl).call(this),this.updateResult(),a&&(q(this,ft)!==n||Cn(this.options.enabled,q(this,ft))!==Cn(r.enabled,q(this,ft))||La(this.options.staleTime,q(this,ft))!==La(r.staleTime,q(this,ft)))&&it(this,bt,Fp).call(this);const i=it(this,bt,$p).call(this);a&&(q(this,ft)!==n||Cn(this.options.enabled,q(this,ft))!==Cn(r.enabled,q(this,ft))||i!==q(this,ba))&&it(this,bt,qp).call(this,i)}getOptimisticResult(t){const r=q(this,Qr).getQueryCache().build(q(this,Qr),t),n=this.createResult(r,t);return pD(this,n)&&(Ie(this,Or,n),Ie(this,Bo,this.options),Ie(this,_i,q(this,ft).state)),n}getCurrentResult(){return q(this,Or)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&q(this,Ds).status==="pending"&&q(this,Ds).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){q(this,Wo).add(t)}getCurrentQuery(){return q(this,ft)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=q(this,Qr).defaultQueryOptions(t),n=q(this,Qr).getQueryCache().build(q(this,Qr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return it(this,bt,Hl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Or)))}createResult(t,r){var U;const n=q(this,ft),a=this.options,i=q(this,Or),o=q(this,_i),l=q(this,Bo),d=t!==n?t.state:q(this,qc),{state:u}=t;let f={...u},m=!1,p;if(r._optimisticResults){const $=this.hasListeners(),L=!$&&Tb(t,r),F=$&&Ab(t,n,r,a);(L||F)&&(f={...f,...VN(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=f;p=f.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let $;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?($=i.data,v=!0):$=typeof r.placeholderData=="function"?r.placeholderData((U=q(this,zo))==null?void 0:U.state.data,q(this,zo)):r.placeholderData,$!==void 0&&(w="success",p=Dp(i==null?void 0:i.data,$,r),m=!0)}if(r.select&&p!==void 0&&!v)if(i&&p===(o==null?void 0:o.data)&&r.select===q(this,Uc))p=q(this,Vo);else try{Ie(this,Uc,r.select),p=r.select(p),p=Dp(i==null?void 0:i.data,p,r),Ie(this,Vo,p),Ie(this,xa,null)}catch($){Ie(this,xa,$)}q(this,xa)&&(x=q(this,xa),p=q(this,Vo),g=Date.now(),w="error");const y=f.fetchStatus==="fetching",b=w==="pending",j=w==="error",_=b&&y,N=p!==void 0,M={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:j,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&N,isStale:Uy(t,r),refetch:this.refetch,promise:q(this,Ds),isEnabled:Cn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=O=>{M.status==="error"?O.reject(M.error):M.data!==void 0&&O.resolve(M.data)},L=()=>{const O=Ie(this,Ds,M.promise=Mp());$(O)},F=q(this,Ds);switch(F.status){case"pending":t.queryHash===n.queryHash&&$(F);break;case"fulfilled":(M.status==="error"||M.data!==F.value)&&L();break;case"rejected":(M.status!=="error"||M.error!==F.reason)&&L();break}}return M}updateResult(){const t=q(this,Or),r=this.createResult(q(this,ft),this.options);if(Ie(this,_i,q(this,ft).state),Ie(this,Bo,this.options),q(this,_i).data!==void 0&&Ie(this,zo,q(this,ft)),Gu(r,t))return;Ie(this,Or,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!q(this,Wo).size)return!0;const o=new Set(i??q(this,Wo));return this.options.throwOnError&&o.add("error"),Object.keys(q(this,Or)).some(l=>{const c=l;return q(this,Or)[c]!==t[c]&&o.has(c)})};it(this,bt,zN).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,bt,Up).call(this)}},Qr=new WeakMap,ft=new WeakMap,qc=new WeakMap,Or=new WeakMap,_i=new WeakMap,Bo=new WeakMap,Ds=new WeakMap,xa=new WeakMap,Uc=new WeakMap,Vo=new WeakMap,zo=new WeakMap,Ni=new WeakMap,Si=new WeakMap,ba=new WeakMap,Wo=new WeakMap,bt=new WeakSet,Hl=function(t){it(this,bt,zp).call(this);let r=q(this,ft).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(wr)),r},Fp=function(){it(this,bt,Bp).call(this);const t=La(this.options.staleTime,q(this,ft));if(Li||q(this,Or).isStale||!Rp(t))return;const n=DN(q(this,Or).dataUpdatedAt,t)+1;Ie(this,Ni,gi.setTimeout(()=>{q(this,Or).isStale||this.updateResult()},n))},$p=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,ft)):this.options.refetchInterval)??!1},qp=function(t){it(this,bt,Vp).call(this),Ie(this,ba,t),!(Li||Cn(this.options.enabled,q(this,ft))===!1||!Rp(q(this,ba))||q(this,ba)===0)&&Ie(this,Si,gi.setInterval(()=>{(this.options.refetchIntervalInBackground||qy.isFocused())&&it(this,bt,Hl).call(this)},q(this,ba)))},Up=function(){it(this,bt,Fp).call(this),it(this,bt,qp).call(this,it(this,bt,$p).call(this))},Bp=function(){q(this,Ni)&&(gi.clearTimeout(q(this,Ni)),Ie(this,Ni,void 0))},Vp=function(){q(this,Si)&&(gi.clearInterval(q(this,Si)),Ie(this,Si,void 0))},zp=function(){const t=q(this,Qr).getQueryCache().build(q(this,Qr),this.options);if(t===q(this,ft))return;const r=q(this,ft);Ie(this,ft,t),Ie(this,qc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},zN=function(t){dr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(q(this,Or))}),q(this,Qr).getQueryCache().notify({query:q(this,ft),type:"observerResultsUpdated"})})},Xw);function mD(e,t){return Cn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Tb(e,t){return mD(e,t)||e.state.data!==void 0&&Wp(e,t,t.refetchOnMount)}function Wp(e,t,r){if(Cn(t.enabled,e)!==!1&&La(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Uy(e,t)}return!1}function Ab(e,t,r,n){return(e!==t||Cn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Uy(e,r)}function Uy(e,t){return Cn(t.enabled,e)!==!1&&e.isStaleByTime(La(t.staleTime,e))}function pD(e,t){return!Gu(e.getCurrentResult(),t)}function Ib(e){return{onFetch:(t,r)=>{var u,f,m,p,x;const n=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=LN(t.options,t.fetchOptions),y=async(b,j,_)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return w(L),L})(),M=await v(E),{maxPages:U}=t.options,$=_?JO:XO;return{pages:$(b.pages,M,U),pageParams:$(b.pageParams,j,U)}};if(a&&i.length){const b=a==="backward",j=b?gD:Rb,_={pages:i,pageParams:o},N=j(n,_);l=await y(_,N,b)}else{const b=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:Rb(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Rb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function gD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bc,ds,Dr,Ci,us,oa,Jw,yD=(Jw=class extends BN{constructor(t){super();qe(this,us);qe(this,Bc);qe(this,ds);qe(this,Dr);qe(this,Ci);Ie(this,Bc,t.client),this.mutationId=t.mutationId,Ie(this,Dr,t.mutationCache),Ie(this,ds,[]),this.state=t.state||WN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,ds).includes(t)||(q(this,ds).push(t),this.clearGcTimeout(),q(this,Dr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,ds,q(this,ds).filter(r=>r!==t)),this.scheduleGc(),q(this,Dr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,ds).length||(this.state.status==="pending"?this.scheduleGc():q(this,Dr).remove(this))}continue(){var t;return((t=q(this,Ci))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,f,m,p,x,g,w,v,y,b,j,_,N,E,M,U;const r=()=>{it(this,us,oa).call(this,{type:"continue"})},n={client:q(this,Bc),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,Ci,UN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:($,L)=>{it(this,us,oa).call(this,{type:"failed",failureCount:$,error:L})},onPause:()=>{it(this,us,oa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Dr).canRun(this)}));const a=this.state.status==="pending",i=!q(this,Ci).canStart();try{if(a)r();else{it(this,us,oa).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=q(this,Dr).config).onMutate)==null?void 0:l.call(o,t,this,n));const L=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));L!==this.state.context&&it(this,us,oa).call(this,{type:"pending",context:L,variables:t,isPaused:i})}const $=await q(this,Ci).start();return await((f=(u=q(this,Dr).config).onSuccess)==null?void 0:f.call(u,$,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,$,t,this.state.context,n)),await((g=(x=q(this,Dr).config).onSettled)==null?void 0:g.call(x,$,null,this.state.variables,this.state.context,this,n)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,$,null,t,this.state.context,n)),it(this,us,oa).call(this,{type:"success",data:$}),$}catch($){try{throw await((b=(y=q(this,Dr).config).onError)==null?void 0:b.call(y,$,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,$,t,this.state.context,n)),await((E=(N=q(this,Dr).config).onSettled)==null?void 0:E.call(N,void 0,$,this.state.variables,this.state.context,this,n)),await((U=(M=this.options).onSettled)==null?void 0:U.call(M,void 0,$,t,this.state.context,n)),$}finally{it(this,us,oa).call(this,{type:"error",error:$})}}finally{q(this,Dr).runNext(this)}}},Bc=new WeakMap,ds=new WeakMap,Dr=new WeakMap,Ci=new WeakMap,us=new WeakSet,oa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dr.batch(()=>{q(this,ds).forEach(n=>{n.onMutationUpdate(t)}),q(this,Dr).notify({mutation:this,type:"updated",action:t})})},Jw);function WN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms,Bn,Vc,Zw,vD=(Zw=class extends yl{constructor(t={}){super();qe(this,Ms);qe(this,Bn);qe(this,Vc);this.config=t,Ie(this,Ms,new Set),Ie(this,Bn,new Map),Ie(this,Vc,0)}build(t,r,n){const a=new yD({client:t,mutationCache:this,mutationId:++gd(this,Vc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){q(this,Ms).add(t);const r=Fd(t);if(typeof r=="string"){const n=q(this,Bn).get(r);n?n.push(t):q(this,Bn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Ms).delete(t)){const r=Fd(t);if(typeof r=="string"){const n=q(this,Bn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&q(this,Bn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Fd(t);if(typeof r=="string"){const n=q(this,Bn).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Fd(t);if(typeof r=="string"){const a=(n=q(this,Bn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dr.batch(()=>{q(this,Ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Ms).clear(),q(this,Bn).clear()})}getAll(){return Array.from(q(this,Ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Cb(r,n))}findAll(t={}){return this.getAll().filter(r=>Cb(t,r))}notify(t){dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return dr.batch(()=>Promise.all(t.map(r=>r.continue().catch(wr))))}},Ms=new WeakMap,Bn=new WeakMap,Vc=new WeakMap,Zw);function Fd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ls,wa,Kr,Fs,Vs,pu,Hp,e0,xD=(e0=class extends yl{constructor(r,n){super();qe(this,Vs);qe(this,Ls);qe(this,wa);qe(this,Kr);qe(this,Fs);Ie(this,Ls,r),this.setOptions(n),this.bindMethods(),it(this,Vs,pu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=q(this,Ls).defaultMutationOptions(r),Gu(this.options,n)||q(this,Ls).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,Kr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Fi(n.mutationKey)!==Fi(this.options.mutationKey)?this.reset():((a=q(this,Kr))==null?void 0:a.state.status)==="pending"&&q(this,Kr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=q(this,Kr))==null||r.removeObserver(this)}onMutationUpdate(r){it(this,Vs,pu).call(this),it(this,Vs,Hp).call(this,r)}getCurrentResult(){return q(this,wa)}reset(){var r;(r=q(this,Kr))==null||r.removeObserver(this),Ie(this,Kr,void 0),it(this,Vs,pu).call(this),it(this,Vs,Hp).call(this)}mutate(r,n){var a;return Ie(this,Fs,n),(a=q(this,Kr))==null||a.removeObserver(this),Ie(this,Kr,q(this,Ls).getMutationCache().build(q(this,Ls),this.options)),q(this,Kr).addObserver(this),q(this,Kr).execute(r)}},Ls=new WeakMap,wa=new WeakMap,Kr=new WeakMap,Fs=new WeakMap,Vs=new WeakSet,pu=function(){var n;const r=((n=q(this,Kr))==null?void 0:n.state)??WN();Ie(this,wa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Hp=function(r){dr.batch(()=>{var n,a,i,o,l,c,d,u;if(q(this,Fs)&&this.hasListeners()){const f=q(this,wa).variables,m=q(this,wa).context,p={client:q(this,Ls),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=q(this,Fs)).onSuccess)==null||a.call(n,r.data,f,m,p),(o=(i=q(this,Fs)).onSettled)==null||o.call(i,r.data,null,f,m,p)):(r==null?void 0:r.type)==="error"&&((c=(l=q(this,Fs)).onError)==null||c.call(l,r.error,f,m,p),(u=(d=q(this,Fs)).onSettled)==null||u.call(d,void 0,r.error,f,m,p))}this.listeners.forEach(f=>{f(q(this,wa))})})},e0),fs,t0,bD=(t0=class extends yl{constructor(t={}){super();qe(this,fs);this.config=t,Ie(this,fs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Fy(a,r);let o=this.get(i);return o||(o=new fD({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){q(this,fs).has(t.queryHash)||(q(this,fs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=q(this,fs).get(t.queryHash);r&&(t.destroy(),r===t&&q(this,fs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,fs).get(t)}getAll(){return[...q(this,fs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Sb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Sb(t,n)):r}notify(t){dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fs=new WeakMap,t0),Ht,ja,_a,Ho,Qo,Na,Ko,Go,r0,wD=(r0=class{constructor(e={}){qe(this,Ht);qe(this,ja);qe(this,_a);qe(this,Ho);qe(this,Qo);qe(this,Na);qe(this,Ko);qe(this,Go);Ie(this,Ht,e.queryCache||new bD),Ie(this,ja,e.mutationCache||new vD),Ie(this,_a,e.defaultOptions||{}),Ie(this,Ho,new Map),Ie(this,Qo,new Map),Ie(this,Na,0)}mount(){gd(this,Na)._++,q(this,Na)===1&&(Ie(this,Ko,qy.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,Ht).onFocus())})),Ie(this,Go,Yu.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,Ht).onOnline())})))}unmount(){var e,t;gd(this,Na)._--,q(this,Na)===0&&((e=q(this,Ko))==null||e.call(this),Ie(this,Ko,void 0),(t=q(this,Go))==null||t.call(this),Ie(this,Go,void 0))}isFetching(e){return q(this,Ht).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,ja).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,Ht).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=q(this,Ht).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(La(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return q(this,Ht).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=q(this,Ht).get(n.queryHash),i=a==null?void 0:a.state.data,o=KO(t,i);if(o!==void 0)return q(this,Ht).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return dr.batch(()=>q(this,Ht).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,Ht).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=q(this,Ht);dr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=q(this,Ht);return dr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=dr.batch(()=>q(this,Ht).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(wr).catch(wr)}invalidateQueries(e,t={}){return dr.batch(()=>(q(this,Ht).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=dr.batch(()=>q(this,Ht).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(wr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=q(this,Ht).build(this,t);return r.isStaleByTime(La(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=Ib(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=Ib(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yu.isOnline()?q(this,ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Ht)}getMutationCache(){return q(this,ja)}getDefaultOptions(){return q(this,_a)}setDefaultOptions(e){Ie(this,_a,e)}setQueryDefaults(e,t){q(this,Ho).set(Fi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,Ho).values()],r={};return t.forEach(n=>{Ic(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){q(this,Qo).set(Fi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,Qo).values()],r={};return t.forEach(n=>{Ic(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,_a).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$y&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,_a).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,Ht).clear(),q(this,ja).clear()}},Ht=new WeakMap,ja=new WeakMap,_a=new WeakMap,Ho=new WeakMap,Qo=new WeakMap,Na=new WeakMap,Ko=new WeakMap,Go=new WeakMap,r0),HN=h.createContext(void 0),ea=e=>{const t=h.useContext(HN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jD=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(HN.Provider,{value:e,children:t})),QN=h.createContext(!1),_D=()=>h.useContext(QN);QN.Provider;function ND(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var SD=h.createContext(ND()),CD=()=>h.useContext(SD),ED=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kD=e=>{h.useEffect(()=>{e.clearReset()},[e])},PD=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||FN(r,[e.error,n])),TD=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},AD=(e,t)=>e.isLoading&&e.isFetching&&!t,ID=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ob=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function RD(e,t,r){var f,m,p,x,g;const n=_D(),a=CD(),i=ea(),o=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",TD(o),ED(o,a),kD(a);const l=!i.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const v=u?c.subscribe(dr.batchCalls(w)):wr;return c.updateResult(),v},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o)},[o,c]),ID(o,d))throw Ob(o,c,a);if(PD({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,d),o.experimental_prefetchInRender&&!Li&&AD(d,n)){const w=l?Ob(o,c,a):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(wr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ir(e,t){return RD(e,hD)}function Bs(e,t){const r=ea(),[n]=h.useState(()=>new xD(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const a=h.useSyncExternalStore(h.useCallback(o=>n.subscribe(dr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=h.useCallback((o,l)=>{n.mutate(o,l).catch(wr)},[n]);if(a.error&&FN(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var OD=["added","removed","updated"];function Db(e){return OD.includes(e)}async function DD({queryClient:e,persister:t,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:a}){try{const i=await t.restoreClient();if(i)if(i.timestamp){const o=Date.now()-i.timestamp>r,l=i.buster!==n;if(o||l)return t.removeClient();oD(e,i.clientState,a)}else return t.removeClient()}catch(i){throw await t.removeClient(),i}}async function Mb({queryClient:e,persister:t,buster:r="",dehydrateOptions:n}){const a={buster:r,timestamp:Date.now(),clientState:iD(e,n)};await t.persistClient(a)}function MD(e){const t=e.queryClient.getQueryCache().subscribe(n=>{Db(n.type)&&Mb(e)}),r=e.queryClient.getMutationCache().subscribe(n=>{Db(n.type)&&Mb(e)});return()=>{t(),r()}}function LD(e){let t=!1,r;const n=()=>{t=!0,r==null||r()},a=DD(e).then(()=>{t||(r=MD(e))});return[n,a]}var FD=({persistedClient:e})=>{const t=[...e.clientState.mutations],r=[...e.clientState.queries],n={...e,clientState:{mutations:t,queries:r}},a=[...r].sort((i,o)=>i.state.dataUpdatedAt-o.state.dataUpdatedAt);if(a.length>0){const i=a.shift();return n.clientState.queries=r.filter(o=>o!==i),n}};function $d(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var KN={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,i){function o(d,u){if(!a[d]){if(!n[d]){var f=typeof $d=="function"&&$d;if(!u&&f)return f(d,!0);if(l)return l(d,!0);var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}var p=a[d]={exports:{}};n[d][0].call(p.exports,function(x){var g=n[d][1][x];return o(g||x)},p,p.exports,r,n,a,i)}return a[d].exports}for(var l=typeof $d=="function"&&$d,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(r,n,a){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,l;if(o){var c=0,d=new o(x),u=i.document.createTextNode("");d.observe(u,{characterData:!0}),l=function(){u.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var f=new i.MessageChannel;f.port1.onmessage=x,l=function(){f.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var w=i.document.createElement("script");w.onreadystatechange=function(){x(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:l=function(){setTimeout(x,0)};var m,p=[];function x(){m=!0;for(var w,v,y=p.length;y;){for(v=p,p=[],w=-1;++w<y;)v[w]();y=p.length}m=!1}n.exports=g;function g(w){p.push(w)===1&&!m&&l()}}).call(this,typeof Tr<"u"?Tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,a){var i=r(1);function o(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];n.exports=f;function f(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==o&&g(this,_)}f.prototype.catch=function(_){return this.then(null,_)},f.prototype.then=function(_,N){if(typeof _!="function"&&this.state===d||typeof N!="function"&&this.state===c)return this;var E=new this.constructor(o);if(this.state!==u){var M=this.state===d?_:N;p(E,M,this.outcome)}else this.queue.push(new m(E,_,N));return E};function m(_,N,E){this.promise=_,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(_){l.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){l.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)};function p(_,N,E){i(function(){var M;try{M=N(E)}catch(U){return l.reject(_,U)}M===_?l.reject(_,new TypeError("Cannot resolve promise with itself")):l.resolve(_,M)})}l.resolve=function(_,N){var E=w(x,N);if(E.status==="error")return l.reject(_,E.value);var M=E.value;if(M)g(_,M);else{_.state=d,_.outcome=N;for(var U=-1,$=_.queue.length;++U<$;)_.queue[U].callFulfilled(N)}return _},l.reject=function(_,N){_.state=c,_.outcome=N;for(var E=-1,M=_.queue.length;++E<M;)_.queue[E].callRejected(N);return _};function x(_){var N=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof N=="function")return function(){N.apply(_,arguments)}}function g(_,N){var E=!1;function M(F){E||(E=!0,l.reject(_,F))}function U(F){E||(E=!0,l.resolve(_,F))}function $(){N(U,M)}var L=w($);L.status==="error"&&M(L.value)}function w(_,N){var E={};try{E.value=_(N),E.status="success"}catch(M){E.status="error",E.value=M}return E}f.resolve=v;function v(_){return _ instanceof this?_:l.resolve(new this(o),_)}f.reject=y;function y(_){var N=new this(o);return l.reject(N,_)}f.all=b;function b(_){var N=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=_.length,M=!1;if(!E)return this.resolve([]);for(var U=new Array(E),$=0,L=-1,F=new this(o);++L<E;)O(_[L],L);return F;function O(R,S){N.resolve(R).then(A,function(ne){M||(M=!0,l.reject(F,ne))});function A(ne){U[S]=ne,++$===E&&!M&&(M=!0,l.resolve(F,U))}}}f.race=j;function j(_){var N=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=_.length,M=!1;if(!E)return this.resolve([]);for(var U=-1,$=new this(o);++U<E;)L(_[U]);return $;function L(F){N.resolve(F).then(function(O){M||(M=!0,l.resolve($,O))},function(O){M||(M=!0,l.reject($,O))})}}},{1:1}],3:[function(r,n,a){(function(i){typeof i.Promise!="function"&&(i.Promise=r(2))}).call(this,typeof Tr<"u"?Tr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};function o(P,V){if(!(P instanceof V))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function d(){try{if(!c||!c.open)return!1;var P=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),V=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!P||V)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(P,V){P=P||[],V=V||{};try{return new Blob(P,V)}catch(K){if(K.name!=="TypeError")throw K;for(var I=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Y=new I,Z=0;Z<P.length;Z+=1)Y.append(P[Z]);return Y.getBlob(V.type)}}typeof Promise>"u"&&r(3);var f=Promise;function m(P,V){V&&P.then(function(I){V(null,I)},function(I){V(I)})}function p(P,V,I){typeof V=="function"&&P.then(V),typeof I=="function"&&P.catch(I)}function x(P){return typeof P!="string"&&(console.warn(P+" used as a key, but it is not a string."),P=String(P)),P}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",v=void 0,y={},b=Object.prototype.toString,j="readonly",_="readwrite";function N(P){for(var V=P.length,I=new ArrayBuffer(V),Y=new Uint8Array(I),Z=0;Z<V;Z++)Y[Z]=P.charCodeAt(Z);return I}function E(P){return new f(function(V){var I=P.transaction(w,_),Y=u([""]);I.objectStore(w).put(Y,"key"),I.onabort=function(Z){Z.preventDefault(),Z.stopPropagation(),V(!1)},I.oncomplete=function(){var Z=navigator.userAgent.match(/Chrome\/(\d+)/),K=navigator.userAgent.match(/Edge\//);V(K||!Z||parseInt(Z[1],10)>=43)}}).catch(function(){return!1})}function M(P){return typeof v=="boolean"?f.resolve(v):E(P).then(function(V){return v=V,v})}function U(P){var V=y[P.name],I={};I.promise=new f(function(Y,Z){I.resolve=Y,I.reject=Z}),V.deferredOperations.push(I),V.dbReady?V.dbReady=V.dbReady.then(function(){return I.promise}):V.dbReady=I.promise}function $(P){var V=y[P.name],I=V.deferredOperations.pop();if(I)return I.resolve(),I.promise}function L(P,V){var I=y[P.name],Y=I.deferredOperations.pop();if(Y)return Y.reject(V),Y.promise}function F(P,V){return new f(function(I,Y){if(y[P.name]=y[P.name]||G(),P.db)if(V)U(P),P.db.close();else return I(P.db);var Z=[P.name];V&&Z.push(P.version);var K=c.open.apply(c,Z);V&&(K.onupgradeneeded=function(ce){var ye=K.result;try{ye.createObjectStore(P.storeName),ce.oldVersion<=1&&ye.createObjectStore(w)}catch(we){if(we.name==="ConstraintError")console.warn('The database "'+P.name+'" has been upgraded from version '+ce.oldVersion+" to version "+ce.newVersion+', but the storage "'+P.storeName+'" already exists.');else throw we}}),K.onerror=function(ce){ce.preventDefault(),Y(K.error)},K.onsuccess=function(){var ce=K.result;ce.onversionchange=function(ye){ye.target.close()},I(ce),$(P)}})}function O(P){return F(P,!1)}function R(P){return F(P,!0)}function S(P,V){if(!P.db)return!0;var I=!P.db.objectStoreNames.contains(P.storeName),Y=P.version<P.db.version,Z=P.version>P.db.version;if(Y&&(P.version!==V&&console.warn('The database "'+P.name+`" can't be downgraded from version `+P.db.version+" to version "+P.version+"."),P.version=P.db.version),Z||I){if(I){var K=P.db.version+1;K>P.version&&(P.version=K)}return!0}return!1}function A(P){return new f(function(V,I){var Y=new FileReader;Y.onerror=I,Y.onloadend=function(Z){var K=btoa(Z.target.result||"");V({__local_forage_encoded_blob:!0,data:K,type:P.type})},Y.readAsBinaryString(P)})}function ne(P){var V=N(atob(P.data));return u([V],{type:P.type})}function Q(P){return P&&P.__local_forage_encoded_blob}function W(P){var V=this,I=V._initReady().then(function(){var Y=y[V._dbInfo.name];if(Y&&Y.dbReady)return Y.dbReady});return p(I,P,P),I}function ae(P){U(P);for(var V=y[P.name],I=V.forages,Y=0;Y<I.length;Y++){var Z=I[Y];Z._dbInfo.db&&(Z._dbInfo.db.close(),Z._dbInfo.db=null)}return P.db=null,O(P).then(function(K){return P.db=K,S(P)?R(P):K}).then(function(K){P.db=V.db=K;for(var ce=0;ce<I.length;ce++)I[ce]._dbInfo.db=K}).catch(function(K){throw L(P,K),K})}function ge(P,V,I,Y){Y===void 0&&(Y=1);try{var Z=P.db.transaction(P.storeName,V);I(null,Z)}catch(K){if(Y>0&&(!P.db||K.name==="InvalidStateError"||K.name==="NotFoundError"))return f.resolve().then(function(){if(!P.db||K.name==="NotFoundError"&&!P.db.objectStoreNames.contains(P.storeName)&&P.version<=P.db.version)return P.db&&(P.version=P.db.version+1),R(P)}).then(function(){return ae(P).then(function(){ge(P,V,I,Y-1)})}).catch(I);I(K)}}function G(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ie(P){var V=this,I={db:null};if(P)for(var Y in P)I[Y]=P[Y];var Z=y[I.name];Z||(Z=G(),y[I.name]=Z),Z.forages.push(V),V._initReady||(V._initReady=V.ready,V.ready=W);var K=[];function ce(){return f.resolve()}for(var ye=0;ye<Z.forages.length;ye++){var we=Z.forages[ye];we!==V&&K.push(we._initReady().catch(ce))}var Ne=Z.forages.slice(0);return f.all(K).then(function(){return I.db=Z.db,O(I)}).then(function(Ce){return I.db=Ce,S(I,V._defaultConfig.version)?R(I):Ce}).then(function(Ce){I.db=Z.db=Ce,V._dbInfo=I;for(var Fe=0;Fe<Ne.length;Fe++){var ot=Ne[Fe];ot!==V&&(ot._dbInfo.db=I.db,ot._dbInfo.version=I.version)}})}function de(P,V){var I=this;P=x(P);var Y=new f(function(Z,K){I.ready().then(function(){ge(I._dbInfo,j,function(ce,ye){if(ce)return K(ce);try{var we=ye.objectStore(I._dbInfo.storeName),Ne=we.get(P);Ne.onsuccess=function(){var Ce=Ne.result;Ce===void 0&&(Ce=null),Q(Ce)&&(Ce=ne(Ce)),Z(Ce)},Ne.onerror=function(){K(Ne.error)}}catch(Ce){K(Ce)}})}).catch(K)});return m(Y,V),Y}function he(P,V){var I=this,Y=new f(function(Z,K){I.ready().then(function(){ge(I._dbInfo,j,function(ce,ye){if(ce)return K(ce);try{var we=ye.objectStore(I._dbInfo.storeName),Ne=we.openCursor(),Ce=1;Ne.onsuccess=function(){var Fe=Ne.result;if(Fe){var ot=Fe.value;Q(ot)&&(ot=ne(ot));var xt=P(ot,Fe.key,Ce++);xt!==void 0?Z(xt):Fe.continue()}else Z()},Ne.onerror=function(){K(Ne.error)}}catch(Fe){K(Fe)}})}).catch(K)});return m(Y,V),Y}function me(P,V,I){var Y=this;P=x(P);var Z=new f(function(K,ce){var ye;Y.ready().then(function(){return ye=Y._dbInfo,b.call(V)==="[object Blob]"?M(ye.db).then(function(we){return we?V:A(V)}):V}).then(function(we){ge(Y._dbInfo,_,function(Ne,Ce){if(Ne)return ce(Ne);try{var Fe=Ce.objectStore(Y._dbInfo.storeName);we===null&&(we=void 0);var ot=Fe.put(we,P);Ce.oncomplete=function(){we===void 0&&(we=null),K(we)},Ce.onabort=Ce.onerror=function(){var xt=ot.error?ot.error:ot.transaction.error;ce(xt)}}catch(xt){ce(xt)}})}).catch(ce)});return m(Z,I),Z}function se(P,V){var I=this;P=x(P);var Y=new f(function(Z,K){I.ready().then(function(){ge(I._dbInfo,_,function(ce,ye){if(ce)return K(ce);try{var we=ye.objectStore(I._dbInfo.storeName),Ne=we.delete(P);ye.oncomplete=function(){Z()},ye.onerror=function(){K(Ne.error)},ye.onabort=function(){var Ce=Ne.error?Ne.error:Ne.transaction.error;K(Ce)}}catch(Ce){K(Ce)}})}).catch(K)});return m(Y,V),Y}function J(P){var V=this,I=new f(function(Y,Z){V.ready().then(function(){ge(V._dbInfo,_,function(K,ce){if(K)return Z(K);try{var ye=ce.objectStore(V._dbInfo.storeName),we=ye.clear();ce.oncomplete=function(){Y()},ce.onabort=ce.onerror=function(){var Ne=we.error?we.error:we.transaction.error;Z(Ne)}}catch(Ne){Z(Ne)}})}).catch(Z)});return m(I,P),I}function fe(P){var V=this,I=new f(function(Y,Z){V.ready().then(function(){ge(V._dbInfo,j,function(K,ce){if(K)return Z(K);try{var ye=ce.objectStore(V._dbInfo.storeName),we=ye.count();we.onsuccess=function(){Y(we.result)},we.onerror=function(){Z(we.error)}}catch(Ne){Z(Ne)}})}).catch(Z)});return m(I,P),I}function T(P,V){var I=this,Y=new f(function(Z,K){if(P<0){Z(null);return}I.ready().then(function(){ge(I._dbInfo,j,function(ce,ye){if(ce)return K(ce);try{var we=ye.objectStore(I._dbInfo.storeName),Ne=!1,Ce=we.openKeyCursor();Ce.onsuccess=function(){var Fe=Ce.result;if(!Fe){Z(null);return}P===0||Ne?Z(Fe.key):(Ne=!0,Fe.advance(P))},Ce.onerror=function(){K(Ce.error)}}catch(Fe){K(Fe)}})}).catch(K)});return m(Y,V),Y}function H(P){var V=this,I=new f(function(Y,Z){V.ready().then(function(){ge(V._dbInfo,j,function(K,ce){if(K)return Z(K);try{var ye=ce.objectStore(V._dbInfo.storeName),we=ye.openKeyCursor(),Ne=[];we.onsuccess=function(){var Ce=we.result;if(!Ce){Y(Ne);return}Ne.push(Ce.key),Ce.continue()},we.onerror=function(){Z(we.error)}}catch(Ce){Z(Ce)}})}).catch(Z)});return m(I,P),I}function ee(P,V){V=g.apply(this,arguments);var I=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||I.name,P.storeName=P.storeName||I.storeName);var Y=this,Z;if(!P.name)Z=f.reject("Invalid arguments");else{var K=P.name===I.name&&Y._dbInfo.db,ce=K?f.resolve(Y._dbInfo.db):O(P).then(function(ye){var we=y[P.name],Ne=we.forages;we.db=ye;for(var Ce=0;Ce<Ne.length;Ce++)Ne[Ce]._dbInfo.db=ye;return ye});P.storeName?Z=ce.then(function(ye){if(ye.objectStoreNames.contains(P.storeName)){var we=ye.version+1;U(P);var Ne=y[P.name],Ce=Ne.forages;ye.close();for(var Fe=0;Fe<Ce.length;Fe++){var ot=Ce[Fe];ot._dbInfo.db=null,ot._dbInfo.version=we}var xt=new f(function(jt,rr){var Yt=c.open(P.name,we);Yt.onerror=function(Nn){var Nl=Yt.result;Nl.close(),rr(Nn)},Yt.onupgradeneeded=function(){var Nn=Yt.result;Nn.deleteObjectStore(P.storeName)},Yt.onsuccess=function(){var Nn=Yt.result;Nn.close(),jt(Nn)}});return xt.then(function(jt){Ne.db=jt;for(var rr=0;rr<Ce.length;rr++){var Yt=Ce[rr];Yt._dbInfo.db=jt,$(Yt._dbInfo)}}).catch(function(jt){throw(L(P,jt)||f.resolve()).catch(function(){}),jt})}}):Z=ce.then(function(ye){U(P);var we=y[P.name],Ne=we.forages;ye.close();for(var Ce=0;Ce<Ne.length;Ce++){var Fe=Ne[Ce];Fe._dbInfo.db=null}var ot=new f(function(xt,jt){var rr=c.deleteDatabase(P.name);rr.onerror=function(){var Yt=rr.result;Yt&&Yt.close(),jt(rr.error)},rr.onblocked=function(){console.warn('dropInstance blocked for database "'+P.name+'" until all open connections are closed')},rr.onsuccess=function(){var Yt=rr.result;Yt&&Yt.close(),xt(Yt)}});return ot.then(function(xt){we.db=xt;for(var jt=0;jt<Ne.length;jt++){var rr=Ne[jt];$(rr._dbInfo)}}).catch(function(xt){throw(L(P,xt)||f.resolve()).catch(function(){}),xt})})}return m(Z,V),Z}var oe={_driver:"asyncStorage",_initStorage:ie,_support:d(),iterate:he,getItem:de,setItem:me,removeItem:se,clear:J,length:fe,key:T,keys:H,dropInstance:ee};function be(){return typeof openDatabase=="function"}var He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ut="~~local_forage_type~",Pe=/^~~local_forage_type~([^~]+)~/,Be="__lfsc__:",tt=Be.length,C="arbf",z="blob",k="si08",D="ui08",X="uic8",te="si16",re="si32",Te="ur16",ke="ui32",Ge="fl32",Qe="fl64",lt=tt+C.length,gt=Object.prototype.toString;function yt(P){var V=P.length*.75,I=P.length,Y,Z=0,K,ce,ye,we;P[P.length-1]==="="&&(V--,P[P.length-2]==="="&&V--);var Ne=new ArrayBuffer(V),Ce=new Uint8Array(Ne);for(Y=0;Y<I;Y+=4)K=He.indexOf(P[Y]),ce=He.indexOf(P[Y+1]),ye=He.indexOf(P[Y+2]),we=He.indexOf(P[Y+3]),Ce[Z++]=K<<2|ce>>4,Ce[Z++]=(ce&15)<<4|ye>>2,Ce[Z++]=(ye&3)<<6|we&63;return Ne}function rt(P){var V=new Uint8Array(P),I="",Y;for(Y=0;Y<V.length;Y+=3)I+=He[V[Y]>>2],I+=He[(V[Y]&3)<<4|V[Y+1]>>4],I+=He[(V[Y+1]&15)<<2|V[Y+2]>>6],I+=He[V[Y+2]&63];return V.length%3===2?I=I.substring(0,I.length-1)+"=":V.length%3===1&&(I=I.substring(0,I.length-2)+"=="),I}function Tt(P,V){var I="";if(P&&(I=gt.call(P)),P&&(I==="[object ArrayBuffer]"||P.buffer&&gt.call(P.buffer)==="[object ArrayBuffer]")){var Y,Z=Be;P instanceof ArrayBuffer?(Y=P,Z+=C):(Y=P.buffer,I==="[object Int8Array]"?Z+=k:I==="[object Uint8Array]"?Z+=D:I==="[object Uint8ClampedArray]"?Z+=X:I==="[object Int16Array]"?Z+=te:I==="[object Uint16Array]"?Z+=Te:I==="[object Int32Array]"?Z+=re:I==="[object Uint32Array]"?Z+=ke:I==="[object Float32Array]"?Z+=Ge:I==="[object Float64Array]"?Z+=Qe:V(new Error("Failed to get type for BinaryArray"))),V(Z+rt(Y))}else if(I==="[object Blob]"){var K=new FileReader;K.onload=function(){var ce=ut+P.type+"~"+rt(this.result);V(Be+z+ce)},K.readAsArrayBuffer(P)}else try{V(JSON.stringify(P))}catch(ce){console.error("Couldn't convert value into a JSON string: ",P),V(null,ce)}}function Ke(P){if(P.substring(0,tt)!==Be)return JSON.parse(P);var V=P.substring(lt),I=P.substring(tt,lt),Y;if(I===z&&Pe.test(V)){var Z=V.match(Pe);Y=Z[1],V=V.substring(Z[0].length)}var K=yt(V);switch(I){case C:return K;case z:return u([K],{type:Y});case k:return new Int8Array(K);case D:return new Uint8Array(K);case X:return new Uint8ClampedArray(K);case te:return new Int16Array(K);case Te:return new Uint16Array(K);case re:return new Int32Array(K);case ke:return new Uint32Array(K);case Ge:return new Float32Array(K);case Qe:return new Float64Array(K);default:throw new Error("Unkown type: "+I)}}var fr={serialize:Tt,deserialize:Ke,stringToBuffer:yt,bufferToString:rt};function Ve(P,V,I,Y){P.executeSql("CREATE TABLE IF NOT EXISTS "+V.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],I,Y)}function St(P){var V=this,I={db:null};if(P)for(var Y in P)I[Y]=typeof P[Y]!="string"?P[Y].toString():P[Y];var Z=new f(function(K,ce){try{I.db=openDatabase(I.name,String(I.version),I.description,I.size)}catch(ye){return ce(ye)}I.db.transaction(function(ye){Ve(ye,I,function(){V._dbInfo=I,K()},function(we,Ne){ce(Ne)})},ce)});return I.serializer=fr,Z}function ht(P,V,I,Y,Z,K){P.executeSql(I,Y,Z,function(ce,ye){ye.code===ye.SYNTAX_ERR?ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[V.storeName],function(we,Ne){Ne.rows.length?K(we,ye):Ve(we,V,function(){we.executeSql(I,Y,Z,K)},K)},K):K(ce,ye)},K)}function Ir(P,V){var I=this;P=x(P);var Y=new f(function(Z,K){I.ready().then(function(){var ce=I._dbInfo;ce.db.transaction(function(ye){ht(ye,ce,"SELECT * FROM "+ce.storeName+" WHERE key = ? LIMIT 1",[P],function(we,Ne){var Ce=Ne.rows.length?Ne.rows.item(0).value:null;Ce&&(Ce=ce.serializer.deserialize(Ce)),Z(Ce)},function(we,Ne){K(Ne)})})}).catch(K)});return m(Y,V),Y}function Ct(P,V){var I=this,Y=new f(function(Z,K){I.ready().then(function(){var ce=I._dbInfo;ce.db.transaction(function(ye){ht(ye,ce,"SELECT * FROM "+ce.storeName,[],function(we,Ne){for(var Ce=Ne.rows,Fe=Ce.length,ot=0;ot<Fe;ot++){var xt=Ce.item(ot),jt=xt.value;if(jt&&(jt=ce.serializer.deserialize(jt)),jt=P(jt,xt.key,ot+1),jt!==void 0){Z(jt);return}}Z()},function(we,Ne){K(Ne)})})}).catch(K)});return m(Y,V),Y}function Ue(P,V,I,Y){var Z=this;P=x(P);var K=new f(function(ce,ye){Z.ready().then(function(){V===void 0&&(V=null);var we=V,Ne=Z._dbInfo;Ne.serializer.serialize(V,function(Ce,Fe){Fe?ye(Fe):Ne.db.transaction(function(ot){ht(ot,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[P,Ce],function(){ce(we)},function(xt,jt){ye(jt)})},function(ot){if(ot.code===ot.QUOTA_ERR){if(Y>0){ce(Ue.apply(Z,[P,we,I,Y-1]));return}ye(ot)}})})}).catch(ye)});return m(K,I),K}function Mt(P,V,I){return Ue.apply(this,[P,V,I,1])}function $e(P,V){var I=this;P=x(P);var Y=new f(function(Z,K){I.ready().then(function(){var ce=I._dbInfo;ce.db.transaction(function(ye){ht(ye,ce,"DELETE FROM "+ce.storeName+" WHERE key = ?",[P],function(){Z()},function(we,Ne){K(Ne)})})}).catch(K)});return m(Y,V),Y}function Ze(P){var V=this,I=new f(function(Y,Z){V.ready().then(function(){var K=V._dbInfo;K.db.transaction(function(ce){ht(ce,K,"DELETE FROM "+K.storeName,[],function(){Y()},function(ye,we){Z(we)})})}).catch(Z)});return m(I,P),I}function ze(P){var V=this,I=new f(function(Y,Z){V.ready().then(function(){var K=V._dbInfo;K.db.transaction(function(ce){ht(ce,K,"SELECT COUNT(key) as c FROM "+K.storeName,[],function(ye,we){var Ne=we.rows.item(0).c;Y(Ne)},function(ye,we){Z(we)})})}).catch(Z)});return m(I,P),I}function Et(P,V){var I=this,Y=new f(function(Z,K){I.ready().then(function(){var ce=I._dbInfo;ce.db.transaction(function(ye){ht(ye,ce,"SELECT key FROM "+ce.storeName+" WHERE id = ? LIMIT 1",[P+1],function(we,Ne){var Ce=Ne.rows.length?Ne.rows.item(0).key:null;Z(Ce)},function(we,Ne){K(Ne)})})}).catch(K)});return m(Y,V),Y}function vt(P){var V=this,I=new f(function(Y,Z){V.ready().then(function(){var K=V._dbInfo;K.db.transaction(function(ce){ht(ce,K,"SELECT key FROM "+K.storeName,[],function(ye,we){for(var Ne=[],Ce=0;Ce<we.rows.length;Ce++)Ne.push(we.rows.item(Ce).key);Y(Ne)},function(ye,we){Z(we)})})}).catch(Z)});return m(I,P),I}function Gt(P){return new f(function(V,I){P.transaction(function(Y){Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Z,K){for(var ce=[],ye=0;ye<K.rows.length;ye++)ce.push(K.rows.item(ye).name);V({db:P,storeNames:ce})},function(Z,K){I(K)})},function(Y){I(Y)})})}function Wt(P,V){V=g.apply(this,arguments);var I=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||I.name,P.storeName=P.storeName||I.storeName);var Y=this,Z;return P.name?Z=new f(function(K){var ce;P.name===I.name?ce=Y._dbInfo.db:ce=openDatabase(P.name,"","",0),P.storeName?K({db:ce,storeNames:[P.storeName]}):K(Gt(ce))}).then(function(K){return new f(function(ce,ye){K.db.transaction(function(we){function Ne(xt){return new f(function(jt,rr){we.executeSql("DROP TABLE IF EXISTS "+xt,[],function(){jt()},function(Yt,Nn){rr(Nn)})})}for(var Ce=[],Fe=0,ot=K.storeNames.length;Fe<ot;Fe++)Ce.push(Ne(K.storeNames[Fe]));f.all(Ce).then(function(){ce()}).catch(function(xt){ye(xt)})},function(we){ye(we)})})}):Z=f.reject("Invalid arguments"),m(Z,V),Z}var tr={_driver:"webSQLStorage",_initStorage:St,_support:be(),iterate:Ct,getItem:Ir,setItem:Mt,removeItem:$e,clear:Ze,length:ze,key:Et,keys:vt,dropInstance:Wt};function Sr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function at(P,V){var I=P.name+"/";return P.storeName!==V.storeName&&(I+=P.storeName+"/"),I}function wt(){var P="_localforage_support_test";try{return localStorage.setItem(P,!0),localStorage.removeItem(P),!1}catch{return!0}}function Hr(){return!wt()||localStorage.length>0}function Ut(P){var V=this,I={};if(P)for(var Y in P)I[Y]=P[Y];return I.keyPrefix=at(P,V._defaultConfig),Hr()?(V._dbInfo=I,I.serializer=fr,f.resolve()):f.reject()}function as(P){var V=this,I=V.ready().then(function(){for(var Y=V._dbInfo.keyPrefix,Z=localStorage.length-1;Z>=0;Z--){var K=localStorage.key(Z);K.indexOf(Y)===0&&localStorage.removeItem(K)}});return m(I,P),I}function md(P,V){var I=this;P=x(P);var Y=I.ready().then(function(){var Z=I._dbInfo,K=localStorage.getItem(Z.keyPrefix+P);return K&&(K=Z.serializer.deserialize(K)),K});return m(Y,V),Y}function yh(P,V){var I=this,Y=I.ready().then(function(){for(var Z=I._dbInfo,K=Z.keyPrefix,ce=K.length,ye=localStorage.length,we=1,Ne=0;Ne<ye;Ne++){var Ce=localStorage.key(Ne);if(Ce.indexOf(K)===0){var Fe=localStorage.getItem(Ce);if(Fe&&(Fe=Z.serializer.deserialize(Fe)),Fe=P(Fe,Ce.substring(ce),we++),Fe!==void 0)return Fe}}});return m(Y,V),Y}function Bk(P,V){var I=this,Y=I.ready().then(function(){var Z=I._dbInfo,K;try{K=localStorage.key(P)}catch{K=null}return K&&(K=K.substring(Z.keyPrefix.length)),K});return m(Y,V),Y}function Vk(P){var V=this,I=V.ready().then(function(){for(var Y=V._dbInfo,Z=localStorage.length,K=[],ce=0;ce<Z;ce++){var ye=localStorage.key(ce);ye.indexOf(Y.keyPrefix)===0&&K.push(ye.substring(Y.keyPrefix.length))}return K});return m(I,P),I}function zk(P){var V=this,I=V.keys().then(function(Y){return Y.length});return m(I,P),I}function Wk(P,V){var I=this;P=x(P);var Y=I.ready().then(function(){var Z=I._dbInfo;localStorage.removeItem(Z.keyPrefix+P)});return m(Y,V),Y}function Hk(P,V,I){var Y=this;P=x(P);var Z=Y.ready().then(function(){V===void 0&&(V=null);var K=V;return new f(function(ce,ye){var we=Y._dbInfo;we.serializer.serialize(V,function(Ne,Ce){if(Ce)ye(Ce);else try{localStorage.setItem(we.keyPrefix+P,Ne),ce(K)}catch(Fe){(Fe.name==="QuotaExceededError"||Fe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ye(Fe),ye(Fe)}})})});return m(Z,I),Z}function Qk(P,V){if(V=g.apply(this,arguments),P=typeof P!="function"&&P||{},!P.name){var I=this.config();P.name=P.name||I.name,P.storeName=P.storeName||I.storeName}var Y=this,Z;return P.name?Z=new f(function(K){P.storeName?K(at(P,Y._defaultConfig)):K(P.name+"/")}).then(function(K){for(var ce=localStorage.length-1;ce>=0;ce--){var ye=localStorage.key(ce);ye.indexOf(K)===0&&localStorage.removeItem(ye)}}):Z=f.reject("Invalid arguments"),m(Z,V),Z}var Kk={_driver:"localStorageWrapper",_initStorage:Ut,_support:Sr(),iterate:yh,getItem:md,setItem:Hk,removeItem:Wk,clear:as,length:zk,key:Bk,keys:Vk,dropInstance:Qk},Gk=function(V,I){return V===I||typeof V=="number"&&typeof I=="number"&&isNaN(V)&&isNaN(I)},Yk=function(V,I){for(var Y=V.length,Z=0;Z<Y;){if(Gk(V[Z],I))return!0;Z++}return!1},Fv=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"},_l={},$v={},Xi={INDEXEDDB:oe,WEBSQL:tr,LOCALSTORAGE:Kk},Xk=[Xi.INDEXEDDB._driver,Xi.WEBSQL._driver,Xi.LOCALSTORAGE._driver],pd=["dropInstance"],vh=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(pd),Jk={description:"",driver:Xk.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Zk(P,V){P[V]=function(){var I=arguments;return P.ready().then(function(){return P[V].apply(P,I)})}}function xh(){for(var P=1;P<arguments.length;P++){var V=arguments[P];if(V)for(var I in V)V.hasOwnProperty(I)&&(Fv(V[I])?arguments[0][I]=V[I].slice():arguments[0][I]=V[I])}return arguments[0]}var eP=function(){function P(V){o(this,P);for(var I in Xi)if(Xi.hasOwnProperty(I)){var Y=Xi[I],Z=Y._driver;this[I]=Z,_l[Z]||this.defineDriver(Y)}this._defaultConfig=xh({},Jk),this._config=xh({},this._defaultConfig,V),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return P.prototype.config=function(I){if((typeof I>"u"?"undefined":i(I))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Y in I){if(Y==="storeName"&&(I[Y]=I[Y].replace(/\W/g,"_")),Y==="version"&&typeof I[Y]!="number")return new Error("Database version must be a number.");this._config[Y]=I[Y]}return"driver"in I&&I.driver?this.setDriver(this._config.driver):!0}else return typeof I=="string"?this._config[I]:this._config},P.prototype.defineDriver=function(I,Y,Z){var K=new f(function(ce,ye){try{var we=I._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!I._driver){ye(Ne);return}for(var Ce=vh.concat("_initStorage"),Fe=0,ot=Ce.length;Fe<ot;Fe++){var xt=Ce[Fe],jt=!Yk(pd,xt);if((jt||I[xt])&&typeof I[xt]!="function"){ye(Ne);return}}var rr=function(){for(var Nl=function(nP){return function(){var sP=new Error("Method "+nP+" is not implemented by the current driver"),qv=f.reject(sP);return m(qv,arguments[arguments.length-1]),qv}},bh=0,rP=pd.length;bh<rP;bh++){var wh=pd[bh];I[wh]||(I[wh]=Nl(wh))}};rr();var Yt=function(Nl){_l[we]&&console.info("Redefining LocalForage driver: "+we),_l[we]=I,$v[we]=Nl,ce()};"_support"in I?I._support&&typeof I._support=="function"?I._support().then(Yt,ye):Yt(!!I._support):Yt(!0)}catch(Nn){ye(Nn)}});return p(K,Y,Z),K},P.prototype.driver=function(){return this._driver||null},P.prototype.getDriver=function(I,Y,Z){var K=_l[I]?f.resolve(_l[I]):f.reject(new Error("Driver not found."));return p(K,Y,Z),K},P.prototype.getSerializer=function(I){var Y=f.resolve(fr);return p(Y,I),Y},P.prototype.ready=function(I){var Y=this,Z=Y._driverSet.then(function(){return Y._ready===null&&(Y._ready=Y._initDriver()),Y._ready});return p(Z,I,I),Z},P.prototype.setDriver=function(I,Y,Z){var K=this;Fv(I)||(I=[I]);var ce=this._getSupportedDrivers(I);function ye(){K._config.driver=K.driver()}function we(Fe){return K._extend(Fe),ye(),K._ready=K._initStorage(K._config),K._ready}function Ne(Fe){return function(){var ot=0;function xt(){for(;ot<Fe.length;){var jt=Fe[ot];return ot++,K._dbInfo=null,K._ready=null,K.getDriver(jt).then(we).catch(xt)}ye();var rr=new Error("No available storage method found.");return K._driverSet=f.reject(rr),K._driverSet}return xt()}}var Ce=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Ce.then(function(){var Fe=ce[0];return K._dbInfo=null,K._ready=null,K.getDriver(Fe).then(function(ot){K._driver=ot._driver,ye(),K._wrapLibraryMethodsWithReady(),K._initDriver=Ne(ce)})}).catch(function(){ye();var Fe=new Error("No available storage method found.");return K._driverSet=f.reject(Fe),K._driverSet}),p(this._driverSet,Y,Z),this._driverSet},P.prototype.supports=function(I){return!!$v[I]},P.prototype._extend=function(I){xh(this,I)},P.prototype._getSupportedDrivers=function(I){for(var Y=[],Z=0,K=I.length;Z<K;Z++){var ce=I[Z];this.supports(ce)&&Y.push(ce)}return Y},P.prototype._wrapLibraryMethodsWithReady=function(){for(var I=0,Y=vh.length;I<Y;I++)Zk(this,vh[I])},P.prototype.createInstance=function(I){return new P(I)},P}(),tP=new eP;n.exports=tP},{3:3}]},{},[4])(4)})})(KN);var $D=KN.exports;const Pi=Ng($D);Pi.config({name:"semiproperty-guardian",storeName:"react-query-cache",description:"Persisted React Query cache for offline support"});const rm="rq-cache-v1",qD={persistClient:async e=>{try{await Pi.setItem(rm,e)}catch(t){console.warn("Failed to persist query client",t)}},restoreClient:async()=>{try{return await Pi.getItem(rm)??void 0}catch(e){console.warn("Failed to restore query client",e);return}},removeClient:async()=>{try{await Pi.removeItem(rm)}catch(e){console.warn("Failed to remove persisted query client",e)}}},GN=5*60*1e3,UD=24*60*60*1e3,BD=24*60*60*1e3,YN="offline-mutation-queue-v1";Pi.config({name:"semiproperty-guardian",storeName:"offline-queue"});async function XN(){return await Pi.getItem(YN)||[]}async function JN(e){await Pi.setItem(YN,e)}async function Os(e,t){const r={id:`${e}-${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e,payload:t,createdAt:Date.now()},n=await XN();return n.push(r),await JN(n),r}async function VD(e){if(!navigator.onLine)return{processed:0,failed:0};let t=await XN();if(!t.length)return{processed:0,failed:0};const r=[];let n=0,a=0;for(const i of t){const o=e[i.name];if(!o){r.push(i);continue}try{await o(i.payload),n+=1}catch(l){console.warn("Failed processing offline mutation",i.name,l),a+=1,r.push(i)}}return await JN(r),{processed:n,failed:a}}const zD="modulepreload",WD=function(e){return"/semi-property-guardian/"+e},Lb={},ed=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=WD(c),c in Lb)return;Lb[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":zD,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},HD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ed(async()=>{const{default:n}=await Promise.resolve().then(()=>vl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class By extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class QD extends By{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fb extends By{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $b extends By{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qp||(Qp={}));var KD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class GD{constructor(t,{headers:r={},customFetch:n,region:a=Qp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=HD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return KD(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new QD(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Fb(f);if(!f.ok)throw new $b(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof $b||a instanceof Fb?a.context:void 0}}})}}var en={},Vy={},Vf={},td={},zf={},Wf={},YD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ol=YD();const XD=ol.fetch,ZN=ol.fetch.bind(ol),eS=ol.Headers,JD=ol.Request,ZD=ol.Response,vl=Object.freeze(Object.defineProperty({__proto__:null,Headers:eS,Request:JD,Response:ZD,default:ZN,fetch:XD},Symbol.toStringTag,{value:"Module"})),eM=iP(vl);var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});let tM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hf.default=tM;var tS=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wf,"__esModule",{value:!0});const rM=tS(eM),nM=tS(Hf);let sM=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,m=null,p=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(f=[],u=null,p=200,x="OK")}catch{i.status===404&&w===""?(p=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new nM.default(u)}return{error:u,data:f,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Wf.default=sM;var aM=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const iM=aM(Wf);let oM=class extends iM.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};zf.default=oM;var lM=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(td,"__esModule",{value:!0});const cM=lM(zf);let dM=class extends cM.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};td.default=dM;var uM=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vf,"__esModule",{value:!0});const Dl=uM(td);let fM=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Dl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Dl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Dl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Dl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Dl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Vf.default=fM;var rS=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vy,"__esModule",{value:!0});const hM=rS(Vf),mM=rS(td);let pM=class nS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new hM.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new mM.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Vy.default=pM;var xl=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(en,"__esModule",{value:!0});en.PostgrestError=en.PostgrestBuilder=en.PostgrestTransformBuilder=en.PostgrestFilterBuilder=en.PostgrestQueryBuilder=en.PostgrestClient=void 0;const sS=xl(Vy);en.PostgrestClient=sS.default;const aS=xl(Vf);en.PostgrestQueryBuilder=aS.default;const iS=xl(td);en.PostgrestFilterBuilder=iS.default;const oS=xl(zf);en.PostgrestTransformBuilder=oS.default;const lS=xl(Wf);en.PostgrestBuilder=lS.default;const cS=xl(Hf);en.PostgrestError=cS.default;var gM=en.default={PostgrestClient:sS.default,PostgrestQueryBuilder:aS.default,PostgrestFilterBuilder:iS.default,PostgrestTransformBuilder:oS.default,PostgrestBuilder:lS.default,PostgrestError:cS.default};const{PostgrestClient:yM,PostgrestQueryBuilder:kV,PostgrestFilterBuilder:PV,PostgrestTransformBuilder:TV,PostgrestBuilder:AV,PostgrestError:IV}=gM;class vM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xM="2.15.5",bM=`realtime-js/${xM}`,wM="1.0.0",Kp=1e4,jM=1e3,_M=100;var ic;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ic||(ic={}));var or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(or||(or={}));var zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zn||(zn={}));var Gp;(function(e){e.websocket="websocket"})(Gp||(Gp={}));var fi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fi||(fi={}));class NM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class dS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const qb=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=SM(o,e,t,a),i),{})},SM=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?uS(i,o):Yp(o)},uS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PM(t,r)}switch(e){case kt.bool:return CM(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return EM(t);case kt.json:case kt.jsonb:return kM(t);case kt.timestamp:return TM(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return Yp(t);default:return Yp(t)}},Yp=e=>e,CM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>uS(t,l))}return e},TM=e=>typeof e=="string"?e.replace(" ","T"):e,fS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class nm{constructor(t,r,n={},a=Kp){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ub;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ub||(Ub={}));class oc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=oc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=oc.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),x=u.filter(w=>p.indexOf(w.presence_ref)<0),g=f.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bb||(Bb={}));var lc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lc||(lc={}));var Is;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Is||(Is={}));class zy{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nm(this,zn.join,this.params,this.timeout),this.rejoinTimer=new dS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new oc(this),this.broadcastEndpointURL=fS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[lc.PRESENCE]&&this.bindings[lc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Is.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Is.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Is.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,v=[];for(let y=0;y<w;y++){const b=g[y],{filter:{event:j,schema:_,table:N,filter:E}}=b,M=p&&p[y];if(M&&M.event===j&&M.schema===_&&M.table===N&&M.filter===E)v.push(Object.assign(Object.assign({},b),{id:M.id}));else{this.unsubscribe(),this.state=or.errored,t==null||t(Is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Is.SUBSCRIBED);return}}).receive("error",p=>{this.state=or.errored,t==null||t(Is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===or.joined&&t===lc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new nm(this,zn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new nm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_M){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=zn;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,g,w,v,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:w,commit_timestamp:v,type:y,errors:b}=x;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zy.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zn.close,{},t)}_onError(t){this._on(zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qb(t.columns,t.old_record)),r}}const sm=()=>{},qd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AM=[1e3,2e3,5e3,1e4],IM=1e4,RM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kp,this.transport=null,this.heartbeatIntervalMs=qd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sm,this.ref=0,this.reconnectTimer=null,this.logger=sm,this.conn=null,this.sendBuffer=[],this.serializer=new NM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>ed(async()=>{const{default:l}=await Promise.resolve().then(()=>vl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Gp.websocket}`,this.httpEndpoint=fS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wM}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ic.connecting:return fi.Connecting;case ic.open:return fi.Open;case ic.closing:return fi.Closing;default:return fi.Closed}}isConnected(){return this.connectionState()===fi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new zy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:bM};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Kp,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:qd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:sm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>AM[f-1]||IM,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,m)=>m(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Wy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DM extends Wy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xp extends Wy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var MM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const hS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ed(async()=>{const{default:n}=await Promise.resolve().then(()=>vl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},LM=()=>MM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ed(()=>Promise.resolve().then(()=>vl),void 0)).Response:Response}),Jp=e=>{if(Array.isArray(e))return e.map(r=>Jp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Jp(n)}),t},FM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const am=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$M=(e,t,r)=>Qi(void 0,void 0,void 0,function*(){const n=yield LM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new DM(am(a),i,o))}).catch(a=>{t(new Xp(am(a),a))}):t(new Xp(am(e),e))}),qM=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(FM(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function rd(e,t,r,n,a,i){return Qi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,qM(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$M(c,l,n))})})}function Xu(e,t,r,n){return Qi(this,void 0,void 0,function*(){return rd(e,"GET",t,r,n)})}function ls(e,t,r,n,a){return Qi(this,void 0,void 0,function*(){return rd(e,"POST",t,n,a,r)})}function Zp(e,t,r,n,a){return Qi(this,void 0,void 0,function*(){return rd(e,"PUT",t,n,a,r)})}function UM(e,t,r,n){return Qi(this,void 0,void 0,function*(){return rd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mS(e,t,r,n,a){return Qi(this,void 0,void 0,function*(){return rd(e,"DELETE",t,n,a,r)})}var Rr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const BM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VM{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=hS(a)}uploadOrUpdate(t,r,n,a){return Rr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Vb),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?Zp:ls)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(lr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Vb.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Zp(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(lr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ls(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Wy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Rr(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Rr(this,void 0,void 0,function*(){try{return{data:{path:(yield ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Rr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ls(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Rr(this,void 0,void 0,function*(){try{const a=yield ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}})}download(t,r){return Rr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Xu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(lr(l))return{data:null,error:l};throw l}})}info(t){return Rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jp(n),error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}})}exists(t){return Rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(lr(n)&&n instanceof Xp){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield mS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(lr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Rr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},BM),r),{prefix:t||""});return{data:yield ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}})}listV2(t,r){return Rr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ls(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const zM="2.11.1",WM={"X-Client-Info":`storage-js/${zM}`};var Zi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class HM{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},WM),r),this.fetch=hS(n)}listBuckets(){return Zi(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(lr(t))return{data:null,error:t};throw t}})}getBucket(t){return Zi(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(lr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Zi(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Zi(this,void 0,void 0,function*(){try{return{data:yield Zp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Zi(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(lr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Zi(this,void 0,void 0,function*(){try{return{data:yield mS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(lr(r))return{data:null,error:r};throw r}})}}class QM extends HM{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new VM(this.url,this.headers,t,this.fetch)}}const KM="2.57.2";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const GM={"X-Client-Info":`supabase-js-${Ql}/${KM}`},YM={headers:GM},XM={schema:"public"},JM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZM={};var eL=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const tL=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZN:t=fetch,(...r)=>t(...r)},rL=()=>typeof Headers>"u"?eS:Headers,nL=(e,t,r)=>{const n=tL(r),a=rL();return(i,o)=>eL(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var sL=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function aL(e){return e.endsWith("/")?e:e+"/"}function iL(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>sL(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const pS="2.71.1",co=30*1e3,eg=3,im=eg*co,oL="http://localhost:9999",lL="supabase.auth.token",cL={"X-Client-Info":`gotrue-js/${pS}`},tg="X-Supabase-Api-Version",gS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uL=10*60*1e3;class Hy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function et(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fL extends Hy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hL(e){return et(e)&&e.name==="AuthApiError"}class yS extends Hy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Za extends Hy{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class la extends Za{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mL(e){return et(e)&&e.name==="AuthSessionMissingError"}class Ud extends Za{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bd extends Za{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vd extends Za{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pL(e){return et(e)&&e.name==="AuthImplicitGrantRedirectError"}class zb extends Za{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends Za{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function om(e){return et(e)&&e.name==="AuthRetryableFetchError"}class Wb extends Za{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ng extends Za{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hb=` 	
\r=`.split(""),gL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hb.length;t+=1)e[Hb[t].charCodeAt(0)]=-2;for(let t=0;t<Ju.length;t+=1)e[Ju[t].charCodeAt(0)]=t;return e})();function Qb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ju[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ju[n]),t.queuedBits-=6}}function vS(e,t,r){const n=gL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{xL(o,n,r)};for(let o=0;o<e.length;o+=1)vS(e.charCodeAt(o),a,i);return t.join("")}function yL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}yL(n,t)}}function xL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function bL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)vS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function wL(e){const t=[];return vL(e,r=>t.push(r)),new Uint8Array(t)}function jL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Qb(a,r,n)),Qb(null,r,n),t.join("")}function _L(e){return Math.round(Date.now()/1e3)+e}function NL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fn=()=>typeof window<"u"&&typeof document<"u",ai={tested:!1,writable:!1},xS=()=>{if(!Fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ai.tested)return ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ai.tested=!0,ai.writable=!0}catch{ai.tested=!0,ai.writable=!1}return ai.writable};function SL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const bS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ed(async()=>{const{default:n}=await Promise.resolve().then(()=>vl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},CL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ii=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},aa=async(e,t)=>{await e.removeItem(t)};class Qf{constructor(){this.promise=new Qf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Qf.promiseConstructor=Promise;function lm(e){const t=e.split(".");if(t.length!==3)throw new ng("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!dL.test(t[n]))throw new ng("JWT not in base64url format");return{header:JSON.parse(Kb(t[0])),payload:JSON.parse(Kb(t[1])),signature:bL(t[2]),raw:{header:t[0],payload:t[1]}}}async function EL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kL(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function PL(e){return("0"+e.toString(16)).substr(-2)}function TL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,PL).join("")}async function AL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function IL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await AL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eo(e,t,r=!1){const n=TL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uo(e,`${t}-code-verifier`,a);const i=await IL(n);return[i,n===i?"plain":"s256"]}const RL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OL(e){const t=e.headers.get(tg);if(!t||!t.match(RL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ML(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function to(e){if(!LL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gb(e){return JSON.parse(JSON.stringify(e))}var FL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ci=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$L=[502,503,504];async function Yb(e){var t;if(!CL(e))throw new rg(ci(e),0);if($L.includes(e.status))throw new rg(ci(e),e.status);let r;try{r=await e.json()}catch(i){throw new yS(ci(i),i)}let n;const a=OL(e);if(a&&a.getTime()>=gS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wb(ci(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wb(ci(r),e.status,r.weak_password.reasons);throw new fL(ci(r),e.status||500,n)}const qL=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ct(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[tg]||(i[tg]=gS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await UL(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function UL(e,t,r,n,a,i){const o=qL(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new rg(ci(c),0)}if(l.ok||await Yb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Yb(c)}}function Ts(e){var t;let r=null;WL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_L(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xb(e){const t=Ts(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ma(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function BL(e){return{data:e,error:null}}function VL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=FL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function zL(e){return e}function WL(e){return e.access_token&&e.refresh_token&&e.expires_in}const dm=["global","local","others"];var HL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class QL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=dm[0]){if(dm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dm.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ma})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=HL(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:VL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(et(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ma})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:zL});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(et(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){to(t);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ma})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){to(t);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ma})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){to(t);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ma})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){to(t.userId);try{const{data:r,error:n}=await ct(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _deleteFactor(t){to(t.userId),to(t.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}}function Jb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function KL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ro={debug:!!(globalThis&&xS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GL extends wS{}async function YL(e,t,r){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new GL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ro.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}KL();const XL={url:oL,storageKey:lL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zb(e,t,r){return await r()}const no={};class Rc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rc.nextInstanceID,Rc.nextInstanceID+=1,this.instanceID>0&&Fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},XL),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=bS(a.fetch),this.lock=a.lock||Zb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Fn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=YL:this.lock=Zb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:xS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=no[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){no[this.storageKey]=Object.assign(Object.assign({},no[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=no[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){no[this.storageKey]=Object.assign(Object.assign({},no[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=SL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return et(r)?{error:r}:{error:new yS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ts}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await eo(this.storage,this.storageKey)),i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ts})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ts})}else throw new Bd("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xb})}else throw new Bd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ud}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,f,m,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:v,statement:y,options:b}=t;let j;if(Fn())if(typeof v=="object")j=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:w,error:v}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:jL(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ts});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ud}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(et(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await ii(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ts});if(await aa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ud}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(et(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ts}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ud}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await eo(this.storage,this.storageKey));const{error:f}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Bd("You must provide either an email or phone number.")}catch(l){if(et(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(et(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await eo(this.storage,this.storageKey)),await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:BL})}catch(i){if(et(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new la;const{error:a}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ct(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ct(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Bd("You must provide either an email or phone number and a type")}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<im:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ii(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=cm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ma}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ma})})}catch(r){if(et(r))return mL(r)&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new la;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await eo(this.storage,this.storageKey));const{data:d,error:u}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ma});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new la;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=lm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(et(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new la;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fn())throw new Vd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zb("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Vd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(et(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ii(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(hL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=NL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await eo(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(et(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Fn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(et(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kL(async a=>(a>0&&await EL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ts})),(a,i)=>{const o=200*Math.pow(2,a);return i&&om(i)&&Date.now()+o-n<co})}catch(n){if(this._debug(r,"error",n),et(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ii(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await uo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:cm()}else if(a&&!a.user&&!a.user){const o=await ii(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await aa(this.storage,this.storageKey+"-user"),await uo(this.storage,this.storageKey,a)):a.user=cm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<im;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${im}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),om(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Qf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new la;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),et(i)){const o={session:null,error:i};return om(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Gb(a);await uo(this.storage,this.storageKey,i)}else{const a=Gb(r);await uo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await aa(this.storage,this.storageKey),await aa(this.storage,this.storageKey+"-code-verifier"),await aa(this.storage,this.storageKey+"-user"),this.userStorage&&await aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${co}ms, refresh threshold is ${eg} ticks`),a<=eg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await eo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ct(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(et(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(et(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+uL>a)return n;const{data:i,error:o}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=lm(n);r!=null&&r.allowExpired||DL(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=ML(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,wL(`${l}.${c}`)))throw new ng("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}}Rc.nextInstanceID=0;const JL=Rc;class ZL extends JL{constructor(t){super(t)}}var eF=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class tF{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=aL(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:XM,realtime:ZM,auth:Object.assign(Object.assign({},JM),{storageKey:d}),global:YM},f=iL(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=nL(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new yM(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new QM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new GD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZL({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new OM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rF=(e,t,r)=>new tF(e,t,r);function nF(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}nF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sF="=https://jiusoksloniuozxrdiok.supabase.co",aF="=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImppdXNva3Nsb25pdW96eHJkaW9rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNTE0OTcsImV4cCI6MjA3MjcyNzQ5N30.lWiuA4leNFisvHD6yfEtczqk9kDXJhtCpmY5PfKqjJ8",B=rF(sF,aF),Kf=(e=1,t=50)=>{const r=(e-1)*t,n=r+t-1;return{from:r,to:n}},pr={mapRow(e){return{id:e.id,entityName:e.entity_name,fundCluster:e.fund_cluster,semiExpendableProperty:e.semi_expendable_property,propertyNumber:e.property_number,description:e.description,dateAcquired:e.date_acquired,remarks:e.remarks??void 0,createdAt:e.created_at,updatedAt:e.updated_at}},mapEntry(e){return{id:e.id,propertyCardId:e.property_card_id,date:e.date,reference:e.reference,receiptQty:e.receipt_qty,unitCost:Number(e.unit_cost||0),totalCost:Number(e.total_cost||0),issueItemNo:e.issue_item_no,issueQty:e.issue_qty,officeOfficer:e.office_officer,balanceQty:e.balance_qty,amount:Number(e.amount||0),createdAt:e.created_at,updatedAt:e.updated_at}},async getAll(e={}){const{page:t=1,limit:r=50,search:n}=e,{from:a,to:i}=Kf(t,r);let o=B.from("property_cards").select("*",{count:"exact"}).range(a,i);n&&(o=o.or(`property_number.ilike.%${n}%,description.ilike.%${n}%,entity_name.ilike.%${n}%`));const l=await o.order("created_at",{ascending:!1});if(l.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:l.error.message};const c=l.count||0,d=Math.ceil(c/r);return{data:(l.data||[]).map(u=>pr.mapRow(u)),pagination:{page:t,limit:r,total:c,totalPages:d},success:!0}},async getById(e){var r;const t=await B.from("property_cards").select("*").eq("id",e).single();return{data:t.data?pr.mapRow(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getWithEntries(e){var n;const t=await B.from("property_cards").select(`
        *,
        entries:property_card_entries(*)
      `).eq("id",e).single();return{data:t.data?{...pr.mapRow(t.data),entries:(t.data.entries||[]).map(a=>pr.mapEntry(a))}:null,error:((n=t.error)==null?void 0:n.message)||null,success:!t.error}},async create(e){var r;if(!navigator.onLine)return await Os("propertyCards.create",{card:e}),{data:{id:`temp-${Date.now()}`,entityName:e.entityName,fundCluster:e.fundCluster,semiExpendableProperty:e.semiExpendableProperty,propertyNumber:e.propertyNumber,description:e.description,dateAcquired:e.dateAcquired,remarks:e.remarks,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const t=await B.from("property_cards").insert({entity_name:e.entityName,fund_cluster:e.fundCluster,semi_expendable_property:e.semiExpendableProperty,property_number:e.propertyNumber,description:e.description,date_acquired:e.dateAcquired,remarks:e.remarks}).select().single();return{data:t.data?pr.mapRow(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var a;if(!navigator.onLine)return await Os("propertyCards.update",{id:e,updates:t}),{data:{id:e,entityName:t.entityName??"",fundCluster:t.fundCluster??"",semiExpendableProperty:t.semiExpendableProperty??"",propertyNumber:t.propertyNumber??"",description:t.description??"",dateAcquired:t.dateAcquired??new Date().toISOString(),remarks:t.remarks,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const r={};t.entityName&&(r.entity_name=t.entityName),t.fundCluster&&(r.fund_cluster=t.fundCluster),t.semiExpendableProperty&&(r.semi_expendable_property=t.semiExpendableProperty),t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.remarks!==void 0&&(r.remarks=t.remarks);const n=await B.from("property_cards").update(r).eq("id",e).select().single();return{data:n.data?pr.mapRow(n.data):null,error:((a=n.error)==null?void 0:a.message)||null,success:!n.error}},async delete(e){var r;if(!navigator.onLine)return await Os("propertyCards.delete",{id:e}),{data:null,error:null,success:!0};const t=await B.from("property_cards").delete().eq("id",e);return{data:t.data?pr.mapEntry(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async addEntry(e,t){var n;if(!navigator.onLine)return await Os("propertyCards.addEntry",{propertyCardId:e,entry:t}),{data:{id:`temp-entry-${Date.now()}`,propertyCardId:e,date:t.date,reference:t.reference,receiptQty:t.receiptQty,unitCost:t.unitCost,totalCost:t.totalCost,issueItemNo:t.issueItemNo,issueQty:t.issueQty,officeOfficer:t.officeOfficer,balanceQty:t.balanceQty,amount:t.amount,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const r=await B.from("property_card_entries").insert({property_card_id:e,date:t.date,reference:t.reference,receipt_qty:t.receiptQty,unit_cost:t.unitCost,total_cost:t.totalCost,issue_item_no:t.issueItemNo,issue_qty:t.issueQty,office_officer:t.officeOfficer,balance_qty:t.balanceQty,amount:t.amount}).select().single();return{data:r.data?pr.mapEntry(r.data):null,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async updateEntry(e,t,r){var i;if(!navigator.onLine)return await Os("propertyCards.updateEntry",{propertyCardId:e,entryId:t,updates:r}),{data:{id:t,propertyCardId:e,date:r.date??"",reference:r.reference??"",receiptQty:r.receiptQty??0,unitCost:r.unitCost??0,totalCost:r.totalCost??0,issueItemNo:r.issueItemNo??"",issueQty:r.issueQty??0,officeOfficer:r.officeOfficer??"",balanceQty:r.balanceQty??0,amount:r.amount??0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const n={};r.date&&(n.date=r.date),r.reference&&(n.reference=r.reference),r.receiptQty!==void 0&&(n.receipt_qty=r.receiptQty),r.unitCost!==void 0&&(n.unit_cost=r.unitCost),r.totalCost!==void 0&&(n.total_cost=r.totalCost),r.issueItemNo&&(n.issue_item_no=r.issueItemNo),r.issueQty!==void 0&&(n.issue_qty=r.issueQty),r.officeOfficer&&(n.office_officer=r.officeOfficer),r.balanceQty!==void 0&&(n.balance_qty=r.balanceQty),r.amount!==void 0&&(n.amount=r.amount);const a=await B.from("property_card_entries").update(n).eq("id",t).eq("property_card_id",e).select().single();return{data:a.data,error:((i=a.error)==null?void 0:i.message)||null,success:!a.error}},async deleteEntry(e,t){var n;if(!navigator.onLine)return await Os("propertyCards.deleteEntry",{propertyCardId:e,entryId:t}),{data:null,error:null,success:!0};const r=await B.from("property_card_entries").delete().eq("id",t).eq("property_card_id",e);return{data:r.data,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async getEntries(e){var r;const t=await B.from("property_card_entries").select("*").eq("property_card_id",e).order("date",{ascending:!0});return{data:(t.data||[]).map(n=>pr.mapEntry(n)),error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async search(e,t={}){return this.getAll({...t,search:e})},async safeDelete(e){try{const{data:t,error:r}=await B.rpc("safe_delete_property_card",{card_id:e});if(r){if(r.code==="PGRST202"||r.message.includes("Could not find the function")){console.warn("safe_delete_property_card function not found, using fallback deletion");const n=await this.canDelete(e);if(!n.success||!n.data)return{data:null,error:"Cannot delete property card - it has custodian slip or transfer references",success:!1};const{data:a}=await B.from("property_card_entries").select("id").eq("property_card_id",e);if(a&&a.length>0){const o=a.map(l=>l.id);await B.from("custodian_slip_items").update({property_card_entry_id:null}).in("property_card_entry_id",o)}const{error:i}=await B.from("property_cards").delete().eq("id",e);return i?{data:null,error:i.message,success:!1}:{data:!0,error:null,success:!0}}return console.error("Safe delete property card error:",r),{data:null,error:r.message,success:!1}}return{data:t,error:null,success:!0}}catch(t){return console.error("Safe delete property card exception:",t),{data:null,error:t instanceof Error?t.message:"Unknown error occurred",success:!1}}},async canDelete(e){try{const{data:t,error:r}=await B.rpc("can_delete_property_card",{card_id:e});if(r){if(r.code==="PGRST202"||r.message.includes("Could not find the function")){console.warn("can_delete_property_card function not found, using fallback check");const{data:n}=await B.from("property_card_entries").select("id").eq("property_card_id",e).limit(1);if(!n||n.length===0)return{data:!0,error:null,success:!0};const a=n.map(o=>o.id),{data:i}=await B.from("custodian_slip_items").select("id").in("property_card_entry_id",a).limit(1);return{data:!i||i.length===0,error:null,success:!0}}return console.error("Can delete property card error:",r),{data:null,error:r.message,success:!1}}return{data:t,error:null,success:!0}}catch(t){return console.error("Can delete property card exception:",t),{data:null,error:t instanceof Error?t.message:"Unknown error occurred",success:!1}}}},Xr={async getAll(e={}){const{page:t=1,limit:r=1e3,status:n,condition:a,search:i,filter:o,valueFilter:l}=e,{from:c,to:d}=Kf(t,r);let u;o==="available"?u=B.from("inventory_items").select("*",{count:"planned"}).range(c,d).eq("status","Active").eq("condition","Serviceable").or("assignment_status.is.null,assignment_status.eq.Available"):o==="issued"?(console.log("Fetching issued items with filter:",o),u=B.from("inventory_items").select("*",{count:"planned"}).range(c,d).eq("status","Active").eq("condition","Serviceable").eq("assignment_status","Assigned")):u=B.from("inventory_items").select("*",{count:"planned"}).range(c,d),n&&(u=u.eq("status",n)),a&&(u=u.eq("condition",a)),l==="high-value"?u=u.eq("sub_category","High Value Expendable"):l==="low-value"&&(u=u.eq("sub_category","Small Value Expendable")),i&&(u=u.or(`property_number.ilike.%${i}%,description.ilike.%${i}%,brand.ilike.%${i}%`));const f=await u.order("created_at",{ascending:!1});if(f.error)return console.error("Error fetching inventory items:",f.error),{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:f.error.message};let m=f.data||[];o==="available"&&(m=m.filter(v=>!(v.assignment_status==="Assigned"||v.custodian&&v.custodian.trim()!==""))),console.log("Raw database response:",{filter:o,dataCount:m.length,totalCount:f.count,sampleItems:m.slice(0,3).map(v=>({id:v.id,property_number:v.property_number,assignment_status:v.assignment_status,custodian:v.custodian,sub_category:v.sub_category}))});const p=o==="available"?m.length:f.count||0,x=Math.ceil(p/r),g=new Set;if(m.length>0){const v=m.map(y=>y.id);for(let y=0;y<v.length;y+=100){const b=v.slice(y,y+100),{data:j}=await B.from("property_cards").select("inventory_item_id").in("inventory_item_id",b);j&&j.forEach(_=>g.add(_.inventory_item_id))}}const w=m.map(v=>({id:v.id,propertyNumber:v.property_number,description:v.description||(v.model?`${v.brand?v.brand+" ":""}${v.model}`:v.brand)||"",brand:v.brand||"",model:v.model||"",serialNumber:v.serial_number||"",unitOfMeasure:v.unit_of_measure,quantity:v.quantity,unitCost:v.unit_cost,totalCost:v.total_cost,dateAcquired:v.date_acquired,supplier:v.supplier_id||"",condition:v.condition,fundSource:v.fund_source_id||"",remarks:v.remarks||"",lastInventoryDate:v.last_inventory_date||"",semiExpandableCategory:v.semi_expandable_category||void 0,subCategory:v.sub_category||void 0,entityName:v.entity_name||void 0,status:v.status,custodian:v.custodian||"",custodianPosition:v.custodian_position||"",assignmentStatus:v.assignment_status||"Available",assignedDate:v.assigned_date||"",hasPropertyCard:g.has(v.id),createdAt:v.created_at,updatedAt:v.updated_at}));return console.log("Transformed data sample:",{totalItems:w.length,spHVItems:w.filter(v=>{var y;return(y=v.propertyNumber)==null?void 0:y.startsWith("SPHV")}),spLVItems:w.filter(v=>{var y;return(y=v.propertyNumber)==null?void 0:y.startsWith("SPLV")}),sampleTransformed:w.slice(0,3).map(v=>({propertyNumber:v.propertyNumber,subCategory:v.subCategory}))}),{data:w,pagination:{page:t,limit:r,total:p,totalPages:x},success:!0}},async getById(e){const t=await B.from("inventory_items").select("*").eq("id",e).single();return t.error?{data:null,error:t.error.message,success:!1}:{data:{id:t.data.id,propertyNumber:t.data.property_number,description:t.data.description||(t.data.model?`${t.data.brand?t.data.brand+" ":""}${t.data.model}`:t.data.brand)||"",brand:t.data.brand||"",model:t.data.model||"",serialNumber:t.data.serial_number||"",unitOfMeasure:t.data.unit_of_measure,quantity:t.data.quantity,unitCost:t.data.unit_cost,totalCost:t.data.total_cost,dateAcquired:t.data.date_acquired,supplier:t.data.supplier_id||"",condition:t.data.condition,fundSource:t.data.fund_source_id||"",remarks:t.data.remarks||"",lastInventoryDate:t.data.last_inventory_date||"",semiExpandableCategory:t.data.semi_expandable_category||void 0,subCategory:t.data.sub_category||void 0,entityName:t.data.entity_name||void 0,status:t.data.status,custodian:t.data.custodian||"",custodianPosition:t.data.custodian_position||"",assignmentStatus:t.data.assignment_status||"Available",assignedDate:t.data.assigned_date||"",createdAt:t.data.created_at,updatedAt:t.data.updated_at},error:null,success:!0}},async create(e){if(console.log("Creating inventory item with data:",e),!navigator.onLine)return await Os("inventory.create",{item:e}),{data:{id:`temp-${Date.now()}`,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};if(e.propertyNumber){const{data:i,error:o}=await B.from("inventory_items").select("id, property_number").eq("property_number",e.propertyNumber).limit(1);if(o)return console.error("Error checking for duplicate property number:",o),{data:null,error:"Failed to validate property number uniqueness",success:!1};if(i&&i.length>0)return console.error("Duplicate property number detected:",e.propertyNumber),{data:null,error:`Property number ${e.propertyNumber} already exists. Please generate a new property number.`,success:!1}}let t=e.entityName;if(!t||t.trim()===""){const i=[];e.brand&&i.push(e.brand),e.model&&i.push(e.model),e.serialNumber&&i.push(e.serialNumber),t=i.join(" ").trim()||e.description||""}const r={property_number:e.propertyNumber,description:e.description,brand:e.brand||null,model:e.model||null,serial_number:e.serialNumber||null,unit_of_measure:e.unitOfMeasure||"piece",quantity:e.quantity||1,unit_cost:e.unitCost||0,total_cost:e.totalCost||0,date_acquired:e.dateAcquired,supplier_id:e.supplier||null,condition:e.condition||"Serviceable",fund_source_id:e.fundSource||null,remarks:e.remarks||null,last_inventory_date:e.lastInventoryDate||null,category:"Semi-Expandable",status:e.status||"Active",entity_name:t,estimated_useful_life_override:e.estimatedUsefulLifeOverride||null};e.subCategory&&(r.sub_category=e.subCategory),e.semiExpandableCategory&&(r.semi_expandable_category=e.semiExpandableCategory),r.assignment_status=e.assignmentStatus||"Available",e.custodian&&(r.custodian=e.custodian),e.custodianPosition&&(r.custodian_position=e.custodianPosition),console.log("Inserting data:",r);const n=await B.from("inventory_items").insert(r).select().single();return console.log("Supabase response:",n),n.error?(console.error("Error creating inventory item:",n.error),{data:null,error:n.error.message,success:!1}):{data:{id:n.data.id,propertyNumber:n.data.property_number,description:n.data.description||(n.data.model?`${n.data.brand?n.data.brand+" ":""}${n.data.model}`:n.data.brand)||"",brand:n.data.brand||"",model:n.data.model||"",serialNumber:n.data.serial_number||"",unitOfMeasure:n.data.unit_of_measure,quantity:n.data.quantity,unitCost:n.data.unit_cost,totalCost:n.data.total_cost,dateAcquired:n.data.date_acquired,supplier:n.data.supplier_id||"",condition:n.data.condition,semiExpandableCategory:n.data.semi_expandable_category||void 0,subCategory:n.data.sub_category,entityName:n.data.entity_name,fundSource:n.data.fund_source_id||"",remarks:n.data.remarks||"",lastInventoryDate:n.data.last_inventory_date||"",status:n.data.status,estimatedUsefulLife:n.data.estimated_useful_life,estimatedUsefulLifeOverride:n.data.estimated_useful_life_override,custodian:n.data.custodian||"",custodianPosition:n.data.custodian_position||"",assignmentStatus:n.data.assignment_status||"Available",assignedDate:n.data.assigned_date||"",createdAt:n.data.created_at,updatedAt:n.data.updated_at},error:null,success:!0}},async update(e,t){if(!navigator.onLine)return await Os("inventory.update",{id:e,updates:t}),{data:{id:e,propertyNumber:t.propertyNumber??"",description:t.description??"",brand:t.brand??"",model:t.model??"",serialNumber:t.serialNumber??"",unitOfMeasure:t.unitOfMeasure??"",quantity:t.quantity??0,unitCost:t.unitCost??0,totalCost:t.totalCost??0,dateAcquired:t.dateAcquired??new Date().toISOString(),supplier:t.supplier??"",condition:t.condition??"",fundSource:t.fundSource??"",remarks:t.remarks??"",lastInventoryDate:t.lastInventoryDate??"",semiExpandableCategory:t.semiExpandableCategory,subCategory:t.subCategory,entityName:t.entityName,status:t.status??"Active",estimatedUsefulLife:0,estimatedUsefulLifeOverride:t.estimatedUsefulLifeOverride??null,custodian:"",custodianPosition:"",assignmentStatus:"Available",assignedDate:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const r={};t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.brand&&(r.brand=t.brand),t.model&&(r.model=t.model),t.serialNumber&&(r.serial_number=t.serialNumber),t.unitOfMeasure&&(r.unit_of_measure=t.unitOfMeasure),t.quantity!==void 0&&(r.quantity=t.quantity),t.unitCost!==void 0&&(r.unit_cost=t.unitCost),t.totalCost!==void 0&&(r.total_cost=t.totalCost),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.supplier&&(r.supplier_id=t.supplier),t.condition&&(r.condition=t.condition),t.semiExpandableCategory!==void 0&&(r.semi_expandable_category=t.semiExpandableCategory||null),t.subCategory&&(r.sub_category=t.subCategory),t.entityName&&(r.entity_name=t.entityName),t.fundSource&&(r.fund_source_id=t.fundSource),t.remarks&&(r.remarks=t.remarks),t.lastInventoryDate&&(r.last_inventory_date=t.lastInventoryDate),t.status&&(r.status=t.status),t.estimatedUsefulLifeOverride!==void 0&&(r.estimated_useful_life_override=t.estimatedUsefulLifeOverride);const n=await B.from("inventory_items").update(r).eq("id",e).select().single();return n.error?{data:null,error:n.error.message,success:!1}:{data:{id:n.data.id,propertyNumber:n.data.property_number,description:n.data.description||(n.data.model?`${n.data.brand?n.data.brand+" ":""}${n.data.model}`:n.data.brand)||"",brand:n.data.brand||"",model:n.data.model||"",serialNumber:n.data.serial_number||"",unitOfMeasure:n.data.unit_of_measure,quantity:n.data.quantity,unitCost:n.data.unit_cost,totalCost:n.data.total_cost,dateAcquired:n.data.date_acquired,supplier:n.data.supplier_id||"",condition:n.data.condition,semiExpandableCategory:n.data.semi_expandable_category||void 0,subCategory:n.data.sub_category,entityName:n.data.entity_name,fundSource:n.data.fund_source_id||"",remarks:n.data.remarks||"",lastInventoryDate:n.data.last_inventory_date||"",status:n.data.status,estimatedUsefulLife:n.data.estimated_useful_life,estimatedUsefulLifeOverride:n.data.estimated_useful_life_override,custodian:n.data.custodian||"",custodianPosition:n.data.custodian_position||"",assignmentStatus:n.data.assignment_status||"Available",assignedDate:n.data.assigned_date||"",createdAt:n.data.created_at,updatedAt:n.data.updated_at},error:null,success:!0}},async delete(e){if(!navigator.onLine)return await Os("inventory.delete",{id:e}),{data:null,error:null,success:!0};const{data:t,error:r}=await B.from("inventory_items").select("id, property_number, assignment_status, custodian").eq("id",e).single();if(r)return{data:null,error:r.message||"Failed to fetch item details",success:!1};if(t.assignment_status==="Assigned"||t.custodian&&t.custodian.trim()!=="")return{data:null,error:`This inventory item cannot be deleted because it is currently assigned to ${t.custodian||"a custodian"}. Please unassign the item from the custodian first before deleting.`,success:!1};const a=t.property_number,i=async()=>{try{const c=new Set,{data:d}=await B.from("transfer_items").select("transfer_id").eq("inventory_item_id",e);if(d==null||d.forEach(g=>{g.transfer_id&&c.add(g.transfer_id)}),a){const{data:g}=await B.from("transfer_items").select("transfer_id").eq("property_number",a);g==null||g.forEach(w=>{w.transfer_id&&c.add(w.transfer_id)})}const u=[B.from("custodian_slip_items").delete().eq("inventory_item_id",e),B.from("property_card_entries").delete().eq("inventory_item_id",e),B.from("transfer_items").delete().eq("inventory_item_id",e)];a&&u.push(B.from("custodian_slip_items").delete().eq("property_number",a),B.from("property_card_entries").delete().eq("issue_item_no",a),B.from("transfer_items").delete().eq("property_number",a)),await Promise.allSettled(u);const f=Array.from(c);if(f.length>0){const{data:g}=await B.from("transfer_items").select("transfer_id").in("transfer_id",f),w=new Set;g==null||g.forEach(y=>{y.transfer_id&&w.add(y.transfer_id)});const v=f.filter(y=>!w.has(y));v.length>0&&(await B.from("property_card_entries").delete().in("related_transfer_id",v),await B.from("property_transfers").delete().in("id",v))}const m=new Set,{data:p}=await B.from("property_cards").select("id").eq("inventory_item_id",e);if(p==null||p.forEach(g=>m.add(g.id)),a){const{data:g}=await B.from("property_cards").select("id").eq("property_number",a);g==null||g.forEach(w=>m.add(w.id))}const x=Array.from(m);x.length>0&&(await B.from("property_card_entries").delete().in("property_card_id",x),await B.from("property_cards").delete().in("id",x))}catch(c){console.warn("[Inventory] Cleanup before deletion encountered issues:",c)}},o=async()=>{const{data:c,error:d}=await B.from("inventory_items").delete().eq("id",e).select("id");if(d)throw d;if(!c||c.length===0)throw new Error("Inventory item could not be removed. Please refresh and try again.")},l=async()=>{const{error:c}=await B.rpc("safe_delete_inventory_item",{item_id:e});if(c)throw c};try{return await l(),{data:null,error:null,success:!0}}catch(c){const d=(c==null?void 0:c.message)||String(c),u=d.includes("does not exist"),f=d.includes("Cannot delete inventory item")||(c==null?void 0:c.code)==="P0001"||(c==null?void 0:c.code)==="23503"||(c==null?void 0:c.code)==="PGRST116";if(!u&&!f)return{data:null,error:d,success:!1};await i();try{return await l(),{data:null,error:null,success:!0}}catch(m){console.warn("[Inventory] safe_delete_inventory_item still failing after cleanup, attempting direct delete:",m);try{return await o(),{data:null,error:null,success:!0}}catch(p){return console.error("[Inventory] Force delete failed:",p),{data:null,error:(p==null?void 0:p.message)||"Failed to delete inventory item after cleaning related records.",success:!1}}}}},async search(e,t={}){return this.getAll({...t,search:e})}};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}var Ea;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ea||(Ea={}));const ew="popstate";function iF(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=Ki(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),sg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Zu(i))}function n(a,i){Qy(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return lF(t,r,n,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oF(){return Math.random().toString(36).substr(2,8)}function tw(e,t){return{usr:e.state,key:e.key,idx:t}}function sg(e,t,r,n){return r===void 0&&(r=null),Oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ki(t):t,{state:r,key:t&&t.key||n||oF()})}function Zu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ki(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ea.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Oc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Ea.Pop;let w=u(),v=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:v})}function m(w,v){l=Ea.Push;let y=sg(g.location,w,v);r&&r(y,w),d=u()+1;let b=tw(y,d),j=g.createHref(y);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(w,v){l=Ea.Replace;let y=sg(g.location,w,v);r&&r(y,w),d=u();let b=tw(y,d),j=g.createHref(y);o.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function x(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof w=="string"?w:Zu(w);return y=y.replace(/ $/,"%20"),Zt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ew,f),c=w,()=>{a.removeEventListener(ew,f),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let v=x(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var rw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rw||(rw={}));function cF(e,t,r){return r===void 0&&(r="/"),dF(e,t,r,!1)}function dF(e,t,r,n){let a=typeof t=="string"?Ki(t):t,i=Ky(a.pathname||"/",r);if(i==null)return null;let o=jS(e);uF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=jF(i);l=bF(o[c],d,n)}return l}function jS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Fa([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),jS(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:vF(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of _S(i.path))a(i,o,c)}),t}function _S(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=_S(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function uF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fF=/^:[\w-]+$/,hF=3,mF=2,pF=1,gF=10,yF=-2,nw=e=>e==="*";function vF(e,t){let r=e.split("/"),n=r.length;return r.some(nw)&&(n+=yF),t&&(n+=mF),r.filter(a=>!nw(a)).reduce((a,i)=>a+(fF.test(i)?hF:i===""?pF:gF),n)}function xF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bF(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=sw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=sw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Fa([i,f.pathname]),pathnameBase:CF(Fa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Fa([i,f.pathnameBase]))}return o}function sw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function wF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Qy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function jF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ky(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _F(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ki(e):e;return{pathname:r?r.startsWith("/")?r:NF(r,t):t,search:EF(n),hash:kF(a)}}function NF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function um(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gy(e,t){let r=SF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yy(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ki(e):(a=Oc({},e),Zt(!a.pathname||!a.pathname.includes("?"),um("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),um("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),um("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=_F(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Fa=e=>e.join("/").replace(/\/\/+/g,"/"),CF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NS=["post","put","patch","delete"];new Set(NS);const TF=["get",...NS];new Set(TF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(this,arguments)}const Xy=h.createContext(null),AF=h.createContext(null),ei=h.createContext(null),Gf=h.createContext(null),ti=h.createContext({outlet:null,matches:[],isDataRoute:!1}),SS=h.createContext(null);function IF(e,t){let{relative:r}=t===void 0?{}:t;bl()||Zt(!1);let{basename:n,navigator:a}=h.useContext(ei),{hash:i,pathname:o,search:l}=ES(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Fa([n,o])),a.createHref({pathname:c,search:l,hash:i})}function bl(){return h.useContext(Gf)!=null}function ts(){return bl()||Zt(!1),h.useContext(Gf).location}function CS(e){h.useContext(ei).static||h.useLayoutEffect(e)}function rs(){let{isDataRoute:e}=h.useContext(ti);return e?WF():RF()}function RF(){bl()||Zt(!1);let e=h.useContext(Xy),{basename:t,future:r,navigator:n}=h.useContext(ei),{matches:a}=h.useContext(ti),{pathname:i}=ts(),o=JSON.stringify(Gy(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return CS(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Yy(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fa([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function ES(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(ei),{matches:a}=h.useContext(ti),{pathname:i}=ts(),o=JSON.stringify(Gy(a,n.v7_relativeSplatPath));return h.useMemo(()=>Yy(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function OF(e,t){return DF(e,t)}function DF(e,t,r,n){bl()||Zt(!1);let{navigator:a}=h.useContext(ei),{matches:i}=h.useContext(ti),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ts(),u;if(t){var f;let w=typeof t=="string"?Ki(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Zt(!1),u=w}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=cF(e,{pathname:p}),g=qF(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Fa([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Fa([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?h.createElement(Gf.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ea.Pop}},g):g}function MF(){let e=zF(),t=PF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const LF=h.createElement(MF,null);class FF extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(ti.Provider,{value:this.props.routeContext},h.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $F(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(Xy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(ti.Provider,{value:t},n)}function qF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Zt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let p,x=!1,g=null,w=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||LF,c&&(d<0&&m===0?(x=!0,w=null):d===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,m+1)),y=()=>{let b;return p?b=g:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,h.createElement($F,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(FF,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var kS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kS||{}),ef=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ef||{});function UF(e){let t=h.useContext(Xy);return t||Zt(!1),t}function BF(e){let t=h.useContext(AF);return t||Zt(!1),t}function VF(e){let t=h.useContext(ti);return t||Zt(!1),t}function PS(e){let t=VF(),r=t.matches[t.matches.length-1];return r.route.id||Zt(!1),r.route.id}function zF(){var e;let t=h.useContext(SS),r=BF(ef.UseRouteError),n=PS(ef.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function WF(){let{router:e}=UF(kS.UseNavigateStable),t=PS(ef.UseNavigateStable),r=h.useRef(!1);return CS(()=>{r.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Dc({fromRouteId:t},i)))},[e,t])}function HF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function aw(e){let{to:t,replace:r,state:n,relative:a}=e;bl()||Zt(!1);let{future:i,static:o}=h.useContext(ei),{matches:l}=h.useContext(ti),{pathname:c}=ts(),d=rs(),u=Yy(t,Gy(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function kr(e){Zt(!1)}function QF(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ea.Pop,navigator:i,static:o=!1,future:l}=e;bl()&&Zt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Dc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ki(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let w=Ky(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:x},navigationType:a}},[c,u,f,m,p,x,a]);return g==null?null:h.createElement(ei.Provider,{value:d},h.createElement(Gf.Provider,{children:r,value:g}))}function KF(e){let{children:t,location:r}=e;return OF(ag(t),r)}new Promise(()=>{});function ag(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){r.push.apply(r,ag(n.props.children,i));return}n.type!==kr&&Zt(!1),!n.props.index||!n.props.children||Zt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ag(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function GF(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function YF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XF(e,t){return e.button===0&&(!t||t==="_self")&&!YF(e)}function og(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function JF(e,t){let r=og(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const ZF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e$="6";try{window.__reactRouterVersion=e$}catch{}const t$="startTransition",iw=Pg[t$];function r$(e){let{basename:t,children:r,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=iF({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&iw?iw(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>HF(n),[n]),h.createElement(QF,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const n$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a$=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=GF(t,ZF),{basename:p}=h.useContext(ei),x,g=!1;if(typeof d=="string"&&s$.test(d)&&(x=d,n$))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),_=Ky(j.pathname,p);j.origin===b.origin&&_!=null?d=_+j.search+j.hash:g=!0}catch{}let w=IF(d,{relative:a}),v=i$(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||v(b)}return h.createElement("a",ig({},m,{href:x||w,onClick:g||i?n:y,ref:r,target:c}))});var ow;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ow||(ow={}));var lw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lw||(lw={}));function i$(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=rs(),d=ts(),u=ES(e,{relative:o});return h.useCallback(f=>{if(XF(f,r)){f.preventDefault();let m=n!==void 0?n:Zu(d)===Zu(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function o$(e){let t=h.useRef(og(e)),r=h.useRef(!1),n=ts(),a=h.useMemo(()=>JF(n.search,r.current?null:t.current),[n.search]),i=rs(),o=h.useCallback((l,c)=>{const d=og(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const Jy=Yc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?$A:"button";return s.jsx(o,{className:Ee(Jy({variant:t,size:r,className:e})),ref:i,...a})});le.displayName="Button";var l$=h.createContext(void 0);function nd(e){const t=h.useContext(l$);return e||t||"ltr"}var fm=0;function Yf(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cw()),document.body.insertAdjacentElement("beforeend",e[1]??cw()),fm++,()=>{fm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fm--}},[])}function cw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hm="focusScope.autoFocusOnMount",mm="focusScope.autoFocusOnUnmount",dw={bubbles:!1,cancelable:!0},c$="FocusScope",sd=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Jt(a),u=Jt(i),f=h.useRef(null),m=Xe(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:ca(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||ca(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&ca(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),y.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){fw.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(hm,dw);l.addEventListener(hm,d),l.dispatchEvent(v),v.defaultPrevented||(d$(p$(TS(l)),{select:!0}),document.activeElement===g&&ca(l))}return()=>{l.removeEventListener(hm,d),setTimeout(()=>{const v=new CustomEvent(mm,dw);l.addEventListener(mm,u),l.dispatchEvent(v),v.defaultPrevented||ca(g??document.body,{select:!0}),l.removeEventListener(mm,u),fw.remove(p)},0)}}},[l,d,u,p]);const x=h.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const y=g.currentTarget,[b,j]=u$(y);b&&j?!g.shiftKey&&v===j?(g.preventDefault(),r&&ca(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),r&&ca(j,{select:!0})):v===y&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});sd.displayName=c$;function d$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ca(n,{select:t}),document.activeElement!==r)return}function u$(e){const t=TS(e),r=uw(t,e),n=uw(t.reverse(),e);return[r,n]}function TS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uw(e,t){for(const r of e)if(!f$(r,{upTo:t}))return r}function f$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h$(e){return e instanceof HTMLInputElement&&"select"in e}function ca(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&h$(e)&&t&&e.select()}}var fw=m$();function m$(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=hw(e,t),e.unshift(t)},remove(t){var r;e=hw(e,t),(r=e[0])==null||r.resume()}}}function hw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function p$(e){return e.filter(t=>t.tagName!=="A")}var pm="rovingFocusGroup.onEntryFocus",g$={bubbles:!1,cancelable:!0},ad="RovingFocusGroup",[lg,AS,y$]=Tf(ad),[v$,Xf]=zr(ad,[y$]),[x$,b$]=v$(ad),IS=h.forwardRef((e,t)=>s.jsx(lg.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(lg.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(w$,{...e,ref:t})})}));IS.displayName=ad;var w$=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=Xe(t,m),x=nd(i),[g,w]=Gs({prop:o,defaultProp:l??null,onChange:c,caller:ad}),[v,y]=h.useState(!1),b=Jt(d),j=AS(r),_=h.useRef(!1),[N,E]=h.useState(0);return h.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(pm,b),()=>M.removeEventListener(pm,b)},[b]),s.jsx(x$,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(M=>w(M),[w]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:h.useCallback(()=>E(M=>M-1),[]),children:s.jsx(Me.div,{tabIndex:v||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{_.current=!0}),onFocus:_e(e.onFocus,M=>{const U=!_.current;if(M.target===M.currentTarget&&U&&!v){const $=new CustomEvent(pm,g$);if(M.currentTarget.dispatchEvent($),!$.defaultPrevented){const L=j().filter(A=>A.focusable),F=L.find(A=>A.active),O=L.find(A=>A.id===g),S=[F,O,...L].filter(Boolean).map(A=>A.ref.current);DS(S,u)}}_.current=!1}),onBlur:_e(e.onBlur,()=>y(!1))})})}),RS="RovingFocusGroupItem",OS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=_r(),d=i||c,u=b$(RS,r),f=u.currentTabStopId===d,m=AS(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),s.jsx(lg.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:_e(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:_e(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:_e(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=N$(w,u.orientation,u.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=u.loop?S$(b,j+1):b.slice(j+1)}setTimeout(()=>DS(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});OS.displayName=RS;var j$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N$(e,t,r){const n=_$(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return j$[n]}function DS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function S$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var MS=IS,LS=OS,C$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},so=new WeakMap,zd=new WeakMap,Wd={},gm=0,FS=function(e){return e&&(e.host||FS(e.parentNode))},E$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=FS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},k$=function(e,t,r,n){var a=E$(t,Array.isArray(e)?e:[e]);Wd[r]||(Wd[r]=new WeakMap);var i=Wd[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",g=(so.get(m)||0)+1,w=(i.get(m)||0)+1;so.set(m,g),i.set(m,w),o.push(m),g===1&&x&&zd.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return u(t),l.clear(),gm++,function(){o.forEach(function(f){var m=so.get(f)-1,p=i.get(f)-1;so.set(f,m),i.set(f,p),m||(zd.has(f)||f.removeAttribute(n),zd.delete(f)),p||f.removeAttribute(r)}),gm--,gm||(so=new WeakMap,so=new WeakMap,zd=new WeakMap,Wd={})}},Jf=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=C$(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),k$(n,a,r,"aria-hidden")):function(){return null}},ms=function(){return ms=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ms.apply(this,arguments)};function $S(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function P$(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var gu="right-scroll-bar-position",yu="width-before-scroll-bar",T$="with-scroll-bars-hidden",A$="--removed-body-scroll-bar-size";function ym(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I$(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var R$=typeof window<"u"?h.useLayoutEffect:h.useEffect,mw=new WeakMap;function O$(e,t){var r=I$(null,function(n){return e.forEach(function(a){return ym(a,n)})});return R$(function(){var n=mw.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||ym(l,null)}),i.forEach(function(l){a.has(l)||ym(l,o)})}mw.set(r,e)},[e]),r}function D$(e){return e}function M$(e,t){t===void 0&&(t=D$);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function L$(e){e===void 0&&(e={});var t=M$(null);return t.options=ms({async:!0,ssr:!1},e),t}var qS=function(e){var t=e.sideCar,r=$S(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,ms({},r))};qS.isSideCarExport=!0;function F$(e,t){return e.useMedium(t),qS}var US=L$(),vm=function(){},Zf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:vm,onWheelCapture:vm,onTouchMoveCapture:vm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,j=$S(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,N=O$([r,t]),E=ms(ms({},j),a);return h.createElement(h.Fragment,null,u&&h.createElement(_,{sideCar:US,removeScrollBar:d,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(l),ms(ms({},E),{ref:N})):h.createElement(y,ms({},E,{className:c,ref:N}),l))});Zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zf.classNames={fullWidth:yu,zeroRight:gu};var $$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function q$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$$();return t&&e.setAttribute("nonce",t),e}function U$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function B$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var V$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=q$())&&(U$(t,r),B$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},z$=function(){var e=V$();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},BS=function(){var e=z$(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},W$={left:0,top:0,right:0,gap:0},xm=function(e){return parseInt(e||"",10)||0},H$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[xm(r),xm(n),xm(a)]},Q$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W$;var t=H$(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},K$=BS(),Do="data-scroll-locked",G$=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(T$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(A$,": ").concat(l,`px;
  }
`)},pw=function(){var e=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(e)?e:0},Y$=function(){h.useEffect(function(){return document.body.setAttribute(Do,(pw()+1).toString()),function(){var e=pw()-1;e<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,e.toString())}},[])},X$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Y$();var i=h.useMemo(function(){return Q$(a)},[a]);return h.createElement(K$,{styles:G$(i,!t,a,r?"":"!important")})},cg=!1;if(typeof window<"u")try{var Hd=Object.defineProperty({},"passive",{get:function(){return cg=!0,!0}});window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{cg=!1}var ao=cg?{passive:!1}:!1,J$=function(e){return e.tagName==="TEXTAREA"},VS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!J$(e)&&r[t]==="visible")},Z$=function(e){return VS(e,"overflowY")},e4=function(e){return VS(e,"overflowX")},gw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=zS(e,n);if(a){var i=WS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},t4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},r4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zS=function(e,t){return e==="v"?Z$(t):e4(t)},WS=function(e,t){return e==="v"?t4(t):r4(t)},n4=function(e,t){return e==="h"&&t==="rtl"?-1:1},s4=function(e,t,r,n,a){var i=n4(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var p=WS(e,l),x=p[0],g=p[1],w=p[2],v=g-w-i*x;(x||v)&&zS(e,l)&&(f+=v,m+=x);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Qd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yw=function(e){return[e.deltaX,e.deltaY]},vw=function(e){return e&&"current"in e?e.current:e},a4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},o4=0,io=[];function l4(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(o4++)[0],i=h.useState(BS)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=P$([e.lockRef.current],(e.shards||[]).map(vw),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Qd(g),y=r.current,b="deltaX"in g?g.deltaX:y[0]-v[0],j="deltaY"in g?g.deltaY:y[1]-v[1],_,N=g.target,E=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&E==="h"&&N.type==="range")return!1;var M=gw(E,N);if(!M)return!0;if(M?_=E:(_=E==="v"?"h":"v",M=gw(E,N)),!M)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=_),!_)return!0;var U=n.current||_;return s4(U,w,g,U==="h"?b:j,!0)},[]),c=h.useCallback(function(g){var w=g;if(!(!io.length||io[io.length-1]!==i)){var v="deltaY"in w?yw(w):Qd(w),y=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&a4(_.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(vw).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,v,y){var b={name:g,delta:w,target:v,should:y,shadowParent:c4(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=h.useCallback(function(g){r.current=Qd(g),n.current=void 0},[]),f=h.useCallback(function(g){d(g.type,yw(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,Qd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return io.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ao),document.addEventListener("touchmove",c,ao),document.addEventListener("touchstart",u,ao),function(){io=io.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ao),document.removeEventListener("touchmove",c,ao),document.removeEventListener("touchstart",u,ao)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:i4(a)}):null,p?h.createElement(X$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function c4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const d4=F$(US,l4);var id=h.forwardRef(function(e,t){return h.createElement(Zf,ms({},e,{ref:t,sideCar:d4}))});id.classNames=Zf.classNames;var dg=["Enter"," "],u4=["ArrowDown","PageUp","Home"],HS=["ArrowUp","PageDown","End"],f4=[...u4,...HS],h4={ltr:[...dg,"ArrowRight"],rtl:[...dg,"ArrowLeft"]},m4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},od="Menu",[Mc,p4,g4]=Tf(od),[Gi,QS]=zr(od,[g4,Ja,Xf]),eh=Ja(),KS=Xf(),[y4,Yi]=Gi(od),[v4,ld]=Gi(od),GS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=eh(t),[c,d]=h.useState(null),u=h.useRef(!1),f=Jt(i),m=nd(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(My,{...l,children:s.jsx(y4,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(v4,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};GS.displayName=od;var x4="MenuAnchor",Zy=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=eh(r);return s.jsx(Zc,{...a,...n,ref:t})});Zy.displayName=x4;var ev="MenuPortal",[b4,YS]=Gi(ev,{forceMount:void 0}),XS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Yi(ev,t);return s.jsx(b4,{scope:t,forceMount:r,children:s.jsx(xr,{present:r||i.open,children:s.jsx(hl,{asChild:!0,container:a,children:n})})})};XS.displayName=ev;var In="MenuContent",[w4,tv]=Gi(In),JS=h.forwardRef((e,t)=>{const r=YS(In,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Yi(In,e.__scopeMenu),o=ld(In,e.__scopeMenu);return s.jsx(Mc.Provider,{scope:e.__scopeMenu,children:s.jsx(xr,{present:n||i.open,children:s.jsx(Mc.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(j4,{...a,ref:t}):s.jsx(_4,{...a,ref:t})})})})}),j4=h.forwardRef((e,t)=>{const r=Yi(In,e.__scopeMenu),n=h.useRef(null),a=Xe(t,n);return h.useEffect(()=>{const i=n.current;if(i)return Jf(i)},[]),s.jsx(rv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),_4=h.forwardRef((e,t)=>{const r=Yi(In,e.__scopeMenu);return s.jsx(rv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),N4=Ba("MenuContent.ScrollLock"),rv=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=Yi(In,r),v=ld(In,r),y=eh(r),b=KS(r),j=p4(r),[_,N]=h.useState(null),E=h.useRef(null),M=Xe(t,E,w.onContentChange),U=h.useRef(0),$=h.useRef(""),L=h.useRef(0),F=h.useRef(null),O=h.useRef("right"),R=h.useRef(0),S=x?id:h.Fragment,A=x?{as:N4,allowPinchZoom:!0}:void 0,ne=W=>{var se,J;const ae=$.current+W,ge=j().filter(fe=>!fe.disabled),G=document.activeElement,ie=(se=ge.find(fe=>fe.ref.current===G))==null?void 0:se.textValue,de=ge.map(fe=>fe.textValue),he=M4(de,ae,ie),me=(J=ge.find(fe=>fe.textValue===he))==null?void 0:J.ref.current;(function fe(T){$.current=T,window.clearTimeout(U.current),T!==""&&(U.current=window.setTimeout(()=>fe(""),1e3))})(ae),me&&setTimeout(()=>me.focus())};h.useEffect(()=>()=>window.clearTimeout(U.current),[]),Yf();const Q=h.useCallback(W=>{var ge,G;return O.current===((ge=F.current)==null?void 0:ge.side)&&F4(W,(G=F.current)==null?void 0:G.area)},[]);return s.jsx(w4,{scope:r,searchRef:$,onItemEnter:h.useCallback(W=>{Q(W)&&W.preventDefault()},[Q]),onItemLeave:h.useCallback(W=>{var ae;Q(W)||((ae=E.current)==null||ae.focus(),N(null))},[Q]),onTriggerLeave:h.useCallback(W=>{Q(W)&&W.preventDefault()},[Q]),pointerGraceTimerRef:L,onPointerGraceIntentChange:h.useCallback(W=>{F.current=W},[]),children:s.jsx(S,{...A,children:s.jsx(sd,{asChild:!0,trapped:a,onMountAutoFocus:_e(i,W=>{var ae;W.preventDefault(),(ae=E.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(MS,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:_e(c,W=>{v.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx($f,{role:"menu","aria-orientation":"vertical","data-state":mC(w.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:M,style:{outline:"none",...g.style},onKeyDown:_e(g.onKeyDown,W=>{const ge=W.target.closest("[data-radix-menu-content]")===W.currentTarget,G=W.ctrlKey||W.altKey||W.metaKey,ie=W.key.length===1;ge&&(W.key==="Tab"&&W.preventDefault(),!G&&ie&&ne(W.key));const de=E.current;if(W.target!==de||!f4.includes(W.key))return;W.preventDefault();const me=j().filter(se=>!se.disabled).map(se=>se.ref.current);HS.includes(W.key)&&me.reverse(),O4(me)}),onBlur:_e(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(U.current),$.current="")}),onPointerMove:_e(e.onPointerMove,Lc(W=>{const ae=W.target,ge=R.current!==W.clientX;if(W.currentTarget.contains(ae)&&ge){const G=W.clientX>R.current?"right":"left";O.current=G,R.current=W.clientX}}))})})})})})})});JS.displayName=In;var S4="MenuGroup",nv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"group",...n,ref:t})});nv.displayName=S4;var C4="MenuLabel",ZS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});ZS.displayName=C4;var tf="MenuItem",xw="menu.itemSelect",th=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=h.useRef(null),o=ld(tf,e.__scopeMenu),l=tv(tf,e.__scopeMenu),c=Xe(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(xw,{bubbles:!0,cancelable:!0});f.addEventListener(xw,p=>n==null?void 0:n(p),{once:!0}),by(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(eC,{...a,ref:c,disabled:r,onClick:_e(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:_e(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:_e(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||dg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});th.displayName=tf;var eC=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=tv(tf,r),l=KS(r),c=h.useRef(null),d=Xe(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),s.jsx(Mc.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(LS,{asChild:!0,...l,focusable:!n,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:_e(e.onPointerMove,Lc(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(e.onPointerLeave,Lc(x=>o.onItemLeave(x))),onFocus:_e(e.onFocus,()=>f(!0)),onBlur:_e(e.onBlur,()=>f(!1))})})})}),E4="MenuCheckboxItem",tC=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(iC,{scope:e.__scopeMenu,checked:r,children:s.jsx(th,{role:"menuitemcheckbox","aria-checked":rf(r)?"mixed":r,...a,ref:t,"data-state":av(r),onSelect:_e(a.onSelect,()=>n==null?void 0:n(rf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tC.displayName=E4;var rC="MenuRadioGroup",[k4,P4]=Gi(rC,{value:void 0,onValueChange:()=>{}}),nC=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Jt(n);return s.jsx(k4,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(nv,{...a,ref:t})})});nC.displayName=rC;var sC="MenuRadioItem",aC=h.forwardRef((e,t)=>{const{value:r,...n}=e,a=P4(sC,e.__scopeMenu),i=r===a.value;return s.jsx(iC,{scope:e.__scopeMenu,checked:i,children:s.jsx(th,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":av(i),onSelect:_e(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});aC.displayName=sC;var sv="MenuItemIndicator",[iC,T4]=Gi(sv,{checked:!1}),oC=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=T4(sv,r);return s.jsx(xr,{present:n||rf(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":av(i.checked)})})});oC.displayName=sv;var A4="MenuSeparator",lC=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});lC.displayName=A4;var I4="MenuArrow",cC=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=eh(r);return s.jsx(qf,{...a,...n,ref:t})});cC.displayName=I4;var R4="MenuSub",[RV,dC]=Gi(R4),Kl="MenuSubTrigger",uC=h.forwardRef((e,t)=>{const r=Yi(Kl,e.__scopeMenu),n=ld(Kl,e.__scopeMenu),a=dC(Kl,e.__scopeMenu),i=tv(Kl,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Zy,{asChild:!0,...d,children:s.jsx(eC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":mC(r.open),...e,ref:Ks(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:_e(e.onPointerMove,Lc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:_e(e.onPointerLeave,Lc(f=>{var p,x;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",v=w?-5:5,y=m[w?"left":"right"],b=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:_e(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||h4[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});uC.displayName=Kl;var fC="MenuSubContent",hC=h.forwardRef((e,t)=>{const r=YS(In,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Yi(In,e.__scopeMenu),o=ld(In,e.__scopeMenu),l=dC(fC,e.__scopeMenu),c=h.useRef(null),d=Xe(t,c);return s.jsx(Mc.Provider,{scope:e.__scopeMenu,children:s.jsx(xr,{present:n||i.open,children:s.jsx(Mc.Slot,{scope:e.__scopeMenu,children:s.jsx(rv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:_e(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:_e(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:_e(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=m4[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});hC.displayName=fC;function mC(e){return e?"open":"closed"}function rf(e){return e==="indeterminate"}function av(e){return rf(e)?"indeterminate":e?"checked":"unchecked"}function O4(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function D4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function M4(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=D4(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function L4(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function F4(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return L4(r,t)}function Lc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var $4=GS,q4=Zy,U4=XS,B4=JS,V4=nv,z4=ZS,W4=th,H4=tC,Q4=nC,K4=aC,G4=oC,Y4=lC,X4=cC,J4=uC,Z4=hC,rh="DropdownMenu",[e3,OV]=zr(rh,[QS]),Wr=QS(),[t3,pC]=e3(rh),gC=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Wr(t),d=h.useRef(null),[u,f]=Gs({prop:a,defaultProp:i??!1,onChange:o,caller:rh});return s.jsx(t3,{scope:t,triggerId:_r(),triggerRef:d,contentId:_r(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx($4,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};gC.displayName=rh;var yC="DropdownMenuTrigger",vC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=pC(yC,r),o=Wr(r);return s.jsx(q4,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ks(t,i.triggerRef),onPointerDown:_e(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:_e(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vC.displayName=yC;var r3="DropdownMenuPortal",xC=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Wr(t);return s.jsx(U4,{...n,...r})};xC.displayName=r3;var bC="DropdownMenuContent",wC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=pC(bC,r),i=Wr(r),o=h.useRef(!1);return s.jsx(B4,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:_e(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:_e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wC.displayName=bC;var n3="DropdownMenuGroup",s3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(V4,{...a,...n,ref:t})});s3.displayName=n3;var a3="DropdownMenuLabel",jC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(z4,{...a,...n,ref:t})});jC.displayName=a3;var i3="DropdownMenuItem",_C=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(W4,{...a,...n,ref:t})});_C.displayName=i3;var o3="DropdownMenuCheckboxItem",NC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(H4,{...a,...n,ref:t})});NC.displayName=o3;var l3="DropdownMenuRadioGroup",c3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(Q4,{...a,...n,ref:t})});c3.displayName=l3;var d3="DropdownMenuRadioItem",SC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(K4,{...a,...n,ref:t})});SC.displayName=d3;var u3="DropdownMenuItemIndicator",CC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(G4,{...a,...n,ref:t})});CC.displayName=u3;var f3="DropdownMenuSeparator",EC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(Y4,{...a,...n,ref:t})});EC.displayName=f3;var h3="DropdownMenuArrow",m3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(X4,{...a,...n,ref:t})});m3.displayName=h3;var p3="DropdownMenuSubTrigger",kC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(J4,{...a,...n,ref:t})});kC.displayName=p3;var g3="DropdownMenuSubContent",PC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Wr(r);return s.jsx(Z4,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PC.displayName=g3;var y3=gC,v3=vC,x3=xC,TC=wC,AC=jC,IC=_C,RC=NC,OC=SC,DC=CC,MC=EC,LC=kC,FC=PC;const b3=y3,w3=v3,j3=h.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(LC,{ref:a,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(H_,{className:"ml-auto h-4 w-4"})]}));j3.displayName=LC.displayName;const _3=h.forwardRef(({className:e,...t},r)=>s.jsx(FC,{ref:r,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_3.displayName=FC.displayName;const $C=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(x3,{children:s.jsx(TC,{ref:n,sideOffset:t,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));$C.displayName=TC.displayName;const vu=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(IC,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));vu.displayName=IC.displayName;const N3=h.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(RC,{ref:a,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DC,{children:s.jsx(Ys,{className:"h-4 w-4"})})}),t]}));N3.displayName=RC.displayName;const S3=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(OC,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DC,{children:s.jsx(DI,{className:"h-2 w-2 fill-current"})})}),t]}));S3.displayName=OC.displayName;const qC=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(AC,{ref:n,className:Ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));qC.displayName=AC.displayName;const UC=h.forwardRef(({className:e,...t},r)=>s.jsx(MC,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));UC.displayName=MC.displayName;const BC=h.createContext(void 0);function C3({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[a,i]=h.useState(()=>localStorage.getItem(r)||t),[o,l]=h.useState(()=>{if(typeof window>"u")return"light";const d=localStorage.getItem(r)||t;return d==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d});h.useEffect(()=>{const d=window.document.documentElement;d.classList.remove("light","dark");let u;if(a==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u=f,d.classList.add(f)}else u=a,d.classList.add(a);l(u)},[a]),h.useEffect(()=>{if(a!=="system")return;const d=window.matchMedia("(prefers-color-scheme: dark)"),u=f=>{const m=window.document.documentElement;m.classList.remove("light","dark");const p=f.matches?"dark":"light";m.classList.add(p),l(p)};return d.addEventListener("change",u),()=>d.removeEventListener("change",u)},[a]);const c={theme:a,setTheme:d=>{localStorage.setItem(r,d),i(d)},resolvedTheme:o};return s.jsx(BC.Provider,{...n,value:c,children:e})}const E3=()=>{const e=h.useContext(BC);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},k3=()=>{const{theme:e,setTheme:t}=E3(),r=async()=>{await B.auth.signOut()};return s.jsx("header",{className:"bg-government-dark text-white shadow-formal",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ys,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Semi-Expendable Property"}),s.jsx("p",{className:"text-sm text-white/80",children:"Inventory Management System"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(b3,{children:[s.jsx(w3,{asChild:!0,children:s.jsx(le,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:e==="light"?s.jsx(lb,{className:"h-4 w-4"}):e==="dark"?s.jsx(ib,{className:"h-4 w-4"}):s.jsx(ab,{className:"h-4 w-4"})})}),s.jsxs($C,{align:"end",children:[s.jsx(qC,{children:"Theme"}),s.jsx(UC,{}),s.jsxs(vu,{onClick:()=>t("light"),children:[s.jsx(lb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"}),e==="light"&&s.jsx("span",{className:"ml-auto",children:""})]}),s.jsxs(vu,{onClick:()=>t("dark"),children:[s.jsx(ib,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"}),e==="dark"&&s.jsx("span",{className:"ml-auto",children:""})]}),s.jsxs(vu,{onClick:()=>t("system"),children:[s.jsx(ab,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"System"}),e==="system"&&s.jsx("span",{className:"ml-auto",children:""})]})]})]}),s.jsxs(le,{variant:"outline",size:"sm",className:"bg-transparent text-white border-white/30 hover:bg-white/10 hover:text-white",onClick:r,children:[s.jsx($I,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})})},P3=[{name:"Dashboard",href:"/",icon:FI},{name:"Inventory",href:"/inventory",icon:An},{name:"Property Cards",href:"/property-cards",icon:ys},{name:"Custodian Slips",href:"/custodian-slips",icon:MI},{name:"Custodians",href:"/custodians",icon:sl},{name:"Transfers",href:"/transfers",icon:TI},{name:"Lookups",href:"/settings/lookups",icon:Sp}],T3=()=>{const[e,t]=h.useState(!1),r=ts();return s.jsxs("div",{className:Ee("bg-card border-r border-border transition-all duration-300",e?"w-16":"w-64"),children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto",children:e?s.jsx(H_,{className:"h-4 w-4"}):s.jsx(II,{className:"h-4 w-4"})})}),s.jsx("nav",{className:"p-4 space-y-2",children:P3.map(n=>{const a=n.icon,i=r.pathname===n.href;return s.jsxs(a$,{to:n.href,className:Ee("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[s.jsx(a,{className:"h-5 w-5"}),!e&&s.jsx("span",{className:"text-sm font-medium",children:n.name})]},n.name)})})]})},A3=({active:e})=>e?s.jsx("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center gap-3 bg-background/80 backdrop-blur-sm",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-card/80 px-6 py-4 shadow-lg ring-1 ring-border",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Refreshing data"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Please wait while the latest inventory and slip changes load."})]})}):null,I3=h.createContext({isRefreshing:!1,manualRefresh:async()=>{}}),bw=[["annex-property-cards"],["available-inventory-for-cards"],["annex-custodian-slips"],["available-inventory-for-slips"],["inventory-items"],["inventory-summary"],["dashboard-metrics"],["custodian-summary"],["custodian-summaries"],["custodian-item-history"],["custodian-current-items"],["transfers"]],R3=["inventory_items","property_cards","property_card_entries","custodian_slips","custodian_slip_items","property_transfers"],O3=({children:e})=>{const t=ea(),[r,n]=h.useState(0),a=h.useRef(null),i=h.useCallback(()=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{n(c=>Math.max(c-1,0))},400)},[]),o=h.useCallback(async()=>{n(c=>c+1);try{await Promise.all(bw.map(c=>t.invalidateQueries({queryKey:c}))),await Promise.all(bw.map(c=>t.refetchQueries({queryKey:c,type:"active"})))}finally{i()}},[i,t]);h.useEffect(()=>{const c=B.channel("realtime:global-sync");return R3.forEach(d=>{c.on("postgres_changes",{event:"*",schema:"public",table:d},()=>{console.log(`[GlobalRealtimeSync] Change detected on ${d}, refreshing UI`),o()})}),c.subscribe(),()=>{B.removeChannel(c)}},[o]),h.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]);const l=h.useMemo(()=>({isRefreshing:r>0,manualRefresh:o}),[r,o]);return s.jsxs(I3.Provider,{value:l,children:[e,s.jsx(A3,{active:l.isRefreshing})]})},Re=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const We=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));We.displayName="CardHeader";const st=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));st.displayName="CardTitle";const VC=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));VC.displayName="CardDescription";const Oe=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("p-6 pt-0",e),...t}));Oe.displayName="CardContent";const D3=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",e),...t}));D3.displayName="CardFooter";const M3=async()=>{const[{data:e,error:t},{data:r,error:n}]=await Promise.all([B.from("inventory_items").select("id, total_cost, condition, status, assignment_status, custodian").range(0,499),B.from("inventory_items").select("description, property_number, created_at, updated_at").order("updated_at",{ascending:!1}).limit(8)]);if(t)throw t;if(n)throw n;const a=(e==null?void 0:e.length)||0,i=(e||[]).reduce((p,x)=>p+(Number(x.total_cost)||0),0),o=(e||[]).filter(p=>p.status==="Active"&&p.condition==="Serviceable"),l={},c={};(e||[]).forEach(p=>{l[p.condition]=(l[p.condition]||0)+1,c[p.status]=(c[p.status]||0)+1});const d=o.filter(p=>p.assignment_status==="Assigned"||p.custodian&&p.custodian!=="").length,u=o.filter(p=>!p.assignment_status||p.assignment_status==="Available"||!p.custodian||p.custodian==="").length,f=(e||[]).filter(p=>p.condition==="Unserviceable").length,m=(r||[]).map(p=>({action:`Item ${p.property_number} updated`,user:"system",time:new Date(p.updated_at||p.created_at).toLocaleString()}));return{totalItems:a,totalValue:i,byCondition:l,byStatus:c,issuedItems:d,unissuedItems:u,unserviceableItems:f,recentActivity:m}},L3=()=>{const e=rs();es();const t=ea(),{data:r,isLoading:n,error:a}=ir({queryKey:["dashboard-stats"],queryFn:M3,staleTime:2*60*1e3,gcTime:24*60*60*1e3,retry:(l,c)=>navigator.onLine?l<2:!1}),i=r||{totalItems:0,totalValue:0,byCondition:{},byStatus:{},issuedItems:0,unissuedItems:0,unserviceableItems:0,recentActivity:[]};h.useEffect(()=>{const l=B.channel("realtime:dashboard-inventory").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing dashboard..."),t.invalidateQueries({queryKey:["dashboard-stats"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing dashboard..."),t.invalidateQueries({queryKey:["dashboard-stats"]})}).subscribe();return()=>{B.removeChannel(l)}},[t]);const o=l=>{switch(l){case"Serviceable":return"bg-green-500";case"For Repair":return"bg-yellow-500";case"Unserviceable":return"bg-red-600";case"Missing":return"bg-red-400";default:return"bg-gray-500"}};return n?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading dashboard..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Re,{children:[s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(st,{className:"text-sm font-medium",children:"Total Items"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Oe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.totalItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:!navigator.onLine&&!r?"Offline - cached data":i.totalItems===0?"No items yet":"From database"})]})]}),s.jsxs(Re,{children:[s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(st,{className:"text-sm font-medium",children:"Total Value"}),s.jsx(Cp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Oe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",i.totalValue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:!navigator.onLine&&!r?"Offline - cached data":i.totalValue===0?"No value yet":"From database"})]})]}),s.jsxs(Re,{children:[s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(st,{className:"text-sm font-medium",children:"Issued Items"}),s.jsx(sl,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Oe,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.issuedItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.issuedItems===0?"No items issued yet":"Assigned to custodians"})]})]}),s.jsxs(Re,{children:[s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(st,{className:"text-sm font-medium",children:"Available Items"}),s.jsx(An,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Oe,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.unissuedItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.unissuedItems===0?"All items are issued":"Ready for assignment"})]})]})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"flex items-center space-x-2",children:[s.jsx(ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Issued vs Unissued Items Summary"})]})}),s.jsxs(Oe,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{onClick:()=>e("/inventory?filter=issued"),className:"w-full flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 hover:border-green-300 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(sl,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Issued Items"}),s.jsx("p",{className:"text-sm text-green-600",children:"Assigned to custodians"}),s.jsx("p",{className:"text-xs text-green-500 group-hover:text-green-700",children:"Click to view "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.issuedItems}),s.jsxs("div",{className:"text-sm text-green-600",children:[i.totalItems>0?Math.round(i.issuedItems/i.totalItems*100):0,"% of total"]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{onClick:()=>e("/inventory?filter=available"),className:"w-full flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(An,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Available Items"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Ready for assignment"}),s.jsx("p",{className:"text-xs text-blue-500 group-hover:text-blue-700",children:"Click to view "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.unissuedItems}),s.jsxs("div",{className:"text-sm text-blue-600",children:[i.totalItems>0?Math.round(i.unissuedItems/i.totalItems*100):0,"% of total"]})]})]})})]}),i.totalItems>0&&s.jsxs("div",{className:"mt-6 p-4 bg-secondary rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Distribution"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.totalItems," total items"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:s.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[s.jsx("div",{className:"bg-green-500",style:{width:`${i.totalItems>0?i.issuedItems/i.totalItems*100:0}%`},title:`${i.issuedItems} issued items`}),s.jsx("div",{className:"bg-blue-500",style:{width:`${i.totalItems>0?i.unissuedItems/i.totalItems*100:0}%`},title:`${i.unissuedItems} available items`}),i.unserviceableItems>0&&s.jsx("div",{className:"bg-red-600",style:{width:`${i.totalItems>0?i.unserviceableItems/i.totalItems*100:0}%`},title:`${i.unserviceableItems} unserviceable items`})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsxs("span",{children:["Issued (",i.issuedItems,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsxs("span",{children:["Available (",i.unissuedItems,")"]})]}),i.unserviceableItems>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),s.jsxs("span",{children:["Unserviceable (",i.unserviceableItems,")"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Recent Activity"})}),s.jsx(Oe,{children:s.jsx("div",{className:"space-y-4",children:r.recentActivity.length>0?r.recentActivity.map((l,c)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:l.action}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",l.user,"  ",l.time]})]})]},c)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No recent activity"}),s.jsx("p",{className:"text-xs",children:"Add items to see activity here"})]})})})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Property Status Overview"})}),s.jsx(Oe,{children:s.jsx("div",{className:"space-y-4",children:Object.keys(r.byCondition).length>0?Object.entries(r.byCondition).map(([l,c])=>{const d=Object.values(r.byCondition).reduce((m,p)=>m+p,0),u=d>0?c/d*100:0,f=Math.max(u,5);return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:l}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 h-2 bg-muted rounded-full",children:s.jsx("div",{className:`h-2 rounded-full ${o(l)}`,style:{width:`${f}%`}})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:c})]})]},l)}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No property data"}),s.jsx("p",{className:"text-xs",children:"Add items to see status overview"})]})})})]})]})]})},Ae=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ae.displayName="Input";const cn=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ee("w-full caption-bottom text-sm",e),...t})}));cn.displayName="Table";const dn=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ee("[&_tr]:border-b",e),...t}));dn.displayName="TableHeader";const un=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ee("[&_tr:last-child]:border-0",e),...t}));un.displayName="TableBody";const F3=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));F3.displayName="TableFooter";const mt=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));mt.displayName="TableRow";const Se=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableHead";const xe=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const $3=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ee("mt-4 text-sm text-muted-foreground",e),...t}));$3.displayName="TableCaption";const q3=Yc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:e,variant:t,...r}){return s.jsx("div",{className:Ee(q3({variant:t}),e),...r})}function ug(e,[t,r]){return Math.min(r,Math.max(t,e))}function zC(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var U3=[" ","Enter","ArrowUp","ArrowDown"],B3=[" ","Enter"],$i="Select",[nh,sh,V3]=Tf($i),[wl,DV]=zr($i,[V3,Ja]),ah=Ja(),[z3,ri]=wl($i),[W3,H3]=wl($i),WC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:x}=e,g=ah(t),[w,v]=h.useState(null),[y,b]=h.useState(null),[j,_]=h.useState(!1),N=nd(d),[E,M]=Gs({prop:n,defaultProp:a??!1,onChange:i,caller:$i}),[U,$]=Gs({prop:o,defaultProp:l,onChange:c,caller:$i}),L=h.useRef(null),F=w?x||!!w.closest("form"):!0,[O,R]=h.useState(new Set),S=Array.from(O).map(A=>A.props.value).join(";");return s.jsx(My,{...g,children:s.jsxs(z3,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:_r(),value:U,onValueChange:$,open:E,onOpenChange:M,dir:N,triggerPointerDownPosRef:L,disabled:m,children:[s.jsx(nh.Provider,{scope:t,children:s.jsx(W3,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(A=>{R(ne=>new Set(ne).add(A))},[]),onNativeOptionRemove:h.useCallback(A=>{R(ne=>{const Q=new Set(ne);return Q.delete(A),Q})},[]),children:r})}),F?s.jsxs(p1,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:U,onChange:A=>$(A.target.value),disabled:m,form:x,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},S):null]})})};WC.displayName=$i;var HC="SelectTrigger",QC=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=ah(r),o=ri(HC,r),l=o.disabled||n,c=Xe(t,o.onTriggerChange),d=sh(r),u=h.useRef("touch"),[f,m,p]=y1(g=>{const w=d().filter(b=>!b.disabled),v=w.find(b=>b.value===o.value),y=v1(w,g,v);y!==void 0&&o.onValueChange(y.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Zc,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":g1(o.value)?"":void 0,...a,ref:c,onClick:_e(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:_e(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:_e(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&U3.includes(g.key)&&(x(),g.preventDefault())})})})});QC.displayName=HC;var KC="SelectValue",GC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ri(KC,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Xe(t,c.onValueNodeChange);return vr(()=>{d(u)},[d,u]),s.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:g1(c.value)?s.jsx(s.Fragment,{children:o}):i})});GC.displayName=KC;var Q3="SelectIcon",YC=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});YC.displayName=Q3;var K3="SelectPortal",XC=e=>s.jsx(hl,{asChild:!0,...e});XC.displayName=K3;var qi="SelectContent",JC=h.forwardRef((e,t)=>{const r=ri(qi,e.__scopeSelect),[n,a]=h.useState();if(vr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Xa.createPortal(s.jsx(ZC,{scope:e.__scopeSelect,children:s.jsx(nh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(e1,{...e,ref:t})});JC.displayName=qi;var $n=10,[ZC,ni]=wl(qi),G3="SelectContentImpl",Y3=Ba("SelectContent.RemoveScroll"),e1=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...v}=e,y=ri(qi,r),[b,j]=h.useState(null),[_,N]=h.useState(null),E=Xe(t,se=>j(se)),[M,U]=h.useState(null),[$,L]=h.useState(null),F=sh(r),[O,R]=h.useState(!1),S=h.useRef(!1);h.useEffect(()=>{if(b)return Jf(b)},[b]),Yf();const A=h.useCallback(se=>{const[J,...fe]=F().map(ee=>ee.ref.current),[T]=fe.slice(-1),H=document.activeElement;for(const ee of se)if(ee===H||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===J&&_&&(_.scrollTop=0),ee===T&&_&&(_.scrollTop=_.scrollHeight),ee==null||ee.focus(),document.activeElement!==H))return},[F,_]),ne=h.useCallback(()=>A([M,b]),[A,M,b]);h.useEffect(()=>{O&&ne()},[O,ne]);const{onOpenChange:Q,triggerPointerDownPosRef:W}=y;h.useEffect(()=>{if(b){let se={x:0,y:0};const J=T=>{var H,ee;se={x:Math.abs(Math.round(T.pageX)-(((H=W.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(T.pageY)-(((ee=W.current)==null?void 0:ee.y)??0))}},fe=T=>{se.x<=10&&se.y<=10?T.preventDefault():b.contains(T.target)||Q(!1),document.removeEventListener("pointermove",J),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",fe,{capture:!0})}}},[b,Q,W]),h.useEffect(()=>{const se=()=>Q(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[Q]);const[ae,ge]=y1(se=>{const J=F().filter(H=>!H.disabled),fe=J.find(H=>H.ref.current===document.activeElement),T=v1(J,se,fe);T&&setTimeout(()=>T.ref.current.focus())}),G=h.useCallback((se,J,fe)=>{const T=!S.current&&!fe;(y.value!==void 0&&y.value===J||T)&&(U(se),T&&(S.current=!0))},[y.value]),ie=h.useCallback(()=>b==null?void 0:b.focus(),[b]),de=h.useCallback((se,J,fe)=>{const T=!S.current&&!fe;(y.value!==void 0&&y.value===J||T)&&L(se)},[y.value]),he=n==="popper"?fg:t1,me=he===fg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(ZC,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:G,selectedItem:M,onItemLeave:ie,itemTextRefCallback:de,focusSelectedItem:ne,selectedItemText:$,position:n,isPositioned:O,searchRef:ae,children:s.jsx(id,{as:Y3,allowPinchZoom:!0,children:s.jsx(sd,{asChild:!0,trapped:y.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:_e(a,se=>{var J;(J=y.trigger)==null||J.focus({preventScroll:!0}),se.preventDefault()}),children:s.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(he,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:se=>se.preventDefault(),...v,...me,onPlaced:()=>R(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:_e(v.onKeyDown,se=>{const J=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!J&&se.key.length===1&&ge(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let T=F().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(se.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const H=se.target,ee=T.indexOf(H);T=T.slice(ee+1)}setTimeout(()=>A(T)),se.preventDefault()}})})})})})})});e1.displayName=G3;var X3="SelectItemAlignedPosition",t1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ri(qi,r),o=ni(qi,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Xe(t,E=>u(E)),m=sh(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&v){const E=i.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),$=v.getBoundingClientRect();if(i.dir!=="rtl"){const H=$.left-M.left,ee=U.left-H,oe=E.left-ee,be=E.width+oe,He=Math.max(be,M.width),ut=window.innerWidth-$n,Pe=ug(ee,[$n,Math.max($n,ut-He)]);l.style.minWidth=be+"px",l.style.left=Pe+"px"}else{const H=M.right-$.right,ee=window.innerWidth-U.right-H,oe=window.innerWidth-E.right-ee,be=E.width+oe,He=Math.max(be,M.width),ut=window.innerWidth-$n,Pe=ug(ee,[$n,Math.max($n,ut-He)]);l.style.minWidth=be+"px",l.style.right=Pe+"px"}const L=m(),F=window.innerHeight-$n*2,O=g.scrollHeight,R=window.getComputedStyle(d),S=parseInt(R.borderTopWidth,10),A=parseInt(R.paddingTop,10),ne=parseInt(R.borderBottomWidth,10),Q=parseInt(R.paddingBottom,10),W=S+A+O+Q+ne,ae=Math.min(w.offsetHeight*5,W),ge=window.getComputedStyle(g),G=parseInt(ge.paddingTop,10),ie=parseInt(ge.paddingBottom,10),de=E.top+E.height/2-$n,he=F-de,me=w.offsetHeight/2,se=w.offsetTop+me,J=S+A+se,fe=W-J;if(J<=de){const H=L.length>0&&w===L[L.length-1].ref.current;l.style.bottom="0px";const ee=d.clientHeight-g.offsetTop-g.offsetHeight,oe=Math.max(he,me+(H?ie:0)+ee+ne),be=J+oe;l.style.height=be+"px"}else{const H=L.length>0&&w===L[0].ref.current;l.style.top="0px";const oe=Math.max(de,S+g.offsetTop+(H?G:0)+me)+fe;l.style.height=oe+"px",g.scrollTop=J-de+g.offsetTop}l.style.margin=`${$n}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,v,i.dir,n]);vr(()=>b(),[b]);const[j,_]=h.useState();vr(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const N=h.useCallback(E=>{E&&x.current===!0&&(b(),y==null||y(),x.current=!1)},[b,y]);return s.jsx(Z3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});t1.displayName=X3;var J3="SelectPopperPosition",fg=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=$n,...i}=e,o=ah(r);return s.jsx($f,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fg.displayName=J3;var[Z3,iv]=wl(qi,{}),hg="SelectViewport",r1=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ni(hg,r),o=iv(hg,r),l=Xe(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(nh.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_e(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-$n*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(g,w);if(v<x){const y=v+p,b=Math.min(x,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});r1.displayName=hg;var n1="SelectGroup",[eq,tq]=wl(n1),rq=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_r();return s.jsx(eq,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});rq.displayName=n1;var s1="SelectLabel",a1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=tq(s1,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});a1.displayName=s1;var nf="SelectItem",[nq,i1]=wl(nf),o1=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ri(nf,r),c=ni(nf,r),d=l.value===n,[u,f]=h.useState(i??""),[m,p]=h.useState(!1),x=Xe(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),g=_r(),w=h.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(nq,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(nh.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:_e(o.onFocus,()=>p(!0)),onBlur:_e(o.onBlur,()=>p(!1)),onClick:_e(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:_e(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:_e(o.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:_e(o.onPointerMove,y=>{var b;w.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:_e(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(B3.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});o1.displayName=nf;var Gl="SelectItemText",l1=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ri(Gl,r),l=ni(Gl,r),c=i1(Gl,r),d=H3(Gl,r),[u,f]=h.useState(null),m=Xe(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return vr(()=>(g(x),()=>w(x)),[g,w,x]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xa.createPortal(i.children,o.valueNode):null]})});l1.displayName=Gl;var c1="SelectItemIndicator",d1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i1(c1,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});d1.displayName=c1;var mg="SelectScrollUpButton",u1=h.forwardRef((e,t)=>{const r=ni(mg,e.__scopeSelect),n=iv(mg,e.__scopeSelect),[a,i]=h.useState(!1),o=Xe(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(h1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});u1.displayName=mg;var pg="SelectScrollDownButton",f1=h.forwardRef((e,t)=>{const r=ni(pg,e.__scopeSelect),n=iv(pg,e.__scopeSelect),[a,i]=h.useState(!1),o=Xe(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(h1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});f1.displayName=pg;var h1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ni("SelectScrollButton",r),o=h.useRef(null),l=sh(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),vr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_e(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:_e(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:_e(a.onPointerLeave,()=>{c()})})}),sq="SelectSeparator",m1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});m1.displayName=sq;var gg="SelectArrow",aq=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ah(r),i=ri(gg,r),o=ni(gg,r);return i.open&&o.position==="popper"?s.jsx(qf,{...a,...n,ref:t}):null});aq.displayName=gg;var iq="SelectBubbleInput",p1=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=h.useRef(null),i=Xe(n,a),o=zC(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Me.select,{...r,style:{...j_,...r.style},ref:i,defaultValue:t})});p1.displayName=iq;function g1(e){return e===""||e===void 0}function y1(e){const t=Jt(e),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function v1(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=oq(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function oq(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lq=WC,x1=QC,cq=GC,dq=YC,uq=XC,b1=JC,fq=r1,w1=a1,j1=o1,hq=l1,mq=d1,_1=u1,N1=f1,S1=m1;const $t=lq,qt=cq,Rt=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(x1,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(dq,{asChild:!0,children:s.jsx(Rf,{className:"h-4 w-4 opacity-50"})})]}));Rt.displayName=x1.displayName;const C1=h.forwardRef(({className:e,...t},r)=>s.jsx(_1,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(RI,{className:"h-4 w-4"})}));C1.displayName=_1.displayName;const E1=h.forwardRef(({className:e,...t},r)=>s.jsx(N1,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Rf,{className:"h-4 w-4"})}));E1.displayName=N1.displayName;const Ot=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(uq,{children:s.jsxs(b1,{ref:a,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(C1,{}),s.jsx(fq,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(E1,{})]})}));Ot.displayName=b1.displayName;const pq=h.forwardRef(({className:e,...t},r)=>s.jsx(w1,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pq.displayName=w1.displayName;const je=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(j1,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mq,{children:s.jsx(Ys,{className:"h-4 w-4"})})}),s.jsx(hq,{children:t})]}));je.displayName=j1.displayName;const gq=h.forwardRef(({className:e,...t},r)=>s.jsx(S1,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));gq.displayName=S1.displayName;var ih="Dialog",[k1,P1]=zr(ih),[yq,ns]=k1(ih),T1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=Gs({prop:n,defaultProp:a??!1,onChange:i,caller:ih});return s.jsx(yq,{scope:t,triggerRef:l,contentRef:c,contentId:_r(),titleId:_r(),descriptionId:_r(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};T1.displayName=ih;var A1="DialogTrigger",I1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ns(A1,r),i=Xe(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cv(a.open),...n,ref:i,onClick:_e(e.onClick,a.onOpenToggle)})});I1.displayName=A1;var ov="DialogPortal",[vq,R1]=k1(ov,{forceMount:void 0}),O1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ns(ov,t);return s.jsx(vq,{scope:t,forceMount:r,children:h.Children.map(n,o=>s.jsx(xr,{present:r||i.open,children:s.jsx(hl,{asChild:!0,container:a,children:o})}))})};O1.displayName=ov;var sf="DialogOverlay",D1=h.forwardRef((e,t)=>{const r=R1(sf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ns(sf,e.__scopeDialog);return i.modal?s.jsx(xr,{present:n||i.open,children:s.jsx(bq,{...a,ref:t})}):null});D1.displayName=sf;var xq=Ba("DialogOverlay.RemoveScroll"),bq=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ns(sf,r);return s.jsx(id,{as:xq,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":cv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ui="DialogContent",M1=h.forwardRef((e,t)=>{const r=R1(Ui,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ns(Ui,e.__scopeDialog);return s.jsx(xr,{present:n||i.open,children:i.modal?s.jsx(wq,{...a,ref:t}):s.jsx(jq,{...a,ref:t})})});M1.displayName=Ui;var wq=h.forwardRef((e,t)=>{const r=ns(Ui,e.__scopeDialog),n=h.useRef(null),a=Xe(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Jf(i)},[]),s.jsx(L1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())})}),jq=h.forwardRef((e,t)=>{const r=ns(Ui,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(L1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),L1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ns(Ui,r),c=h.useRef(null),d=Xe(t,c);return Yf(),s.jsxs(s.Fragment,{children:[s.jsx(sd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Hi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Nq,{titleId:l.titleId}),s.jsx(Cq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lv="DialogTitle",F1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ns(lv,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});F1.displayName=lv;var $1="DialogDescription",q1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ns($1,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});q1.displayName=$1;var U1="DialogClose",B1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ns(U1,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});B1.displayName=U1;function cv(e){return e?"open":"closed"}var V1="DialogTitleWarning",[_q,z1]=LA(V1,{contentName:Ui,titleName:lv,docsSlug:"dialog"}),Nq=({titleId:e})=>{const t=z1(V1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Sq="DialogDescriptionWarning",Cq=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${z1(Sq).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},dv=T1,W1=I1,uv=O1,oh=D1,lh=M1,fv=F1,hv=q1,mv=B1;const gn=dv,Eq=W1,kq=uv,H1=h.forwardRef(({className:e,...t},r)=>s.jsx(oh,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));H1.displayName=oh.displayName;const sn=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(kq,{children:[s.jsx(H1,{}),s.jsxs(lh,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(mv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(K_,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sn.displayName=lh.displayName;const xn=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xn.displayName="DialogHeader";const Q1=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Q1.displayName="DialogFooter";const bn=h.forwardRef(({className:e,...t},r)=>s.jsx(fv,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));bn.displayName=fv.displayName;const _s=h.forwardRef(({className:e,...t},r)=>s.jsx(hv,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));_s.displayName=hv.displayName;var Pq="Label",K1=h.forwardRef((e,t)=>s.jsx(Me.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K1.displayName=Pq;var G1=K1;const Tq=Yc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=h.forwardRef(({className:e,...t},r)=>s.jsx(G1,{ref:r,className:Ee(Tq(),e),...t}));ue.displayName=G1.displayName;var ch="Tabs",[Aq,MV]=zr(ch,[Xf]),Y1=Xf(),[Iq,pv]=Aq(ch),X1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=nd(l),[f,m]=Gs({prop:n,onChange:a,defaultProp:i??"",caller:ch});return s.jsx(Iq,{scope:r,baseId:_r(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Me.div,{dir:u,"data-orientation":o,...d,ref:t})})});X1.displayName=ch;var J1="TabsList",Z1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=pv(J1,r),o=Y1(r);return s.jsx(MS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Z1.displayName=J1;var eE="TabsTrigger",tE=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=pv(eE,r),l=Y1(r),c=sE(o.baseId,n),d=aE(o.baseId,n),u=n===o.value;return s.jsx(LS,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:_e(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:_e(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:_e(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});tE.displayName=eE;var rE="TabsContent",nE=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=pv(rE,r),c=sE(l.baseId,n),d=aE(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(xr,{present:a||u,children:({present:m})=>s.jsx(Me.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});nE.displayName=rE;function sE(e,t){return`${e}-trigger-${t}`}function aE(e,t){return`${e}-content-${t}`}var Rq=X1,iE=Z1,oE=tE,lE=nE;const cd=Rq,jl=h.forwardRef(({className:e,...t},r)=>s.jsx(iE,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jl.displayName=iE.displayName;const tn=h.forwardRef(({className:e,...t},r)=>s.jsx(oE,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));tn.displayName=oE.displayName;const rn=h.forwardRef(({className:e,...t},r)=>s.jsx(lE,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));rn.displayName=lE.displayName;const Ti=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ti.displayName="Textarea";var dh="Popover",[cE,LV]=zr(dh,[Ja]),dd=Ja(),[Oq,si]=cE(dh),dE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=dd(t),c=h.useRef(null),[d,u]=h.useState(!1),[f,m]=Gs({prop:n,defaultProp:a??!1,onChange:i,caller:dh});return s.jsx(My,{...l,children:s.jsx(Oq,{scope:t,contentId:_r(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:o,children:r})})};dE.displayName=dh;var uE="PopoverAnchor",Dq=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=si(uE,r),i=dd(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Zc,{...i,...n,ref:t})});Dq.displayName=uE;var fE="PopoverTrigger",hE=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=si(fE,r),i=dd(r),o=Xe(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vE(a.open),...n,ref:o,onClick:_e(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Zc,{asChild:!0,...i,children:l})});hE.displayName=fE;var gv="PopoverPortal",[Mq,Lq]=cE(gv,{forceMount:void 0}),mE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=si(gv,t);return s.jsx(Mq,{scope:t,forceMount:r,children:s.jsx(xr,{present:r||i.open,children:s.jsx(hl,{asChild:!0,container:a,children:n})})})};mE.displayName=gv;var ll="PopoverContent",pE=h.forwardRef((e,t)=>{const r=Lq(ll,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=si(ll,e.__scopePopover);return s.jsx(xr,{present:n||i.open,children:i.modal?s.jsx($q,{...a,ref:t}):s.jsx(qq,{...a,ref:t})})});pE.displayName=ll;var Fq=Ba("PopoverContent.RemoveScroll"),$q=h.forwardRef((e,t)=>{const r=si(ll,e.__scopePopover),n=h.useRef(null),a=Xe(t,n),i=h.useRef(!1);return h.useEffect(()=>{const o=n.current;if(o)return Jf(o)},[]),s.jsx(id,{as:Fq,allowPinchZoom:!0,children:s.jsx(gE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),qq=h.forwardRef((e,t)=>{const r=si(ll,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(gE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gE=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=si(ll,r),p=dd(r);return Yf(),s.jsx(sd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx($f,{"data-state":vE(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yE="PopoverClose",Uq=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=si(yE,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});Uq.displayName=yE;var Bq="PopoverArrow",Vq=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=dd(r);return s.jsx(qf,{...a,...n,ref:t})});Vq.displayName=Bq;function vE(e){return e?"open":"closed"}var zq=dE,Wq=hE,Hq=mE,xE=pE;const bE=zq,wE=Wq,yv=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Hq,{children:s.jsx(xE,{ref:a,align:t,sideOffset:r,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));yv.displayName=xE.displayName;var ww=1,Qq=.9,Kq=.8,Gq=.17,bm=.1,wm=.999,Yq=.9999,Xq=.99,Jq=/[\\\/_+.#"@\[\(\{&]/,Zq=/[\\\/_+.#"@\[\(\{&]/g,e5=/[\s-]/,jE=/[\s-]/g;function yg(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?ww:Xq;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,f,m,p,x;d>=0;)f=yg(e,t,r,n,d+1,i+1,o),f>u&&(d===a?f*=ww:Jq.test(e.charAt(d-1))?(f*=Kq,p=e.slice(a,d-1).match(Zq),p&&a>0&&(f*=Math.pow(wm,p.length))):e5.test(e.charAt(d-1))?(f*=Qq,x=e.slice(a,d-1).match(jE),x&&a>0&&(f*=Math.pow(wm,x.length))):(f*=Gq,a>0&&(f*=Math.pow(wm,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=Yq)),(f<bm&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=yg(e,t,r,n,d+1,i+2,o),m*bm>f&&(f=m*bm)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function jw(e){return e.toLowerCase().replace(jE," ")}function t5(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,yg(e,t,jw(e),jw(t),0,0,{})}var Ml='[cmdk-group=""]',jm='[cmdk-group-items=""]',r5='[cmdk-group-heading=""]',_E='[cmdk-item=""]',_w=`${_E}:not([aria-disabled="true"])`,vg="cmdk-item-select",fo="data-value",n5=(e,t,r)=>t5(e,t,r),NE=h.createContext(void 0),ud=()=>h.useContext(NE),SE=h.createContext(void 0),vv=()=>h.useContext(SE),CE=h.createContext(void 0),EE=h.forwardRef((e,t)=>{let r=ho(()=>{var G,ie;return{search:"",value:(ie=(G=e.value)!=null?G:e.defaultValue)!=null?ie:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ho(()=>new Set),a=ho(()=>new Map),i=ho(()=>new Map),o=ho(()=>new Set),l=kE(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:w=!0,...v}=e,y=_r(),b=_r(),j=_r(),_=h.useRef(null),N=m5();Bi(()=>{if(u!==void 0){let G=u.trim();r.current.value=G,E.emit()}},[u]),Bi(()=>{N(6,O)},[]);let E=h.useMemo(()=>({subscribe:G=>(o.current.add(G),()=>o.current.delete(G)),snapshot:()=>r.current,setState:(G,ie,de)=>{var he,me,se,J;if(!Object.is(r.current[G],ie)){if(r.current[G]=ie,G==="search")F(),$(),N(1,L);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let fe=document.getElementById(j);fe?fe.focus():(he=document.getElementById(y))==null||he.focus()}if(N(7,()=>{var fe;r.current.selectedItemId=(fe=R())==null?void 0:fe.id,E.emit()}),de||N(5,O),((me=l.current)==null?void 0:me.value)!==void 0){let fe=ie??"";(J=(se=l.current).onValueChange)==null||J.call(se,fe);return}}E.emit()}},emit:()=>{o.current.forEach(G=>G())}}),[]),M=h.useMemo(()=>({value:(G,ie,de)=>{var he;ie!==((he=i.current.get(G))==null?void 0:he.value)&&(i.current.set(G,{value:ie,keywords:de}),r.current.filtered.items.set(G,U(ie,de)),N(2,()=>{$(),E.emit()}))},item:(G,ie)=>(n.current.add(G),ie&&(a.current.has(ie)?a.current.get(ie).add(G):a.current.set(ie,new Set([G]))),N(3,()=>{F(),$(),r.current.value||L(),E.emit()}),()=>{i.current.delete(G),n.current.delete(G),r.current.filtered.items.delete(G);let de=R();N(4,()=>{F(),(de==null?void 0:de.getAttribute("id"))===G&&L(),E.emit()})}),group:G=>(a.current.has(G)||a.current.set(G,new Set),()=>{i.current.delete(G),a.current.delete(G)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:j,labelId:b,listInnerRef:_}),[]);function U(G,ie){var de,he;let me=(he=(de=l.current)==null?void 0:de.filter)!=null?he:n5;return G?me(G,r.current.search,ie):0}function $(){if(!r.current.search||l.current.shouldFilter===!1)return;let G=r.current.filtered.items,ie=[];r.current.filtered.groups.forEach(he=>{let me=a.current.get(he),se=0;me.forEach(J=>{let fe=G.get(J);se=Math.max(fe,se)}),ie.push([he,se])});let de=_.current;S().sort((he,me)=>{var se,J;let fe=he.getAttribute("id"),T=me.getAttribute("id");return((se=G.get(T))!=null?se:0)-((J=G.get(fe))!=null?J:0)}).forEach(he=>{let me=he.closest(jm);me?me.appendChild(he.parentElement===me?he:he.closest(`${jm} > *`)):de.appendChild(he.parentElement===de?he:he.closest(`${jm} > *`))}),ie.sort((he,me)=>me[1]-he[1]).forEach(he=>{var me;let se=(me=_.current)==null?void 0:me.querySelector(`${Ml}[${fo}="${encodeURIComponent(he[0])}"]`);se==null||se.parentElement.appendChild(se)})}function L(){let G=S().find(de=>de.getAttribute("aria-disabled")!=="true"),ie=G==null?void 0:G.getAttribute(fo);E.setState("value",ie||void 0)}function F(){var G,ie,de,he;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let me=0;for(let se of n.current){let J=(ie=(G=i.current.get(se))==null?void 0:G.value)!=null?ie:"",fe=(he=(de=i.current.get(se))==null?void 0:de.keywords)!=null?he:[],T=U(J,fe);r.current.filtered.items.set(se,T),T>0&&me++}for(let[se,J]of a.current)for(let fe of J)if(r.current.filtered.items.get(fe)>0){r.current.filtered.groups.add(se);break}r.current.filtered.count=me}function O(){var G,ie,de;let he=R();he&&(((G=he.parentElement)==null?void 0:G.firstChild)===he&&((de=(ie=he.closest(Ml))==null?void 0:ie.querySelector(r5))==null||de.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function R(){var G;return(G=_.current)==null?void 0:G.querySelector(`${_E}[aria-selected="true"]`)}function S(){var G;return Array.from(((G=_.current)==null?void 0:G.querySelectorAll(_w))||[])}function A(G){let ie=S()[G];ie&&E.setState("value",ie.getAttribute(fo))}function ne(G){var ie;let de=R(),he=S(),me=he.findIndex(J=>J===de),se=he[me+G];(ie=l.current)!=null&&ie.loop&&(se=me+G<0?he[he.length-1]:me+G===he.length?he[0]:he[me+G]),se&&E.setState("value",se.getAttribute(fo))}function Q(G){let ie=R(),de=ie==null?void 0:ie.closest(Ml),he;for(;de&&!he;)de=G>0?f5(de,Ml):h5(de,Ml),he=de==null?void 0:de.querySelector(_w);he?E.setState("value",he.getAttribute(fo)):ne(G)}let W=()=>A(S().length-1),ae=G=>{G.preventDefault(),G.metaKey?W():G.altKey?Q(1):ne(1)},ge=G=>{G.preventDefault(),G.metaKey?A(0):G.altKey?Q(-1):ne(-1)};return h.createElement(Me.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:G=>{var ie;(ie=v.onKeyDown)==null||ie.call(v,G);let de=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||de))switch(G.key){case"n":case"j":{w&&G.ctrlKey&&ae(G);break}case"ArrowDown":{ae(G);break}case"p":case"k":{w&&G.ctrlKey&&ge(G);break}case"ArrowUp":{ge(G);break}case"Home":{G.preventDefault(),A(0);break}case"End":{G.preventDefault(),W();break}case"Enter":{G.preventDefault();let he=R();if(he){let me=new Event(vg);he.dispatchEvent(me)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:g5},c),uh(e,G=>h.createElement(SE.Provider,{value:E},h.createElement(NE.Provider,{value:M},G))))}),s5=h.forwardRef((e,t)=>{var r,n;let a=_r(),i=h.useRef(null),o=h.useContext(CE),l=ud(),c=kE(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Bi(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=PE(a,i,[e.value,e.children,i],e.keywords),f=vv(),m=Qa(N=>N.value&&N.value===u.current),p=Qa(N=>d||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);h.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(vg,x),()=>N.removeEventListener(vg,x)},[p,e.onSelect,e.disabled]);function x(){var N,E;g(),(E=(N=c.current).onSelect)==null||E.call(N,u.current)}function g(){f.setState("value",u.current,!0)}if(!p)return null;let{disabled:w,value:v,onSelect:y,forceMount:b,keywords:j,..._}=e;return h.createElement(Me.div,{ref:Ks(i,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||l.getDisablePointerSelection()?void 0:g,onClick:w?void 0:x},e.children)}),a5=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=_r(),l=h.useRef(null),c=h.useRef(null),d=_r(),u=ud(),f=Qa(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Bi(()=>u.group(o),[]),PE(o,l,[e.value,e.heading,c]);let m=h.useMemo(()=>({id:o,forceMount:a}),[a]);return h.createElement(Me.div,{ref:Ks(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),uh(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(CE.Provider,{value:m},p))))}),i5=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=h.useRef(null),i=Qa(o=>!o.search);return!r&&!i?null:h.createElement(Me.div,{ref:Ks(a,t),...n,"cmdk-separator":"",role:"separator"})}),o5=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=vv(),o=Qa(d=>d.search),l=Qa(d=>d.selectedItemId),c=ud();return h.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),h.createElement(Me.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),l5=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=h.useRef(null),o=h.useRef(null),l=Qa(d=>d.selectedItemId),c=ud();return h.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(f),m.unobserve(d)}}},[]),h.createElement(Me.div,{ref:Ks(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},uh(e,d=>h.createElement("div",{ref:Ks(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),c5=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return h.createElement(dv,{open:r,onOpenChange:n},h.createElement(uv,{container:o},h.createElement(oh,{"cmdk-overlay":"",className:a}),h.createElement(lh,{"aria-label":e.label,"cmdk-dialog":"",className:i},h.createElement(EE,{ref:t,...l}))))}),d5=h.forwardRef((e,t)=>Qa(r=>r.filtered.count===0)?h.createElement(Me.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),u5=h.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return h.createElement(Me.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},uh(e,o=>h.createElement("div",{"aria-hidden":!0},o)))}),fn=Object.assign(EE,{List:l5,Item:s5,Input:o5,Group:a5,Separator:i5,Dialog:c5,Empty:d5,Loading:u5});function f5(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function h5(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function kE(e){let t=h.useRef(e);return Bi(()=>{t.current=e}),t}var Bi=typeof window>"u"?h.useEffect:h.useLayoutEffect;function ho(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Qa(e){let t=vv(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function PE(e,t,r,n=[]){let a=h.useRef(),i=ud();return Bi(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(fo,l),a.current=l}),a}var m5=()=>{let[e,t]=h.useState(),r=ho(()=>new Map);return Bi(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function p5(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function uh({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(p5(t),{ref:t.ref},r(t.props.children)):r(t)}var g5={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const xv=h.forwardRef(({className:e,...t},r)=>s.jsx(fn,{ref:r,className:Ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));xv.displayName=fn.displayName;const bv=h.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(fn.Input,{ref:r,className:Ee("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bv.displayName=fn.Input.displayName;const wv=h.forwardRef(({className:e,...t},r)=>s.jsx(fn.List,{ref:r,className:Ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));wv.displayName=fn.List.displayName;const jv=h.forwardRef((e,t)=>s.jsx(fn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));jv.displayName=fn.Empty.displayName;const _v=h.forwardRef(({className:e,...t},r)=>s.jsx(fn.Group,{ref:r,className:Ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));_v.displayName=fn.Group.displayName;const y5=h.forwardRef(({className:e,...t},r)=>s.jsx(fn.Separator,{ref:r,className:Ee("-mx-1 h-px bg-border",e),...t}));y5.displayName=fn.Separator.displayName;const Nv=h.forwardRef(({className:e,...t},r)=>s.jsx(fn.Item,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Nv.displayName=fn.Item.displayName;const Jr={async getSuppliers(){try{const{data:e,error:t}=await B.from("suppliers").select("id, name").eq("is_active",!0).order("name");return t?(console.error("Error fetching suppliers:",t),[]):e||[]}catch(e){return console.error("Network error fetching suppliers:",e),[]}},async getCustodians(){try{const{data:e,error:t}=await B.from("custodians").select("id, name, custodian_no").order("name");return t?(console.error("Error fetching custodians:",t),[]):(e||[]).map(r=>({id:r.id,name:r.name,code:r.custodian_no??void 0}))}catch(e){return console.error("Network error fetching custodians:",e),[]}},async getFundSources(){const{data:e,error:t}=await B.from("fund_sources").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching fund sources:",t),[]):e||[]},async getUsers(){const{data:e,error:t}=await B.from("user_profiles").select("id, full_name").eq("is_active",!0).order("full_name");return t?(console.error("Error fetching users:",t),[]):(e||[]).map(r=>({id:r.id,name:r.full_name}))},async getDepartments(){const{data:e,error:t}=await B.from("departments").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching departments:",t),[]):e||[]},async getSemiExpandableCategories(){const{data:e,error:t}=await B.from("semi_expandable_categories").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching semi expandable categories:",t),[]):e||[]},async create(e,t){var l;const r={name:t.name},n=(l=t.code)==null?void 0:l.trim();if(e==="fund_sources"){if(!n)throw new Error("Code is required for fund sources");r.code=n}else if(e==="departments"||e==="semi_expandable_categories")n&&(r.code=n);else if(e==="custodians"){let c=n;if(!c){const{data:p,error:x}=await B.from("custodians").select("custodian_no").order("custodian_no",{ascending:!1}).limit(50);if(!x&&p){const g=p.map(v=>String(v.custodian_no||"").trim()).map(v=>v.match(/\d+/)?parseInt(v.match(/\d+/)[0],10):NaN).filter(v=>Number.isFinite(v)),w=g.length?Math.max(...g)+1:1;c=String(w).padStart(4,"0")}else c="0001"}const u=`CUST-${(c.match(/\d+/)?c.match(/\d+/)[0]:c).padStart(4,"0")}`,{data:f,error:m}=await B.from("custodians").select("id").in("custodian_no",[c,u]).limit(1);if(!m&&f&&f.length>0)throw new Error("Custodian number already exists. Please use a different number.");r.custodian_no=u,t.position!==void 0&&(r.position=t.position&&t.position.trim()!==""?t.position:null),t.department_id!==void 0&&(r.department_id=t.department_id&&t.department_id.trim()!==""?t.department_id:null)}const a=e==="fund_sources"||e==="departments"||e==="semi_expandable_categories"?"id, name, code":e==="custodians"?"id, name, custodian_no, position, department_id":"id, name",{data:i,error:o}=await B.from(e).insert(r).select(a).single();if(o)throw o.code==="23505"?e==="custodians"?new Error("Custodian number already exists. Please use a different number."):new Error("A record with this code already exists. Please use a different code."):o.code==="23502"&&e==="departments"?new Error("Department code is optional, but your database still requires it. Please run database/make-department-code-optional.sql in Supabase."):o;return e==="custodians"?{id:i.id,name:i.name,code:i.custodian_no}:i},async update(e,t,r){var c;const n={};r.name!==void 0&&(n.name=r.name);const a=(c=r.code)==null?void 0:c.trim();if(e==="fund_sources"||e==="departments"||e==="semi_expandable_categories")r.code!==void 0&&(n.code=a??null);else if(e==="custodians"){if(r.code!==void 0)if(a){const d=(a.match(/\d+/)?a.match(/\d+/)[0]:a).padStart(4,"0");n.custodian_no=`CUST-${d}`}else n.custodian_no=null;r.position!==void 0&&(n.position=r.position&&r.position.trim()!==""?r.position:null),r.department_id!==void 0&&(n.department_id=r.department_id&&r.department_id.trim()!==""?r.department_id:null)}const i=e==="fund_sources"||e==="departments"||e==="semi_expandable_categories"?"id, name, code":e==="custodians"?"id, name, custodian_no, position, department_id":"id, name",{data:o,error:l}=await B.from(e).update(n).eq("id",t).select(i).single();if(l)throw l;return e==="custodians"?{id:o.id,name:o.name,code:o.custodian_no}:o},async remove(e,t){if(e==="departments"){const{data:n,error:a}=await B.from("custodians").select("id").eq("department_id",t).limit(1);if(a)throw a;if(n&&n.length>0)throw new Error("Cannot delete department: It is currently assigned to custodians. Please reassign the custodians to a different department first.")}if(e==="custodians"){const{data:n,error:a}=await B.from("custodians").select("name").eq("id",t).maybeSingle();if(a)throw a;const i=(n==null?void 0:n.name)||null,{data:o,error:l}=await B.from("inventory_items").select("id").eq("custodian_id",t).limit(1);if(l)throw l;let c=null;if(i){const u=await B.from("inventory_items").select("id").eq("custodian",i).limit(1);if(u.error)throw u.error;c=u.data}if(o&&o.length>0||c&&c.length>0)throw new Error("This Custodian still has items in custody. Suggest transferring items before deletion.")}const{error:r}=await B.from(e).delete().eq("id",t);if(r)throw r;return!0}};class Kd{static async generateNextPropertyNumber(t){const n=new Date().getFullYear().toString(),a=t==="Small Value Expendable"?"SPLV":"SPHV",i=`${a}-${n}-`;console.log(`Generating property number for ${t}:`,{prefix:a,year:n,searchPattern:i});try{const{data:o,error:l}=await B.from("inventory_items").select("property_number").like("property_number",`${i}%`).order("property_number",{ascending:!1});if(console.log("Database query result:",{data:o,error:l}),l){console.error("Error fetching property numbers:",l);const p=`${i}0001`;return console.log("Using fallback number:",p),p}if(!o||o.length===0){const p=`${i}0001`;return console.log("No existing numbers found, using first number:",p),p}let c=0;for(const p of o){const x=p.property_number;if(x.startsWith(i)){const g=x.split("-");if(g.length===3){const w=g[2],v=parseInt(w,10);!isNaN(v)&&v>c&&(c=v)}}}const d=c+1,u=d.toString().padStart(4,"0"),f=`${i}${u}`;if(console.log("Generated next number:",f,{highestSequence:c,nextSequence:d,totalExisting:o.length}),o.find(p=>p.property_number===f)){console.warn("Generated number already exists, trying next sequence");const x=(d+1).toString().padStart(4,"0"),g=`${i}${x}`;return console.log("Using next available number:",g),g}return f}catch(o){console.error("Error generating property number:",o);const l=`${i}0001`;return console.log("Using fallback number due to error:",l),l}}static parsePropertyNumber(t){const r=t.split("-");if(r.length===3){const[n,a,i]=r;return n!=="SPLV"&&n!=="SPHV"||!/^\d{4}$/.test(a)||!/^\d{4}$/.test(i)?null:{prefix:n,year:a,sequenceNumber:i,fullNumber:t}}if(r.length===4){const[n,a,i,o]=r;return n!=="SPLV"&&n!=="SPHV"||!/^\d{4}$/.test(a)||!/^(0[1-9]|1[0-2])$/.test(i)||!/^\d{4}$/.test(o)?null:{prefix:n,year:a,sequenceNumber:o,fullNumber:t}}return null}static getPrefixForSubCategory(t){return t==="Small Value Expendable"?"SPLV":"SPHV"}static isValidPropertyNumber(t){return this.parsePropertyNumber(t)!==null}static async checkPropertyNumberExists(t){try{const{data:r,error:n}=await B.from("inventory_items").select("id").eq("property_number",t).limit(1);return n?(console.error("Error checking property number existence:",n),!1):r&&r.length>0}catch(r){return console.error("Error checking property number existence:",r),!1}}static async generateUniquePropertyNumber(t){let r=0;const n=10;for(;r<n;){const a=await this.generateNextPropertyNumber(t);if(!await this.checkPropertyNumberExists(a))return console.log(`Generated unique property number: ${a} (attempt ${r+1})`),a;console.warn(`Property number ${a} already exists, trying next sequence`),r++}throw new Error(`Unable to generate unique property number after ${n} attempts`)}}function v5(e){const t=e.toLowerCase();return t.includes("server")||t.includes("computer")||t.includes("workstation")?{years:5,confidence:"high",reasoning:"IT equipment typically lasts 5 years"}:t.includes("vehicle")||t.includes("car")||t.includes("truck")?{years:8,confidence:"high",reasoning:"Vehicles typically last 8 years"}:t.includes("furniture")||t.includes("desk")||t.includes("chair")||t.includes("cabinet")?{years:10,confidence:"high",reasoning:"Furniture typically lasts 10 years"}:t.includes("air conditioning")||t.includes("hvac")||t.includes("cooling")?{years:15,confidence:"high",reasoning:"HVAC systems typically last 15 years"}:t.includes("generator")||t.includes("backup power")?{years:20,confidence:"high",reasoning:"Generators typically last 20 years"}:t.includes("refrigerator")||t.includes("freezer")?{years:12,confidence:"high",reasoning:"Refrigeration equipment typically lasts 12 years"}:t.includes("printer")||t.includes("copier")||t.includes("scanner")?{years:7,confidence:"medium",reasoning:"Office equipment typically lasts 7 years"}:t.includes("monitor")||t.includes("display")||t.includes("screen")?{years:5,confidence:"medium",reasoning:"Displays typically last 5 years"}:t.includes("laptop")||t.includes("notebook")?{years:4,confidence:"high",reasoning:"Laptops typically last 4 years"}:t.includes("tablet")||t.includes("ipad")?{years:3,confidence:"medium",reasoning:"Tablets typically last 3 years"}:t.includes("drill")||t.includes("saw")||t.includes("tool")?{years:8,confidence:"medium",reasoning:"Power tools typically last 8 years"}:t.includes("camera")||t.includes("video")||t.includes("recording")?{years:6,confidence:"medium",reasoning:"A/V equipment typically lasts 6 years"}:t.includes("fire")||t.includes("safety")||t.includes("alarm")?{years:10,confidence:"high",reasoning:"Safety equipment typically lasts 10 years"}:t.includes("paper")||t.includes("pen")||t.includes("supply")?{years:1,confidence:"low",reasoning:"Consumables typically last 1 year"}:{years:5,confidence:"low",reasoning:"Default estimate based on general equipment"}}function x5(e,t){let r=0,n="";return e>=1e5?(r=2,n="High-value items typically last longer"):e>=5e4?(r=1,n="Medium-high value items may last longer"):e>=1e4?(r=0,n="Standard value items"):e>=1e3?(r=-1,n="Lower value items may have shorter life"):(r=-2,n="Low value items typically have shorter life"),{years:Math.max(1,t+r),confidence:e>=1e4?"high":e>=1e3?"medium":"low",reasoning:n}}function b5(e){return{years:{"IT Equipment":5,Furniture:10,Vehicles:8,Machinery:15,Electronics:4,Tools:8,Appliances:12,"Safety Equipment":10,"Office Equipment":7,"Building Equipment":20}[e||""]||5,confidence:"medium",reasoning:`Category-based estimate for ${e||"unknown category"}`}}function w5(e){if(e.manualOverride&&e.manualOverride>0)return{years:e.manualOverride,months:Math.round(e.manualOverride*12),method:"manual",confidence:"high",reasoning:"Manual override provided by user"};const t=v5(e.description),r=x5(e.cost,t.years||5);if(t.confidence==="high"){const a=r.years||t.years||5;return{years:a,months:Math.round(a*12),method:"intelligent",confidence:r.confidence||"high",reasoning:`${t.reasoning}. ${r.reasoning}`}}if(e.category){const a=b5(e.category),i=r.years||a.years||5;return{years:i,months:Math.round(i*12),method:"category_fallback",confidence:r.confidence||"medium",reasoning:`${a.reasoning}. ${r.reasoning}`}}const n=r.years||5;return{years:n,months:Math.round(n*12),method:"intelligent",confidence:"low",reasoning:`Default estimate based on cost analysis. ${r.reasoning}`}}function j5(e){const t={intelligent:"AI Analysis",manual:"Manual Override",category_fallback:"Category-Based"},r={high:"High Confidence",medium:"Medium Confidence",low:"Low Confidence"};return`${e.years} years (${e.months} months) - ${t[e.method]} - ${r[e.confidence]}`}function _5(e){if(!e||e.trim()==="")return{valid:!0};const t=parseFloat(e);return isNaN(t)?{valid:!1,error:"Must be a valid number"}:t<=0?{valid:!1,error:"Must be greater than 0"}:t>50?{valid:!1,error:"Must be 50 years or less"}:{valid:!0,years:t}}var fh="Checkbox",[N5,FV]=zr(fh),[S5,Sv]=N5(fh);function C5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,p]=Gs({prop:r,defaultProp:a??!1,onChange:c,caller:fh}),[x,g]=h.useState(null),[w,v]=h.useState(null),y=h.useRef(!1),b=x?!!o||!!x.closest("form"):!0,j={checked:m,disabled:i,setChecked:p,control:x,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:$a(a)?!1:a,isFormControl:b,bubbleInput:w,setBubbleInput:v};return s.jsx(S5,{scope:t,...j,children:E5(f)?f(j):n})}var TE="CheckboxTrigger",AE=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=Sv(TE,e),g=Xe(a,u),w=h.useRef(c);return h.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const y=()=>f(w.current);return v.addEventListener("reset",y),()=>v.removeEventListener("reset",y)}},[i,f]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":$a(c)?"mixed":c,"aria-required":d,"data-state":ME(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:_e(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:_e(r,v=>{f(y=>$a(y)?!0:!y),x&&p&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});AE.displayName=TE;var Cv=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return s.jsx(C5,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(AE,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(DE,{__scopeCheckbox:r})]})})});Cv.displayName=fh;var IE="CheckboxIndicator",RE=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Sv(IE,r);return s.jsx(xr,{present:n||$a(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":ME(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});RE.displayName=IE;var OE="CheckboxBubbleInput",DE=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:p}=Sv(OE,e),x=Xe(r,p),g=zC(i),w=yN(n);h.useEffect(()=>{const y=m;if(!y)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,N=!a.current;if(g!==i&&_){const E=new Event("click",{bubbles:N});y.indeterminate=$a(i),_.call(y,$a(i)?!1:i),y.dispatchEvent(E)}},[m,g,i,a]);const v=h.useRef($a(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DE.displayName=OE;function E5(e){return typeof e=="function"}function $a(e){return e==="indeterminate"}function ME(e){return $a(e)?"indeterminate":e?"checked":"unchecked"}const fd=h.forwardRef(({className:e,...t},r)=>s.jsx(Cv,{ref:r,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(RE,{className:Ee("flex items-center justify-center text-current"),children:s.jsx(Ys,{className:"h-4 w-4"})})}));fd.displayName=Cv.displayName;const k5=({item:e,onSave:t,onCancel:r,isSaving:n=!1})=>{var he,me,se;const[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState([]),[u,f]=h.useState(!0),[m,p]=h.useState({type:null}),[x,g]=h.useState({name:""}),[w,v]=h.useState(((he=e==null?void 0:e.estimatedUsefulLifeOverride)==null?void 0:he.toString())||""),[y,b]=h.useState(null),[j,_]=h.useState(""),[N,E]=h.useState(!1),[M,U]=h.useState(""),[$,L]=h.useState(""),[F,O]=h.useState(!1),R=async()=>{if(!x.name.trim()||!m.type)return;const J={supplier:"suppliers",fundSource:"fund_sources"},fe=await Jr.create(J[m.type],x);m.type==="supplier"&&i([fe,...a]),m.type==="fundSource"&&l([fe,...o]),g({name:""}),p({type:null})},[S,A]=h.useState({propertyNumber:(e==null?void 0:e.propertyNumber)||"",description:(e==null?void 0:e.description)||"",brand:(e==null?void 0:e.brand)||"",model:(e==null?void 0:e.model)||"",serialNumber:(e==null?void 0:e.serialNumber)||"",unitOfMeasure:(e==null?void 0:e.unitOfMeasure)||"piece",quantity:(e==null?void 0:e.quantity)||1,unitCost:(e==null?void 0:e.unitCost)||void 0,dateAcquired:(e==null?void 0:e.dateAcquired)||new Date().toISOString().split("T")[0],supplier:(e==null?void 0:e.supplier)||"",condition:(e==null?void 0:e.condition)||"Serviceable",fundSource:(e==null?void 0:e.fundSource)||"",remarks:(e==null?void 0:e.remarks)||"",semiExpandableCategory:(e==null?void 0:e.semiExpandableCategory)||"",subCategory:(e==null?void 0:e.subCategory)||void 0,status:(e==null?void 0:e.status)||"Active",lastInventoryDate:(e==null?void 0:e.lastInventoryDate)||"",entityName:(e==null?void 0:e.entityName)||"PROVINCIAL GOVERNMENT OF APAYAO"}),ne=h.useMemo(()=>{var fe,T,H;return[(fe=S.brand)==null?void 0:fe.trim(),(T=S.model)==null?void 0:T.trim(),(H=S.serialNumber)==null?void 0:H.trim()].filter(Boolean).join(" ")},[S.brand,S.model,S.serialNumber]),Q=J=>{if(J!=null)return J<=5e3?"Small Value Expendable":"High Value Expendable"};h.useEffect(()=>{if(e!=null&&e.propertyNumber&&!$){const J=e.propertyNumber.split("-");(J[0]==="SPLV"||J[0]==="SPHV")&&L(J[0])}},[e==null?void 0:e.propertyNumber,$]);const W=async J=>{console.log("generatePropertyNumber called with subCategory:",J);const fe=Kd.getPrefixForSubCategory(J);L(fe);try{const T=await Kd.generateUniquePropertyNumber(J);console.log("Generated unique property number:",T),A(H=>({...H,propertyNumber:T})),console.log("Updated formData with property number:",T)}catch(T){console.error("Error generating unique property number:",T);try{const H=await Kd.generateNextPropertyNumber(J);console.log("Generated fallback property number:",H),A(ee=>({...ee,propertyNumber:H}))}catch(H){console.error("Fallback generation also failed:",H);const ee=new Date,oe=ee.getFullYear().toString(),be=(ee.getMonth()+1).toString().padStart(2,"0"),He=`${fe}-${oe}-${be}-0001`;console.log("Using final fallback number:",He),A(ut=>({...ut,propertyNumber:He}))}}};h.useEffect(()=>{if(S.unitCost!==void 0&&S.unitCost!==null&&S.unitCost>=.01){const J=Q(S.unitCost);J&&A(fe=>fe.subCategory!==J?(console.log("Auto-determining sub-category:",J,"from unit cost:",S.unitCost),W(J),{...fe,subCategory:J}):fe)}else(S.unitCost===void 0||S.unitCost===null)&&A(J=>J.subCategory?(L(""),{...J,subCategory:void 0,propertyNumber:""}):J)},[S.unitCost]);const ae=J=>{if(!J)return"";const fe=J.split("-");if(fe.length!==4)return J;const[T,H,ee,oe]=fe;return T!=="SPLV"&&T!=="SPHV"?$?`${$}-${H}-${ee}-${oe}`:J:$&&T!==$?`${$}-${H}-${ee}-${oe}`:J},ge=J=>{const fe=ae(J);A(T=>({...T,propertyNumber:fe}))},G=h.useMemo(()=>{const J=S.unitCost;return J==null?{isValid:!0,message:""}:J<.01?{isValid:!1,message:"Unit cost must be at least 0.01"}:J>5e4?{isValid:!1,message:"Unit cost must not exceed 50,000 for Semi-Expendable items"}:{isValid:!0,message:""}},[S.unitCost]);h.useEffect(()=>{(async()=>{try{const[fe,T,H]=await Promise.all([Jr.getSuppliers(),Jr.getFundSources(),Jr.getSemiExpandableCategories()]);i(fe),l(T),d(H)}catch(fe){console.error("Error loading lookup data:",fe)}finally{f(!1)}})()},[]),h.useEffect(()=>{if(S.description&&S.unitCost!==void 0){const J=w5({description:S.description,cost:S.unitCost,category:"Semi-Expendable",manualOverride:w?parseFloat(w):void 0});b(J)}},[S.description,S.unitCost,w]);const ie=J=>{v(J);const fe=_5(J);_(fe.error||"")},de=J=>{if(J.preventDefault(),!S.semiExpandableCategory){_("Please select a Semi-Expendable Category");return}if(!S.unitCost||S.unitCost<.01){_("Please enter a valid unit cost (minimum 0.01)");return}if(!S.subCategory){const T=Q(S.unitCost);if(T){A(H=>({...H,subCategory:T})),_("Please wait for property number to be generated..."),W(T).then(()=>{setTimeout(()=>{const H={id:(e==null?void 0:e.id)||`INV-${Date.now()}`,...S,subCategory:T,totalCost:(S.quantity||0)*(S.unitCost||0),estimatedUsefulLifeOverride:w?parseFloat(w):null,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};t(H,F)},500)});return}_("Unable to determine sub-category. Please check unit cost.");return}if(!G.isValid){_(G.message);return}if(!S.propertyNumber){_("Property number is required. Please wait for it to be generated or enter manually.");return}_("");const fe={id:(e==null?void 0:e.id)||`INV-${Date.now()}`,...S,totalCost:(S.quantity||0)*(S.unitCost||0),estimatedUsefulLifeOverride:w?parseFloat(w):null,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};t(fe,F)};return u?s.jsx(Re,{className:"max-w-4xl mx-auto",children:s.jsx(Oe,{className:"p-8 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading form data..."})})}):s.jsxs(s.Fragment,{children:[s.jsxs(Re,{className:"max-w-4xl mx-auto",children:[s.jsx(We,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(st,{children:e?"Edit Inventory Item":"Add New Inventory Item"})})}),s.jsx(Oe,{children:s.jsxs("form",{onSubmit:de,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-blue-50 to-blue-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Category Selection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"semiExpandableCategory",className:"text-sm font-medium",children:"Semi-Expendable Category *"}),s.jsxs(bE,{open:N,onOpenChange:E,children:[s.jsx(wE,{asChild:!0,children:s.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":N,className:"w-full justify-between h-auto min-h-10 py-2 bg-white",children:[s.jsx("span",{className:"truncate text-left flex-1 mr-2",children:S.semiExpandableCategory?((me=c.find(J=>J.name===S.semiExpandableCategory))==null?void 0:me.name)||S.semiExpandableCategory:"Select category..."}),s.jsx(Q_,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(yv,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:s.jsxs(xv,{children:[s.jsx(bv,{placeholder:"Search categories...",value:M,onValueChange:U}),s.jsxs(wv,{children:[s.jsx(jv,{children:"No category found."}),s.jsx(_v,{children:c.filter(J=>M===""||J.name.toLowerCase().includes(M.toLowerCase())).map(J=>s.jsxs(Nv,{value:J.name,onSelect:()=>{A({...S,semiExpandableCategory:J.name}),E(!1),U("")},children:[s.jsx(Ys,{className:Ee("mr-2 h-4 w-4",S.semiExpandableCategory===J.name?"opacity-100":"opacity-0")}),J.name]},J.id))})]})]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Search and select the appropriate semi-expendable category"})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-green-50 to-green-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Item Identification"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"brand",children:"Brand"}),s.jsx(Ae,{id:"brand",value:S.brand,onChange:J=>A({...S,brand:J.target.value}),placeholder:"e.g., Dell, HP, Apple"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"model",children:"Model"}),s.jsx(Ae,{id:"model",value:S.model,onChange:J=>A({...S,model:J.target.value}),placeholder:"e.g., OptiPlex 7090"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"serialNumber",children:"Serial Number"}),s.jsx(Ae,{id:"serialNumber",value:S.serialNumber,onChange:J=>A({...S,serialNumber:J.target.value}),placeholder:"e.g., DL12345678"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"description",children:"Description (auto-generated) *"}),s.jsx(Ae,{id:"description",value:ne,disabled:!0,placeholder:"Auto-generated from Brand, Model, Serial Number",className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Description is automatically generated from Brand, Model, and Serial Number fields above"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Ae,{id:"entityName",value:S.entityName||"",onChange:J=>A({...S,entityName:J.target.value}),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: PROVINCIAL GOVERNMENT OF APAYAO - This will be used as the entity name when creating property cards"})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-600 text-white flex items-center justify-center text-sm font-bold",children:"3"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Financial Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"quantity",children:"Quantity *"}),s.jsx(Ae,{id:"quantity",type:"number",min:"1",value:S.quantity,onChange:J=>A({...S,quantity:parseInt(J.target.value)||1}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"unitOfMeasure",children:"Unit of Measure *"}),s.jsxs($t,{value:S.unitOfMeasure,onValueChange:J=>A({...S,unitOfMeasure:J}),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"piece",children:"Piece"}),s.jsx(je,{value:"set",children:"Set"}),s.jsx(je,{value:"unit",children:"Unit"}),s.jsx(je,{value:"lot",children:"Lot"}),s.jsx(je,{value:"pair",children:"Pair"}),s.jsx(je,{value:"dozen",children:"Dozen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"unitCost",children:"Unit Cost *"}),s.jsx(Ae,{id:"unitCost",type:"number",step:"0.01",min:"0.01",max:"50000",value:S.unitCost||"",onChange:J=>{const fe=parseFloat(J.target.value);isNaN(fe)?A({...S,unitCost:void 0}):A({...S,unitCost:fe>5e4?5e4:fe})},onBlur:J=>{const fe=parseFloat(J.target.value);!fe||fe<=0?A({...S,unitCost:.01}):fe>5e4&&A({...S,unitCost:5e4})},required:!0,placeholder:"Enter amount (0.01  50,000.00)",className:G.isValid?"":"border-red-500"}),!G.isValid&&s.jsx("div",{className:"text-sm text-red-600",children:G.message}),S.unitCost!==void 0&&S.unitCost!==null&&S.unitCost>=.01&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:`px-2 py-1 rounded ${S.unitCost<=5e3?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.unitCost<=5e3?" Small Value (SPLV)":" High Value (SPHV)"}),s.jsx("span",{className:"text-muted-foreground",children:"Sub-category and property number will be auto-generated"})]}),(!S.unitCost||S.unitCost<.01)&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Enter unit cost to automatically determine sub-category and generate property number"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Total Cost"}),s.jsxs("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:["",((S.quantity||0)*(S.unitCost||0)).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-purple-50 to-purple-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center text-sm font-bold",children:"4"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Property Details"}),s.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"(Auto-determined from unit cost)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"subCategory",className:"text-sm font-medium",children:"Sub-Category"}),s.jsx("div",{className:`px-4 py-3 rounded-md text-sm font-medium flex items-center justify-between ${S.subCategory==="High Value Expendable"?"bg-blue-100 text-blue-800 border-2 border-blue-300":S.subCategory==="Small Value Expendable"?"bg-green-100 text-green-800 border-2 border-green-300":"bg-muted text-muted-foreground border-2 border-gray-200"}`,children:S.subCategory?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:S.subCategory==="High Value Expendable"?"":""}),s.jsx("span",{children:S.subCategory==="Small Value Expendable"?"Small Value Expendable (SPLV)":"High Value Expendable (SPHV)"})]}):s.jsx("span",{children:"Enter unit cost above to determine"})}),S.unitCost!==void 0&&S.unitCost!==null&&S.unitCost>=.01&&s.jsx("p",{className:"text-xs text-muted-foreground",children:S.unitCost<=5e3?" Determined as Small Value ( 5,000)":" Determined as High Value (> 5,000)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{htmlFor:"propertyNumber",className:"text-sm font-medium",children:"Property Number *"}),S.subCategory&&s.jsx(le,{type:"button",variant:"outline",size:"sm",onClick:()=>{S.subCategory&&W(S.subCategory)},className:"text-xs h-7",children:" Regenerate"})]}),s.jsx(Ae,{id:"propertyNumber",value:S.propertyNumber,onChange:J=>ge(J.target.value),required:!0,placeholder:S.subCategory?"Auto-generated from unit cost":"Enter unit cost to generate",className:S.subCategory?"bg-green-50 border-green-300 font-mono":"bg-muted"}),S.subCategory&&s.jsxs("p",{className:"text-xs text-green-700",children:[" Format: ",Kd.getPrefixForSubCategory(S.subCategory),"-YYYY-MM-NNNN"]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-orange-50 to-orange-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-600 text-white flex items-center justify-center text-sm font-bold",children:"5"}),s.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Acquisition Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"dateAcquired",children:"Date Acquired *"}),s.jsx(Ae,{id:"dateAcquired",type:"date",value:S.dateAcquired,onChange:J=>A({...S,dateAcquired:J.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"supplier",children:"Supplier"}),s.jsxs($t,{value:S.supplier,onValueChange:J=>A({...S,supplier:J}),children:[s.jsx(Rt,{children:s.jsx(qt,{placeholder:"Select supplier"})}),s.jsxs(Ot,{children:[a.map(J=>s.jsx(je,{value:J.id,children:J.name},J.id)),s.jsx("div",{className:"p-2",children:s.jsx(le,{type:"button",variant:"outline",size:"sm",onClick:()=>p({type:"supplier"}),children:"+ Add supplier"})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"fundSource",children:"Fund Source"}),s.jsxs($t,{value:S.fundSource,onValueChange:J=>A({...S,fundSource:J}),children:[s.jsx(Rt,{children:s.jsx(qt,{placeholder:"Select fund source"})}),s.jsxs(Ot,{children:[o.map(J=>s.jsx(je,{value:J.id,children:J.name},J.id)),s.jsx("div",{className:"p-2",children:s.jsx(le,{type:"button",variant:"outline",size:"sm",onClick:()=>p({type:"fundSource"}),children:"+ Add fund source"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-red-50 to-red-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-600 text-white flex items-center justify-center text-sm font-bold",children:"6"}),s.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Status and Condition"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"condition",children:"Condition *"}),s.jsxs($t,{value:S.condition,onValueChange:J=>A({...S,condition:J}),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"Serviceable",children:"Serviceable"}),s.jsx(je,{value:"Unserviceable",children:"Unserviceable"}),s.jsx(je,{value:"For Repair",children:"For Repair"}),s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"status",children:"Status *"}),s.jsxs($t,{value:S.status,onValueChange:J=>A({...S,status:J}),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"Active",children:"Active"}),s.jsx(je,{value:"Transferred",children:"Transferred"}),s.jsx(je,{value:"Disposed",children:"Disposed"}),s.jsx(je,{value:"Missing",children:"Missing"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"lastInventoryDate",children:"Last Inventory Date"}),s.jsx(Ae,{id:"lastInventoryDate",type:"date",value:S.lastInventoryDate,onChange:J=>A({...S,lastInventoryDate:J.target.value})})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-gray-50 to-gray-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 text-white flex items-center justify-center text-sm font-bold",children:"7"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"remarks",children:"Remarks"}),s.jsx(Ti,{id:"remarks",value:S.remarks,onChange:J=>A({...S,remarks:J.target.value}),rows:3,placeholder:"Additional notes or comments about this item"})]})]}),!e&&s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-teal-50 to-teal-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center text-sm font-bold",children:"8"}),s.jsx("h3",{className:"text-lg font-semibold text-teal-900",children:"Property Card Creation"})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background rounded-md border",children:[s.jsx(fd,{id:"autoCreatePropertyCard",checked:F,onCheckedChange:J=>O(J===!0)}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx(ue,{htmlFor:"autoCreatePropertyCard",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Automatically create property card"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, a property card will be created automatically using the entity name and fund source from this inventory item. You can still edit the property card later if needed."}),F&&s.jsxs("div",{className:"mt-2 p-2 bg-teal-50 rounded text-xs",children:[s.jsx("p",{className:"font-medium text-teal-800",children:"Property card will be created with:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-teal-700",children:[s.jsxs("li",{children:["Entity Name: ",S.entityName||"PROVINCIAL GOVERNMENT OF APAYAO"]}),s.jsxs("li",{children:["Fund Cluster: ",S.fundSource?((se=o.find(J=>J.id===S.fundSource))==null?void 0:se.name)||"From selected fund source":"General Fund (default)"]}),s.jsxs("li",{children:["Property Number: ",S.propertyNumber||"Will use generated number"]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-indigo-50 to-indigo-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center text-sm font-bold",children:e?"8":"9"}),s.jsx("h3",{className:"text-lg font-semibold text-indigo-900",children:"Estimated Useful Life"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Intelligent calculation based on description and cost, with manual override option"}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-md border",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[y.years," years (",y.months," months)"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:j5(y)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:y.method==="manual"?"Manual Override":y.method==="intelligent"?"AI Analysis":"Category-Based"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.confidence," confidence"]})]})]}),y.reasoning&&s.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:[s.jsx("strong",{children:"Reasoning:"})," ",y.reasoning]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"estimatedLifeOverride",children:"Manual Override (Optional)"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ae,{id:"estimatedLifeOverride",type:"number",step:"0.1",min:"0.1",max:"50",value:w,onChange:J=>ie(J.target.value),placeholder:"Enter years (e.g., 5.5)",className:j?"border-red-500":""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"years"})]}),j&&s.jsx("div",{className:"text-sm text-red-600",children:j}),!j&&w&&s.jsx("div",{className:"text-sm text-green-600",children:" Manual override will be used instead of intelligent calculation"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(le,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),s.jsx(le,{type:"submit",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Adding..."]}):e?"Update Item":"Add Item"})]})]})})]}),s.jsx(gn,{open:!!m.type,onOpenChange:()=>p({type:null}),children:s.jsxs(sn,{children:[s.jsx(xn,{children:s.jsxs(bn,{children:["Add ",m.type==="supplier"?"Supplier":"Fund Source"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx(Ae,{placeholder:"Name",value:x.name,onChange:J=>g({...x,name:J.target.value})}),s.jsx(Ae,{placeholder:"Code (optional)",value:x.code||"",onChange:J=>g({...x,code:J.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>p({type:null}),children:"Cancel"}),s.jsx(le,{onClick:R,disabled:!x.name.trim(),children:"Save"})]})]})})]})};var LE="AlertDialog",[P5,$V]=zr(LE,[P1]),ta=P1(),FE=e=>{const{__scopeAlertDialog:t,...r}=e,n=ta(t);return s.jsx(dv,{...n,...r,modal:!0})};FE.displayName=LE;var T5="AlertDialogTrigger",A5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ta(r);return s.jsx(W1,{...a,...n,ref:t})});A5.displayName=T5;var I5="AlertDialogPortal",$E=e=>{const{__scopeAlertDialog:t,...r}=e,n=ta(t);return s.jsx(uv,{...n,...r})};$E.displayName=I5;var R5="AlertDialogOverlay",qE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ta(r);return s.jsx(oh,{...a,...n,ref:t})});qE.displayName=R5;var Mo="AlertDialogContent",[O5,D5]=P5(Mo),M5=v_("AlertDialogContent"),UE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ta(r),o=h.useRef(null),l=Xe(t,o),c=h.useRef(null);return s.jsx(_q,{contentName:Mo,titleName:BE,docsSlug:"alert-dialog",children:s.jsx(O5,{scope:r,cancelRef:c,children:s.jsxs(lh,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:_e(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(M5,{children:n}),s.jsx(F5,{contentRef:o})]})})})});UE.displayName=Mo;var BE="AlertDialogTitle",VE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ta(r);return s.jsx(fv,{...a,...n,ref:t})});VE.displayName=BE;var zE="AlertDialogDescription",WE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ta(r);return s.jsx(hv,{...a,...n,ref:t})});WE.displayName=zE;var L5="AlertDialogAction",HE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ta(r);return s.jsx(mv,{...a,...n,ref:t})});HE.displayName=L5;var QE="AlertDialogCancel",KE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=D5(QE,r),i=ta(r),o=Xe(t,a);return s.jsx(mv,{...i,...n,ref:o})});KE.displayName=QE;var F5=({contentRef:e})=>{const t=`\`${Mo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mo}\` by passing a \`${zE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$5=FE,q5=$E,GE=qE,YE=UE,XE=HE,JE=KE,ZE=VE,ek=WE;const U5=$5,B5=q5,tk=h.forwardRef(({className:e,...t},r)=>s.jsx(GE,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tk.displayName=GE.displayName;const rk=h.forwardRef(({className:e,...t},r)=>s.jsxs(B5,{children:[s.jsx(tk,{}),s.jsx(YE,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rk.displayName=YE.displayName;const nk=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});nk.displayName="AlertDialogHeader";const sk=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sk.displayName="AlertDialogFooter";const ak=h.forwardRef(({className:e,...t},r)=>s.jsx(ZE,{ref:r,className:Ee("text-lg font-semibold",e),...t}));ak.displayName=ZE.displayName;const ik=h.forwardRef(({className:e,...t},r)=>s.jsx(ek,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));ik.displayName=ek.displayName;const ok=h.forwardRef(({className:e,...t},r)=>s.jsx(XE,{ref:r,className:Ee(Jy(),e),...t}));ok.displayName=XE.displayName;const lk=h.forwardRef(({className:e,...t},r)=>s.jsx(JE,{ref:r,className:Ee(Jy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lk.displayName=JE.displayName;function ss(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ck=6048e5,V5=864e5;let z5={};function hh(){return z5}function Fc(e,t){var l,c,d,u;const r=hh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ss(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function af(e){return Fc(e,{weekStartsOn:1})}function dk(e){const t=ss(e),r=t.getFullYear(),n=Vi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=af(n),i=Vi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=af(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Nw(e){const t=ss(e);return t.setHours(0,0,0,0),t}function Sw(e){const t=ss(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function W5(e,t){const r=Nw(e),n=Nw(t),a=+r-Sw(r),i=+n-Sw(n);return Math.round((a-i)/V5)}function H5(e){const t=dk(e),r=Vi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),af(r)}function Q5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K5(e){if(!Q5(e)&&typeof e!="number")return!1;const t=ss(e);return!isNaN(Number(t))}function G5(e){const t=ss(e),r=Vi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Y5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X5=(e,t,r)=>{let n;const a=Y5[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _m(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const J5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tU={date:_m({formats:J5,defaultWidth:"full"}),time:_m({formats:Z5,defaultWidth:"full"}),dateTime:_m({formats:eU,defaultWidth:"full"})},rU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nU=(e,t,r,n)=>rU[e];function Ll(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const sU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uU={ordinalNumber:dU,era:Ll({values:sU,defaultWidth:"wide"}),quarter:Ll({values:aU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ll({values:iU,defaultWidth:"wide"}),day:Ll({values:oU,defaultWidth:"wide"}),dayPeriod:Ll({values:lU,defaultWidth:"wide",formattingValues:cU,defaultFormattingWidth:"wide"})};function Fl(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hU(l,f=>f.test(o)):fU(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function fU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pU=/^(\d+)(th|st|nd|rd)?/i,gU=/\d+/i,yU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vU={any:[/^b/i,/^(a|c)/i]},xU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bU={any:[/1/i,/2/i,/3/i,/4/i]},wU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_U={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EU={ordinalNumber:mU({matchPattern:pU,parsePattern:gU,valueCallback:e=>parseInt(e,10)}),era:Fl({matchPatterns:yU,defaultMatchWidth:"wide",parsePatterns:vU,defaultParseWidth:"any"}),quarter:Fl({matchPatterns:xU,defaultMatchWidth:"wide",parsePatterns:bU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fl({matchPatterns:wU,defaultMatchWidth:"wide",parsePatterns:jU,defaultParseWidth:"any"}),day:Fl({matchPatterns:_U,defaultMatchWidth:"wide",parsePatterns:NU,defaultParseWidth:"any"}),dayPeriod:Fl({matchPatterns:SU,defaultMatchWidth:"any",parsePatterns:CU,defaultParseWidth:"any"})},kU={code:"en-US",formatDistance:X5,formatLong:tU,formatRelative:nU,localize:uU,match:EU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PU(e){const t=ss(e);return W5(t,G5(t))+1}function TU(e){const t=ss(e),r=+af(t)-+H5(t);return Math.round(r/ck)+1}function uk(e,t){var u,f,m,p;const r=ss(e),n=r.getFullYear(),a=hh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Vi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Fc(o,t),c=Vi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Fc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function AU(e,t){var l,c,d,u;const r=hh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=uk(e,t),i=Vi(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Fc(i,t)}function IU(e,t){const r=ss(e),n=+Fc(r,t)-+AU(r,t);return Math.round(n/ck)+1}function _t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ia={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return _t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):_t(r+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return _t(a,t.length)}},oo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ia.y(e,t)},Y:function(e,t,r,n){const a=uk(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return _t(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):_t(i,t.length)},R:function(e,t){const r=dk(e);return _t(r,t.length)},u:function(e,t){const r=e.getFullYear();return _t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return _t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return _t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ia.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return _t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=IU(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):_t(a,t.length)},I:function(e,t,r){const n=TU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):_t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ia.d(e,t)},D:function(e,t,r){const n=PU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return _t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return _t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return _t(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=oo.noon:n===0?a=oo.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=oo.evening:n>=12?a=oo.afternoon:n>=4?a=oo.morning:a=oo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ia.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ia.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ia.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ia.s(e,t)},S:function(e,t){return ia.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kw(n);case"XXXX":case"XX":return di(n);case"XXXXX":case"XXX":default:return di(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return kw(n);case"xxxx":case"xx":return di(n);case"xxxxx":case"xxx":default:return di(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ew(n,":");case"OOOO":default:return"GMT"+di(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ew(n,":");case"zzzz":default:return"GMT"+di(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return _t(n,t.length)},T:function(e,t,r){const n=e.getTime();return _t(n,t.length)}};function Ew(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+_t(i,2)}function kw(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):di(e,t)}function di(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=_t(Math.trunc(n/60),2),i=_t(n%60,2);return r+a+t+i}const Pw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},RU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Pw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Pw(n,t)).replace("{{time}}",fk(a,t))},OU={p:fk,P:RU},DU=/^D+$/,MU=/^Y+$/,LU=["D","DD","YY","YYYY"];function FU(e){return DU.test(e)}function $U(e){return MU.test(e)}function qU(e,t,r){const n=UU(e,t,r);if(console.warn(n),LU.includes(e))throw new RangeError(n)}function UU(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zU=/^'([^]*?)'?$/,WU=/''/g,HU=/[a-zA-Z]/;function ps(e,t,r){var u,f,m,p;const n=hh(),a=n.locale??kU,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=ss(e);if(!K5(l))throw new RangeError("Invalid time value");let c=t.match(VU).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=OU[g];return w(x,a.formatLong)}return x}).join("").match(BU).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:QU(x)};if(Cw[g])return{isToken:!0,value:x};if(g.match(HU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;($U(g)||FU(g))&&qU(g,t,String(e));const w=Cw[g[0]];return w(l,g,a.localize,d)}).join("")}function QU(e){const t=e.match(zU);return t?t[1].replace(WU,"'"):e}class KU{async createPropertyCardFromInventory(t){var c;const{data:r,error:n}=await B.from("inventory_items").select("*").eq("id",t.inventoryItemId).single();if(n||!r)throw new Error(`Inventory item not found: ${n==null?void 0:n.message}`);const a=(r.description||(r.model?`${r.brand?r.brand+" ":""}${r.model}`:r.brand)||"").trim(),i={entity_name:t.entityName,fund_cluster:t.fundCluster,semi_expendable_property:r.description||a,property_number:r.property_number,description:a,date_acquired:r.date_acquired,remarks:r.remarks};i.inventory_item_id=t.inventoryItemId;const{data:o,error:l}=await B.from("property_cards").insert(i).select().single();if(l)throw new Error(`Failed to create property card: ${l.message}`);return t.initialEntry&&await this.addPropertyCardEntry(o.id,{...t.initialEntry,reference:((c=t.initialEntry.reference)==null?void 0:c.trim())||"",issueItemNo:"",issueQty:0,officeOfficer:"",balanceQty:t.initialEntry.receiptQty,amount:t.initialEntry.totalCost},t.inventoryItemId),this.mapToAnnexPropertyCard(o)}async createCustodianSlip(t){var o;if(console.log("Creating custodian slip(s) with inventory items:",((o=t.inventoryItemIds)==null?void 0:o.length)||0),!t.inventoryItemIds||t.inventoryItemIds.length===0)throw new Error("No inventory items provided for the custodian slip");console.log("Validating inventory items and property cards...");const r=[];for(const l of t.inventoryItemIds){const{data:c,error:d}=await B.from("inventory_items").select("*").eq("id",l).single();if(d||!c)throw new Error(`Inventory item ${l} not found`);if(c.assignment_status==="Assigned"||c.custodian)throw new Error(`Inventory item ${c.property_number} is already assigned to ${c.custodian}`);if(c.condition!=="Serviceable")throw new Error(`Inventory item ${c.property_number} is not serviceable (${c.condition})`);console.log(`Processing inventory item: ${c.property_number} (${l})`),r.push(c)}console.log("All validations passed, grouping items by sub-category...");const n={};for(const l of r){const c=l.sub_category||"Unknown";n[c]||(n[c]=[]),n[c].push(l)}console.log(`Grouped items into ${Object.keys(n).length} sub-category(ies):`,Object.keys(n));const a=[],i=[];try{for(const l of Object.keys(n)){const c=n[l];console.log(`Creating slip for ${l} with ${c.length} item(s)`);const d=l==="Small Value Expendable"?"SPLV":"SPHV",{data:u,error:f}=await B.rpc("generate_ics_number",{sub_category_prefix:d});let m=u;if(f){console.error("Error generating ICS number:",f);const{data:j}=await B.rpc("generate_ics_number",{sub_category_prefix:null});console.log("Using fallback ICS number:",j),m=j||null}const p={slip_number:m||null,custodian_name:t.custodianName,designation:t.designation,office:t.office,date_issued:t.dateIssued,issued_by:t.issuedBy,received_by:t.receivedBy,slip_status:"Draft"};console.log("Inserting custodian slip:",p);const{data:x,error:g}=await B.from("custodian_slips").insert(p).select().single();if(g)throw console.error("Error creating custodian slip:",g),new Error(`Failed to create custodian slip: ${g.message}`);console.log("Custodian slip created successfully:",x.id);const w=[],v=[],y=[],b=[];try{for(const j of c){const _=j.quantity||1,N=j.unit_cost||0,E=_*N,M=(j.description||(j.model?`${j.brand?j.brand+" ":""}${j.model}`:j.brand)||"").trim(),U={slip_id:x.id,inventory_item_id:j.id,property_number:j.property_number,description:M,quantity:_,unit:j.unit_of_measure,unit_cost:N,total_cost:E,amount:E,date_issued:t.dateIssued},{data:$,error:L}=await B.from("custodian_slip_items").insert(U).select().single();if(L||!$)throw console.error(`Failed to create slip item for ${j.id}:`,L),new Error(`Failed to add ${j.property_number} to the custodian slip. ${(L==null?void 0:L.message)||""}`.trim());v.push($.id);const{data:F,error:O}=await B.from("property_cards").select("*").eq("inventory_item_id",j.id).single();if(O||!F)throw console.warn(`Property card not found for inventory item ${j.id}`),new Error(`Property card not found for ${j.property_number}. Please create the property card first.`);const{data:R}=await B.from("property_card_entries").select("id").eq("property_card_id",F.id).limit(1);(!R||R.length===0)&&await this.addPropertyCardEntry(F.id,{date:j.date_acquired,reference:"Initial Receipt",receiptQty:j.quantity,unitCost:Number(j.unit_cost||0),totalCost:Number(j.total_cost||(j.quantity||1)*Number(j.unit_cost||0)),issueItemNo:"",issueQty:0,officeOfficer:"",balanceQty:j.quantity,amount:Number(j.total_cost||0),remarks:"",relatedSlipId:void 0,relatedTransferId:void 0},j.id);let S=0;const{data:A}=await B.from("property_card_entries").select("balance_qty").eq("property_card_id",F.id).order("date",{ascending:!1}).limit(1).single();A&&typeof A.balance_qty=="number"&&(S=A.balance_qty);const ne=j.quantity||1,Q=Math.max(0,(S||0)-ne),W=await this.addPropertyCardEntry(F.id,{date:t.dateIssued,reference:`ICS ${x.slip_number||m||"PENDING"}`,receiptQty:0,unitCost:0,totalCost:0,issueItemNo:j.property_number||"",issueQty:ne,officeOfficer:`${t.custodianName} (${t.designation})`,balanceQty:Q,amount:0,remarks:`Issued via ICS ${x.slip_number||m||"PENDING"}`,relatedSlipId:x.id,relatedTransferId:void 0},j.id);b.push(W.id),await B.from("custodian_slip_items").update({property_card_entry_id:W.id}).eq("id",$.id);const{error:ae}=await B.from("inventory_items").update({custodian:t.custodianName,custodian_position:t.designation,assignment_status:"Assigned",assigned_date:t.dateIssued,ics_number:x.slip_number||m,ics_date:t.dateIssued,updated_at:new Date().toISOString()}).eq("id",j.id);if(ae)throw console.warn(`Failed to update inventory assignment for ${j.property_number}:`,ae),new Error(`Could not update inventory record for ${j.property_number}. ${ae.message}`);y.push(j.id),w.push(this.mapToAnnexCustodianSlipItem({...$,property_card_entry_id:W.id}))}}catch(j){throw console.error("Encountered error while processing slip items, rolling back slip:",j),await this.rollbackCustodianSlipCreation(x.id,v,b,y),j}if(console.log(`Created ${w.length} slip items for custodian slip ${x.id}`),w.length!==c.length)throw console.error(`Mismatch between requested items (${c.length}) and created slip items (${w.length}). Rolling back slip ${x.id}.`),await this.rollbackCustodianSlipCreation(x.id,v,b,y),new Error("Failed to add all selected items to the custodian slip. No changes were saved.");i.push({slipId:x.id,slipItemIds:[...v],propertyCardEntryIds:[...b],inventoryItemIds:[...y]}),a.push({...this.mapToAnnexCustodianSlip(x),items:w})}}catch(l){console.error("Custodian slip creation failed across categories. Rolling back previous slips.",l);for(const c of i.reverse())await this.rollbackCustodianSlipCreation(c.slipId,c.slipItemIds,c.propertyCardEntryIds,c.inventoryItemIds);throw l}return a.length===1?(console.log("Single slip created, returning as single object"),a[0]):(console.log(`${a.length} slips created (separated by sub-category)`),a)}async rollbackCustodianSlipCreation(t,r,n,a){try{n.length>0&&await B.from("property_card_entries").delete().in("id",n),r.length>0&&await B.from("custodian_slip_items").delete().in("id",r),a.length>0&&await B.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,ics_number:null,ics_date:null,updated_at:new Date().toISOString()}).in("id",a),await B.from("custodian_slips").delete().eq("id",t)}catch(i){console.error("Failed to fully roll back custodian slip creation:",i)}}async addPropertyCardEntry(t,r,n){let a=n;if(!a){const{data:c}=await B.from("property_cards").select("inventory_item_id").eq("id",t).single();c&&(a=c.inventory_item_id)}const i={property_card_id:t,date:r.date,reference:r.reference,receipt_qty:r.receiptQty,unit_cost:r.unitCost,total_cost:r.totalCost,issue_item_no:r.issueItemNo,issue_qty:r.issueQty,office_officer:r.officeOfficer,balance_qty:r.balanceQty,amount:r.amount,remarks:r.remarks,related_slip_id:r.relatedSlipId,related_transfer_id:r.relatedTransferId};a&&(i.inventory_item_id=a);const{data:o,error:l}=await B.from("property_card_entries").insert(i).select().single();if(l)throw new Error(`Failed to add property card entry: ${l.message}`);return this.mapToAnnexSPCEntry(o)}async findPropertyCardByInventoryItem(t){try{console.log(`Searching for property card with inventory_item_id: ${t}`);const{data:r,error:n}=await B.from("property_cards").select("*").eq("inventory_item_id",t).single();return console.log("Property card query result - data:",r,"error:",n),n?n.message.includes('column "inventory_item_id" does not exist')?(console.warn("inventory_item_id column not found in property_cards table. Please run the database migration."),null):(console.error("Error finding property card by inventory item:",n),null):r?(console.log("Found property card:",r),this.mapToAnnexPropertyCard(r)):(console.log("No property card found for inventory item:",t),null)}catch(r){return console.error("Unexpected error finding property card:",r),null}}async getPropertyCardWithEntries(t){const{data:r,error:n}=await B.from("property_cards").select("*").eq("id",t).single();if(n||!r)return null;const{data:a,error:i}=await B.from("property_card_entries").select("*").eq("property_card_id",t).order("date",{ascending:!0});return i?(console.error("Failed to fetch property card entries:",i),this.mapToAnnexPropertyCard(r)):{...this.mapToAnnexPropertyCard(r),entries:a.map(o=>this.mapToAnnexSPCEntry(o))}}async getCustodianSlipWithItems(t){const{data:r,error:n}=await B.from("custodian_slips").select("*").eq("id",t).single();if(n||!r)return null;const{data:a,error:i}=await B.from("custodian_slip_items").select("*").eq("slip_id",t).order("created_at",{ascending:!0});return i?(console.error("Failed to fetch custodian slip items:",i),this.mapToAnnexCustodianSlip(r)):{...this.mapToAnnexCustodianSlip(r),items:a.map(o=>this.mapToAnnexCustodianSlipItem(o))}}mapToAnnexPropertyCard(t){return{id:t.id,entityName:t.entity_name,fundCluster:t.fund_cluster,semiExpendableProperty:t.semi_expendable_property,propertyNumber:t.property_number,description:t.description,dateAcquired:t.date_acquired,remarks:t.remarks,inventoryItemId:t.inventory_item_id,entries:[],createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexSPCEntry(t){return{id:t.id,propertyCardId:t.property_card_id,date:t.date,reference:t.reference,receiptQty:t.receipt_qty||0,unitCost:t.unit_cost||0,totalCost:t.total_cost||0,issueItemNo:t.issue_item_no||"",issueQty:t.issue_qty||0,officeOfficer:t.office_officer||"",balanceQty:t.balance_qty||0,amount:t.amount||0,remarks:t.remarks,relatedSlipId:t.related_slip_id,relatedTransferId:t.related_transfer_id,createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexCustodianSlip(t){return{id:t.id,slipNumber:t.slip_number,custodianName:t.custodian_name,designation:t.designation,office:t.office,dateIssued:t.date_issued,issuedBy:t.issued_by,receivedBy:t.received_by,items:[],createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexCustodianSlipItem(t){return{id:t.id,slipId:t.slip_id,inventoryItemId:t.inventory_item_id,propertyNumber:t.property_number,description:t.description,quantity:t.quantity,unit:t.unit,unitCost:t.unit_cost||0,totalCost:t.total_cost||0,amount:t.amount||0,itemNumber:t.item_number||"",estimatedUsefulLife:t.estimated_useful_life||"",dateIssued:t.date_issued,propertyCardEntryId:t.property_card_entry_id,createdAt:t.created_at,updatedAt:t.updated_at}}}const Lo=new KU,GU=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,p]=h.useState(null),{toast:x}=es(),g=ea(),[w]=o$(),v=rs();h.useEffect(()=>{const C=B.channel("realtime:inventory-page").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory item changed, refreshing..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).on("postgres_changes",{event:"*",schema:"public",table:"property_cards"},()=>{console.log("[Realtime] Property cards changed, refreshing inventory..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing inventory..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).subscribe();return()=>{B.removeChannel(C)}},[g]);const y=w.get("filter"),b=w.get("valueFilter"),j=C=>{const z=new URLSearchParams;C!=="all"&&z.set("filter",C),b&&z.set("valueFilter",b),v(`/inventory${z.toString()?"?"+z.toString():""}`)},_=C=>{const z=new URLSearchParams;y&&z.set("filter",y),C!=="all"&&z.set("valueFilter",C),v(`/inventory${z.toString()?"?"+z.toString():""}`)},{data:N=[],isLoading:E,isFetching:M,error:U}=ir({queryKey:["inventory-items-high-value",c,y],queryFn:async()=>{console.log("Fetching high value items, searchTerm:",c,"filter:",y);const C=c.trim()?await Xr.search(c,{filter:y,valueFilter:"high-value"}):await Xr.getAll({filter:y,valueFilter:"high-value"});return console.log("High value inventory response:",C),C.success?C.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(C,z)=>navigator.onLine?C<2:!1}),{data:$=[],isLoading:L,isFetching:F,error:O}=ir({queryKey:["inventory-items-low-value",c,y],queryFn:async()=>{console.log("Fetching low value items, searchTerm:",c,"filter:",y);const C=c.trim()?await Xr.search(c,{filter:y,valueFilter:"low-value"}):await Xr.getAll({filter:y,valueFilter:"low-value"});return console.log("Low value inventory response:",C),C.success?C.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(C,z)=>navigator.onLine?C<2:!1}),{data:R=[],isLoading:S,isFetching:A,error:ne}=ir({queryKey:["inventory-items-filtered",c,y,b],queryFn:async()=>{console.log("Fetching filtered inventory items, searchTerm:",c,"filter:",y,"valueFilter:",b);const C=c.trim()?await Xr.search(c,{filter:y,valueFilter:b}):await Xr.getAll({filter:y,valueFilter:b});return console.log("Filtered inventory response:",C),C.success?C.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(C,z)=>navigator.onLine?C<2:!1,enabled:!!b}),Q=b?R:[],W=b?S:!1,ae=b?A:M||F,ge=b?ne:null,G=h.useMemo(()=>{const C=b?Q:[...N,...$],z=new Map;return(C||[]).forEach(k=>{k&&!z.has(k.id)&&z.set(k.id,k)}),Array.from(z.values())},[b,Q,N,$]),ie=h.useMemo(()=>Df(G),[G]),de=C=>ie===C.id&&Of(C.createdAt),he=Bs({mutationFn:async({item:C,autoCreatePropertyCard:z})=>{const k=await Xr.create(C);if(!k.success||!k.data)throw new Error(k.error||"Failed to create inventory item");const D=k.data;if(console.log("[Inventory] Checking auto-create:",{autoCreatePropertyCard:z,hasId:!!D.id}),z&&D.id){console.log("[Inventory] Auto-create enabled, creating property card...");try{let X="General Fund";if(C.fundSource){console.log("[Inventory] Fetching fund source:",C.fundSource);const Te=(await Jr.getFundSources()).find(ke=>ke.id===C.fundSource);Te&&(X=Te.name,console.log("[Inventory] Found fund source:",X))}console.log("[Inventory] Creating property card with:",{inventoryItemId:D.id,entityName:C.entityName||"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:X,propertyNumber:D.propertyNumber});const te=await Lo.createPropertyCardFromInventory({inventoryItemId:D.id,entityName:C.entityName||"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:X,initialEntry:{date:D.dateAcquired||new Date().toISOString().split("T")[0],reference:"Initial Receipt",receiptQty:D.quantity||1,unitCost:D.unitCost||0,totalCost:D.totalCost||(D.quantity||1)*(D.unitCost||0)}});return console.log("[Inventory]  Property card created successfully:",{id:te.id,propertyNumber:te.propertyNumber}),{data:D,propertyCardCreated:!0,propertyCardId:te.id,success:!0,error:null}}catch(X){console.error("[Inventory]  Error auto-creating property card:",X);const te=X instanceof Error?X.message:String(X);return console.error("[Inventory] Error details:",{message:te,stack:X instanceof Error?X.stack:void 0}),{data:D,propertyCardCreated:!1,propertyCardError:te,success:!0,error:null}}}return console.log("[Inventory] Auto-create not enabled or no item ID"),{data:D,propertyCardCreated:!1,success:!0,error:null}},onSuccess:async C=>{if(await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["dashboard-stats"]}),g.invalidateQueries({queryKey:["annex-property-cards"]}),g.invalidateQueries({queryKey:["available-inventory-for-cards"]}),g.invalidateQueries({queryKey:["inventory-items-for-property-cards"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["annex-property-cards"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),!C.data)return;const z=C.data;C.propertyCardCreated?(console.log("Property card was created successfully, showing success message"),x({title:"Inventory Item & Property Card Created Successfully",description:`Item ${z.propertyNumber} has been added and a property card was automatically created. You can now assign this item to a custodian.`,action:s.jsx(le,{variant:"outline",size:"sm",onClick:()=>v("/property-cards"),children:"View Property Cards"})})):C.propertyCardError?x({title:"Inventory Item Created",description:`Item ${z.propertyNumber} was created, but property card creation failed: ${C.propertyCardError}. You can create it manually.`,variant:"destructive",action:s.jsx(le,{variant:"outline",size:"sm",onClick:()=>v("/property-cards",{state:{prefillItem:{propertyNumber:z.propertyNumber,description:z.description}}}),children:"Create Property Card"})}):x({title:"Inventory Item Created Successfully",description:`Item ${z.propertyNumber} has been added. To assign this item to a custodian, you'll need to create a property card first.`,action:s.jsx(le,{variant:"outline",size:"sm",onClick:()=>v("/property-cards",{state:{prefillItem:{propertyNumber:z.propertyNumber,description:z.description}}}),children:"Create Property Card"})})},onError:()=>{x({title:"Error",description:"Failed to create inventory item",variant:"destructive"})}}),me=Bs({mutationFn:({id:C,updates:z})=>Xr.update(C,z),onSuccess:async()=>{await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["dashboard-stats"]}),g.invalidateQueries({queryKey:["annex-property-cards"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),x({title:"Success",description:"Inventory item updated successfully"})},onError:()=>{x({title:"Error",description:"Failed to update inventory item",variant:"destructive"})}}),se=Bs({mutationFn:C=>Xr.delete(C),onSuccess:async()=>{await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["annex-property-cards"]}),g.invalidateQueries({queryKey:["property-cards"]}),g.invalidateQueries({queryKey:["dashboard-stats"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),x({title:"Success",description:"Inventory item deleted successfully"})},onError:C=>{const z=(C==null?void 0:C.message)||(C==null?void 0:C.error)||"Failed to delete inventory item";x({title:"Cannot Delete Item",description:z,variant:"destructive"})}}),J=async(C,z)=>{console.log("[Inventory] handleSave called",{isEditing:!!r,autoCreatePropertyCard:z,propertyNumber:C.propertyNumber});try{r?await me.mutateAsync({id:C.id,updates:C}):(console.log("[Inventory] Creating new item with autoCreatePropertyCard:",z),await he.mutateAsync({item:C,autoCreatePropertyCard:z})),t(!1),n(void 0)}catch(k){console.error("[Inventory] Error in handleSave:",k)}},fe=C=>{i(C),l(!0)},T=C=>{n(C),t(!0)},H=C=>{if(C.assignmentStatus==="Assigned"||C.custodian&&C.custodian.trim()!==""){x({title:"Cannot Delete Item",description:`This item cannot be deleted because it is currently assigned to ${C.custodian||"a custodian"}. Please unassign the item from the custodian first before deleting.`,variant:"destructive"});return}p(C),f(!0)},ee=C=>C.assignmentStatus==="Assigned"||C.custodian&&C.custodian.trim()!=="",oe=async()=>{if(m)try{await se.mutateAsync(m.id),f(!1),p(null)}catch{}},be=(()=>{let C;return z=>{clearTimeout(C),C=setTimeout(()=>{d(z)},300)}})(),He=C=>{switch(C){case"Serviceable":return"bg-green-100 text-green-800";case"For Repair":return"bg-yellow-100 text-yellow-800";case"Unserviceable":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ut=C=>{switch(C){case"Active":return"bg-green-100 text-green-800";case"Transferred":return"bg-blue-100 text-blue-800";case"Disposed":return"bg-gray-100 text-gray-800";case"Missing":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Pe=C=>C.condition!=="Serviceable"?{status:"Unavailable",reason:`Condition: ${C.condition}`,color:"bg-red-100 text-red-800"}:C.status!=="Active"?{status:"Unavailable",reason:`Status: ${C.status}`,color:"bg-gray-100 text-gray-800"}:C.assignmentStatus==="Assigned"?{status:"Assigned",reason:"Assigned via custodian slip",color:"bg-blue-100 text-blue-800"}:{status:"Available",reason:"Ready for assignment",color:"bg-green-100 text-green-800"},Be=!!(y&&y!=="all"||b&&b!=="all"||c.trim()),tt=()=>{d(""),be(""),v("/inventory",{replace:!0})};if(e)return s.jsx(k5,{item:r,onSave:J,onCancel:()=>{t(!1),n(void 0)},isSaving:he.isPending||me.isPending});if((W||E||L)&&Q.length===0&&N.length===0&&$.length===0)return s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading inventory..."})]});if((ge||U||O)&&navigator.onLine){const C=ge instanceof Error?ge.message:U instanceof Error?U.message:O instanceof Error?O.message:String(ge||U||O||"Unknown error");return s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(Fr,{className:"max-w-md mx-auto",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsxs($r,{children:["Error: ",C]})]}),s.jsx(le,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]})}return ge&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(Fr,{className:"max-w-md mx-auto",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsx($r,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded inventory data will appear when available."})})]}):s.jsxs("div",{className:"space-y-6 relative",children:[ae&&!W&&s.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm z-40 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 bg-background border rounded-lg shadow-lg p-4",children:[s.jsx(Kt,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Refreshing inventory..."})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(le,{variant:"outline",size:"sm",onClick:tt,className:"flex items-center space-x-2",disabled:he.isPending||me.isPending||se.isPending,children:[s.jsx(W_,{className:"h-4 w-4"}),s.jsx("span",{children:Be?"Clear Filters":"View All Items"})]}),s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:y==="issued"?"Issued Items":y==="available"?"Available Items":"Inventory Management"})]}),s.jsxs(le,{onClick:()=>t(!0),className:"bg-primary hover:bg-primary-dark",disabled:he.isPending||me.isPending||se.isPending,children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),(y||b)&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[y==="issued"&&b==="high-value"&&"Showing high value items (above 5,000) that have been issued to custodians",y==="issued"&&b==="low-value"&&"Showing low value items (5,000 or less) that have been issued to custodians",y==="available"&&b==="high-value"&&"Showing high value items (above 5,000) available for assignment",y==="available"&&b==="low-value"&&"Showing low value items (5,000 or less) available for assignment",y==="issued"&&!b&&"Showing only items that have been issued to custodians",y==="available"&&!b&&"Showing only items available for assignment",!y&&b==="high-value"&&"Showing only high value items (above 5,000)",!y&&b==="low-value"&&"Showing only low value items (5,000 or less)"]})]})}),(()=>{const C=(z,k)=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Custodian"}),s.jsx(Se,{children:"Condition"}),s.jsx(Se,{children:"Status"}),s.jsx(Se,{children:"Availability"}),s.jsx(Se,{children:"Total Cost"}),s.jsx(Se,{children:"Actions"})]})}),s.jsx(un,{children:k?s.jsx(mt,{children:s.jsx(xe,{colSpan:8,className:"text-center py-8",children:s.jsx(Kt,{className:"h-6 w-6 animate-spin mx-auto"})})}):z.map(D=>s.jsxs(mt,{children:[s.jsx(xe,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:D.propertyNumber}),de(D)&&s.jsx(Ye,{variant:"default",className:"bg-emerald-600 text-white",children:"Recently Added"})]})}),s.jsxs(xe,{className:"max-w-xs",children:[s.jsx("div",{className:"truncate",title:D.description,children:D.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[D.brand," ",D.model]})]}),s.jsxs(xe,{children:[s.jsx("div",{children:D.custodian||"-"}),D.custodianPosition&&s.jsx("div",{className:"text-xs text-muted-foreground",children:D.custodianPosition})]}),s.jsx(xe,{children:s.jsx(Ye,{className:He(D.condition),children:D.condition})}),s.jsx(xe,{children:s.jsx(Ye,{className:ut(D.status),children:D.status})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[(()=>{const X=Pe(D);return s.jsx(Ye,{className:X.color,title:X.reason,children:X.status})})(),D.hasPropertyCard===!1&&s.jsx(Ye,{variant:"outline",className:"text-xs text-amber-600 border-amber-300 bg-amber-50",children:" No Property Card"})]})}),s.jsxs(xe,{children:["",D.totalCost.toLocaleString()]}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>fe(D),title:"View Details",disabled:he.isPending||me.isPending||se.isPending,children:s.jsx(Xc,{className:"h-4 w-4"})}),s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>T(D),title:"Edit",disabled:he.isPending||me.isPending||se.isPending,children:s.jsx(ob,{className:"h-4 w-4"})}),s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>H(D),title:ee(D)?"Cannot delete: Item is assigned to a custodian":"Delete",className:"text-destructive hover:text-destructive",disabled:se.isPending||he.isPending||me.isPending||ee(D),children:se.isPending&&(m==null?void 0:m.id)===D.id?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(kc,{className:"h-4 w-4"})})]})})]},D.id))})]})});return b?s.jsxs(Re,{children:[s.jsxs(We,{children:[s.jsx(st,{children:y==="issued"?"Issued Semi-Expendable Property Items":y==="available"?"Available Semi-Expendable Property Items":"Semi-Expendable Property Items"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xn,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(Ae,{placeholder:"Search by property number, description, or custodian...",value:c,onChange:z=>{d(z.target.value),be(z.target.value)},className:"pl-10"})]}),s.jsxs($t,{value:y||"all",onValueChange:j,children:[s.jsx(Rt,{className:"w-40",children:s.jsx(qt,{placeholder:"Status..."})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"all",children:"All Items"}),s.jsx(je,{value:"available",children:"Available"}),s.jsx(je,{value:"issued",children:"Issued"})]})]}),s.jsxs($t,{value:b||"all",onValueChange:_,children:[s.jsx(Rt,{className:"w-48",children:s.jsx(qt,{placeholder:"Value Filter..."})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"all",children:"All Values"}),s.jsx(je,{value:"high-value",children:"High Value (>5,000)"}),s.jsx(je,{value:"low-value",children:"Low Value (5,000)"})]})]})]})]}),s.jsxs(Oe,{children:[C(Q,W),Q.length===0&&!W&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No inventory items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]})]}):s.jsxs(Re,{children:[s.jsxs(We,{children:[s.jsx(st,{children:y==="issued"?"Issued Semi-Expendable Property Items":y==="available"?"Available Semi-Expendable Property Items":"Semi-Expendable Property Items"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xn,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(Ae,{placeholder:"Search by property number, description, or custodian...",value:c,onChange:z=>{d(z.target.value),be(z.target.value)},className:"pl-10"})]}),s.jsxs($t,{value:y||"all",onValueChange:j,children:[s.jsx(Rt,{className:"w-40",children:s.jsx(qt,{placeholder:"Status..."})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"all",children:"All Items"}),s.jsx(je,{value:"available",children:"Available"}),s.jsx(je,{value:"issued",children:"Issued"})]})]})]})]}),s.jsx(Oe,{children:s.jsxs(cd,{defaultValue:"high-value",className:"w-full",children:[s.jsxs(jl,{className:"grid w-full grid-cols-2",children:[s.jsxs(tn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value"}),s.jsx(Ye,{variant:"secondary",className:"ml-auto",children:E?"...":N.length})]}),s.jsxs(tn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value"}),s.jsx(Ye,{variant:"secondary",className:"ml-auto",children:L?"...":$.length})]})]}),s.jsxs(rn,{value:"high-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items above 5,000 - High Value Expendable"}),C(N,E),N.length===0&&!E&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No high value items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]}),s.jsxs(rn,{value:"low-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items 5,000 or less - Small Value Expendable"}),C($,L),$.length===0&&!L&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No low value items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]})]})})]})})(),s.jsx(gn,{open:o,onOpenChange:l,children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xn,{children:[s.jsxs(bn,{className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-5 w-5"}),"Inventory Item Details"]}),s.jsx(_s,{children:"Complete information about this inventory item"})]}),a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{className:"text-lg",children:"Basic Information"})}),s.jsxs(Oe,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Property Number"}),s.jsx("p",{className:"font-mono font-semibold",children:a.propertyNumber})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),s.jsx("p",{children:a.description})]}),a.semiExpandableCategory&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Semi-Expandable Category"}),s.jsx("p",{children:a.semiExpandableCategory})]}),a.subCategory&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Sub-Category"}),s.jsx(Ye,{variant:"outline",children:a.subCategory})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(Ye,{className:ut(a.status),children:a.status})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),s.jsx(Ye,{className:He(a.condition),children:a.condition})]})]})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{className:"text-lg",children:"Item Details"})}),s.jsxs(Oe,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),s.jsx("p",{children:a.brand||"-"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),s.jsx("p",{children:a.model||"-"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Serial Number"}),s.jsx("p",{className:"font-mono",children:a.serialNumber||"-"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),s.jsxs("p",{children:[a.quantity," ",a.unitOfMeasure]})]})]})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"text-lg flex items-center gap-2",children:[s.jsx(hu,{className:"h-5 w-5"}),"Financial Information"]})}),s.jsxs(Oe,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Unit Cost"}),s.jsxs("p",{className:"font-semibold",children:["",a.unitCost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),s.jsxs("p",{className:"font-semibold text-lg",children:["",a.totalCost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.dateAcquired&&s.jsxs("div",{children:[s.jsxs(ue,{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(fu,{className:"h-3 w-3"}),"Date Acquired"]}),s.jsx("p",{children:ps(new Date(a.dateAcquired),"MMMM dd, yyyy")})]})]})]}),(a.custodian||a.assignmentStatus)&&s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ny,{className:"h-5 w-5"}),"Assignment Information"]})}),s.jsxs(Oe,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Custodian"}),s.jsx("p",{children:a.custodian||"-"}),a.custodianPosition&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.custodianPosition})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Assignment Status"}),(()=>{const C=Pe(a);return s.jsx(Ye,{className:C.color,children:C.status})})(),a.hasPropertyCard===!1&&s.jsx(Ye,{variant:"outline",className:"ml-2 text-xs text-amber-600 border-amber-300 bg-amber-50",children:" No Property Card"})]}),a.assignedDate&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Assigned Date"}),s.jsx("p",{children:ps(new Date(a.assignedDate),"MMMM dd, yyyy")})]})]})]}),(a.remarks||a.entityName||a.lastInventoryDate)&&s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{className:"text-lg",children:"Additional Information"})}),s.jsxs(Oe,{className:"space-y-4",children:[a.entityName&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Entity Name"}),s.jsx("p",{children:a.entityName})]}),a.lastInventoryDate&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Last Inventory Date"}),s.jsx("p",{children:ps(new Date(a.lastInventoryDate),"MMMM dd, yyyy")})]}),a.remarks&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Remarks"}),s.jsx("p",{className:"whitespace-pre-wrap",children:a.remarks})]})]})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{className:"text-lg",children:"System Information"})}),s.jsxs(Oe,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-sm",children:ps(new Date(a.createdAt),"MMMM dd, yyyy HH:mm")})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm",children:ps(new Date(a.updatedAt),"MMMM dd, yyyy HH:mm")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>l(!1),disabled:he.isPending||me.isPending||se.isPending,children:"Close"}),s.jsxs(le,{onClick:()=>{l(!1),T(a)},disabled:he.isPending||me.isPending||se.isPending,children:[s.jsx(ob,{className:"h-4 w-4 mr-2"}),"Edit Item"]})]})]})]})}),s.jsx(U5,{open:u,onOpenChange:f,children:s.jsxs(rk,{children:[s.jsxs(nk,{children:[s.jsx(ak,{children:"Are you sure?"}),s.jsx(ik,{asChild:!0,children:m&&ee(m)?s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("p",{className:"text-destructive font-semibold",children:" This item cannot be deleted because it is currently under custody."}),s.jsxs("p",{children:["The item ",s.jsxs("span",{className:"font-semibold",children:['"',m.propertyNumber," - ",m.description,'"']})," is assigned to ",s.jsx("span",{className:"font-semibold",children:m.custodian||"a custodian"}),"."]}),s.jsx("p",{children:"Please unassign the item from the custodian first before deleting it."})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("p",{children:["This action cannot be undone. This will permanently delete the inventory item",m&&s.jsxs("span",{className:"font-semibold",children:[' "',m.propertyNumber," - ",m.description,'"']})," from the system."]})})})]}),s.jsxs(sk,{children:[s.jsx(lk,{disabled:se.isPending,children:"Cancel"}),m&&!ee(m)&&s.jsx(ok,{onClick:oe,disabled:se.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:se.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kc,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})})]})},hk=({data:e})=>{const t=()=>{window.print()},r=pe.useMemo(()=>{let n=0,a=0;return(e.entries||[]).map(i=>{const o=Number(i.receiptQty||0),l=Number(i.issueQty||0),c=Number(i.totalCost||i.amount||0),d=0;return n=n+o-l,a=a+c-d,{...i,balanceQty:i.balanceQty!=null?i.balanceQty:n,amount:i.amount!=null?i.amount:i.totalCost!=null?i.totalCost:a}})},[e.entries]);return s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Semi-Expendable Property Card"}),s.jsxs(le,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(We,{className:"border-b-2 border-black p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute right-0 top-0 text-[11px]",children:"Annex A.1"}),s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-base font-bold uppercase tracking-wide",children:"SEMI-EXPANDABLE PROPERTY CARD"})})]})}),s.jsxs(Oe,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Entity Name :"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.entityName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Fund Cluster:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.fundCluster})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Semi-expendable Property:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.semiExpendableProperty})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Semi-expendable Property Number:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.propertyNumber})]})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Description :"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.description})]})}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"border-r border-black p-1 text-center w-[8%]",children:"Date"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[12%]",children:"Reference"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:3,children:"Receipt"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:3,children:"Issue/Transfer/Disposal"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:2,children:"Balance"}),s.jsx("th",{className:"p-1 text-center w-[14%]",children:"Remarks"})]}),s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[8%]",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[14%]",children:"Office/Officer"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Amount"}),s.jsx("th",{className:"p-1"})]})]}),s.jsxs("tbody",{children:[r.map((n,a)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.date}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.reference}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.receiptQty!=null?n.receiptQty:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.unitCost!=null?`${Number(n.unitCost).toFixed(2)}`:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.totalCost!=null?`${Number(n.totalCost).toFixed(2)}`:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.issueItemNo||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.issueQty!=null&&n.issueQty!==0?n.issueQty:""}),s.jsx("td",{className:"border-r border-black p-2 align-top",children:n.officeOfficer||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.balanceQty!=null?n.balanceQty:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.amount!=null?`${Number(n.amount).toFixed(2)}`:""}),s.jsx("td",{className:"p-2 align-top",children:n.remarks||""})]},a)),Array.from({length:Math.max(0,15-e.entries.length)}).map((n,a)=>s.jsx("tr",{className:"border-b border-gray-300",children:Array.from({length:11}).map((i,o)=>s.jsx("td",{className:`${o<10?"border-r border-black":""} p-3 h-8`,children:" "},o))},`empty-${a}`))]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-6 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-[11px] font-semibold",children:"Property and/or Supply Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-[11px] font-semibold",children:"Accountable Officer"})]})]})]})]})]})};var Ev="Progress",kv=100,[YU,qV]=zr(Ev),[XU,JU]=YU(Ev),mk=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=ZU,...o}=e;(a||a===0)&&!Tw(a)&&console.error(eB(`${a}`,"Progress"));const l=Tw(a)?a:kv;n!==null&&!Aw(n,l)&&console.error(tB(`${n}`,"Progress"));const c=Aw(n,l)?n:null,d=of(c)?i(c,l):void 0;return s.jsx(XU,{scope:r,value:c,max:l,children:s.jsx(Me.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":of(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":yk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});mk.displayName=Ev;var pk="ProgressIndicator",gk=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=JU(pk,r);return s.jsx(Me.div,{"data-state":yk(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});gk.displayName=pk;function ZU(e,t){return`${Math.round(e/t*100)}%`}function yk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function of(e){return typeof e=="number"}function Tw(e){return of(e)&&!isNaN(e)&&e>0}function Aw(e,t){return of(e)&&!isNaN(e)&&e<=t&&e>=0}function eB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kv}\`.`}function tB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vk=mk,rB=gk;const xg=h.forwardRef(({className:e,value:t,...r},n)=>s.jsx(vk,{ref:n,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(rB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));xg.displayName=vk.displayName;const Nm=[{id:"general-fund",name:"General Fund",entityName:"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:"General Fund",description:"Standard property cards for general fund items",rules:{fundSource:"general"}},{id:"custom",name:"Custom Template",entityName:"",fundCluster:"",description:"Create a custom template",rules:{}}],nB=({isOpen:e,onClose:t,onSuccess:r,inventoryItems:n})=>{const[a,i]=h.useState("selection"),[o,l]=h.useState([]),[c,d]=h.useState(null),[u,f]=h.useState(Nm[2]),[m,p]=h.useState([]),[x,g]=h.useState(!1),[w,v]=h.useState(0);h.useEffect(()=>{e&&(i("selection"),l([]),d(null),p([]),g(!1),v(0))},[e]),h.useMemo(()=>n.filter(S=>o.includes(S.id)),[n,o]),h.useEffect(()=>{if(c&&o.length>0){const S=o.map(A=>(n.find(ne=>ne.id===A),{itemId:A,entityName:c.entityName,fundCluster:c.fundCluster,isOverridden:!1}));p(S)}},[c,o,n]);const y=async S=>{try{const{data:A}=await B.from("fund_sources").select("name").eq("id",S).single();return(A==null?void 0:A.name)||null}catch(A){return console.error("Error fetching fund source:",A),null}},b=async S=>{const A=n.find(W=>W.id===S);if(!A)return;let ne=(c==null?void 0:c.entityName)||"",Q=(c==null?void 0:c.fundCluster)||"";if(A.entityName&&(ne=A.entityName),A.fundSource){const W=await y(A.fundSource);W&&(Q=W)}return{entityName:ne,fundCluster:Q}},j=S=>{l(A=>A.includes(S)?A.filter(ne=>ne!==S):[...A,S])},_=S=>{const A=Nm.find(ne=>ne.id===S);d(A||null)},N=(S,A)=>{f(ne=>({...ne,[S]:A}))},E=(S,A,ne)=>{p(Q=>Q.map(W=>W.itemId===S?{...W,[A]:ne,isOverridden:!0}:W))},M=async()=>{const S=await Promise.all(o.map(async A=>{const ne=await b(A);return{itemId:A,entityName:(ne==null?void 0:ne.entityName)||(c==null?void 0:c.entityName)||"",fundCluster:(ne==null?void 0:ne.fundCluster)||(c==null?void 0:c.fundCluster)||"",isOverridden:!1}}));p(S)},U=async()=>{g(!0),v(0);try{for(let S=0;S<m.length;S++){const A=m[S],ne=n.find(ae=>ae.id===A.itemId);if(!ne)continue;const Q=ne.description||(ne.model?`${ne.brand?ne.brand+" ":""}${ne.model}`:ne.brand)||"",{error:W}=await B.from("property_cards").insert({entity_name:A.entityName,fund_cluster:A.fundCluster,semi_expendable_property:Q,property_number:ne.propertyNumber,description:Q,date_acquired:ne.dateAcquired,remarks:ne.remarks,inventory_item_id:ne.id});W?console.error(`Error creating property card for ${ne.propertyNumber}:`,W):v(S+1)}r(),t()}catch(S){console.error("Error creating property cards:",S)}finally{g(!1)}},$=()=>{const S=["selection","template","configuration","overrides","preview","processing"],A=S.indexOf(a);A<S.length-1&&i(S[A+1])},L=()=>{const S=["selection","template","configuration","overrides","preview","processing"],A=S.indexOf(a);A>0&&i(S[A-1])},F=()=>{switch(a){case"selection":return o.length>0;case"template":return c!==null;case"configuration":return!0;case"overrides":return!0;case"preview":return!0;default:return!1}},O=()=>{switch(a){case"selection":return"Select Inventory Items";case"template":return"Choose Template";case"configuration":return"Configure Common Settings";case"overrides":return"Customize Individual Items";case"preview":return"Preview & Confirm";case"processing":return"Creating Property Cards";default:return""}},R=()=>{switch(a){case"selection":return s.jsx(sl,{className:"h-5 w-5"});case"template":return s.jsx(ys,{className:"h-5 w-5"});case"configuration":return s.jsx(Sp,{className:"h-5 w-5"});case"overrides":return s.jsx(Sp,{className:"h-5 w-5"});case"preview":return s.jsx(Xc,{className:"h-5 w-5"});case"processing":return s.jsx(Ma,{className:"h-5 w-5"});default:return null}};return s.jsx(gn,{open:e,onOpenChange:t,children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xn,{children:s.jsxs(bn,{className:"flex items-center gap-2",children:[R(),"Bulk Create Property Cards - ",O()]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Step ",["selection","template","configuration","overrides","preview","processing"].indexOf(a)+1," of 6"]}),s.jsxs("span",{children:[o.length," items selected"]})]}),s.jsx(xg,{value:(["selection","template","configuration","overrides","preview","processing"].indexOf(a)+1)*16.67,className:"h-2"})]}),s.jsxs("div",{className:"space-y-6",children:[a==="selection"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fr,{children:s.jsx($r,{children:"Select the inventory items you want to create property cards for. You can select multiple items at once."})}),s.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto",children:n.map(S=>{const A=S.description||(S.model?`${S.brand?S.brand+" ":""}${S.model}`:S.brand)||"";return s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[s.jsx(fd,{id:S.id,checked:o.includes(S.id),onCheckedChange:()=>j(S.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(ue,{htmlFor:S.id,className:"font-medium",children:[S.propertyNumber," - ",A]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[S.category,"  ",S.condition,"  ",S.fundSource?"Has Fund Source":"No Fund Source"]})]})]},S.id)})})]}),a==="template"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fr,{children:s.jsx($r,{children:"Choose a template to apply common settings to all selected items. You can customize individual items later."})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Nm.map(S=>s.jsxs(Re,{className:`cursor-pointer transition-colors ${(c==null?void 0:c.id)===S.id?"ring-2 ring-primary":""}`,onClick:()=>_(S.id),children:[s.jsxs(We,{children:[s.jsx(st,{className:"text-lg",children:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.description})]}),s.jsx(Oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Entity:"})," ",S.entityName||"Custom"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fund Cluster:"})," ",S.fundCluster||"Custom"]})]})})]},S.id))}),(c==null?void 0:c.id)==="custom"&&s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Custom Template"})}),s.jsxs(Oe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"customEntityName",children:"Entity Name"}),s.jsx(Ae,{id:"customEntityName",value:u.entityName,onChange:S=>N("entityName",S.target.value),placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"customFundCluster",children:"Fund Cluster"}),s.jsx(Ae,{id:"customFundCluster",value:u.fundCluster,onChange:S=>N("fundCluster",S.target.value),placeholder:"Enter fund cluster"})]})]})]})]}),a==="configuration"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fr,{children:s.jsx($r,{children:"Configure common settings that will be applied to all selected items. You can customize individual items in the next step."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"commonEntityName",children:"Entity Name"}),s.jsx(Ae,{id:"commonEntityName",value:(c==null?void 0:c.entityName)||"",onChange:S=>{const A={...c,entityName:S.target.value};d(A)},placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"commonFundCluster",children:"Fund Cluster"}),s.jsx(Ae,{id:"commonFundCluster",value:(c==null?void 0:c.fundCluster)||"",onChange:S=>{const A={...c,fundCluster:S.target.value};d(A)},placeholder:"Enter fund cluster"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{onClick:M,variant:"outline",children:"Auto-Assign from Inventory Data"}),s.jsx(le,{onClick:()=>{p(S=>S.map(A=>({...A,entityName:(c==null?void 0:c.entityName)||"",fundCluster:(c==null?void 0:c.fundCluster)||"",isOverridden:!1})))},variant:"outline",children:"Apply Template to All Items"})]})]}),a==="overrides"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fr,{children:s.jsx($r,{children:"Review and customize individual items. Items marked with overrides will use their custom values instead of the template."})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(S=>{const A=n.find(Q=>Q.id===S.itemId),ne=(A==null?void 0:A.description)||(A!=null&&A.model?`${A!=null&&A.brand?A.brand+" ":""}${A.model}`:A==null?void 0:A.brand)||"";return s.jsx(Re,{className:S.isOverridden?"ring-2 ring-orange-200":"",children:s.jsxs(Oe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[A==null?void 0:A.propertyNumber," - ",ne]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A==null?void 0:A.category})]}),S.isOverridden&&s.jsx(Ye,{variant:"secondary",children:"Customized"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:`entity-${S.itemId}`,children:"Entity Name"}),s.jsx(Ae,{id:`entity-${S.itemId}`,value:S.entityName,onChange:Q=>E(S.itemId,"entityName",Q.target.value),placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:`fund-${S.itemId}`,children:"Fund Cluster"}),s.jsx(Ae,{id:`fund-${S.itemId}`,value:S.fundCluster,onChange:Q=>E(S.itemId,"fundCluster",Q.target.value),placeholder:"Enter fund cluster"})]})]})]})},S.itemId)})})]}),a==="preview"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fr,{children:s.jsx($r,{children:"Review all property cards that will be created. Make sure all information is correct before proceeding."})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(S=>{const A=n.find(Q=>Q.id===S.itemId),ne=(A==null?void 0:A.description)||(A!=null&&A.model?`${A!=null&&A.brand?A.brand+" ":""}${A.model}`:A==null?void 0:A.brand)||"";return s.jsx(Re,{children:s.jsxs(Oe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:[A==null?void 0:A.propertyNumber," - ",ne]}),S.isOverridden&&s.jsx(Ye,{variant:"secondary",children:"Customized"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",S.entityName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fund Cluster:"})," ",S.fundCluster]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Property Number:"})," ",A==null?void 0:A.propertyNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",ne]})]})]})},S.itemId)})})]}),a==="processing"&&s.jsx("div",{className:"space-y-4 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-lg font-medium",children:"Creating Property Cards..."}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[w," of ",m.length," cards created"]}),s.jsx(xg,{value:w/m.length*100,className:"h-2"})]})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(le,{variant:"outline",onClick:L,disabled:a==="selection"||a==="processing",children:[s.jsx(W_,{className:"h-4 w-4 mr-2"}),"Previous"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{variant:"outline",onClick:t,children:"Cancel"}),a==="preview"?s.jsxs(le,{onClick:U,disabled:x,children:[s.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Create ",m.length," Property Cards"]}):s.jsxs(le,{onClick:$,disabled:!F()||a==="processing",children:["Next",s.jsx(AI,{className:"h-4 w-4 ml-2"})]})]})]})]})})},sB=()=>{const e=ts();rs();const[t,r]=h.useState(""),[n,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState([]),[f,m]=h.useState({entityName:"",fundCluster:"",inventoryItemId:""}),[p,x]=h.useState(!1),[g,w]=h.useState(!1),[v,y]=h.useState(null),[b,j]=h.useState(!1),_=async T=>{try{const{data:H}=await B.from("fund_sources").select("name").eq("id",T).single();return(H==null?void 0:H.name)||null}catch(H){return console.error("Error fetching fund source:",H),null}},[N,E]=h.useState(!1),M=h.useMemo(()=>"",[]);h.useEffect(()=>{n&&(M?(m(T=>({...T,entityName:M})),x(!0)):x(!1))},[n,M]);const{toast:U}=es(),$=ea(),L=h.useRef(null);h.useEffect(()=>{const T=B.channel("realtime:property-cards-annex").on("postgres_changes",{event:"*",schema:"public",table:"property_cards"},()=>{console.log("[Realtime] Property card changed, refreshing..."),$.invalidateQueries({queryKey:["annex-property-cards"]})}).on("postgres_changes",{event:"*",schema:"public",table:"property_card_entries"},()=>{console.log("[Realtime] Property card entries changed, refreshing..."),$.invalidateQueries({queryKey:["annex-property-cards"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing property cards and available items..."),$.invalidateQueries({queryKey:["annex-property-cards"]}),$.invalidateQueries({queryKey:["inventory-items-for-property-cards"]})}).subscribe();return()=>{B.removeChannel(T)}},[$]);const{data:F=[],isLoading:O,error:R}=ir({queryKey:["annex-property-cards"],queryFn:async()=>{console.log("[PropertyCardsAnnex] Fetching property cards...");const{data:T,error:H}=await B.from("property_cards").select("*").order("created_at",{ascending:!1});if(H)throw console.error("[PropertyCardsAnnex] Error fetching property cards:",H),H;const ee=(T||[]).map(Pe=>Pe.inventory_item_id).filter(Boolean);let oe={};if(ee.length>0){const{data:Pe,error:Be}=await B.from("inventory_items").select("id, assignment_status, custodian, property_number, sub_category, unit_cost").in("id",ee);!Be&&Pe&&(oe=Pe.reduce((tt,C)=>(tt[C.id]=C,tt),{}))}const be=T||[];if(R)throw console.error("[PropertyCardsAnnex] Error fetching property cards:",R),R;console.log("[PropertyCardsAnnex] Fetched property cards:",(be==null?void 0:be.length)||0);const ut=(be||[]).sort((Pe,Be)=>{const tt=new Date(Pe.created_at).getTime(),C=new Date(Be.created_at).getTime();return tt!==C?C-tt:(Be.property_number||"").localeCompare(Pe.property_number||"")}).map(Pe=>{const Be=Pe.inventory_item_id?oe[Pe.inventory_item_id]:null,tt=Be==null?void 0:Be.sub_category,C=(Be==null?void 0:Be.unit_cost)||0,z=tt==="High Value Expendable"||!tt&&C>5e3;return{id:Pe.id,entityName:Pe.entity_name,fundCluster:Pe.fund_cluster,semiExpendableProperty:Pe.semi_expendable_property,propertyNumber:Pe.property_number,description:Pe.description,dateAcquired:Pe.date_acquired,remarks:Pe.remarks,inventoryItemId:Pe.inventory_item_id,entries:[],createdAt:Pe.created_at,updatedAt:Pe.updated_at,assignmentStatus:Be==null?void 0:Be.assignment_status,custodian:Be==null?void 0:Be.custodian,subCategory:tt||(z?"High Value Expendable":"Small Value Expendable"),unitCost:C,isHighValue:z}});return console.log("[PropertyCardsAnnex] Mapped property cards:",ut.length),ut},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:(T,H)=>navigator.onLine?T<2:!1}),{data:S=[]}=ir({queryKey:["available-inventory-for-cards",F.length],queryFn:async()=>{console.log("[PropertyCardsAnnex] Fetching available inventory items for property card creation..."),console.log("[PropertyCardsAnnex] Current property cards count:",F.length);const{data:T,error:H}=await B.from("inventory_items").select("*").eq("status","Active").eq("condition","Serviceable").order("created_at",{ascending:!1});if(H){console.error("[PropertyCardsAnnex] Error fetching available inventory:",H);const be=await Xr.getAll();if(be.success){const He=F.map(Pe=>Pe.inventoryItemId).filter(Boolean);console.log("[PropertyCardsAnnex] Existing card items (fallback):",He);const ut=be.data.filter(Pe=>Pe.condition==="Serviceable"&&!He.includes(Pe.id)&&Pe.status==="Active"&&(!Pe.assignmentStatus||Pe.assignmentStatus==="Available"));return console.log("[PropertyCardsAnnex] Filtered inventory items (fallback):",ut.length),ut}return[]}console.log("[PropertyCardsAnnex] Raw inventory items fetched:",(T==null?void 0:T.length)||0);const ee=F.map(be=>be.inventoryItemId).filter(Boolean);console.log("[PropertyCardsAnnex] Existing card items:",ee);const oe=T.filter(be=>{const He=ee.includes(be.id);return He&&console.log(`[PropertyCardsAnnex] Filtering out item ${be.property_number} - already has property card`),!He}).map(be=>({id:be.id,propertyNumber:be.property_number,description:be.description||"",brand:be.brand||"",model:be.model||"",serialNumber:be.serial_number||"",entityName:be.entity_name||"",unitOfMeasure:be.unit_of_measure||"piece",quantity:be.quantity||1,unitCost:be.unit_cost||0,totalCost:be.total_cost||0,dateAcquired:be.date_acquired||new Date().toISOString().split("T")[0],supplier:be.supplier_id||"",condition:be.condition||"Serviceable",location:be.location||"",custodian:be.custodian||"",custodianPosition:be.custodian_position||"",accountableOfficer:be.custodian||"",fundSource:be.fund_source_id||"",remarks:be.remarks||"",lastInventoryDate:be.last_inventory_date||void 0,category:be.category||"Semi-Expendable",status:be.status||"Active",assignmentStatus:be.assignment_status||"Available",assignedDate:be.assigned_date||void 0,createdAt:be.created_at||new Date().toISOString(),updatedAt:be.updated_at||new Date().toISOString()}));return console.log("[PropertyCardsAnnex] Available inventory items after filtering:",oe.length),oe.length>0&&console.log("[PropertyCardsAnnex] Sample items:",oe.slice(0,3).map(be=>({propertyNumber:be.propertyNumber,description:be.description,condition:be.condition,status:be.status,assignmentStatus:be.assignmentStatus}))),oe},enabled:n&&!O,staleTime:0,refetchOnMount:!0});h.useEffect(()=>{var H;const T=(H=e.state)==null?void 0:H.prefillItem;if(console.log("Checking for prefill item:",T),T)if(console.log("Prefill item found, opening creation dialog"),a(!0),S.length>0){const ee=S.find(oe=>oe.propertyNumber===T.propertyNumber);console.log("Matching inventory item:",ee),ee&&(m(oe=>({...oe,inventoryItemId:ee.id})),u([ee.id]))}else console.log("No inventory items available yet, will retry when loaded")},[e.state,S]);const A=Bs({mutationFn:async T=>await Lo.createPropertyCardFromInventory(T),onSuccess:()=>{U({title:"Success",description:"Property card created successfully"}),$.invalidateQueries({queryKey:["annex-property-cards"]}),$.invalidateQueries({queryKey:["available-inventory-for-cards"]}),a(!1),m({entityName:"",fundCluster:"",inventoryItemId:""})},onError:T=>{U({title:"Error",description:T.message,variant:"destructive"})}}),ne=Bs({mutationFn:async T=>{const H=await pr.canDelete(T);if(!H.success||!H.data)throw new Error("This property card cannot be deleted because it has custodian slip references.");const ee=await pr.safeDelete(T);if(!ee.success)throw new Error(ee.error||"Failed to delete property card");return ee.data},onSuccess:()=>{U({title:"Success",description:"Property card deleted successfully"}),$.invalidateQueries({queryKey:["annex-property-cards"]}),y(null),E(!1)},onError:T=>{U({title:"Error",description:T.message,variant:"destructive"})}}),Q=async T=>{const H=await Lo.getPropertyCardWithEntries(T);if(!H)return null;let ee={...H};try{const{data:oe}=await B.from("inventory_items").select("*").eq("id",H.inventoryItemId).single();oe&&(ee={...ee,brand:oe.brand,model:oe.model,serialNumber:oe.serial_number,quantity:oe.quantity,unitOfMeasure:oe.unit_of_measure,unitCost:oe.unit_cost,totalCost:oe.total_cost,semiExpandableCategory:oe.semi_expandable_category,subCategory:oe.sub_category,condition:oe.condition,status:oe.status,supplier:oe.supplier,fundSource:oe.fund_source})}catch(oe){console.error("Error fetching inventory details:",oe)}if(!ee.entries||ee.entries.length===0)try{const{data:oe}=await B.from("custodian_slip_items").select("*, custodian_slips(slip_number, date_issued)").eq("inventory_item_id",ee.inventoryItemId),be=(oe||[]).map(Pe=>{var Be,tt;return{id:Pe.id,propertyCardId:ee.id,date:Pe.date_issued,reference:`ICS ${((Be=Pe.custodian_slips)==null?void 0:Be.slip_number)||""}`.trim(),receiptQty:Pe.quantity||0,unitCost:Number(Pe.unit_cost||0),totalCost:Number(Pe.total_cost||0),issueItemNo:"",issueQty:0,officeOfficer:"",balanceQty:Pe.quantity||0,amount:Number(Pe.total_cost||0),remarks:`Issued via ICS ${((tt=Pe.custodian_slips)==null?void 0:tt.slip_number)||""}`.trim(),relatedSlipId:Pe.slip_id,relatedTransferId:null,createdAt:Pe.created_at,updatedAt:Pe.updated_at}}),{data:He}=await B.from("transfer_items").select("*, property_transfers(itr_number, to_department, to_custodian)").eq("property_number",ee.propertyNumber),ut=(He||[]).map(Pe=>{var Be,tt,C;return{id:Pe.id,propertyCardId:ee.id,date:ee.updatedAt||Pe.created_at,reference:`ITR ${((Be=Pe.property_transfers)==null?void 0:Be.itr_number)||""}`.trim(),receiptQty:0,unitCost:0,totalCost:0,issueItemNo:Pe.property_number||"",issueQty:Pe.quantity||1,officeOfficer:((tt=Pe.property_transfers)==null?void 0:tt.to_custodian)||((C=Pe.property_transfers)==null?void 0:C.to_department)||"",balanceQty:0,amount:0,remarks:"Transferred",relatedSlipId:null,relatedTransferId:Pe.transfer_id,createdAt:Pe.created_at,updatedAt:Pe.updated_at}});ee={...ee,entries:[...be,...ut].sort((Pe,Be)=>new Date(Pe.date).getTime()-new Date(Be.date).getTime())}}catch(oe){console.error("Fallback building property card entries failed:",oe)}return ee},W=async()=>{if(A.isPending){console.log("Property card creation already in progress, ignoring duplicate click");return}if(!f.entityName||!f.fundCluster||!f.inventoryItemId){U({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const T=S.find(H=>H.id===f.inventoryItemId);if(!T){U({title:"Error",description:"Selected inventory item not found",variant:"destructive"});return}console.log("Creating property card for item:",T.propertyNumber),A.mutate({inventoryItemId:f.inventoryItemId,entityName:f.entityName,fundCluster:f.fundCluster,initialEntry:{date:T.dateAcquired||new Date().toISOString().split("T")[0],reference:"Initial Receipt",receiptQty:T.quantity||1,unitCost:T.unitCost||0,totalCost:T.totalCost||(T.quantity||1)*(T.unitCost||0)}})},ae=async T=>{try{const H=await Q(T.id);H&&o(H)}catch{U({title:"Error",description:"Failed to load property card details",variant:"destructive"})}},ge=async T=>{try{const H=await Q(T.id);H&&(o(H),c(!0))}catch{U({title:"Error",description:"Failed to load property card for printing",variant:"destructive"})}},G=T=>{if(T.assignmentStatus==="Assigned"){U({title:"Cannot Delete Property Card",description:`This item is currently assigned to ${T.custodian}. Please return the item before deleting the property card.`,variant:"destructive"});return}y(T),E(!0)},ie=()=>{v&&ne.mutate(v.id)},de=T=>({entityName:T.entityName,fundCluster:T.fundCluster,semiExpendableProperty:T.semiExpendableProperty,description:T.description,propertyNumber:T.propertyNumber,entries:T.entries||[],remarks:T.remarks||""}),he=F.filter(T=>T.propertyNumber.toLowerCase().includes(t.toLowerCase())||T.description.toLowerCase().includes(t.toLowerCase())||T.entityName.toLowerCase().includes(t.toLowerCase())),me=he.filter(T=>T.isHighValue===!0),se=he.filter(T=>T.isHighValue!==!0),J=h.useMemo(()=>Df(F),[F]),fe=T=>J===T.id&&Of(T.createdAt);return O&&F.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading property cards..."})]}):R&&navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(Fr,{className:"max-w-md mx-auto",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsxs($r,{children:["Error: ",R.message]})]}),s.jsx(le,{onClick:()=>$.invalidateQueries({queryKey:["annex-property-cards"]}),className:"mt-4",children:"Retry"})]}):R&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(Fr,{className:"max-w-md mx-auto",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsx($r,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded property cards will appear when available."})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Semi-Expendable Property Cards (Annex A.1)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(le,{onClick:()=>j(!0),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(za,{className:"h-4 w-4"}),"Bulk Create"]}),s.jsxs(le,{onClick:()=>a(!0),className:"flex items-center gap-2",children:[s.jsx(za,{className:"h-4 w-4"}),"Create from Inventory"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{placeholder:"Search property cards...",value:t,onChange:T=>r(T.target.value),className:"pl-10"})]})}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Semi-Expendable Property Cards"})}),s.jsx(Oe,{children:s.jsxs(cd,{defaultValue:"high-value",className:"w-full",children:[s.jsxs(jl,{className:"grid w-full grid-cols-2",children:[s.jsxs(tn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value"}),s.jsx(Ye,{variant:"secondary",className:"ml-auto",children:O?"...":me.length})]}),s.jsxs(tn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value"}),s.jsx(Ye,{variant:"secondary",className:"ml-auto",children:O?"...":se.length})]})]}),(()=>{const T=(H,ee)=>s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{className:"font-semibold",children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Entity Name"}),s.jsx(Se,{children:"Fund Cluster"}),s.jsx(Se,{children:"Date Acquired"}),s.jsx(Se,{children:"Assignment Status"}),s.jsx(Se,{children:"Actions"})]})}),s.jsx(un,{children:ee?s.jsx(mt,{children:s.jsx(xe,{colSpan:7,className:"text-center py-8",children:s.jsx(Kt,{className:"h-6 w-6 animate-spin mx-auto"})})}):H.length===0?s.jsx(mt,{children:s.jsx(xe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No property cards found."})}):H.map(oe=>s.jsxs(mt,{children:[s.jsx(xe,{className:"font-medium font-mono",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:oe.propertyNumber}),fe(oe)&&s.jsx(Ye,{variant:"default",className:"bg-emerald-600 text-white",children:"Recently Added"})]})}),s.jsx(xe,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:oe.description,children:oe.description})}),s.jsx(xe,{children:oe.entityName}),s.jsx(xe,{children:oe.fundCluster}),s.jsx(xe,{children:oe.dateAcquired}),s.jsx(xe,{children:oe.assignmentStatus==="Assigned"&&oe.custodian?s.jsxs(Ye,{variant:"secondary",className:"text-xs",children:["Assigned to: ",oe.custodian]}):s.jsx(Ye,{variant:"outline",className:"text-xs",children:"Available"})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>ae(oe),title:"View Details",disabled:ne.isPending,children:s.jsx(Xc,{className:"h-4 w-4"})}),s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>ge(oe),title:"Print",disabled:ne.isPending,children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx(le,{variant:"ghost",size:"sm",onClick:()=>G(oe),title:oe.assignmentStatus==="Assigned"?`Cannot delete - item is assigned to ${oe.custodian}`:"Delete property card",className:"text-destructive hover:text-destructive",disabled:ne.isPending||oe.assignmentStatus==="Assigned",children:ne.isPending&&(v==null?void 0:v.id)===oe.id?s.jsx(Kt,{className:"h-4 w-4 animate-spin"}):s.jsx(kc,{className:"h-4 w-4"})})]})})]},oe.id))})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(rn,{value:"high-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items above 5,000 - High Value Expendable (SPHV)"}),T(me,O)]}),s.jsxs(rn,{value:"low-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items 5,000 or less - Small Value Expendable (SPLV)"}),T(se,O)]})]})})()]})})]}),s.jsx(gn,{open:n,onOpenChange:a,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Create Property Card from Inventory"}),s.jsx(_s,{children:"Select an inventory item to create a Semi-Expendable Property Card (Annex A.1)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Ae,{id:"entityName",value:f.entityName,onChange:T=>m(H=>({...H,entityName:T.target.value})),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO",disabled:p})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"fundCluster",children:"Fund Cluster *"}),s.jsx(Ae,{id:"fundCluster",value:f.fundCluster,onChange:T=>m(H=>({...H,fundCluster:T.target.value})),placeholder:"Enter fund cluster",disabled:g})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"inventoryItem",children:"Select Inventory Item *"}),s.jsxs($t,{value:f.inventoryItemId,onValueChange:async T=>{const H=S.find(ee=>ee.id===T);if(m(ee=>({...ee,inventoryItemId:T,entityName:(H==null?void 0:H.entityName)||ee.entityName})),x(!!(H!=null&&H.entityName)),H!=null&&H.fundSource){const ee=await _(H.fundSource);ee?(m(oe=>({...oe,fundCluster:ee})),w(!0)):w(!1)}else w(!1)},children:[s.jsx(Rt,{children:s.jsx(qt,{placeholder:"Choose an inventory item"})}),s.jsx(Ot,{children:S.map(T=>s.jsxs(je,{value:T.id,children:[T.propertyNumber," - ",T.description]},T.id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(le,{onClick:W,disabled:A.isPending,children:[A.isPending&&s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Property Card"]})]})]})]})}),s.jsx(gn,{open:l,onOpenChange:c,children:s.jsx(sn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{ref:L,children:i&&s.jsx(hk,{data:de(i)})})})}),s.jsx(gn,{open:!!i&&!l,onOpenChange:()=>o(null),children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Property Card Details"}),s.jsxs(_s,{children:[i==null?void 0:i.propertyNumber," - ",i==null?void 0:i.description]})]}),i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Entity Name"}),s.jsx("p",{className:"text-sm",children:i.entityName})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Fund Cluster"}),s.jsx("p",{className:"text-sm",children:i.fundCluster})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Property Number"}),s.jsx("p",{className:"font-mono font-semibold",children:i.propertyNumber})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Date Acquired"}),s.jsx("p",{className:"text-sm",children:i.dateAcquired})]})]}),i.brand||i.model||i.serialNumber?s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Item Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[i.brand&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),s.jsx("p",{className:"text-sm",children:i.brand})]}),i.model&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),s.jsx("p",{className:"text-sm",children:i.model})]}),i.serialNumber&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Serial Number"}),s.jsx("p",{className:"font-mono text-sm",children:i.serialNumber})]}),i.quantity&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),s.jsxs("p",{className:"text-sm",children:[i.quantity," ",i.unitOfMeasure]})]})]})]}):null,i.unitCost!==void 0?s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Financial Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Unit Cost"}),s.jsxs("p",{className:"font-semibold text-sm",children:["",(i.unitCost||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),s.jsxs("p",{className:"font-semibold text-sm",children:["",(i.totalCost||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}):null,i.entries&&i.entries.length>0&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Property Card Entries"}),s.jsx("div",{className:"mt-2 rounded-md border",children:s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{children:"Date"}),s.jsx(Se,{children:"Reference"}),s.jsx(Se,{children:"Receipt Qty"}),s.jsx(Se,{children:"Issue Qty"}),s.jsx(Se,{children:"Office/Officer"}),s.jsx(Se,{children:"Balance"})]})}),s.jsx(un,{children:i.entries.map(T=>s.jsxs(mt,{children:[s.jsx(xe,{children:T.date}),s.jsx(xe,{children:T.reference}),s.jsx(xe,{children:T.receiptQty||"-"}),s.jsx(xe,{children:T.issueQty||"-"}),s.jsx(xe,{children:T.officeOfficer||"-"}),s.jsx(xe,{children:T.balanceQty})]},T.id))})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>o(null),children:"Close"}),s.jsxs(le,{onClick:()=>c(!0),children:[s.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})]})}),s.jsx(gn,{open:N,onOpenChange:E,children:s.jsxs(sn,{children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Delete Property Card"}),s.jsxs(_s,{children:["Are you sure you want to delete this property card? This action cannot be undone.",v&&s.jsxs("div",{className:"mt-2 p-2 bg-muted rounded",children:[s.jsx("strong",{children:"Property Card:"})," ",v.propertyNumber,s.jsx("br",{}),s.jsx("strong",{children:"Description:"})," ",v.description]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>{E(!1),y(null)},disabled:ne.isPending,children:"Cancel"}),s.jsx(le,{variant:"destructive",onClick:ie,disabled:ne.isPending,children:ne.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kc,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})}),s.jsx(nB,{isOpen:b,onClose:()=>j(!1),onSuccess:()=>{$.invalidateQueries({queryKey:["annex-property-cards"]}),$.invalidateQueries({queryKey:["available-inventory-for-cards"]}),$.invalidateQueries({queryKey:["available-inventory-for-slips"]}),$.invalidateQueries({queryKey:["dashboard-stats"]}),U({title:"Success",description:"Property cards created successfully!"})},inventoryItems:S})]})},aB=({data:e})=>{const r=Math.max(0,15-e.items.length);return s.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[s.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:s.jsxs(le,{onClick:()=>window.print(),className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})}),s.jsxs("div",{className:"border-2 border-black print:border-black min-h-[11in] font-mono text-sm",children:[s.jsx("div",{className:"text-center py-3 border-b border-black",children:s.jsx("h1",{className:"text-lg font-bold",children:"INVENTORY CUSTODIAN SLIP"})}),s.jsxs("div",{className:"grid grid-cols-2 border-b border-black",children:[s.jsxs("div",{className:"p-2 border-r border-black",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Entity Name:"}),s.jsx("div",{className:"border-b border-black flex-1 min-h-[20px] px-1",children:e.entityName})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Fund Cluster:"}),s.jsx("div",{className:"border-b border-black flex-1 min-h-[20px] px-1",children:e.fundCluster})]})]}),s.jsx("div",{className:"p-2 flex items-start justify-end",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"ICS No.:"}),s.jsx("div",{className:"border-b border-black min-w-[120px] min-h-[20px] px-1",children:e.slipNumber})]})})]}),s.jsxs("table",{className:"w-full border-collapse text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-r border-black p-2 w-16 text-center font-semibold",children:"Quantity"}),s.jsx("th",{className:"border-r border-black p-2 w-12 text-center font-semibold",children:"Units of Measure"}),s.jsxs("th",{className:"border-r border-black p-2 text-center font-semibold",children:[s.jsx("div",{children:"Amount"}),s.jsxs("div",{className:"grid grid-cols-2 border-t border-black mt-1",children:[s.jsx("div",{className:"border-r border-black p-1",children:"Unit Cost"}),s.jsx("div",{className:"p-1",children:"Total Cost"})]})]}),s.jsx("th",{className:"border-r border-black p-2 text-center font-semibold",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 w-16 text-center font-semibold",children:"Item No."}),s.jsxs("th",{className:"p-2 w-20 text-center font-semibold",children:[s.jsx("div",{children:"Estimated"}),s.jsx("div",{children:"Useful Life"})]})]})}),s.jsxs("tbody",{children:[e.items.map((n,a)=>s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.quantity}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.unit}),s.jsx("td",{className:"border-r border-black p-0 align-top",children:s.jsxs("div",{className:"grid grid-cols-2 h-full",children:[s.jsxs("div",{className:"border-r border-black p-2 text-right",children:["",n.unitCost.toFixed(2)]}),s.jsxs("div",{className:"p-2 text-right",children:["",n.totalCost.toFixed(2)]})]})}),s.jsx("td",{className:"border-r border-black p-2 align-top",children:n.description}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.itemNumber}),s.jsx("td",{className:"p-2 text-center align-top",children:n.estimatedUsefulLife})]},a)),Array.from({length:r}).map((n,a)=>s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("td",{className:"border-r border-black p-2 h-8",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-0",children:s.jsxs("div",{className:"grid grid-cols-2 h-8",children:[s.jsx("div",{className:"border-r border-black",children:""}),s.jsx("div",{children:""})]})}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"p-2",children:""})]},`empty-${a}`))]})]}),s.jsxs("div",{className:"grid grid-cols-2 border-t border-black",children:[s.jsxs("div",{className:"border-r border-black p-4",children:[s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Received from:"}),s.jsxs("div",{className:"mt-12 pt-8",children:[s.jsx("div",{className:"border-b border-black mb-1 text-center px-1 min-h-[20px]",children:e.issuedBy||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Signature Over Printed Name"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.office||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Position/Office"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.dateIssued||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Date"})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Received by:"}),s.jsxs("div",{className:"mt-12 pt-8",children:[s.jsx("div",{className:"border-b border-black mb-1 text-center px-1 min-h-[20px]",children:e.receivedBy||e.custodianName||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Signature Over Printed Name"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.designation||e.office||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Position/Office"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.dateIssued||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Date"})]})]})]})]})]})},gs={async getAll(e={}){let t=B.from("custodians").select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).order("name",{ascending:!0});e.search&&(t=t.or(`name.ilike.%${e.search}%,custodian_no.ilike.%${e.search}%`)),e.department_id&&(t=t.eq("department_id",e.department_id)),e.is_active!==void 0&&(t=t.eq("is_active",e.is_active)),e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));const{data:r,error:n}=await t;if(n)throw n;return(r==null?void 0:r.map(a=>{var i;return{...a,department_name:(i=a.departments)==null?void 0:i.name}}))||[]},async getById(e){var n;const{data:t,error:r}=await B.from("custodians").select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).eq("id",e).single();if(r)throw r;return t?{...t,department_name:(n=t.departments)==null?void 0:n.name}:null},async getSummary(e){const t=await this.getById(e);if(!t)return null;const{data:r,error:n}=await B.from("custodian_slips").select("id, slip_number, custodian_name, date_issued").eq("custodian_name",t.name);if(n)throw n;const a=(r==null?void 0:r.map(g=>g.id))||[];let i=[];if(a.length>0){const{data:g,error:w}=await B.from("custodian_slip_items").select(`
          *,
          inventory_items (
            property_number,
            description,
            category,
            sub_category,
            unit_cost,
            total_cost,
            condition,
            status,
            assignment_status,
            assigned_date
          )
        `).in("slip_id",a);if(w)throw w;i=g||[]}const{data:o,error:l}=await B.from("inventory_items").select("*").eq("custodian",t.name).eq("assignment_status","Assigned").eq("status","Active");if(l)throw l;const c=(i==null?void 0:i.length)||0,d=(i==null?void 0:i.reduce((g,w)=>{var v;return g+(((v=w.inventory_items)==null?void 0:v.total_cost)||0)},0))||0,u=(o==null?void 0:o.length)||0,f=(o==null?void 0:o.reduce((g,w)=>g+(w.total_cost||0),0))||0,m=c-u,p=d-f,x=r!=null&&r.length?Math.max(...r.map(g=>new Date(g.date_issued||0).getTime())):void 0;return{custodian:t,total_items_assigned:c,total_value_assigned:d,currently_assigned_items:u,currently_assigned_value:f,historical_items:m,historical_value:p,last_activity_date:x?new Date(x).toISOString():void 0}},async getItemHistory(e,t={}){const r=await this.getById(e);if(!r)return[];const{data:n,error:a}=await B.from("custodian_slips").select("id, slip_number, custodian_name, date_issued").eq("custodian_name",r.name);if(a)throw a;if(!n||n.length===0)return[];const i=n.map(u=>u.id);let o=B.from("custodian_slip_items").select(`
        *,
        custodian_slips!inner (id, slip_number, custodian_name, date_issued),
        inventory_items (
          property_number,
          description,
          brand,
          model,
          category,
          sub_category,
          unit_cost,
          total_cost,
          condition,
          status,
          assignment_status,
          assigned_date
        )
      `).in("slip_id",i).order("created_at",{ascending:!1});t.includeReturned,t.limit&&(o=o.limit(t.limit)),t.offset&&(o=o.range(t.offset,t.offset+(t.limit||10)-1));const{data:l,error:c}=await o;if(c)throw c;let d=l||[];return t.includeReturned||(d=d.filter(u=>{var f;return((f=u.inventory_items)==null?void 0:f.assignment_status)==="Assigned"})),d.map(u=>{const f=n.find(x=>x.id===u.slip_id),m=u.inventory_items,p=(m==null?void 0:m.description)||(m!=null&&m.model?`${(m==null?void 0:m.brand)||""} ${m==null?void 0:m.model}`.trim():m==null?void 0:m.brand)||"No description available";return{id:u.id,property_number:(m==null?void 0:m.property_number)||"",description:p,category:(m==null?void 0:m.category)||"Semi-Expendable",sub_category:m==null?void 0:m.sub_category,unit_cost:Number(m==null?void 0:m.unit_cost)||0,total_cost:Number(m==null?void 0:m.total_cost)||0,condition:(m==null?void 0:m.condition)||"",status:(m==null?void 0:m.status)||"",assignment_status:(m==null?void 0:m.assignment_status)||"",assigned_date:m==null?void 0:m.assigned_date,custodian_slip_id:u.slip_id,custodian_slip_number:(f==null?void 0:f.slip_number)||"",date_issued:(f==null?void 0:f.date_issued)||"",date_returned:(m==null?void 0:m.assignment_status)==="Available"?m==null?void 0:m.assigned_date:void 0,is_currently_assigned:(m==null?void 0:m.assignment_status)==="Assigned"}})},async getCurrentItems(e){const t=await this.getById(e);if(!t)return[];const{data:r,error:n}=await B.from("inventory_items").select("*").eq("custodian",t.name).eq("assignment_status","Assigned").eq("status","Active").order("assigned_date",{ascending:!1});if(n)throw n;return(r==null?void 0:r.map(a=>{const i=a.description||(a.model?`${a.brand||""} ${a.model}`.trim():a.brand)||"No description available";return{id:a.id,property_number:a.property_number,description:i,category:a.category||"Semi-Expendable",sub_category:a.sub_category,unit_cost:Number(a.unit_cost)||0,total_cost:Number(a.total_cost)||0,condition:a.condition,status:a.status,assignment_status:a.assignment_status,assigned_date:a.assigned_date,custodian_slip_id:"",custodian_slip_number:"",date_issued:a.assigned_date||"",date_returned:void 0,is_currently_assigned:!0}}))||[]},async create(e){var n;const{data:t,error:r}=await B.from("custodians").insert([e]).select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).single();if(r)throw r;return{...t,department_name:(n=t.departments)==null?void 0:n.name}},async update(e,t){var a;const{data:r,error:n}=await B.from("custodians").update(t).eq("id",e).select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).single();if(n)throw n;return{...r,department_name:(a=r.departments)==null?void 0:a.name}},async delete(e){const{error:t}=await B.from("custodians").delete().eq("id",e);if(t)throw t},async getAllSummaries(e={}){const t=await this.getAll(e),r=[];for(const n of t){const a=await this.getSummary(n.id);a&&r.push(a)}return r}},bg=({value:e,onChange:t,placeholder:r="Search for custodian...",label:n="Custodian Name",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),m=h.useRef(null),p=h.useRef(null),{data:x=[],isLoading:g}=ir({queryKey:["custodians-search",c],queryFn:()=>gs.getAll({search:c,is_active:!0,limit:20}),enabled:o,staleTime:5*60*1e3}),w=x.filter(_=>_.name.toLowerCase().includes(c.toLowerCase())||_.custodian_no.toLowerCase().includes(c.toLowerCase())||_.department_name&&_.department_name.toLowerCase().includes(c.toLowerCase())),v=_=>{f(_),d(_.name),l(!1),t(_.name,_)},y=_=>{const N=_.target.value;d(N),N?u&&N!==u.name&&(f(null),t(N)):(f(null),t("")),l(!0)},b=()=>{l(!0),!c&&u&&d(u.name)},j=()=>{setTimeout(()=>{l(!1)},200)};return h.useEffect(()=>{const _=N=>{m.current&&!m.current.contains(N.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),h.useEffect(()=>{e&&!u&&d(e)},[e,u]),s.jsxs("div",{className:Ee("relative",i),ref:m,children:[n&&s.jsxs(ue,{htmlFor:"custodian-selector",className:"text-sm font-medium",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{ref:p,id:"custodian-selector",value:c,onChange:y,onFocus:b,onBlur:j,placeholder:r,className:"pl-10 pr-10",autoComplete:"off"}),s.jsx(le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(!o),children:s.jsx(Rf,{className:Ee("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-60 overflow-auto",children:g?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:"Loading custodians..."}):w.length===0?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:c?"No custodians found":"Start typing to search custodians"}):s.jsx("div",{className:"py-1",children:w.map(_=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-secondary focus:bg-secondary focus:outline-none",onClick:()=>v(_),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pc,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.custodian_no,_.department_name&&s.jsxs(s.Fragment,{children:["  ",s.jsx(Ny,{className:"inline h-3 w-3 mr-1"}),_.department_name]})]})]})]}),(u==null?void 0:u.id)===_.id&&s.jsx(Ys,{className:"h-4 w-4 text-green-600"})]})},_.id))})})]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ys,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",u.name]}),s.jsxs("div",{className:"text-green-600",children:[u.custodian_no,u.department_name&&`  ${u.department_name}`]})]})]})})]})},xk=({value:e,onChange:t,placeholder:r="Search for department...",label:n="Office/Department",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),m=h.useRef(null),p=h.useRef(null),{data:x=[],isLoading:g}=ir({queryKey:["departments-search",c],queryFn:()=>Jr.getDepartments(),enabled:o,staleTime:5*60*1e3}),w=x.filter(_=>_.name.toLowerCase().includes(c.toLowerCase())||_.code&&_.code.toLowerCase().includes(c.toLowerCase())),v=_=>{f(_),d(_.name),l(!1),t(_.name,_)},y=_=>{const N=_.target.value;d(N),N?u&&N!==u.name&&(f(null),t(N)):(f(null),t("")),l(!0)},b=()=>{l(!0),!c&&u&&d(u.name)},j=()=>{setTimeout(()=>{l(!1)},200)};return h.useEffect(()=>{const _=N=>{m.current&&!m.current.contains(N.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),h.useEffect(()=>{e&&!u&&d(e)},[e,u]),s.jsxs("div",{className:Ee("relative",i),ref:m,children:[n&&s.jsxs(ue,{htmlFor:"department-selector",className:"text-sm font-medium",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{ref:p,id:"department-selector",value:c,onChange:y,onFocus:b,onBlur:j,placeholder:r,className:"pl-10 pr-10",autoComplete:"off"}),s.jsx(le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(!o),children:s.jsx(Rf,{className:Ee("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:g?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:"Loading departments..."}):w.length===0?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:c?"No departments found":"Start typing to search departments"}):s.jsx("div",{className:"py-1",children:w.map(_=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-secondary focus:bg-secondary focus:outline-none",onClick:()=>v(_),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ny,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.name}),_.code&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(sb,{className:"inline h-3 w-3 mr-1"}),_.code]})]})]}),(u==null?void 0:u.id)===_.id&&s.jsx(Ys,{className:"h-4 w-4 text-green-600"})]})},_.id))})})]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ys,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",u.name]}),u.code&&s.jsxs("div",{className:"text-green-600",children:[s.jsx(sb,{className:"inline h-3 w-3 mr-1"}),u.code]})]})]})})]})},iB=({value:e,onChange:t,placeholder:r="Search for custodian or enter manually...",label:n="Received By",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(e),{data:m=[],isLoading:p,error:x}=ir({queryKey:["custodians-for-received-by"],queryFn:async()=>{try{return await gs.getAll()||[]}catch(b){return console.error("Error fetching custodians:",b),[]}},staleTime:5*60*1e3}),g=h.useMemo(()=>!e||e.length<2?m:m.filter(b=>{var j,_;return b.name.toLowerCase().includes(e.toLowerCase())||((j=b.position)==null?void 0:j.toLowerCase().includes(e.toLowerCase()))||((_=b.department_name)==null?void 0:_.toLowerCase().includes(e.toLowerCase()))}),[m,e]),w=()=>{d(!c),c?f(""):(f(""),t(""))},v=b=>{t(b),l(!1),d(!1)},y=b=>{f(b),t(b)};return h.useEffect(()=>{c&&f(e)},[e,c]),s.jsxs("div",{className:Ee("space-y-2",i),children:[s.jsxs(ue,{htmlFor:"received-by-selector",children:[n,a&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:c?s.jsx(Ae,{id:"received-by-manual",value:u,onChange:b=>y(b.target.value),placeholder:"Enter receiver name manually...",className:"w-full"}):s.jsxs(bE,{open:o,onOpenChange:l,children:[s.jsx(wE,{asChild:!0,children:s.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[e?s.jsx("span",{className:"truncate",children:e}):s.jsx("span",{className:"text-muted-foreground",children:r}),s.jsx(Q_,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(yv,{className:"w-full p-0",align:"start",children:s.jsxs(xv,{children:[s.jsx(bv,{placeholder:"Search custodians..."}),s.jsxs(wv,{children:[s.jsx(jv,{children:p?"Loading custodians...":"No custodians found."}),s.jsx(_v,{children:g.map(b=>s.jsxs(Nv,{value:b.name,onSelect:()=>v(b.name),children:[s.jsx(Ys,{className:Ee("mr-2 h-4 w-4",e===b.name?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.position,"  ",b.department_name]})]})]},b.id))})]})]})})]})}),s.jsx(le,{type:"button",variant:"outline",size:"sm",onClick:w,className:"px-3",title:c?"Switch to dropdown selection":"Switch to manual input",children:s.jsx(Pc,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c?"Manual input mode - type the receiver's name directly":"Dropdown mode - search and select from existing custodians"})]})},oB=()=>{rs(),ts();const[e,t]=h.useState(""),[r,n]=h.useState(!1),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState([]),[u,f]=h.useState({custodianName:"",designation:"",office:"",dateIssued:new Date().toISOString().split("T")[0],issuedBy:"",receivedBy:""}),[m,p]=h.useState(null),[x,g]=h.useState(null),[w,v]=h.useState(null),y=h.useRef(!1),b=(T,H)=>{f(ee=>({...ee,custodianName:T})),p(H||null),H&&f(ee=>({...ee,custodianName:T,designation:H.position||ee.designation,office:H.department_name||ee.office}))},j=(T,H)=>{f(ee=>({...ee,office:T})),g(H||null)},{toast:_}=es(),N=ea(),E=h.useRef(null);h.useEffect(()=>{const T=B.channel("realtime:custodian-slips-annex").on("postgres_changes",{event:"*",schema:"public",table:"custodian_slips"},()=>{console.log("[Realtime] Custodian slip changed, refreshing..."),N.invalidateQueries({queryKey:["annex-custodian-slips"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing..."),N.invalidateQueries({queryKey:["annex-custodian-slips"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing available items..."),N.invalidateQueries({queryKey:["available-inventory-for-slips"]})}).subscribe();return()=>{B.removeChannel(T)}},[N]);const{data:M=[],isLoading:U,error:$}=ir({queryKey:["annex-custodian-slips"],queryFn:async()=>{const{data:T,error:H}=await B.from("custodian_slips").select(`
          *,
          custodian_slip_items(
            *,
            inventory_items (
              estimated_useful_life,
              sub_category,
              category
            )
          )
        `).order("created_at",{ascending:!1});if(H)throw H;return T.map(ee=>({id:ee.id,slipNumber:ee.slip_number,custodianName:ee.custodian_name,designation:ee.designation,office:ee.office,dateIssued:ee.date_issued,issuedBy:ee.issued_by,receivedBy:ee.received_by,slipStatus:ee.slip_status,items:ee.custodian_slip_items.map(oe=>({id:oe.id,slipId:oe.slip_id,inventoryItemId:oe.inventory_item_id,propertyNumber:oe.property_number,description:oe.description,quantity:oe.quantity,unit:oe.unit,unitCost:oe.unit_cost||0,totalCost:oe.total_cost||0,amount:oe.amount||oe.total_cost||0,itemNumber:oe.item_number||"",estimatedUsefulLife:oe.estimated_useful_life||oe.inventory_items&&oe.inventory_items.estimated_useful_life||"",dateIssued:oe.date_issued,propertyCardEntryId:oe.property_card_entry_id,createdAt:oe.created_at,updatedAt:oe.updated_at})),createdAt:ee.created_at,updatedAt:ee.updated_at}))},staleTime:5*60*1e3,retry:(T,H)=>navigator.onLine?T<2:!1}),{data:L=[]}=ir({queryKey:["available-inventory-for-slips"],queryFn:async()=>{const{data:T,error:H}=await B.from("available_inventory_items_with_property_cards").select("*").order("created_at",{ascending:!1});if(H){console.error("Error fetching available inventory:",H);const ee=await Xr.getAll();if(ee.success){const oe=[];for(const be of ee.data){const{data:He}=await B.from("property_cards").select("id").eq("inventory_item_id",be.id).single();if(He){const ut=be.condition==="Serviceable",Pe=be.status==="Active",Be=!be.custodian||be.custodian==="",tt=!be.assignmentStatus||be.assignmentStatus==="Available",C=be.assignmentStatus!=="Assigned";ut&&Pe&&Be&&tt&&C&&oe.push(be)}}return oe}return[]}return T.map(ee=>({id:ee.id,propertyNumber:ee.property_number,description:ee.description,brand:ee.brand,model:ee.model,serialNumber:ee.serial_number,unitOfMeasure:ee.unit_of_measure,quantity:ee.quantity,unitCost:ee.unit_cost,totalCost:ee.total_cost,dateAcquired:ee.date_acquired,supplier:ee.supplier,condition:ee.condition,location:ee.location,fundSource:ee.fund_source_id,remarks:ee.remarks,lastInventoryDate:ee.last_inventory_date,semiExpandableCategory:ee.semi_expandable_category,status:ee.status,assignmentStatus:ee.assignment_status,assignedDate:ee.assigned_date,createdAt:ee.created_at,updatedAt:ee.updated_at}))},enabled:r,staleTime:2*60*1e3}),F=Bs({mutationKey:["create-custodian-slip"],mutationFn:async T=>(console.log("[mutationFn] Executing - calling annexService.createCustodianSlip"),await Lo.createCustodianSlip(T)),retry:!1,onSuccess:T=>{y.current=!1;const H=Array.isArray(T)?T.length:1;H>1?_({title:"Success",description:`${H} custodian slips created (separated by value)! ${c.length} item(s) assigned to ${u.custodianName}`}):_({title:"Success",description:`Custodian slip created successfully! ${c.length} item(s) assigned to ${u.custodianName}`}),N.invalidateQueries({queryKey:["annex-custodian-slips"]}),N.invalidateQueries({queryKey:["available-inventory-for-slips"]}),N.invalidateQueries({queryKey:["inventory-items"]}),N.invalidateQueries({queryKey:["custodian-summaries"]}),N.invalidateQueries({queryKey:["custodian-summary"]}),N.invalidateQueries({queryKey:["custodian-item-history"]}),N.invalidateQueries({queryKey:["custodian-current-items"]}),N.refetchQueries({queryKey:["annex-custodian-slips"]}),n(!1),f({custodianName:"",designation:"",office:"",dateIssued:new Date().toISOString().split("T")[0],issuedBy:"",receivedBy:""}),p(null),g(null),d([])},onError:T=>{y.current=!1,console.log("Custodian slip creation error:",T.message),_({title:"Error",description:T.message,variant:"destructive"}),N.invalidateQueries({queryKey:["annex-custodian-slips"]}),N.invalidateQueries({queryKey:["available-inventory-for-slips"]}),N.invalidateQueries({queryKey:["inventory-items"]})}}),O=Bs({mutationFn:async T=>{console.log("Attempting to delete custodian slip:",T);const{data:H,error:ee}=await B.from("custodian_slips").select("slip_status, slip_number").eq("id",T).single();if(ee)throw new Error(`Failed to get slip data: ${ee.message}`);if(!H)throw new Error("Custodian slip not found");if(H.slip_status!=="Draft"&&!window.confirm(`ICS ${H.slip_number||""} is already ${H.slip_status}. Deleting it will release all items and remove related entries. Continue?`))return{cancelled:!0};const{data:oe,error:be}=await B.from("custodian_slip_items").select("inventory_item_id").eq("slip_id",T);if(be)throw new Error(`Failed to get slip items: ${be.message}`);if(console.log("Found slip items:",oe),oe&&oe.length>0){const Be=oe.map(C=>C.inventory_item_id),{error:tt}=await B.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,ics_number:null,ics_date:null,updated_at:new Date().toISOString()}).in("id",Be);tt?console.warn("Could not update inventory items:",tt.message):console.log("Successfully released inventory items")}const{error:He}=await B.from("property_card_entries").delete().eq("related_slip_id",T);He?console.warn("Could not delete property card entries:",He.message):console.log("Successfully deleted property card entries");const{error:ut}=await B.from("custodian_slip_items").delete().eq("slip_id",T);if(ut)throw new Error(`Failed to delete slip items: ${ut.message}`);const{error:Pe}=await B.from("custodian_slips").delete().eq("id",T);if(Pe)throw console.error("Delete slip error:",Pe),new Error(`Failed to delete custodian slip: ${Pe.message} (Code: ${Pe.code})`);return console.log("Successfully deleted custodian slip"),{cancelled:!1}},onSuccess:T=>{if(T!=null&&T.cancelled){_({title:"Cancelled",description:"Deletion aborted",variant:"default"});return}_({title:"Success",description:"Custodian slip deleted successfully"}),N.invalidateQueries({queryKey:["annex-custodian-slips"]}),N.invalidateQueries({queryKey:["available-inventory-for-slips"]}),N.invalidateQueries({queryKey:["inventory-items"]})},onError:T=>{_({title:"Error",description:T.message,variant:"destructive"})}}),R=Bs({mutationFn:async T=>{const{data:H,error:ee}=await B.from("custodian_slips").select(`
          *,
          custodian_slip_items(*)
        `).eq("id",T).single();if(ee||!H)throw new Error(`Failed to get slip details: ${ee==null?void 0:ee.message}`);const{error:oe}=await B.from("custodian_slips").update({slip_status:"Issued",updated_at:new Date().toISOString()}).eq("id",T);if(oe)throw new Error(`Failed to confirm slip: ${oe.message}`);if(H.custodian_slip_items&&H.custodian_slip_items.length>0){const be=H.custodian_slip_items.map(ut=>ut.inventory_item_id),{error:He}=await B.from("inventory_items").update({custodian:H.custodian_name,custodian_position:H.designation,assignment_status:"Assigned",assigned_date:H.date_issued,updated_at:new Date().toISOString()}).in("id",be);He?console.error("Failed to update inventory items:",He):console.log(`Successfully assigned ${be.length} inventory items to ${H.custodian_name}`)}},onSuccess:()=>{_({title:"Success",description:"Custodian slip has been officially confirmed and cannot be deleted"}),N.invalidateQueries({queryKey:["annex-custodian-slips"]}),N.invalidateQueries({queryKey:["inventory-items"]}),N.invalidateQueries({queryKey:["available-inventory-for-slips"]}),N.invalidateQueries({queryKey:["custodian-summaries"]}),v(null)},onError:T=>{_({title:"Error",description:T.message,variant:"destructive"})}}),S=async()=>{if(console.log("[handleCreateSlip] Called. Ref:",y.current,"isPending:",F.isPending),y.current||F.isPending){console.log("[handleCreateSlip] BLOCKED - Creation already in progress, ignoring duplicate call");return}if(!u.custodianName||!u.designation||!u.office||!u.issuedBy||!u.receivedBy){_({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(c.length===0){_({title:"Validation Error",description:"Please select at least one inventory item",variant:"destructive"});return}y.current=!0,console.log("[handleCreateSlip] Creating custodian slip with items:",c),console.log("[handleCreateSlip] About to call mutate()"),F.mutate({custodianName:u.custodianName,designation:u.designation,office:u.office,dateIssued:u.dateIssued,issuedBy:u.issuedBy,receivedBy:u.receivedBy,inventoryItemIds:c}),console.log("[handleCreateSlip] mutate() called, returning from handler")},A=async T=>{try{const H=await Lo.getCustodianSlipWithItems(T.id);H&&i(H)}catch{_({title:"Error",description:"Failed to load custodian slip details",variant:"destructive"})}},ne=async T=>{try{const H=await Lo.getCustodianSlipWithItems(T.id);H&&(i(H),l(!0))}catch{_({title:"Error",description:"Failed to load custodian slip for printing",variant:"destructive"})}},Q=T=>{confirm("Are you sure you want to delete this custodian slip? This will release all assigned inventory items.")&&O.mutate(T)},W=T=>{confirm("Are you sure you want to officially confirm this custodian slip? Once confirmed, it cannot be deleted and will be marked as an official document.")&&R.mutate(T)},ae=T=>{const H=T.items.reduce((ee,oe)=>ee+(oe.amount||0),0);return{slipNumber:T.slipNumber,entityName:"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:"General Fund",custodianName:T.custodianName,designation:T.designation,office:T.office,dateIssued:T.dateIssued,issuedBy:T.issuedBy,receivedBy:T.receivedBy,items:T.items.map(ee=>({itemNumber:ee.propertyNumber,propertyNumber:ee.propertyNumber,description:ee.description,quantity:ee.quantity,unit:ee.unit,unitCost:ee.unitCost,totalCost:ee.totalCost,amount:ee.amount,estimatedUsefulLife:ee.estimatedUsefulLife,dateIssued:ee.dateIssued})),totalAmount:H}},ge=T=>{d(H=>H.includes(T)?H.filter(ee=>ee!==T):[...H,T])},G=T=>{const H=(T.slipNumber||"").toUpperCase();return H.includes("SPHV")?"high":H.includes("SPLV")?"low":T.items.some(oe=>Number(oe.amount??oe.totalCost??0)>5e3)?"high":"low"},ie=M.filter(T=>T.slipNumber.toLowerCase().includes(e.toLowerCase())||T.custodianName.toLowerCase().includes(e.toLowerCase())||T.office.toLowerCase().includes(e.toLowerCase())),{highValueSlips:de,lowValueSlips:he}=h.useMemo(()=>{const T={highValueSlips:[],lowValueSlips:[]};return ie.forEach(H=>{G(H)==="high"?T.highValueSlips.push(H):T.lowValueSlips.push(H)}),T},[ie]),me=h.useMemo(()=>Df(M),[M]),se=T=>me===T.id&&Of(T.createdAt),J=T=>U?s.jsxs("div",{className:"flex items-center justify-center py-10 text-muted-foreground",children:[s.jsx(Kt,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading custodian slips"]}):T.length===0?s.jsx("div",{className:"rounded-md border border-dashed py-10 text-center text-muted-foreground",children:"No custodian slips found for this value category."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(H=>s.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(We,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{className:"text-lg font-mono",children:H.slipNumber}),se(H)&&s.jsx(Ye,{variant:"default",className:"bg-emerald-600 text-white",children:"Recently Added"})]}),s.jsx(Ye,{variant:H.slipStatus==="Issued"?"default":"secondary",className:"ml-2",children:H.slipStatus||"Draft"})]})}),s.jsx(Oe,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Property Numbers:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:H.items.map((ee,oe)=>s.jsx(Ye,{variant:"outline",className:"font-mono text-xs",children:ee.propertyNumber},ee.id||oe))}),H.items.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"No items"})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(le,{variant:"outline",size:"sm",onClick:()=>A(H),className:"flex items-center gap-1 flex-1",children:[s.jsx(Xc,{className:"h-3 w-3"}),"View"]}),s.jsxs(le,{variant:"outline",size:"sm",onClick:()=>ne(H),className:"flex items-center gap-1 flex-1",children:[s.jsx(Ur,{className:"h-3 w-3"}),"Print"]}),(H.slipStatus==="Draft"||!H.slipStatus)&&s.jsxs(le,{variant:"default",size:"sm",onClick:()=>W(H.id),className:"flex items-center gap-1 bg-green-600 hover:bg-green-700 flex-1",disabled:R.isPending,title:"Confirm this slip as official (cannot be deleted after confirmation)",children:[R.isPending?s.jsx(Kt,{className:"h-3 w-3 animate-spin"}):s.jsx(Ma,{className:"h-3 w-3"}),"Confirm"]}),(!H.slipStatus||["Draft","Issued"].includes(H.slipStatus))&&s.jsxs(le,{variant:"outline",size:"sm",onClick:()=>Q(H.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",disabled:O.isPending,title:H.slipStatus==="Issued"?"Delete this issued custodian slip (temporary override)":"Delete this draft custodian slip",children:[s.jsx(kc,{className:"h-3 w-3"}),"Delete"]})]})]})})]},H.id))}),fe=de.length?"high-value":"low-value";return U&&M.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading custodian slips..."})]}):$&&navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(Fr,{className:"max-w-md mx-auto",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsxs($r,{children:["Error: ",$.message]})]}),s.jsx(le,{onClick:()=>N.invalidateQueries({queryKey:["annex-custodian-slips"]}),className:"mt-4",children:"Retry"})]}):$&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(Fr,{className:"max-w-md mx-auto",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsx($r,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded custodian slips will appear when available."})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Inventory Custodian Slips (ICS)"}),s.jsxs(le,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(za,{className:"h-4 w-4"}),"Create New Slip"]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{placeholder:"Search custodian slips...",value:e,onChange:T=>t(T.target.value),className:"pl-10"})]})}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Custodian Slips by Value Category"})}),s.jsx(Oe,{children:s.jsxs(cd,{defaultValue:fe,className:"w-full",children:[s.jsxs(jl,{className:"grid w-full grid-cols-2",children:[s.jsxs(tn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value (SPHV)"}),s.jsx(Ye,{variant:"secondary",className:"ml-auto",children:de.length})]}),s.jsxs(tn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value (SPLV)"}),s.jsx(Ye,{variant:"secondary",className:"ml-auto",children:he.length})]})]}),s.jsxs(rn,{value:"high-value",className:"mt-4 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Items above 5,000 are issued through SPHV slips."}),J(de)]}),s.jsxs(rn,{value:"low-value",className:"mt-4 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Items 5,000 or less are issued through SPLV slips."}),J(he)]})]},fe)})]}),ie.length===0&&!U&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No custodian slips found."}),s.jsx(le,{onClick:()=>n(!0),className:"mt-4",children:"Create your first custodian slip"})]}),s.jsx(gn,{open:r,onOpenChange:T=>{n(T),T||(y.current=!1)},children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Create Inventory Custodian Slip"}),s.jsx(_s,{children:"Create a new ICS by selecting inventory items and assigning them to a custodian"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(bg,{value:u.custodianName,onChange:b,placeholder:"Search for custodian...",label:"Custodian Name",required:!0})}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"designation",children:"Designation *"}),s.jsx(Ae,{id:"designation",value:u.designation,onChange:T=>f(H=>({...H,designation:T.target.value})),placeholder:"Enter designation"})]}),s.jsx("div",{children:s.jsx(xk,{value:u.office,onChange:j,placeholder:"Search for department...",label:"Office/Department",required:!0})}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"dateIssued",children:"Date Issued *"}),s.jsx(Ae,{id:"dateIssued",type:"date",value:u.dateIssued,onChange:T=>f(H=>({...H,dateIssued:T.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"issuedBy",children:"Issued By *"}),s.jsx(Ae,{id:"issuedBy",value:u.issuedBy,onChange:T=>f(H=>({...H,issuedBy:T.target.value})),placeholder:"Enter issuer name"})]}),s.jsx("div",{children:s.jsx(iB,{value:u.receivedBy,onChange:T=>f(H=>({...H,receivedBy:T})),placeholder:"Search for custodian or enter manually...",label:"Received By",required:!0})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Select Inventory Items *"}),s.jsx("div",{className:"border rounded-md max-h-64 overflow-y-auto",children:s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{className:"w-12",children:"Select"}),s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Condition"}),s.jsx(Se,{children:"Quantity"}),s.jsx(Se,{children:"Unit"}),s.jsx(Se,{children:"Unit Cost"}),s.jsx(Se,{children:"Total Cost"})]})}),s.jsx(un,{children:L.length===0?s.jsx(mt,{children:s.jsx(xe,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No available inventory items found. All items may be assigned to custodians or marked as unserviceable."})}):L.map(T=>{var H,ee;return s.jsxs(mt,{children:[s.jsx(xe,{children:s.jsx(fd,{checked:c.includes(T.id),onCheckedChange:()=>ge(T.id)})}),s.jsx(xe,{children:T.propertyNumber}),s.jsx(xe,{children:T.description}),s.jsx(xe,{children:s.jsx(Ye,{variant:T.condition==="Serviceable"?"default":"destructive",children:T.condition})}),s.jsx(xe,{children:T.quantity}),s.jsx(xe,{children:T.unitOfMeasure}),s.jsxs(xe,{children:["",((H=T.unitCost)==null?void 0:H.toFixed(2))||"0.00"]}),s.jsxs(xe,{children:["",((ee=T.totalCost)==null?void 0:ee.toFixed(2))||"0.00"]})]},T.id)})})]})}),L.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx("p",{children:"No items available for assignment."}),s.jsx("p",{className:"text-xs mt-1",children:"Items must be in 'Serviceable' condition and not already assigned to be available."})]}):s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",c.length," items  Available: ",L.length," items"]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(le,{onClick:S,disabled:F.isPending||y.current,children:[(F.isPending||y.current)&&s.jsx(Kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Custodian Slip"]})]})]})]})}),s.jsx(gn,{open:o,onOpenChange:l,children:s.jsxs(sn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Print Custodian Slip"}),s.jsx(_s,{children:"Inventory Custodian Slip (ICS) - Ready for printing"})]}),s.jsx("div",{ref:E,children:a&&s.jsx(aB,{data:ae(a)})})]})}),s.jsx(gn,{open:!!a&&!o,onOpenChange:()=>i(null),children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Custodian Slip Details"}),s.jsxs(_s,{children:[a==null?void 0:a.slipNumber," - ",a==null?void 0:a.custodianName]})]}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Slip Number"}),s.jsx("p",{className:"text-sm",children:a.slipNumber})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Custodian Name"}),s.jsx("p",{className:"text-sm",children:a.custodianName})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Designation"}),s.jsx("p",{className:"text-sm",children:a.designation})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Office"}),s.jsx("p",{className:"text-sm",children:a.office})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Date Issued"}),s.jsx("p",{className:"text-sm",children:a.dateIssued})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Issued By"}),s.jsx("p",{className:"text-sm",children:a.issuedBy})]})]}),a.items&&a.items.length>0&&s.jsxs("div",{children:[s.jsx(ue,{children:"Items"}),s.jsx("div",{className:"border rounded-md",children:s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{children:"Item No."}),s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Quantity"}),s.jsx(Se,{children:"Unit"}),s.jsx(Se,{children:"Unit Cost"}),s.jsx(Se,{children:"Amount"}),s.jsx(Se,{children:"Est. Life"})]})}),s.jsx(un,{children:a.items.map(T=>{var H,ee;return s.jsxs(mt,{children:[s.jsx(xe,{children:T.itemNumber}),s.jsx(xe,{children:T.propertyNumber}),s.jsx(xe,{children:T.description}),s.jsx(xe,{children:T.quantity}),s.jsx(xe,{children:T.unit}),s.jsxs(xe,{children:["",((H=T.unitCost)==null?void 0:H.toFixed(2))||"0.00"]}),s.jsxs(xe,{children:["",((ee=T.amount)==null?void 0:ee.toFixed(2))||"0.00"]}),s.jsx(xe,{children:T.estimatedUsefulLife||"N/A"})]},T.id)})})]})}),s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Total Items:"})," ",a.items.length," |",s.jsx("strong",{children:" Total Amount:"})," ",a.items.reduce((T,H)=>T+(H.amount||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",onClick:()=>i(null),children:"Close"}),s.jsxs(le,{onClick:()=>l(!0),children:[s.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})]})})]})};function lB(){const e=rs(),[t,r]=h.useState(""),[n,a]=h.useState(null),[i,o]=h.useState(!1);es();const l=ea();h.useEffect(()=>{const v=B.channel("realtime:custodians-page").on("postgres_changes",{event:"*",schema:"public",table:"custodian_slips"},()=>{console.log("[Realtime] Custodian slips changed, refreshing..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-summary"]}),l.invalidateQueries({queryKey:["custodian-item-history"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-summary"]}),l.invalidateQueries({queryKey:["custodian-item-history"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing custodian data..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodians"},()=>{console.log("[Realtime] Custodians changed, refreshing..."),l.invalidateQueries({queryKey:["custodians"]}),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodians-search"]})}).subscribe();return()=>{B.removeChannel(v)}},[l]);const{data:c=[],isLoading:d,error:u}=ir({queryKey:["custodians"],queryFn:()=>gs.getAll({search:t}),enabled:!0}),{data:f=[]}=ir({queryKey:["custodian-summaries"],queryFn:()=>gs.getAllSummaries(),enabled:!0,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:m}=ir({queryKey:["custodian-summary",n==null?void 0:n.id],queryFn:()=>gs.getSummary(n.id),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:p=[]}=ir({queryKey:["custodian-item-history",n==null?void 0:n.id],queryFn:()=>gs.getItemHistory(n.id,{includeReturned:!0}),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:x=[]}=ir({queryKey:["custodian-current-items",n==null?void 0:n.id],queryFn:()=>gs.getCurrentItems(n.id),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),g=v=>{a(v),o(!0)},w=c.filter(v=>v.name.toLowerCase().includes(t.toLowerCase())||v.custodian_no.toLowerCase().includes(t.toLowerCase())||v.department_name&&v.department_name.toLowerCase().includes(t.toLowerCase()));return u?s.jsx("div",{className:"p-6",children:s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsxs("div",{className:"text-center text-red-600",children:["Error loading custodians: ",u.message]})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Custodians"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and view custodian information and item assignments"})]}),s.jsxs(le,{onClick:()=>e("/settings/lookups#custodians"),children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Add Custodian"]})]}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{placeholder:"Search custodians by name, number, or department...",value:t,onChange:v=>r(v.target.value),className:"pl-10"})]})})}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"flex items-center gap-2",children:[s.jsx(Pc,{className:"h-5 w-5"}),"All Custodians (",w.length,")"]})}),s.jsx(Oe,{children:d?s.jsx("div",{className:"text-center py-8",children:"Loading custodians..."}):s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{children:"Custodian No."}),s.jsx(Se,{children:"Name"}),s.jsx(Se,{children:"Position"}),s.jsx(Se,{children:"Department"}),s.jsx(Se,{children:"Status"}),s.jsx(Se,{children:"Current Items"}),s.jsx(Se,{children:"Total Value"}),s.jsx(Se,{children:"Actions"})]})}),s.jsx(un,{children:w.map(v=>{const y=f.find(b=>b.custodian.id===v.id);return s.jsxs(mt,{children:[s.jsx(xe,{className:"font-mono",children:v.custodian_no}),s.jsx(xe,{className:"font-medium",children:v.name}),s.jsx(xe,{children:v.position||"-"}),s.jsx(xe,{children:v.department_name||"-"}),s.jsx(xe,{children:s.jsx(Ye,{variant:v.is_active?"default":"secondary",children:v.is_active?"Active":"Inactive"})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(An,{className:"h-4 w-4"}),(y==null?void 0:y.currently_assigned_items)||0]})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-4 w-4 rounded-sm bg-emerald-600 text-white text-[10px] font-bold",children:""}),"",((y==null?void 0:y.currently_assigned_value)||0).toLocaleString()]})}),s.jsx(xe,{children:s.jsxs(le,{variant:"outline",size:"sm",onClick:()=>g(v),children:[s.jsx(Xc,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},v.id)})})]})})]}),s.jsx(gn,{open:i,onOpenChange:o,children:s.jsxs(sn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto print:max-w-full print:max-h-none print:overflow-visible",children:[s.jsxs(xn,{className:"print:block pr-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 print:flex-col print:items-start print:gap-2",children:[s.jsxs(bn,{className:"flex items-center gap-2 print:text-2xl",children:[s.jsx(Pc,{className:"h-5 w-5 print:hidden"}),"Custodian Details"]}),s.jsxs(le,{variant:"outline",size:"sm",onClick:()=>window.print(),className:"print:hidden",children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Print"]})]}),s.jsx(_s,{className:"print:hidden",children:"View detailed information and item history for this custodian"})]}),n&&m&&s.jsxs("div",{className:"space-y-6 print:space-y-4",children:[s.jsxs(Re,{className:"print:shadow-none print:border print:border-gray-300",children:[s.jsx(We,{children:s.jsxs(st,{className:"flex items-center justify-between",children:[s.jsx("span",{children:n.name}),s.jsx(Ye,{variant:n.is_active?"default":"secondary",children:n.is_active?"Active":"Inactive"})]})}),s.jsx(Oe,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custodian Number"}),s.jsx("p",{className:"font-mono",children:n.custodian_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Position"}),s.jsx("p",{children:n.position||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{children:n.department_name||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),s.jsx("p",{children:m.last_activity_date?ps(new Date(m.last_activity_date),"MMM dd, yyyy"):"No activity"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Items"}),s.jsx("p",{className:"text-2xl font-bold",children:m.currently_assigned_items})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-sm bg-emerald-600 text-white text-[11px] font-bold",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",m.currently_assigned_value.toLocaleString()]})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:m.total_items_assigned})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-sm bg-purple-600 text-white text-[11px] font-bold",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",m.total_value_assigned.toLocaleString()]})]})]})})})]}),s.jsxs(cd,{defaultValue:"current",className:"w-full",children:[s.jsxs(jl,{className:"grid w-full grid-cols-2",children:[s.jsxs(tn,{value:"current",children:["Currently Assigned (",x.length,")"]}),s.jsxs(tn,{value:"history",children:["All History (",p.length,")"]})]}),s.jsx(rn,{value:"current",className:"space-y-4",children:s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Currently Assigned Items"})}),s.jsx(Oe,{children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No items currently assigned to this custodian."}):s.jsxs(cn,{className:"print:border print:border-gray-300",children:[s.jsx(dn,{className:"print:bg-gray-100",children:s.jsxs(mt,{className:"print:border-b print:border-gray-300",children:[s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Property Number"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Description"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Condition"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Value"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Assigned Date"})]})}),s.jsx(un,{children:x.map(v=>s.jsxs(mt,{className:"print:border-b print:border-gray-300",children:[s.jsx(xe,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:v.property_number}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:v.description}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ye,{variant:v.condition==="Serviceable"?"default":"destructive",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:v.condition})}),s.jsxs(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:["",v.total_cost.toLocaleString()]}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:v.assigned_date?ps(new Date(v.assigned_date),"MMM dd, yyyy"):"-"})]},v.id))})]})})]})}),s.jsx(rn,{value:"history",className:"space-y-4",children:s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"All Item History"})}),s.jsx(Oe,{children:p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No item history found for this custodian."}):s.jsxs(cn,{className:"print:border print:border-gray-300",children:[s.jsx(dn,{className:"print:bg-gray-100",children:s.jsxs(mt,{className:"print:border-b print:border-gray-300",children:[s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Property Number"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Description"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Condition"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Value"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Slip Number"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Date Issued"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Status"})]})}),s.jsx(un,{children:p.map(v=>s.jsxs(mt,{className:"print:border-b print:border-gray-300",children:[s.jsx(xe,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:v.property_number}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:v.description}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ye,{variant:v.condition==="Serviceable"?"default":"destructive",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:v.condition})}),s.jsxs(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:["",v.total_cost.toLocaleString()]}),s.jsx(xe,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:v.custodian_slip_number}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:v.date_issued?ps(new Date(v.date_issued),"MMM dd, yyyy"):"-"}),s.jsx(xe,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ye,{variant:v.is_currently_assigned?"default":"secondary",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:v.is_currently_assigned?"Currently Assigned":"Returned"})})]},v.id))})]})})]})})]})]})]})})]})}function cB(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Pv="ScrollArea",[bk,UV]=zr(Pv),[dB,Dn]=bk(Pv),wk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,x]=h.useState(null),[g,w]=h.useState(null),[v,y]=h.useState(0),[b,j]=h.useState(0),[_,N]=h.useState(!1),[E,M]=h.useState(!1),U=Xe(t,L=>c(L)),$=nd(a);return s.jsx(dB,{scope:r,type:n,dir:$,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:M,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(Me.div,{dir:$,...o,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});wk.displayName=Pv;var jk="ScrollAreaViewport",_k=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Dn(jk,r),l=h.useRef(null),c=Xe(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_k.displayName=jk;var Cs="ScrollAreaScrollbar",Tv=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Dn(Cs,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(uB,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(fB,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(Nk,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Av,{...n,ref:t}):null});Tv.displayName=Cs;var uB=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Dn(Cs,e.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(xr,{present:r||i,children:s.jsx(Nk,{"data-state":i?"visible":"hidden",...n,ref:t})})}),fB=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Dn(Cs,e.__scopeScrollArea),i=e.orientation==="horizontal",o=ph(()=>c("SCROLL_END"),100),[l,c]=cB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(xr,{present:r||l!=="hidden",children:s.jsx(Av,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:_e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:_e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Nk=h.forwardRef((e,t)=>{const r=Dn(Cs,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=h.useState(!1),l=e.orientation==="horizontal",c=ph(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return cl(r.viewport,c),cl(r.content,c),s.jsx(xr,{present:n||i,children:s.jsx(Av,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Av=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Dn(Cs,e.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Pk(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return vB(m,o.current,l,p)}return r==="horizontal"?s.jsx(hB,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=Iw(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(mB,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=Iw(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),hB=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Dn(Cs,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=Xe(t,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Ck,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Ak(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:cf(o.paddingLeft),paddingEnd:cf(o.paddingRight)}})}})}),mB=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Dn(Cs,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=Xe(t,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Ck,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Ak(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:cf(o.paddingTop),paddingEnd:cf(o.paddingBottom)}})}})}),[pB,Sk]=bk(Cs),Ck=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,p=Dn(Cs,r),[x,g]=h.useState(null),w=Xe(t,U=>g(U)),v=h.useRef(null),y=h.useRef(""),b=p.viewport,j=n.content-n.viewport,_=Jt(u),N=Jt(c),E=ph(f,10);function M(U){if(v.current){const $=U.clientX-v.current.left,L=U.clientY-v.current.top;d({x:$,y:L})}}return h.useEffect(()=>{const U=$=>{const L=$.target;(x==null?void 0:x.contains(L))&&_($,j)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[b,x,j,_]),h.useEffect(N,[n,N]),cl(x,E),cl(p.content,E),s.jsx(pB,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Jt(i),onThumbPointerUp:Jt(o),onThumbPositionChange:N,onThumbPointerDown:Jt(l),children:s.jsx(Me.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:_e(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),v.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),M(U))}),onPointerMove:_e(e.onPointerMove,M),onPointerUp:_e(e.onPointerUp,U=>{const $=U.target;$.hasPointerCapture(U.pointerId)&&$.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),lf="ScrollAreaThumb",Ek=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Sk(lf,e.__scopeScrollArea);return s.jsx(xr,{present:r||a.hasThumb,children:s.jsx(gB,{ref:t,...n})})}),gB=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Dn(lf,r),o=Sk(lf,r),{onThumbPositionChange:l}=o,c=Xe(t,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=ph(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const p=xB(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:_e(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:_e(e.onPointerUp,o.onThumbPointerUp)})});Ek.displayName=lf;var Iv="ScrollAreaCorner",kk=h.forwardRef((e,t)=>{const r=Dn(Iv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(yB,{...e,ref:t}):null});kk.displayName=Iv;var yB=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Dn(Iv,r),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return cl(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),cl(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function cf(e){return e?parseInt(e,10):0}function Pk(e,t){const r=e/t;return isNaN(r)?0:r}function mh(e){const t=Pk(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function vB(e,t,r,n="ltr"){const a=mh(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return Tk([c,d],f)(e)}function Iw(e,t,r="ltr"){const n=mh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=ug(e,c);return Tk([0,o],[0,l])(d)}function Tk(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ak(e,t){return e>0&&e<t}var xB=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ph(e,t){const r=Jt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function cl(e,t){const r=Jt(t);vr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Ik=wk,bB=_k,wB=kk;const wg=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ik,{ref:n,className:Ee("relative overflow-hidden",e),...r,children:[s.jsx(bB,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Rk,{}),s.jsx(wB,{})]}));wg.displayName=Ik.displayName;const Rk=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Tv,{ref:n,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(Ek,{className:"relative flex-1 rounded-full bg-border"})}));Rk.displayName=Tv.displayName;const df=["Donation","Reassignment","Relocate","Others"],Sm={Draft:"Draft",Issued:"Issued",Completed:"Completed",Rejected:"Rejected"},Rw={Draft:"Draft",Issued:"Issued",Completed:"Completed",Rejected:"Rejected",Pending:"Draft","In Transit":"Issued"},Gd={entityName:"",fromAccountableOfficer:"",fromAccountableOfficerDesignation:"",toAccountableOfficer:"",toAccountableOfficerDesignation:"",fundCluster:"",itrNumber:"",date:"",transferType:"Donation",otherTransferType:"",reason:"",status:"Draft",items:[]},Yd=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"})},jB=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ui=e=>e==null?"":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),Co=(e,t)=>e?t?`${e} / ${t}`:e:"",$l=async(e=[],t=[])=>{const r=new Date,n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),o=t.some(u=>Number(u.amount||0)>5e3||u.subCategory==="High Value Expendable")?"SPHV":"SPLV",l=new RegExp(`^ITR ${n}-${a}-${o}-(\\d{4})$`);let c=0;for(const u of e){const f=l.exec(u.itrNumber);if(f){const m=parseInt(f[1],10);Number.isNaN(m)||(c=Math.max(c,m))}}try{const{data:u}=await B.from("property_transfers").select("transfer_number").like("transfer_number",`ITR ${n}-${a}-${o}-%`).order("transfer_number",{ascending:!1}).limit(100);if(u)for(const f of u){const m=l.exec(f.transfer_number);if(m){const p=parseInt(m[1],10);Number.isNaN(p)||(c=Math.max(c,p))}}}catch(u){console.warn("Could not check database for existing ITR numbers:",u)}const d=String(c+1).padStart(4,"0");return`ITR ${n}-${a}-${o}-${d}`},_B=async e=>{if(!e)return;const{slipIds:t,slipItemIds:r,propertyCardEntryIds:n,inventorySnapshots:a}=e;if(n.length)try{await B.from("property_card_entries").delete().in("id",n)}catch(i){console.error("Rollback: Failed to delete property card entries",i)}if(r.length)try{await B.from("custodian_slip_items").delete().in("id",r)}catch(i){console.error("Rollback: Failed to delete custodian slip items",i)}if(t.length)try{await B.from("custodian_slips").delete().in("id",t)}catch(i){console.error("Rollback: Failed to delete custodian slips",i)}for(const i of a)try{await B.from("inventory_items").update({custodian:i.custodian,custodian_position:i.custodian_position,assignment_status:i.assignment_status,assigned_date:i.assigned_date,ics_number:i.ics_number,ics_date:i.ics_date,updated_at:new Date().toISOString()}).eq("id",i.id)}catch(o){console.error(`Rollback: Failed to restore inventory item ${i.id}`,o)}},NB=e=>{const t=e.transfer_type_choice;if(t&&df.includes(t))return t;const r=(e.reason||"").toLowerCase();if(r.includes("donat"))return"Donation";if(r.includes("reassign"))return"Reassignment";if(r.includes("relocat"))return"Relocate";if(r.includes("loan")||r.includes("borrow"))return"Others";switch(e.transfer_type){case"Temporary":return"Relocate";case"Loan":return"Others";case"Permanent":default:return"Reassignment"}},SB=(e,t)=>{const r=t.map(o=>o.map(l=>`"${l.replace(/"/g,'""')}"`).join(",")).join(`\r
`),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},CB=e=>({propertyNumber:e.propertyNumber,description:e.description,quantity:e.quantity,condition:e.condition,dateAcquired:e.dateAcquired,amount:e.amount,icsSlipId:e.icsSlipId,icsSlipNumber:e.icsSlipNumber,icsDate:e.icsDate,inventoryItemId:e.inventoryItemId,custodianName:e.custodianName}),EB=(e,t=!1)=>{const r=e.items||[],n=Math.max(7-r.length,0),a=t?"bg-white border border-border rounded-lg shadow-sm text-foreground":"bg-white text-black border border-black",i=t?"p-6":"p-10",o=l=>l.icsSlipNumber&&l.icsDate?`${l.icsSlipNumber} / ${l.icsDate}`:l.icsSlipNumber?l.icsSlipNumber:l.icsDate?l.icsDate:"";return s.jsxs("div",{className:`${a} ${i}`,children:[s.jsx("div",{className:`flex justify-end text-xs mb-2 ${t?"text-muted-foreground":""}`,children:"Annex A.5"}),s.jsx("div",{className:"text-center border-b border-black pb-2 mb-4",children:s.jsx("h1",{className:"text-2xl font-bold tracking-wide",children:"INVENTORY TRANSFER REPORT"})}),s.jsx("table",{className:"w-full text-sm mb-4",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsxs("td",{className:"pr-4 align-top",children:["Entity Name:",s.jsx("span",{className:"inline-block min-w-[250px] border-b border-black",children:e.entityName||""})]}),s.jsxs("td",{className:"align-top",children:["Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[180px] border-b border-black",children:e.fundCluster||""})]})]})})}),s.jsx("table",{className:"w-full text-sm mb-2",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsxs("td",{className:"pr-2 align-top w-[55%]",children:[s.jsxs("div",{children:["From Accountable Officer/Agency/Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[230px] border-b border-black",children:Co(e.fromAccountableOfficer,e.fromAccountableOfficerDepartment)||""})]}),s.jsxs("div",{className:"mt-2",children:["To Accountable Officer/Agency/Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[230px] border-b border-black",children:Co(e.toAccountableOfficer,e.toAccountableOfficerDepartment)||""})]})]}),s.jsxs("td",{className:"align-top",children:[s.jsxs("div",{children:["ITR No.:",s.jsx("span",{className:"inline-block min-w-[160px] border-b border-black",children:e.itrNumber||""})]}),s.jsxs("div",{className:"mt-2",children:["Date:",s.jsx("span",{className:"inline-block min-w-[160px] border-b border-black",children:e.date||""})]})]})]})})}),s.jsxs("div",{className:"border border-black p-2 mb-4",children:[s.jsx("div",{className:"text-sm mb-2 font-semibold",children:"Transfer Type: (check only one)"}),s.jsx("div",{className:"grid grid-cols-2 gap-y-1 text-sm",children:df.map(l=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-3.5 w-3.5 items-center justify-center border border-black text-[10px] font-bold",children:e.transferType===l?"":""}),s.jsxs("span",{children:[l==="Others"?"Others (Specify)":l,l==="Others"&&e.transferType==="Others"&&e.otherTransferType?`: ${e.otherTransferType}`:""]})]},l))})]}),s.jsxs("table",{className:"w-full border-collapse border border-black text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-black p-2 text-left w-[12%]",children:"Date Acquired"}),s.jsx("th",{className:"border border-black p-2 text-left w-[10%]",children:"Item No."}),s.jsx("th",{className:"border border-black p-2 text-left w-[15%]",children:"ICS No./Date"}),s.jsx("th",{className:"border border-black p-2 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-2 text-right w-[12%]",children:"Amount"}),s.jsx("th",{className:"border border-black p-2 text-center w-[15%]",children:"Condition of Inventory"})]})}),s.jsxs("tbody",{children:[r.map((l,c)=>s.jsxs("tr",{className:"h-6 align-top",children:[s.jsx("td",{className:"border border-black p-1",children:l.dateAcquired||""}),s.jsx("td",{className:"border border-black p-1",children:l.propertyNumber||""}),s.jsx("td",{className:"border border-black p-1",children:o(l)}),s.jsxs("td",{className:"border border-black p-1",children:[l.description,l.quantity?` (Qty: ${l.quantity})`:""]}),s.jsx("td",{className:"border border-black p-1 text-right",children:l.amount!==void 0?ui(l.amount):""}),s.jsx("td",{className:"border border-black p-1 text-center",children:l.condition||""})]},l.propertyNumber??c)),Array.from({length:n}).map((l,c)=>s.jsxs("tr",{className:"h-6",children:[s.jsx("td",{className:"border border-black p-1",children:""}),s.jsx("td",{className:"border border-black p-1",children:""}),s.jsx("td",{className:"border border-black p-1",children:""}),s.jsx("td",{className:"border border-black p-1",children:""}),s.jsx("td",{className:"border border-black p-1",children:""}),s.jsx("td",{className:"border border-black p-1",children:""})]},`blank-${c}`))]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"font-semibold text-sm mb-1",children:"Reasons for Transfer:"}),s.jsx("div",{className:"border border-black h-16 p-2 leading-tight text-xs",children:e.reason||""})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4 text-xs mt-4 signature-section",children:["Approved by","Released/Issued by","Received by"].map(l=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-t border-black pt-2 text-center",children:s.jsx("p",{className:"font-semibold uppercase text-xs",children:l})}),s.jsx("div",{className:"space-y-2",children:["Signature:","Printed Name:","Designation:","Date:"].map(c=>{const d=l==="Approved by"?e.approvedBy||"":l==="Released/Issued by"?e.fromAccountableOfficer||e.issuedBy||"":e.toAccountableOfficer||e.receivedBy||"",u=l==="Released/Issued by"?e.fromAccountableOfficerDesignation||e.fromAccountableOfficerDepartment||"":l==="Received by"&&(e.toAccountableOfficerDesignation||e.toAccountableOfficerDepartment)||"";return s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"whitespace-nowrap",children:c}),c==="Printed Name:"?s.jsx("span",{className:"flex-1 border-b border-black h-4",children:d}):c==="Designation:"?s.jsx("span",{className:"flex-1 border-b border-black h-4",children:u}):s.jsx("span",{className:"flex-1 border-b border-black h-4"})]},c)})})]},l))})]})},kB=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState("All"),[m,p]=h.useState("All"),[x,g]=h.useState(""),[w,v]=h.useState(""),[y,b]=h.useState({}),[j,_]=h.useState(!1),[N,E]=h.useState([]),[M,U]=h.useState(""),{toast:$}=es(),L=rs(),F=ea(),[O,R]=h.useState(Gd),[S,A]=h.useState(!1);h.useEffect(()=>{(async()=>{var D,X,te,re,Te,ke,Ge;try{n(!0);let Qe,lt;const gt=`
          id,
          transfer_number,
          from_department,
          to_department,
          transfer_type,
          transfer_type_choice,
          status,
          requested_by,
          approved_by,
          date_requested,
          date_approved,
          date_completed,
          reason,
          remarks,
          created_at,
          entity_name,
          fund_cluster,
          transfer_items (
            id,
            property_number,
            description,
            quantity,
            condition,
            inventory_item_id,
            from_custodian,
            to_custodian
          )
        `,yt=`
          id,
          transfer_number,
          from_department,
          to_department,
          transfer_type,
          status,
          requested_by,
          approved_by,
          date_requested,
          date_approved,
          date_completed,
          reason,
          remarks,
          created_at,
          transfer_items (
            id,
            property_number,
            description,
            quantity,
            condition
          )
        `,rt=await B.from("property_transfers").select(gt).order("date_requested",{ascending:!1});if(Qe=rt.data,lt=rt.error,lt&&((D=lt.message)!=null&&D.includes("inventory_item_id")||(X=lt.message)!=null&&X.includes("entity_name")||(te=lt.message)!=null&&te.includes("fund_cluster")||(re=lt.message)!=null&&re.includes("from_custodian")||(Te=lt.message)!=null&&Te.includes("to_custodian")||(ke=lt.message)!=null&&ke.includes("transfer_type_choice")||(Ge=lt.message)!=null&&Ge.includes("column"))){console.warn("Optional transfer columns missing, falling back to legacy select:",lt.message);const Ve=await B.from("property_transfers").select(yt).order("date_requested",{ascending:!1});Qe=Ve.data,lt=Ve.error}if(lt)throw console.error("Failed to load transfers",lt),lt;const Tt=Array.from(new Set((Qe||[]).flatMap(Ve=>[Ve.from_department,Ve.to_department]).filter(Ve=>!!Ve))),Ke=new Map;if(Tt.length){const{data:Ve,error:St}=await B.from("custodians").select(`
              name,
              position,
              departments!custodians_department_id_fkey (
                name
              )
            `).in("name",Tt);St?console.warn("Failed to load custodian metadata for transfers:",St.message):(Ve||[]).forEach(ht=>{var Ue,Mt;const Ir=(Ue=ht==null?void 0:ht.name)==null?void 0:Ue.toLowerCase();if(!Ir)return;const Ct=((Mt=ht==null?void 0:ht.departments)==null?void 0:Mt.name)||(ht==null?void 0:ht.department_name)||"";Ke.set(Ir,{department:Ct||void 0,designation:(ht==null?void 0:ht.position)||void 0})})}const fr=await Promise.all((Qe||[]).map(async Ve=>{const St=Ve.from_department?Ke.get(Ve.from_department.toLowerCase()):void 0,ht=Ve.to_department?Ke.get(Ve.to_department.toLowerCase()):void 0,Ir=await Promise.all((Ve.transfer_items||[]).map(async Ct=>{let Ue=null,Mt=null,$e=null,Ze=null;if(Ct.inventory_item_id){const{data:ze}=await B.from("inventory_items").select("date_acquired, unit_cost, total_cost, property_number").eq("id",Ct.inventory_item_id).single();ze&&(Ze=ze.date_acquired,$e=ze.total_cost||ze.unit_cost||null);const{data:Et}=await B.from("custodian_slip_items").select(`
                  custodian_slips!inner (
                    slip_number,
                    date_issued
                  )
                `).eq("inventory_item_id",Ct.inventory_item_id).order("created_at",{ascending:!1}).limit(1).single();if(Et!=null&&Et.custodian_slips){const vt=Array.isArray(Et.custodian_slips)?Et.custodian_slips[0]:Et.custodian_slips;vt&&(Ue=vt.slip_number,Mt=vt.date_issued)}}if(!Ue&&Ct.from_custodian){const{data:ze}=await B.from("custodian_slips").select("slip_number, date_issued").eq("custodian_name",Ct.from_custodian).order("date_issued",{ascending:!1}).limit(1).single();ze&&(Ue=ze.slip_number,Mt=ze.date_issued)}if(!Ze||$e===null){const{data:ze}=await B.from("inventory_items").select("date_acquired, unit_cost, total_cost").eq("property_number",Ct.property_number).limit(1).maybeSingle();ze&&(Ze=ze.date_acquired,$e=ze.total_cost||ze.unit_cost||null)}if(!Ue||!Mt){const{data:ze}=await B.from("custodian_slip_items").select(`
                  date_issued,
                  custodian_slips!inner (
                    slip_number,
                    date_issued
                  )
                `).eq("property_number",Ct.property_number).order("date_issued",{ascending:!1}).limit(1).maybeSingle();if(ze){const Et=ze,vt=Et.custodian_slips,Gt=Array.isArray(vt)?vt[0]:vt;Gt&&Gt.slip_number&&(Ue=Gt.slip_number);const Wt=Et.date_issued||Gt&&Gt.date_issued||null;Wt&&(Mt=Wt)}}return{propertyNumber:Ct.property_number,description:Ct.description,quantity:Ct.quantity,condition:Ct.condition,inventoryItemId:Ct.inventory_item_id,icsSlipNumber:Ue,icsDate:Mt,amount:$e,dateAcquired:Ze}}));return{id:Ve.id,entityName:Ve.entity_name||"PROVINCIAL GOVERNMENT OF APAYAO",fromAccountableOfficer:Ve.from_department,fromAccountableOfficerDepartment:St==null?void 0:St.department,fromAccountableOfficerDesignation:St==null?void 0:St.designation,toAccountableOfficer:Ve.to_department,toAccountableOfficerDepartment:ht==null?void 0:ht.department,toAccountableOfficerDesignation:ht==null?void 0:ht.designation,fundCluster:Ve.fund_cluster||"",itrNumber:Ve.transfer_number,date:Ve.date_requested,transferType:NB(Ve),reason:Ve.reason,status:Rw[Ve.status]||"Draft",dateCompleted:Ve.date_completed,items:Ir,history:[{timestamp:Ve.created_at,status:Rw[Ve.status]||"Draft",action:"Transfer created",details:`Created ${Ve.transfer_number}`}],approvedBy:Ve.approved_by||"",issuedBy:Ve.requested_by||"",receivedBy:Ve.to_department||"",createdAt:Ve.created_at}}));t(fr)}catch(Qe){console.error("Error loading transfers:",Qe),$({title:"Error loading transfers",description:"Could not load transfers from database",variant:"destructive"})}finally{n(!1)}})()},[$]);const ne=h.useMemo(()=>["PROVINCIAL GOVERNMENT OF APAYAO","CITY OF LUNA","MUNICIPALITY OF FLORA","PROVINCIAL ACCOUNTING OFFICE"],[]),{data:Q=[],isLoading:W}=ir({queryKey:["transfer-ics-options"],queryFn:async()=>{const{data:k,error:D}=await B.from("custodian_slip_items").select(`
          id,
          property_number,
          description,
          quantity,
          unit,
          date_issued,
          inventory_item_id,
          inventory_items (
            id,
            date_acquired,
            property_number,
            total_cost,
            condition,
            assignment_status,
            custodian,
            custodian_position,
            ics_number,
            ics_date,
            status
          ),
          custodian_slips!inner (
            id,
            slip_number,
            date_issued,
            custodian_name
          )
        `).order("date_issued",{ascending:!1}).limit(500);if(D)throw console.error("Failed to load custodian slip items for transfers",D),D;const X=[];for(const te of k||[]){const re=Array.isArray(te.inventory_items)?te.inventory_items[0]:te.inventory_items,Te=Array.isArray(te.custodian_slips)?te.custodian_slips[0]:te.custodian_slips;if(!re||!Te)continue;const ke=(Te.custodian_name||"").toLowerCase().trim(),Ge=(re.custodian||"").toLowerCase().trim(),Qe=re.assignment_status||"";!ke||ke!==Ge||Qe&&Qe!=="Assigned"||X.push({id:te.id,propertyNumber:te.property_number||"",description:te.description||(re==null?void 0:re.description)||"",quantity:te.quantity||0,condition:(re==null?void 0:re.condition)||"",amount:Number((re==null?void 0:re.total_cost)??0),dateAcquired:(re==null?void 0:re.date_acquired)||"",custodianName:(Te==null?void 0:Te.custodian_name)||"",currentCustodian:(re==null?void 0:re.custodian)||"",assignmentStatus:Qe||"",icsSlipId:(Te==null?void 0:Te.id)||"",icsSlipNumber:(Te==null?void 0:Te.slip_number)||"",icsDate:te.date_issued||(Te==null?void 0:Te.date_issued)||"",inventoryItemId:te.inventory_item_id||(re==null?void 0:re.id)||""})}return console.log("Loaded ICS options for transfer (items join):",{totalItems:X.length,custodians:[...new Set(X.map(te=>te.custodianName))],sampleItems:X.slice(0,3)}),X},staleTime:5*60*1e3}),{data:ae=[]}=ir({queryKey:["current-assigned-items",O.fromAccountableOfficer],enabled:!!O.fromAccountableOfficer,queryFn:async()=>{if(!O.fromAccountableOfficer)return[];const{data:k,error:D}=await B.from("inventory_items").select("id, property_number, description, quantity, condition, total_cost, date_acquired, assignment_status, custodian").eq("custodian",O.fromAccountableOfficer).eq("assignment_status","Assigned").eq("status","Active").limit(500);if(D)throw D;return(k||[]).map(X=>({id:X.id,propertyNumber:X.property_number,description:X.description||"",quantity:X.quantity||1,condition:X.condition||"",amount:Number(X.total_cost??0),dateAcquired:X.date_acquired||"",custodianName:O.fromAccountableOfficer,currentCustodian:X.custodian||O.fromAccountableOfficer,assignmentStatus:X.assignment_status||"Assigned",icsSlipId:"",icsSlipNumber:"",icsDate:"",inventoryItemId:X.id}))},staleTime:60*1e3}),ge=h.useMemo(()=>{const k=O.fromAccountableOfficer?O.fromAccountableOfficer.toLowerCase().trim():"",D=new Set(O.items.map(ke=>ke.propertyNumber));if(!k)return[];const X=Q.filter(ke=>D.has(ke.propertyNumber)||!k||ke.assignmentStatus&&ke.assignmentStatus!=="Assigned"?!1:(ke.currentCustodian||ke.custodianName||"").toLowerCase().trim()===k),te=(ae||[]).filter(ke=>!D.has(ke.propertyNumber)&&ke.assignmentStatus==="Assigned"&&k&&(ke.currentCustodian||"").toLowerCase().trim()===k),re=new Map;[...X,...te].forEach(ke=>{re.has(ke.propertyNumber)||re.set(ke.propertyNumber,ke)});let Te=Array.from(re.values());return M&&(Te=Te.filter(ke=>`${ke.propertyNumber} ${ke.description} ${ke.icsSlipNumber} ${ke.custodianName||""}`.toLowerCase().includes(M.toLowerCase()))),console.log("Filtered ICS items:",{fromOfficer:O.fromAccountableOfficer,totalOptions:Q.length+((ae==null?void 0:ae.length)||0),filteredCount:Te.length,items:Te.map(ke=>({custodian:ke.custodianName,propertyNumber:ke.propertyNumber}))}),Te},[Q,ae,O.fromAccountableOfficer,O.items,M]),G=h.useMemo(()=>{const k=c.toLowerCase();return e.filter(D=>{const te=[D.itrNumber,D.entityName,D.fromAccountableOfficer,D.toAccountableOfficer,D.reason,D.items.map(Qe=>`${Qe.propertyNumber} ${Qe.description}`).join(" ")].join(" ").toLowerCase().includes(k),re=u==="All"||D.status===u,Te=m==="All"||D.transferType===m,ke=!x||D.date>=x,Ge=!w||D.date<=w;return te&&re&&Te&&ke&&Ge})},[e,c,u,m,x,w]),ie=h.useMemo(()=>Df(e),[e]),de=k=>ie===k.id&&Of(k.createdAt);h.useEffect(()=>{o?($l(e,[]).then(k=>{R(D=>({...Gd,...D,itrNumber:D.itrNumber||k,status:"Draft"}))}),b({})):(R(Gd),E([]),_(!1))},[o,e]);const he=k=>{const D={};return k.entityName.trim()||(D.entityName="Entity name is required."),k.fundCluster.trim()||(D.fundCluster="Fund cluster is required."),k.itrNumber.trim()||(D.itrNumber="ITR number is required."),k.date.trim()||(D.date="Date is required."),k.fromAccountableOfficer.trim()||(D.fromOfficer="Select the releasing accountable officer."),k.toAccountableOfficer.trim()||(D.toOfficer="Select the receiving accountable officer."),k.reason.trim()||(D.reason="Please provide the reason for transfer."),k.items.length||(D.items="Select at least one item from the ICS list."),D},me=async()=>{const k=await $l(e,O.items||[]);R(D=>({...D,itrNumber:k}))},se=async()=>{var D,X,te,re,Te,ke,Ge,Qe,lt,gt,yt,rt;const k=he(O);if(Object.keys(k).length>0){b(k),$({title:"Missing information",description:"Please fill in the required fields before saving the transfer.",variant:"destructive"});return}try{A(!0);const Tt=new Date().toISOString();let Ke=O.itrNumber;Ke||(Ke=await $l(e,O.items||[]));const{data:fr,error:Ve}=await B.from("property_transfers").select("id").eq("transfer_number",Ke).maybeSingle();if(Ve)throw console.error("Error checking existing transfer number:",Ve),Ve;fr&&(Ke=await $l(e));const St=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`,Ir={Donation:"Permanent",Reassignment:"Permanent",Relocate:"Temporary",Others:"Temporary"}[O.transferType]??"Permanent",{data:Ct}=await B.auth.getUser(),Ue=(D=Ct==null?void 0:Ct.user)==null?void 0:D.id;if(!Ue){$({title:"Authentication required",description:"You must be signed in to create transfers.",variant:"destructive"});return}let Mt,$e=0;const Ze=3;for(;$e<Ze;){Mt=null;const at={id:St,transfer_number:Ke,from_department:O.fromAccountableOfficer,to_department:O.toAccountableOfficer,transfer_type:Ir,transfer_type_choice:O.transferType,status:Sm[O.status]||"Pending",date_requested:O.date,reason:O.reason,requested_by:Ue},wt={...at,entity_name:O.entityName.trim(),fund_cluster:O.fundCluster.trim()};let Hr=await B.from("property_transfers").insert(wt),Ut=Hr.error;if(Ut&&((X=Ut.message)!=null&&X.includes("entity_name")||(te=Ut.message)!=null&&te.includes("fund_cluster")||(re=Ut.message)!=null&&re.includes("transfer_type_choice"))&&(Hr=await B.from("property_transfers").insert(at),Ut=Hr.error),Ut){if(Ut.code==="23505"&&((Te=Ut.message)!=null&&Te.includes("transfer_number"))){console.warn(`Duplicate ITR number ${Ke} detected, generating new number...`),Ke=await $l(e,O.items||[]),$e++;continue}Mt=Ut;break}else break}if(Mt)throw Mt;const ze=O.items.map(at=>{var wt;return{id:((wt=crypto.randomUUID)==null?void 0:wt.call(crypto))||`${Date.now()}-${Math.random()}`,transfer_id:St,property_number:at.propertyNumber,description:at.description,quantity:at.quantity,condition:at.condition,inventory_item_id:at.inventoryItemId||null,ics_slip_id:at.icsSlipId||null,custodian_slip_item_id:at.icsSlipId||null,from_custodian:O.fromAccountableOfficer,to_custodian:O.toAccountableOfficer}}),Et=O.items.map(at=>{var wt;return{id:((wt=crypto.randomUUID)==null?void 0:wt.call(crypto))||`${Date.now()}-${Math.random()}`,transfer_id:St,property_number:at.propertyNumber,description:at.description,quantity:at.quantity,condition:at.condition}});if(ze.length>0){let wt=(await B.from("transfer_items").insert(ze)).error;if(wt&&(wt.code==="PGRST204"||(ke=wt.message)!=null&&ke.includes("inventory_item_id")||(Ge=wt.message)!=null&&Ge.includes("ics_slip_id")||(Qe=wt.message)!=null&&Qe.includes("custodian_slip_item_id")||(lt=wt.message)!=null&&lt.includes("from_custodian")||(gt=wt.message)!=null&&gt.includes("to_custodian"))&&(wt=(await B.from("transfer_items").insert(Et)).error),wt)throw wt}let vt=O.toAccountableOfficerDesignation||"";if(!vt&&O.toAccountableOfficer){const{data:at}=O.toAccountableOfficerId?await B.from("custodians").select("position").eq("id",O.toAccountableOfficerId).single():await B.from("custodians").select("position").eq("name",O.toAccountableOfficer).single();vt=(at==null?void 0:at.position)||""}for(const at of O.items){let wt=at.inventoryItemId;if(!wt&&at.propertyNumber){const{data:Ut}=await B.from("inventory_items").select("id").eq("property_number",at.propertyNumber).single();Ut&&(wt=Ut.id)}wt&&(await B.from("inventory_items").update({custodian:O.toAccountableOfficer,custodian_position:vt,assignment_status:"Assigned",assigned_date:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString()}).eq("id",wt)).error&&await B.from("inventory_items").update({custodian:O.toAccountableOfficer}).eq("id",wt);const{data:Hr}=await B.from("property_cards").select("id").eq("property_number",at.propertyNumber).single();if(Hr){let Ut=0;const{data:as}=await B.from("property_card_entries").select("balance_qty").eq("property_card_id",Hr.id).order("date",{ascending:!1}).limit(1).single();as&&typeof as.balance_qty=="number"&&(Ut=as.balance_qty);const md=at.quantity||1,yh=Math.max(0,(Ut||0)-md);await B.from("property_card_entries").insert({property_card_id:Hr.id,date:new Date().toISOString().split("T")[0],reference:`ITR ${Ke}`,receipt_qty:0,unit_cost:0,total_cost:0,issue_item_no:at.propertyNumber||"",issue_qty:md,office_officer:`${O.toAccountableOfficer}${vt?` (${vt})`:""}`,balance_qty:yh,amount:0,remarks:`Transferred from ${O.fromAccountableOfficer} to ${O.toAccountableOfficer}`,related_transfer_id:St})}}F.invalidateQueries({queryKey:["inventory-items"]}),F.invalidateQueries({queryKey:["custodian-summaries"]}),F.invalidateQueries({queryKey:["custodian-summary"]}),F.invalidateQueries({queryKey:["custodian-current-items"]}),F.invalidateQueries({queryKey:["custodian-item-history"]}),F.refetchQueries({queryKey:["inventory-items"]}),F.refetchQueries({queryKey:["custodian-summaries"]});let Gt,Wt;const tr=await B.from("property_transfers").select(`
          id,
          transfer_number,
          entity_name,
          fund_cluster,
          from_department,
          to_department,
          transfer_type,
          transfer_type_choice,
          status,
          requested_by,
          approved_by,
          date_requested,
          date_approved,
          date_completed,
          reason,
          remarks,
          created_at,
          transfer_items (
            id,
            property_number,
            description,
            quantity,
            condition,
            inventory_item_id
          )
        `).order("date_requested",{ascending:!1});if(Gt=tr.data,Wt=tr.error,Wt&&((yt=Wt.message)!=null&&yt.includes("column")||(rt=Wt.message)!=null&&rt.includes("inventory_item_id"))){console.warn("inventory_item_id column not found in reload, loading without it");const at=await B.from("property_transfers").select(`
            id,
            transfer_number,
            from_department,
            to_department,
            transfer_type,
            status,
            requested_by,
            approved_by,
            date_requested,
            date_approved,
            date_completed,
            reason,
            remarks,
            created_at,
            transfer_items (
              id,
              property_number,
              description,
              quantity,
              condition
            )
          `).order("date_requested",{ascending:!1});Gt=at.data,Wt=at.error}Wt&&console.error("Failed to reload transfers after creation:",Wt);const Sr={id:St,entityName:O.entityName.trim(),fromAccountableOfficer:O.fromAccountableOfficer.trim(),fromAccountableOfficerDepartment:O.fromAccountableOfficerDepartment,fromAccountableOfficerDesignation:O.fromAccountableOfficerDesignation,fromAccountableOfficerId:O.fromAccountableOfficerId,toAccountableOfficer:O.toAccountableOfficer.trim(),toAccountableOfficerDepartment:O.toAccountableOfficerDepartment,toAccountableOfficerDesignation:O.toAccountableOfficerDesignation,toAccountableOfficerId:O.toAccountableOfficerId,fundCluster:O.fundCluster.trim(),itrNumber:Ke,date:O.date,transferType:O.transferType,otherTransferType:O.otherTransferType,reason:O.reason.trim(),status:O.status,items:O.items,history:[{timestamp:new Date().toISOString(),status:O.status,action:"Transfer created",details:`Created ITR ${Ke}`}],createdAt:new Date().toISOString()};t(at=>[Sr,...at]),R(Gd),l(!1),b({}),E([]),$({title:"Transfer saved",description:`Transfer ${Ke} has been saved and related records updated.`}),A(!1)}catch(Tt){console.error("Error creating transfer:",Tt),A(!1),$({title:"Error saving transfer",description:Tt instanceof Error?Tt.message:"Failed to save transfer",variant:"destructive"})}},J=async(k,D)=>{var X;try{A(!0);const te=D==="Completed"?new Date().toISOString().split("T")[0]:null,re=e.find(ke=>ke.id===k);if(!re)throw new Error("Transfer not found");const{error:Te}=await B.from("property_transfers").update({status:Sm[D]||"Pending",...te&&{date_completed:te}}).eq("id",k);if(Te)throw Te;if(D==="Completed"&&re.items&&re.items.length>0){console.log(` Completing transfer ${re.itrNumber}: Creating new ICS for receiving custodian ${re.toAccountableOfficer}`);let ke=re.toAccountableOfficerDesignation||"",Ge=re.toAccountableOfficerId||null;if(!ke&&re.toAccountableOfficer){const{data:yt}=re.toAccountableOfficerId?await B.from("custodians").select("id, position").eq("id",re.toAccountableOfficerId).single():await B.from("custodians").select("id, position").eq("name",re.toAccountableOfficer).single();yt&&(ke=yt.position||"",Ge=yt.id||Ge)}const Qe={},lt=[],gt={slipIds:[],slipItemIds:[],propertyCardEntryIds:[],inventorySnapshots:[]};try{for(const rt of re.items){let Tt=rt.inventoryItemId;if(!Tt&&rt.propertyNumber){const{data:fr}=await B.from("inventory_items").select("id").eq("property_number",rt.propertyNumber).single();fr&&(Tt=fr.id)}if(!Tt)throw new Error(`Inventory item not found for property number ${rt.propertyNumber}`);const{data:Ke}=await B.from("inventory_items").select("*").eq("id",Tt).single();if(!Ke)throw new Error(`Inventory data missing for property number ${rt.propertyNumber}`);Qe[Ke.sub_category||"Small Value Expendable"]||(Qe[Ke.sub_category||"Small Value Expendable"]=[]),Qe[Ke.sub_category||"Small Value Expendable"].push(Ke),lt.push(Ke),gt.inventorySnapshots.some(fr=>fr.id===Ke.id)||gt.inventorySnapshots.push({id:Ke.id,custodian:Ke.custodian,custodian_position:Ke.custodian_position,assignment_status:Ke.assignment_status,assigned_date:Ke.assigned_date,ics_number:Ke.ics_number,ics_date:Ke.ics_date})}console.log(` Grouped ${lt.length} items into ${Object.keys(Qe).length} sub-category(ies):`,Object.keys(Qe));const yt=[];for(const rt of Object.keys(Qe)){const Tt=Qe[rt];console.log(` Creating new ICS for ${rt} with ${Tt.length} item(s) for ${re.toAccountableOfficer}`);const Ke=rt==="Small Value Expendable"?"SPLV":"SPHV",{data:fr,error:Ve}=await B.rpc("generate_ics_number",{sub_category_prefix:Ke});let St=fr;if(Ve){console.error("Error generating ICS number for transfer:",Ve);const{data:Ue}=await B.rpc("generate_ics_number",{sub_category_prefix:null});St=Ue||`TRANSFER-${Date.now()}`}const ht={slip_number:St,custodian_name:re.toAccountableOfficer,designation:ke||"Staff",office:re.toAccountableOfficerDepartment||"Administration",date_issued:te||new Date().toISOString().split("T")[0],issued_by:re.fromAccountableOfficer||"",received_by:re.toAccountableOfficer,slip_status:"Issued"},{data:Ir,error:Ct}=await B.from("custodian_slips").insert(ht).select().single();if(Ct)throw console.error("Error creating new ICS for transfer:",Ct),new Error(`Failed to create new ICS for ${re.toAccountableOfficer}: ${Ct.message}`);gt.slipIds.push(Ir.id),console.log(` Created new ICS ${St} for ${re.toAccountableOfficer}`),yt.push(Ir.id);for(const Ue of Tt){const Mt=Ue.quantity||1,$e=Ue.unit_cost||0,Ze=Mt*$e,ze=Ue.unit_of_measure||Ue.unit||Ue.uom||"unit",Et=(Ue.description||(Ue.model?`${Ue.brand?Ue.brand+" ":""}${Ue.model}`:Ue.brand)||"").trim(),{error:vt}=await B.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,ics_number:null,ics_date:null,updated_at:new Date().toISOString()}).eq("id",Ue.id);if(vt)throw vt;const Gt={slip_id:Ir.id,inventory_item_id:Ue.id,property_number:Ue.property_number,description:Et,quantity:Mt,unit:ze,unit_cost:$e,total_cost:Ze,amount:Ze,date_issued:te||new Date().toISOString().split("T")[0]},{data:Wt,error:tr}=await B.from("custodian_slip_items").insert(Gt).select("id").single();if(tr)throw console.error(`Failed to create slip item for ${Ue.property_number}:`,tr),new Error(`Failed to add ${Ue.property_number} to new ICS: ${tr.message}`);gt.slipItemIds.push(Wt.id);const{error:Sr}=await B.from("inventory_items").update({ics_number:St,ics_date:te||new Date().toISOString().split("T")[0],custodian:re.toAccountableOfficer,custodian_position:ke||null,custodian_id:Ge,assignment_status:"Assigned",assigned_date:te||new Date().toISOString().split("T")[0],updated_at:new Date().toISOString()}).eq("id",Ue.id);if(Sr)throw console.error(`Failed to update inventory item ${Ue.property_number}:`,Sr),Sr;console.log(` Updated inventory item ${Ue.property_number} to custodian ${re.toAccountableOfficer} with ICS ${St}`);const{data:at}=await B.from("property_cards").select("id").eq("inventory_item_id",Ue.id).single();if(at){let wt=0;const{data:Hr}=await B.from("property_card_entries").select("balance_qty").eq("property_card_id",at.id).order("date",{ascending:!1}).limit(1).single();Hr&&typeof Hr.balance_qty=="number"&&(wt=Hr.balance_qty);const{data:Ut}=await B.from("property_card_entries").insert({property_card_id:at.id,date:te||new Date().toISOString().split("T")[0],reference:`ITR ${re.itrNumber}`,receipt_qty:0,unit_cost:0,total_cost:0,issue_item_no:Ue.property_number,issue_qty:Mt,office_officer:`Transfer to ${re.toAccountableOfficer}`,balance_qty:Math.max(0,wt-Mt),amount:0,remarks:`Transferred to ${re.toAccountableOfficer} via ITR ${re.itrNumber}`,related_transfer_id:k}).select("id").single();Ut!=null&&Ut.id&&gt.propertyCardEntryIds.push(Ut.id);const{data:as}=await B.from("property_card_entries").insert({property_card_id:at.id,date:te||new Date().toISOString().split("T")[0],reference:`ICS ${St}`,receipt_qty:Mt,unit_cost:$e,total_cost:Ze,issue_item_no:"",issue_qty:0,office_officer:`${re.toAccountableOfficer}${ke?` (${ke})`:""}`,balance_qty:Mt,amount:Ze,remarks:`Received from ${re.fromAccountableOfficer} via ITR ${re.itrNumber}, assigned ICS ${St}`,related_slip_id:Ir.id,related_transfer_id:k}).select("id").single();as!=null&&as.id&&gt.propertyCardEntryIds.push(as.id),console.log(` Created property card entries for ${Ue.property_number}`)}}}console.log(` Transfer completed: Created ${yt.length} new ICS slip(s) for ${re.toAccountableOfficer}`)}catch(yt){throw await _B(gt),yt}F.invalidateQueries({queryKey:["inventory-items"]}),F.invalidateQueries({queryKey:["custodian-summaries"]}),F.invalidateQueries({queryKey:["custodian-summary"]}),F.invalidateQueries({queryKey:["custodian-current-items"]}),F.invalidateQueries({queryKey:["custodian-item-history"]}),F.invalidateQueries({queryKey:["annex-custodian-slips"]}),F.invalidateQueries({queryKey:["annex-property-cards"]}),F.invalidateQueries({queryKey:["available-inventory-for-slips"]}),F.invalidateQueries({queryKey:["transfer-ics-options"]}),F.invalidateQueries({queryKey:["current-assigned-items"]}),F.refetchQueries({queryKey:["inventory-items"]}),F.refetchQueries({queryKey:["custodian-summaries"]}),F.refetchQueries({queryKey:["annex-custodian-slips"]}),F.refetchQueries({queryKey:["current-assigned-items"]}),F.refetchQueries({queryKey:["transfer-ics-options"]})}t(ke=>ke.map(Ge=>{if(Ge.id!==k)return Ge;const Qe=new Date().toISOString();return{...Ge,status:D,dateCompleted:D==="Completed"?te:Ge.dateCompleted,history:[...Ge.history,{timestamp:Qe,status:D,action:`Status changed to ${D}`,details:D==="Completed"?"Transfer marked as completed. Items have been reassigned to the new custodian.":D==="Rejected"?"Transfer was rejected.":void 0}]}})),$({title:"Transfer completed",description:D==="Completed"?`Transfer completed successfully! ${((X=re.items)==null?void 0:X.length)||0} item(s) have been transferred to ${re.toAccountableOfficer} with new ICS slip(s) created.`:`Transfer marked as ${D}.`}),A(!1)}catch(te){console.error("Error updating transfer status:",te),$({title:"Error updating status",description:te instanceof Error?te.message:"Failed to update transfer status",variant:"destructive"}),A(!1)}},fe=Bs({mutationFn:async k=>{const{error:D}=await B.from("property_transfers").update({status:Sm.Issued,updated_at:new Date().toISOString()}).eq("id",k);if(D)throw new Error(`Failed to confirm transfer: ${D.message}`)},onSuccess:(k,D)=>{$({title:"Success",description:"Transfer has been officially confirmed and cannot be deleted"}),A(!1),t(X=>X.map(te=>{if(te.id!==D)return te;const re=new Date().toISOString();return{...te,status:"Issued",history:[...te.history,{timestamp:re,status:"Issued",action:"Transfer confirmed",details:`Confirmed ${te.itrNumber}`}]}})),F.invalidateQueries({queryKey:["property-transfers"]}),F.invalidateQueries({queryKey:["inventory-items"]}),F.invalidateQueries({queryKey:["custodian-summaries"]})},onError:k=>{A(!1),$({title:"Error",description:k.message,variant:"destructive"})}}),T=k=>{confirm("Are you sure you want to officially confirm this transfer? Once confirmed, it cannot be deleted and will be marked as an official document.")&&(A(!0),fe.mutate(k))},H=async k=>{A(!0);const D=e.find(X=>X.id===k);if((D==null?void 0:D.status)==="Completed"||(D==null?void 0:D.status)==="Issued"){if(!window.confirm(`Warning: This transfer is marked as "${D.status}". Deleting it will remove all associated records including property card entries. Are you absolutely sure you want to proceed?`)){A(!1);return}}else if(!window.confirm("Are you sure you want to delete this transfer? This action cannot be undone.")){A(!1);return}try{if((D==null?void 0:D.status)==="Draft"){const{data:Te,error:ke}=await B.from("transfer_items").select("inventory_item_id, from_custodian, to_custodian").eq("transfer_id",k);if(ke)throw ke;const Ge=(Te||[]).filter(Qe=>Qe.inventory_item_id);if(Ge.length>0){const Qe=Array.from(new Set(Ge.map(gt=>gt.from_custodian).filter(gt=>!!gt))),lt=new Map;if(Qe.length>0){const{data:gt,error:yt}=await B.from("custodians").select("id, name, position").in("name",Qe);!yt&&gt&&gt.forEach(rt=>{rt!=null&&rt.name&&lt.set(rt.name,{id:rt.id,position:rt.position})})}for(const gt of Ge){const yt=lt.get(gt.from_custodian)||{},rt={custodian:gt.from_custodian||null,assignment_status:"Assigned",updated_at:new Date().toISOString()};yt.position&&(rt.custodian_position=yt.position),yt.id&&(rt.custodian_id=yt.id);const{error:Tt}=await B.from("inventory_items").update(rt).eq("id",gt.inventory_item_id);Tt&&console.warn("Failed to revert inventory item to original custodian",gt.inventory_item_id,Tt)}}}const{error:X}=await B.from("property_card_entries").delete().eq("related_transfer_id",k);X&&console.warn("Error deleting property card entries (may not exist):",X);const{error:te}=await B.from("transfer_items").delete().eq("transfer_id",k);if(te)throw te;const{error:re}=await B.from("property_transfers").delete().eq("id",k);if(re)throw re;F.invalidateQueries({queryKey:["transfers"]}),F.invalidateQueries({queryKey:["inventory-items"]}),F.invalidateQueries({queryKey:["custodian-summaries"]}),F.invalidateQueries({queryKey:["custodian-current-items"]}),$({title:"Transfer deleted",description:(D==null?void 0:D.status)==="Draft"?"Draft transfer deleted. Items have been returned to their previous custodians.":"The transfer has been permanently removed."}),A(!1)}catch(X){console.error("Error deleting transfer:",X),A(!1),$({title:"Error deleting transfer",description:X instanceof Error?X.message:"Failed to delete transfer",variant:"destructive"})}},ee=k=>{i(k),setTimeout(()=>{window.print()},300)},oe=()=>{if(!G.length){$({title:"Nothing to export",description:"Adjust the filters to include at least one transfer before exporting.",variant:"destructive"});return}const k=[["ITR No.","Entity","Fund Cluster","From Officer","To Officer","Date","Transfer Type","Status","Reason","Item Count","Items","Total Amount"]];G.forEach(D=>{const X=D.items.reduce((re,Te)=>re+(Te.amount??0),0),te=D.items.map(re=>`${re.propertyNumber} - ${re.description}`).join("; ");k.push([D.itrNumber,D.entityName,D.fundCluster,Co(D.fromAccountableOfficer,D.fromAccountableOfficerDepartment),Co(D.toAccountableOfficer,D.toAccountableOfficerDepartment),D.date,D.transferType==="Others"&&D.otherTransferType?`${D.transferType} (${D.otherTransferType})`:D.transferType,D.status,D.reason,D.items.length.toString(),te,X?ui(X):""])}),SB(`inventory-transfers-${Date.now()}.csv`,k)},be=k=>{R(D=>({...D,items:D.items.filter(X=>X.propertyNumber!==k)}))},He=()=>{if(!O.fromAccountableOfficer){$({title:"Select an accountable officer first",description:"Please choose the releasing accountable officer to filter the ICS items.",variant:"destructive"});return}_(!0)},ut=k=>{E(D=>D.includes(k)?D.filter(X=>X!==k):[...D,k])},Pe=()=>{const k=ge.filter(D=>N.includes(D.id));if(!k.length){$({title:"No items selected",description:"Choose at least one item from the list before confirming.",variant:"destructive"});return}R(D=>{const X=new Map;return D.items.forEach(te=>X.set(te.propertyNumber,te)),k.map(CB).forEach(te=>X.set(te.propertyNumber,te)),{...D,items:Array.from(X.values())}}),E([]),_(!1)},Be=(k,D,X)=>{R(te=>({...te,items:te.items.map(re=>re.propertyNumber===k?{...re,[D]:X}:re)}))};h.useMemo(()=>({id:"preview",entityName:O.entityName,fromAccountableOfficer:O.fromAccountableOfficer,fromAccountableOfficerDepartment:O.fromAccountableOfficerDepartment,fromAccountableOfficerDesignation:O.fromAccountableOfficerDesignation,toAccountableOfficer:O.toAccountableOfficer,toAccountableOfficerDepartment:O.toAccountableOfficerDepartment,toAccountableOfficerDesignation:O.toAccountableOfficerDesignation,fundCluster:O.fundCluster,itrNumber:O.itrNumber,date:O.date,transferType:O.transferType,otherTransferType:O.otherTransferType,reason:O.reason,status:O.status,items:O.items,history:[]}),[O]);const[tt,C]=h.useState(!1),z=O.items.reduce((k,D)=>k+(D.amount??0),0);return o&&(O.entityName||O.fundCluster||O.itrNumber||O.items.length>0||O.reason),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Property Transfers"}),s.jsxs(le,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(za,{className:"h-4 w-4"}),"Create Transfer"]})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{placeholder:"Search by ITR no., officer, reason, or item",value:c,onChange:k=>d(k.target.value),className:"pl-10"})]}),s.jsxs($t,{value:u,onValueChange:f,children:[s.jsx(Rt,{children:s.jsx(qt,{placeholder:"Filter by status"})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All status"}),s.jsx(je,{value:"Draft",children:"Draft"}),s.jsx(je,{value:"Issued",children:"Issued"}),s.jsx(je,{value:"Completed",children:"Completed"}),s.jsx(je,{value:"Rejected",children:"Rejected"})]})]}),s.jsxs($t,{value:m,onValueChange:p,children:[s.jsx(Rt,{children:s.jsx(qt,{placeholder:"Filter by transfer type"})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All types"}),df.map(k=>s.jsx(je,{value:k,children:k},k))]})]}),s.jsx(Ae,{type:"date",value:x,onChange:k=>g(k.target.value),placeholder:"From date"}),s.jsx(Ae,{type:"date",value:w,onChange:k=>v(k.target.value),placeholder:"To date"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(le,{type:"button",variant:"outline",onClick:oe,className:"flex-1 sm:flex-none",children:[s.jsx(Sy,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsx(le,{type:"button",variant:"ghost",className:"flex-1 sm:flex-none",onClick:()=>{f("All"),p("All"),g(""),v(""),d("")},children:"Clear Filters"})]})]}),o&&s.jsx("div",{className:"grid gap-6 xl:grid-cols-[minmax(0,1fr)_420px]",children:s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Create Inventory Transfer Report"})}),s.jsxs(Oe,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Ae,{id:"entityName",list:"entity-suggestions",value:O.entityName,onChange:k=>R({...O,entityName:k.target.value}),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO"}),s.jsx("datalist",{id:"entity-suggestions",children:ne.map(k=>s.jsx("option",{value:k},k))}),y.entityName&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.entityName}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Suggested: PROVINCIAL GOVERNMENT OF APAYAO (used across property cards and ICS forms)"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"fundCluster",children:"Fund Cluster *"}),s.jsx(Ae,{id:"fundCluster",value:O.fundCluster,onChange:k=>R({...O,fundCluster:k.target.value}),placeholder:"e.g., 101"}),y.fundCluster&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.fundCluster})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"itrNumber",children:"ITR No. *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ae,{id:"itrNumber",value:O.itrNumber,onChange:k=>R({...O,itrNumber:k.target.value.toUpperCase()}),placeholder:"ITR 2025-11-SPHV-0001"}),s.jsx(le,{type:"button",variant:"outline",onClick:me,children:"Generate"})]}),y.itrNumber&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.itrNumber}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: ITR YYYY-MM-SPHV|SPLV-#### (per month and value category)"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"transferDate",children:"Date *"}),s.jsx(Ae,{id:"transferDate",type:"date",value:O.date,onChange:k=>R({...O,date:k.target.value})}),y.date&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.date})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(bg,{className:"space-y-1",label:"From Accountable Officer *",value:O.fromAccountableOfficer,onChange:(k,D)=>R(X=>({...X,fromAccountableOfficer:k,fromAccountableOfficerDepartment:D==null?void 0:D.department_name,fromAccountableOfficerDesignation:(D==null?void 0:D.position)||"",fromAccountableOfficerId:D==null?void 0:D.id})),placeholder:"Search custodians...",required:!0}),y.fromOfficer&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.fromOfficer})]}),s.jsxs("div",{children:[s.jsx(bg,{className:"space-y-1",label:"To Accountable Officer *",value:O.toAccountableOfficer,onChange:(k,D)=>R(X=>({...X,toAccountableOfficer:k,toAccountableOfficerDepartment:D==null?void 0:D.department_name,toAccountableOfficerDesignation:(D==null?void 0:D.position)||"",toAccountableOfficerId:D==null?void 0:D.id})),placeholder:"Search custodians...",required:!0}),y.toOfficer&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.toOfficer})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Transfer Type *"}),s.jsxs($t,{value:O.transferType,onValueChange:k=>R(D=>({...D,transferType:k,otherTransferType:k==="Others"?D.otherTransferType:""})),children:[s.jsx(Rt,{children:s.jsx(qt,{placeholder:"Select transfer type"})}),s.jsx(Ot,{children:df.map(k=>s.jsx(je,{value:k,children:k},k))})]})]}),O.transferType==="Others"&&s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"otherTransferType",children:"Specify Other Transfer Type"}),s.jsx(Ae,{id:"otherTransferType",value:O.otherTransferType||"",onChange:k=>R({...O,otherTransferType:k.target.value}),placeholder:"Describe the transfer type"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(ue,{className:"text-base font-semibold",children:"Items to Transfer *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{type:"button",variant:"outline",size:"sm",onClick:He,children:"Select from ICS"}),s.jsx(le,{type:"button",variant:"secondary",size:"sm",onClick:()=>C(k=>!k),children:tt?"Disable Edit":"Enable Edit"}),W&&s.jsx(Kt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]})]}),y.items&&s.jsx("p",{className:"text-sm text-destructive",children:y.items}),O.items.length===0?s.jsx("div",{className:"rounded-md border border-dashed p-4 text-sm text-muted-foreground bg-muted/30",children:"Select items from existing ICS slips. The table will auto-fill Item No., ICS number/date, description, amount, and condition."}):s.jsxs("div",{className:"rounded-md border overflow-hidden",children:[s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{className:"w-[120px]",children:"Item No."}),s.jsx(Se,{children:"ICS No./Date"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{className:"text-right w-[120px]",children:"Amount"}),s.jsx(Se,{className:"w-[140px]",children:"Condition"}),s.jsx(Se,{className:"w-[160px] text-right",children:"Actions"})]})}),s.jsx(un,{children:O.items.map(k=>{const D=[k.icsSlipNumber,k.icsDate].filter(Boolean).join(" / ");return s.jsxs(mt,{children:[s.jsx(xe,{className:"font-medium",children:k.propertyNumber}),s.jsx(xe,{children:D||""}),s.jsx(xe,{children:tt?s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ae,{value:k.description,onChange:X=>Be(k.propertyNumber,"description",X.target.value)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Yd(k.dateAcquired),k.quantity?`  Qty: ${k.quantity}`:""]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:k.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Yd(k.dateAcquired),k.quantity?`  Qty: ${k.quantity}`:""]})]})}),s.jsx(xe,{className:"text-right",children:tt?s.jsx(Ae,{type:"number",value:k.amount??0,onChange:X=>Be(k.propertyNumber,"amount",Number(X.target.value)),className:"w-28 text-right"}):k.amount!==void 0?ui(k.amount):""}),s.jsx(xe,{children:tt?s.jsx(Ae,{value:k.condition||"",onChange:X=>Be(k.propertyNumber,"condition",X.target.value)}):k.condition||""}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>L(`/property-cards?search=${encodeURIComponent(k.propertyNumber)}`),children:"Card"}),s.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>L(`/custodian-slips?slip=${encodeURIComponent(k.icsSlipNumber||"")}`),children:"ICS"}),s.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>be(k.propertyNumber),children:"Remove"})]})})]},k.propertyNumber)})})]}),s.jsxs("div",{className:"px-4 py-2 text-sm text-right text-muted-foreground border-t",children:["Total amount of selected items: ",s.jsx("span",{className:"font-semibold",children:ui(z)})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reason",children:"Reason for Transfer *"}),s.jsx(Ti,{id:"reason",value:O.reason,onChange:k=>R({...O,reason:k.target.value}),placeholder:"Provide the justification or remarks for this transfer.",rows:4}),y.reason&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:y.reason})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),s.jsx(le,{type:"button",onClick:se,children:"Save Transfer"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[G.map(k=>{const D=k.items.reduce((X,te)=>X+(te.amount??0),0);return s.jsxs(Re,{className:"flex flex-col",children:[s.jsx(We,{children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{className:"text-lg",children:k.itrNumber}),de(k)&&s.jsx(Ye,{variant:"default",className:"bg-emerald-600 text-white",children:"Recently Added"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Yd(k.date)})]}),s.jsxs(Ye,{variant:k.status==="Draft"?"secondary":k.status==="Issued"||k.status==="Completed"?"default":k.status==="Rejected"?"destructive":"secondary",className:"flex items-center gap-1",children:[k.status==="Draft"?s.jsx(nl,{className:"h-3.5 w-3.5"}):k.status==="Issued"?s.jsx(Ma,{className:"h-3.5 w-3.5"}):k.status==="Completed"?s.jsx(Ma,{className:"h-3.5 w-3.5"}):k.status==="Rejected"?s.jsx(Va,{className:"h-3.5 w-3.5"}):s.jsx(nl,{className:"h-3.5 w-3.5"}),k.status]})]})}),s.jsxs(Oe,{className:"flex flex-1 flex-col gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Entity:"})," ",k.entityName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fund Cluster:"})," ",k.fundCluster]}),s.jsxs("p",{children:[s.jsx("strong",{children:"From:"})," ",Co(k.fromAccountableOfficer,k.fromAccountableOfficerDepartment)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"To:"})," ",Co(k.toAccountableOfficer,k.toAccountableOfficerDepartment)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Transfer Type:"})," ",k.transferType==="Others"&&k.otherTransferType?`${k.transferType}  ${k.otherTransferType}`:k.transferType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reason:"})," ",k.reason||""]}),D>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Total Amount:"})," ",ui(D)]})]}),k.items.length>0&&s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{children:"Item No."}),s.jsx(Se,{children:"ICS"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{className:"text-right",children:"Amount"})]})}),s.jsx(un,{children:k.items.map(X=>{const te=[X.icsSlipNumber,X.icsDate].filter(Boolean).join(" / ");return s.jsxs(mt,{children:[s.jsx(xe,{className:"font-medium",children:X.propertyNumber}),s.jsx(xe,{children:te||""}),s.jsxs(xe,{children:[s.jsx("div",{children:X.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[X.condition||"",X.quantity?`  Qty: ${X.quantity}`:""]})]}),s.jsx(xe,{className:"text-right",children:X.amount!==void 0?ui(X.amount):""})]},X.propertyNumber)})})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx(LI,{className:"h-4 w-4"}),"History"]}),s.jsx(wg,{className:"mt-2 max-h-32 pr-2",children:s.jsx("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:k.history.map((X,te)=>s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:jB(X.timestamp)})," "," ",X.action," (",X.status,")",X.details&&s.jsx("div",{className:"ml-5 text-[11px]",children:X.details})]},`${X.timestamp}-${te}`))})})]}),s.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[s.jsxs(le,{type:"button",size:"sm",variant:"outline",onClick:()=>ee(k),children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Print Inventory Transfer Report"]}),(k.status==="Rejected"||k.status==="Completed")&&s.jsx(le,{type:"button",size:"sm",variant:"destructive",className:"w-full",onClick:()=>H(k.id),children:k.status==="Rejected"?"Delete Rejected Transfer":"Delete Completed Transfer"}),(k.status==="Draft"||!k.status)&&s.jsx(le,{type:"button",size:"sm",variant:"default",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>T(k.id),disabled:fe.isPending,title:"Confirm this transfer as official (cannot be deleted after confirmation)",children:fe.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"h-3.5 w-3.5 mr-2 animate-spin"}),"Confirming..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ma,{className:"h-3.5 w-3.5 mr-2"}),"Confirm"]})}),(k.status==="Draft"||!k.status)&&s.jsx(le,{type:"button",size:"sm",variant:"outline",className:"flex-1 text-red-600 hover:text-red-700",onClick:()=>H(k.id),title:"Delete this draft transfer",children:"Delete"}),k.status==="Issued"&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(le,{type:"button",size:"sm",className:"flex-1",onClick:()=>J(k.id,"Completed"),children:"Mark Complete"}),s.jsx(le,{type:"button",size:"sm",variant:"destructive",className:"flex-1",onClick:()=>J(k.id,"Rejected"),children:"Reject"})]})]})]})]},k.id)}),!G.length&&s.jsxs(Re,{className:"col-span-full border-dashed border-muted-foreground/40",children:[s.jsx(We,{children:s.jsx(st,{className:"text-lg",children:"No transfers found"})}),s.jsx(Oe,{className:"text-muted-foreground",children:"Adjust the filters or create a new transfer to see it listed here."})]})]}),a&&Xa.createPortal(s.jsx("div",{className:"print-only",children:EB(a)}),document.body),s.jsx(gn,{open:j,onOpenChange:_,children:s.jsxs(sn,{className:"max-w-4xl",children:[s.jsxs(xn,{children:[s.jsx(bn,{children:"Select Items from ICS"}),s.jsxs(_s,{children:["Showing items issued to ",O.fromAccountableOfficer||"the selected accountable officer",". Choose the items that will be transferred."]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Ae,{placeholder:"Search by item number, description, ICS number",value:M,onChange:k=>U(k.target.value)}),s.jsx("div",{className:"border rounded-md h-[360px] overflow-hidden",children:s.jsx(wg,{className:"h-[360px]",children:s.jsxs(cn,{className:"table-fixed",children:[s.jsx(dn,{className:"sticky top-0 z-10 bg-background shadow-sm",children:s.jsxs(mt,{children:[s.jsx(Se,{className:"w-[48px]"}),s.jsx(Se,{className:"w-[160px]",children:"Item No."}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{className:"w-[200px]",children:"ICS No."}),s.jsx(Se,{className:"w-[140px]",children:"Date Issued"}),s.jsx(Se,{className:"w-[140px] text-right",children:"Amount"}),s.jsx(Se,{className:"w-[160px]",children:"Condition"})]})}),s.jsx(un,{children:W?s.jsx(mt,{children:s.jsx(xe,{colSpan:7,className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 py-10 text-muted-foreground",children:[s.jsx(Kt,{className:"h-4 w-4 animate-spin"}),"Loading ICS items"]})})}):ge.length===0?s.jsx(mt,{children:s.jsx(xe,{colSpan:7,className:"text-center text-muted-foreground py-10",children:"No ICS items found for the selected officer. Adjust your search or confirm the officer selection."})}):ge.map(k=>{const D=N.includes(k.id);return s.jsxs(mt,{className:"cursor-pointer",onClick:()=>ut(k.id),children:[s.jsx(xe,{className:"w-[48px]",children:s.jsx(fd,{checked:D,onCheckedChange:()=>ut(k.id)})}),s.jsx(xe,{className:"w-[160px] font-medium",children:k.propertyNumber}),s.jsx(xe,{className:"truncate",children:k.description||""}),s.jsx(xe,{className:"w-[200px] truncate",children:k.icsSlipNumber||""}),s.jsx(xe,{className:"w-[140px]",children:Yd(k.icsDate)}),s.jsx(xe,{className:"w-[140px] text-right",children:k.amount!==void 0?ui(k.amount):""}),s.jsx(xe,{className:"w-[160px]",children:k.condition||""})]},k.id)})})]})})})]}),s.jsxs(Q1,{className:"flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:N.length?`${N.length} item(s) selected`:"Select one or more items to add to the transfer."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"button",variant:"ghost",onClick:()=>_(!1),children:"Cancel"}),s.jsx(le,{type:"button",onClick:Pe,children:"Add Selected Items"})]})]})]})}),s.jsx("style",{children:`
        @media print {
          body > :not(.print-only) { display: none !important; }
          .print-only { display: block !important; }
          .signature-section { break-inside: avoid; }
        }
        .print-only { display: none; }
      `}),S&&s.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-md p-6 flex items-center gap-3",children:[s.jsx(Kt,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Updating"})]})})]})},PB=()=>{var F,O;const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState("All"),u=h.useRef(null),{toast:f}=es(),[m,p]=h.useState({countNumber:"",department:"",countDate:"",countType:"Annual",status:"Planned",conductedBy:[""],witnessedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}],remarks:""}),x=(R,S)=>S-R,g=()=>{var W;if(!m.countNumber||!m.department){f({title:"Error",description:"Please fill in required fields",variant:"destructive"});return}const R=((W=m.items)==null?void 0:W.map(ae=>({...ae,variance:x(ae.expectedQuantity,ae.actualQuantity)})))||[],S=R.reduce((ae,ge)=>ae+ge.expectedQuantity,0),A=R.reduce((ae,ge)=>ae+ge.actualQuantity,0),ne=A-S,Q={id:Date.now().toString(),...m,items:R,totalExpected:S,totalActual:A,totalVariance:ne};t([...e,Q]),p({countNumber:"",department:"",countDate:"",countType:"Annual",status:"Planned",conductedBy:[""],witnessedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}],remarks:""}),i(!1),f({title:"Success",description:"Physical count record created successfully"})},w=()=>{p({...m,items:[...m.items||[],{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}]})},v=(R,S,A)=>{const ne=[...m.items||[]];if(ne[R]={...ne[R],[S]:A},S==="expectedQuantity"||S==="actualQuantity"){const Q=S==="expectedQuantity"?A:ne[R].expectedQuantity,W=S==="actualQuantity"?A:ne[R].actualQuantity;ne[R].variance=x(Q,W)}p({...m,items:ne})},y=R=>{var A;const S=(A=m.items)==null?void 0:A.filter((ne,Q)=>Q!==R);p({...m,items:S})},b=()=>{p({...m,conductedBy:[...m.conductedBy||[],""]})},j=(R,S)=>{const A=[...m.conductedBy||[]];A[R]=S,p({...m,conductedBy:A})},_=R=>{var A;const S=(A=m.conductedBy)==null?void 0:A.filter((ne,Q)=>Q!==R);p({...m,conductedBy:S})},N=(R,S)=>{t(e.map(A=>A.id===R?{...A,status:S}:A)),f({title:"Success",description:`Physical count status updated to ${S}`})},E=R=>{n(R),setTimeout(()=>{window.print()},100)},M=R=>{switch(R){case"Planned":return s.jsx(nl,{className:"h-4 w-4"});case"Completed":return s.jsx(Ma,{className:"h-4 w-4"});case"Under Review":return s.jsx(zu,{className:"h-4 w-4"});default:return s.jsx(nl,{className:"h-4 w-4"})}},U=R=>{switch(R){case"Planned":return"secondary";case"In Progress":return"warning";case"Completed":return"success";case"Under Review":return"warning";default:return"secondary"}},$=R=>R===0?"success":R>0?"warning":"destructive",L=e.filter(R=>{const S=R.countNumber.toLowerCase().includes(o.toLowerCase())||R.department.toLowerCase().includes(o.toLowerCase()),A=c==="All"||R.status===c;return S&&A});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Physical Count of Semi-Expandable Property"}),s.jsxs(le,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(za,{className:"h-4 w-4"}),"Create Physical Count"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{placeholder:"Search physical counts...",value:o,onChange:R=>l(R.target.value),className:"pl-10"})]}),s.jsxs($t,{value:c,onValueChange:d,children:[s.jsx(Rt,{className:"w-48",children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All Status"}),s.jsx(je,{value:"Planned",children:"Planned"}),s.jsx(je,{value:"In Progress",children:"In Progress"}),s.jsx(je,{value:"Completed",children:"Completed"}),s.jsx(je,{value:"Under Review",children:"Under Review"})]})]})]}),a&&s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Create Physical Count Record"})}),s.jsxs(Oe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"countNumber",children:"Count Number *"}),s.jsx(Ae,{id:"countNumber",value:m.countNumber,onChange:R=>p({...m,countNumber:R.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"countDate",children:"Count Date"}),s.jsx(Ae,{id:"countDate",type:"date",value:m.countDate,onChange:R=>p({...m,countDate:R.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"department",children:"Department *"}),s.jsx(Ae,{id:"department",value:m.department,onChange:R=>p({...m,department:R.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Count Type"}),s.jsxs($t,{value:m.countType,onValueChange:R=>p({...m,countType:R}),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"Annual",children:"Annual"}),s.jsx(je,{value:"Quarterly",children:"Quarterly"}),s.jsx(je,{value:"Special",children:"Special"}),s.jsx(je,{value:"Spot Check",children:"Spot Check"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{children:"Conducted By"}),s.jsx(le,{type:"button",onClick:b,size:"sm",variant:"outline",children:"Add Person"})]}),(F=m.conductedBy)==null?void 0:F.map((R,S)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(Ae,{placeholder:"Name and Position",value:R,onChange:A=>j(S,A.target.value)}),m.conductedBy&&m.conductedBy.length>1&&s.jsx(le,{type:"button",onClick:()=>_(S),size:"sm",variant:"destructive",children:"Remove"})]},S))]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"witnessedBy",children:"Witnessed By"}),s.jsx(Ae,{id:"witnessedBy",value:m.witnessedBy,onChange:R=>p({...m,witnessedBy:R.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"approvedBy",children:"Approved By"}),s.jsx(Ae,{id:"approvedBy",value:m.approvedBy,onChange:R=>p({...m,approvedBy:R.target.value})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{children:"Items"}),s.jsx(le,{type:"button",onClick:w,size:"sm",variant:"outline",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:(O=m.items)==null?void 0:O.map((R,S)=>s.jsxs("div",{className:"grid grid-cols-8 gap-2 p-2 border rounded",children:[s.jsx(Ae,{placeholder:"Property #",value:R.propertyNumber,onChange:A=>v(S,"propertyNumber",A.target.value)}),s.jsx(Ae,{placeholder:"Description",value:R.description,onChange:A=>v(S,"description",A.target.value)}),s.jsx(Ae,{placeholder:"Expected",type:"number",value:R.expectedQuantity,onChange:A=>v(S,"expectedQuantity",parseInt(A.target.value)||0)}),s.jsx(Ae,{placeholder:"Actual",type:"number",value:R.actualQuantity,onChange:A=>v(S,"actualQuantity",parseInt(A.target.value)||0)}),s.jsx(Ae,{placeholder:"Location",value:R.location,onChange:A=>v(S,"location",A.target.value)}),s.jsxs($t,{value:R.condition,onValueChange:A=>v(S,"condition",A),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"Serviceable",children:"Serviceable"}),s.jsx(je,{value:"For Repair",children:"For Repair"}),s.jsx(je,{value:"Unserviceable",children:"Unserviceable"}),s.jsx(je,{value:"Missing",children:"Missing"})]})]}),s.jsx("div",{className:"text-center py-2",children:s.jsxs(Ye,{variant:$(R.variance),children:[R.variance>0?"+":"",R.variance]})}),s.jsx(le,{type:"button",onClick:()=>y(S),size:"sm",variant:"destructive",children:""})]},S))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"remarks",children:"General Remarks"}),s.jsx(Ti,{id:"remarks",value:m.remarks,onChange:R=>p({...m,remarks:R.target.value})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{onClick:g,children:"Create Count"}),s.jsx(le,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:L.map(R=>s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(st,{className:"text-lg",children:R.countNumber}),s.jsxs(Ye,{variant:U(R.status),className:"flex items-center gap-1",children:[M(R.status),R.status]})]})}),s.jsxs(Oe,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",R.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",R.countType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",R.countDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Items:"})," ",R.items.length]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Expected:"})," ",R.totalExpected]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Actual:"})," ",R.totalActual]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:"Variance:"}),s.jsxs(Ye,{variant:$(R.totalVariance),children:[R.totalVariance>0?"+":"",R.totalVariance]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs(le,{onClick:()=>E(R),size:"sm",variant:"outline",children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Print Report"]}),R.status!=="Completed"&&s.jsxs("div",{className:"flex gap-1",children:[R.status==="Planned"&&s.jsx(le,{onClick:()=>N(R.id,"In Progress"),size:"sm",className:"flex-1",children:"Start Count"}),R.status==="In Progress"&&s.jsx(le,{onClick:()=>N(R.id,"Under Review"),size:"sm",className:"flex-1",children:"Submit Review"}),R.status==="Under Review"&&s.jsx(le,{onClick:()=>N(R.id,"Completed"),size:"sm",className:"flex-1",children:"Complete"})]})]})]})]},R.id))}),r&&s.jsx("div",{className:"print-only",children:s.jsxs("div",{ref:u,className:"max-w-4xl mx-auto p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"REPORT ON THE PHYSICAL COUNT OF SEMI-EXPANDABLE PROPERTY"}),s.jsxs("p",{className:"text-lg",children:["Count No: ",r.countNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"COUNT DETAILS"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",r.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Count Type:"})," ",r.countType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",r.countDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",r.status]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"SUMMARY"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Total Expected:"})," ",r.totalExpected]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Actual:"})," ",r.totalActual]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Variance:"})," ",r.totalVariance>0?"+":"",r.totalVariance]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"CONDUCTED BY"}),s.jsx("div",{className:"space-y-1",children:r.conductedBy.map((R,S)=>s.jsxs("p",{children:[" ",R]},S))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"ITEMS COUNTED"}),s.jsxs("table",{className:"w-full border-collapse border border-black text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-1 text-left",children:"Property Number"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Expected"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Actual"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Variance"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Condition"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Location"})]})}),s.jsx("tbody",{children:r.items.map((R,S)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1",children:R.propertyNumber}),s.jsx("td",{className:"border border-black p-1",children:R.description}),s.jsx("td",{className:"border border-black p-1 text-center",children:R.expectedQuantity}),s.jsx("td",{className:"border border-black p-1 text-center",children:R.actualQuantity}),s.jsxs("td",{className:"border border-black p-1 text-center",children:[R.variance>0?"+":"",R.variance]}),s.jsx("td",{className:"border border-black p-1",children:R.condition}),s.jsx("td",{className:"border border-black p-1",children:R.location})]},S))})]})]}),r.remarks&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"REMARKS"}),s.jsx("p",{children:r.remarks})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center mt-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Count Team Leader"}),s.jsx("p",{className:"mt-8",children:r.conductedBy[0]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Witnessed By"}),s.jsx("p",{className:"mt-8",children:r.witnessedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Approved By"}),s.jsx("p",{className:"mt-8",children:r.approvedBy})]})})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; }
        }
        .print-only { display: none; }
      `})]})},TB=()=>{var $;const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState("All"),[u,f]=h.useState("All"),m=h.useRef(null),{toast:p}=es(),[x,g]=h.useState({reportNumber:"",department:"",reportDate:"",incidentDate:"",reportType:"Lost",status:"Draft",reportedBy:"",investigatedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:"Lost",circumstances:""}],incidentDescription:"",actionsTaken:"",recommendations:"",attachments:[]}),w=()=>{var O;if(!x.reportNumber||!x.department||!x.reportType){p({title:"Error",description:"Please fill in required fields",variant:"destructive"});return}const L=((O=x.items)==null?void 0:O.reduce((R,S)=>R+S.totalCost,0))||0,F={id:Date.now().toString(),...x,totalLossAmount:L};t([...e,F]),g({reportNumber:"",department:"",reportDate:"",incidentDate:"",reportType:"Lost",status:"Draft",reportedBy:"",investigatedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:"Lost",circumstances:""}],incidentDescription:"",actionsTaken:"",recommendations:"",attachments:[]}),i(!1),p({title:"Success",description:"Loss report created successfully"})},v=()=>{g({...x,items:[...x.items||[],{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:x.reportType||"Lost",circumstances:""}]})},y=(L,F,O)=>{const R=[...x.items||[]];if(R[L]={...R[L],[F]:O},F==="quantity"||F==="unitCost"){const S=F==="quantity"?O:R[L].quantity,A=F==="unitCost"?O:R[L].unitCost;R[L].totalCost=S*A}g({...x,items:R})},b=L=>{var O;const F=(O=x.items)==null?void 0:O.filter((R,S)=>S!==L);g({...x,items:F})},j=(L,F)=>{t(e.map(O=>O.id===L?{...O,status:F}:O)),p({title:"Success",description:`Report status updated to ${F}`})},_=L=>{n(L),setTimeout(()=>{window.print()},100)},N=L=>{switch(L){case"Draft":return s.jsx(nl,{className:"h-4 w-4"});case"Under Investigation":return s.jsx(zu,{className:"h-4 w-4"});case"Approved":return s.jsx(Ma,{className:"h-4 w-4"});default:return s.jsx(nl,{className:"h-4 w-4"})}},E=L=>{switch(L){case"Draft":return"secondary";case"Submitted":return"warning";case"Under Investigation":return"warning";case"Approved":return"success";case"Rejected":return"destructive";default:return"secondary"}},M=L=>{switch(L){case"Lost":return"warning";case"Stolen":return"destructive";case"Damaged":return"secondary";case"Destroyed":return"destructive";default:return"secondary"}},U=e.filter(L=>{const F=L.reportNumber.toLowerCase().includes(o.toLowerCase())||L.department.toLowerCase().includes(o.toLowerCase()),O=c==="All"||L.status===c,R=u==="All"||L.reportType===u;return F&&O&&R});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Loss/Damage Reports"}),s.jsxs(le,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(za,{className:"h-4 w-4"}),"Create New Report"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Ae,{placeholder:"Search reports...",value:o,onChange:L=>l(L.target.value),className:"pl-10"})]}),s.jsxs($t,{value:c,onValueChange:d,children:[s.jsx(Rt,{className:"w-48",children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All Status"}),s.jsx(je,{value:"Draft",children:"Draft"}),s.jsx(je,{value:"Submitted",children:"Submitted"}),s.jsx(je,{value:"Under Investigation",children:"Under Investigation"}),s.jsx(je,{value:"Approved",children:"Approved"}),s.jsx(je,{value:"Rejected",children:"Rejected"})]})]}),s.jsxs($t,{value:u,onValueChange:f,children:[s.jsx(Rt,{className:"w-48",children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All Types"}),s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]})]}),a&&s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Create Loss/Damage Report"})}),s.jsxs(Oe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reportNumber",children:"Report Number *"}),s.jsx(Ae,{id:"reportNumber",value:x.reportNumber,onChange:L=>g({...x,reportNumber:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reportDate",children:"Report Date"}),s.jsx(Ae,{id:"reportDate",type:"date",value:x.reportDate,onChange:L=>g({...x,reportDate:L.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"department",children:"Department *"}),s.jsx(Ae,{id:"department",value:x.department,onChange:L=>g({...x,department:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"incidentDate",children:"Incident Date"}),s.jsx(Ae,{id:"incidentDate",type:"date",value:x.incidentDate,onChange:L=>g({...x,incidentDate:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Report Type *"}),s.jsxs($t,{value:x.reportType,onValueChange:L=>g({...x,reportType:L}),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"incidentDescription",children:"Incident Description"}),s.jsx(Ti,{id:"incidentDescription",value:x.incidentDescription,onChange:L=>g({...x,incidentDescription:L.target.value}),placeholder:"Describe what happened, when, where, and circumstances"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{children:"Affected Items"}),s.jsx(le,{type:"button",onClick:v,size:"sm",variant:"outline",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:($=x.items)==null?void 0:$.map((L,F)=>s.jsxs("div",{className:"grid grid-cols-7 gap-2 p-2 border rounded",children:[s.jsx(Ae,{placeholder:"Property Number",value:L.propertyNumber,onChange:O=>y(F,"propertyNumber",O.target.value)}),s.jsx(Ae,{placeholder:"Description",value:L.description,onChange:O=>y(F,"description",O.target.value)}),s.jsx(Ae,{placeholder:"Qty",type:"number",value:L.quantity,onChange:O=>y(F,"quantity",parseInt(O.target.value)||0)}),s.jsx(Ae,{placeholder:"Unit Cost",type:"number",step:"0.01",value:L.unitCost,onChange:O=>y(F,"unitCost",parseFloat(O.target.value)||0)}),s.jsx(Ae,{placeholder:"Total Cost",type:"number",value:L.totalCost,readOnly:!0,className:"bg-muted"}),s.jsxs($t,{value:L.condition,onValueChange:O=>y(F,"condition",O),children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]}),s.jsx(le,{type:"button",onClick:()=>b(F),size:"sm",variant:"destructive",children:""})]},F))})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"actionsTaken",children:"Actions Taken"}),s.jsx(Ti,{id:"actionsTaken",value:x.actionsTaken,onChange:L=>g({...x,actionsTaken:L.target.value}),placeholder:"Describe immediate actions taken after the incident"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"recommendations",children:"Recommendations"}),s.jsx(Ti,{id:"recommendations",value:x.recommendations,onChange:L=>g({...x,recommendations:L.target.value}),placeholder:"Recommendations to prevent similar incidents"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reportedBy",children:"Reported By"}),s.jsx(Ae,{id:"reportedBy",value:x.reportedBy,onChange:L=>g({...x,reportedBy:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"investigatedBy",children:"Investigated By"}),s.jsx(Ae,{id:"investigatedBy",value:x.investigatedBy,onChange:L=>g({...x,investigatedBy:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"approvedBy",children:"Approved By"}),s.jsx(Ae,{id:"approvedBy",value:x.approvedBy,onChange:L=>g({...x,approvedBy:L.target.value})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{onClick:w,children:"Create Report"}),s.jsx(le,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:U.map(L=>s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(st,{className:"text-lg",children:L.reportNumber}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs(Ye,{variant:E(L.status),className:"flex items-center gap-1",children:[N(L.status),L.status]}),s.jsx(Ye,{variant:M(L.reportType),children:L.reportType})]})]})}),s.jsxs(Oe,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",L.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incident Date:"})," ",L.incidentDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Items Affected:"})," ",L.items.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Loss:"})," ",L.totalLossAmount.toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reported By:"})," ",L.reportedBy]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs(le,{onClick:()=>_(L),size:"sm",variant:"outline",children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Print Report"]}),L.status!=="Approved"&&L.status!=="Rejected"&&s.jsxs("div",{className:"flex gap-1",children:[L.status==="Draft"&&s.jsx(le,{onClick:()=>j(L.id,"Submitted"),size:"sm",className:"flex-1",children:"Submit"}),L.status==="Submitted"&&s.jsx(le,{onClick:()=>j(L.id,"Under Investigation"),size:"sm",className:"flex-1",children:"Investigate"}),L.status==="Under Investigation"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx(le,{onClick:()=>j(L.id,"Approved"),size:"sm",className:"flex-1",children:"Approve"}),s.jsx(le,{onClick:()=>j(L.id,"Rejected"),size:"sm",variant:"destructive",className:"flex-1",children:"Reject"})]})]})]})]})]},L.id))}),r&&s.jsx("div",{className:"print-only",children:s.jsxs("div",{ref:m,className:"max-w-4xl mx-auto p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["REPORT OF ",r.reportType.toUpperCase(),", STOLEN, DAMAGED OR DESTROYED PROPERTY"]}),s.jsxs("p",{className:"text-lg",children:["Report No: ",r.reportNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"REPORT DETAILS"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",r.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report Type:"})," ",r.reportType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report Date:"})," ",r.reportDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incident Date:"})," ",r.incidentDate]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"PERSONNEL"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Reported By:"})," ",r.reportedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Investigated By:"})," ",r.investigatedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Approved By:"})," ",r.approvedBy]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"INCIDENT DESCRIPTION"}),s.jsx("p",{className:"text-justify",children:r.incidentDescription})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"AFFECTED ITEMS"}),s.jsxs("table",{className:"w-full border-collapse border border-black",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-2 text-left",children:"Property Number"}),s.jsx("th",{className:"border border-black p-2 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border border-black p-2 text-right",children:"Unit Cost"}),s.jsx("th",{className:"border border-black p-2 text-right",children:"Total Cost"}),s.jsx("th",{className:"border border-black p-2 text-center",children:"Status"})]})}),s.jsxs("tbody",{children:[r.items.map((L,F)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-2",children:L.propertyNumber}),s.jsx("td",{className:"border border-black p-2",children:L.description}),s.jsx("td",{className:"border border-black p-2 text-center",children:L.quantity}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",L.unitCost.toLocaleString()]}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",L.totalCost.toLocaleString()]}),s.jsx("td",{className:"border border-black p-2 text-center",children:L.condition})]},F)),s.jsxs("tr",{className:"font-bold bg-gray-100",children:[s.jsx("td",{colSpan:4,className:"border border-black p-2 text-right",children:"TOTAL LOSS AMOUNT:"}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",r.totalLossAmount.toLocaleString()]}),s.jsx("td",{className:"border border-black p-2"})]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"ACTIONS TAKEN"}),s.jsx("p",{className:"text-justify",children:r.actionsTaken})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"RECOMMENDATIONS"}),s.jsx("p",{className:"text-justify",children:r.recommendations})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center mt-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Reported By"}),s.jsx("p",{className:"mt-8",children:r.reportedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Investigated By"}),s.jsx("p",{className:"mt-8",children:r.investigatedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Approved By"}),s.jsx("p",{className:"mt-8",children:r.approvedBy})]})})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; }
        }
        .print-only { display: none; }
      `})]})},AB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Semi-Expandable Property Ledger Card"}),s.jsxs(le,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(We,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-bold uppercase",children:"SEMI-EXPANDABLE PROPERTY LEDGER CARD"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Oe,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Property Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.propertyNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Description:"}),s.jsx("p",{className:"text-sm",children:e.description})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Unit:"}),s.jsx("p",{className:"text-sm",children:e.unit})]})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Reference Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Received"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Issued"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Balance"}),s.jsx("th",{className:"p-2 text-center",children:"Recipient/Issuer"})]})}),s.jsxs("tbody",{children:[e.entries.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.date}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.referenceNumber}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.received||"-"}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.issued||"-"}),s.jsx("td",{className:"border-r border-black p-2 text-center font-semibold",children:r.balance}),s.jsx("td",{className:"p-2",children:r.recipient})]},n)),Array.from({length:Math.max(0,10-e.entries.length)}).map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 h-8",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"p-2",children:""})]},`empty-${n}`))]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]})]})]})]})]})},IB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory Transfer Report"}),s.jsxs(le,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(We,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-bold uppercase",children:"INVENTORY TRANSFER REPORT"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Oe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Transfer Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.transferNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Date:"}),s.jsx("p",{className:"text-sm",children:e.date})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"From Department:"}),s.jsx("p",{className:"text-sm",children:e.fromDepartment})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"From Custodian:"}),s.jsx("p",{className:"text-sm",children:e.fromCustodian})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"To Department:"}),s.jsx("p",{className:"text-sm",children:e.toDepartment})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"To Custodian:"}),s.jsx("p",{className:"text-sm",children:e.toCustodian})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Reason for Transfer:"}),s.jsx("p",{className:"text-sm",children:e.reason})]})]})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Serial Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"p-2 text-center",children:"Remarks"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.quantity}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.unit}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.serialNumber}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.condition}),s.jsx("td",{className:"p-2",children:r.remarks})]},n))})]})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Released by:"}),s.jsx("p",{className:"text-xs",children:"(Signature over Printed Name)"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Received by:"}),s.jsx("p",{className:"text-xs",children:"(Signature over Printed Name)"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Approved by:"}),s.jsx("p",{className:"text-xs",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Date"})]})]})]})]})]})},RB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Report on Physical Count of Semi-Expandable Property"}),s.jsxs(le,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(We,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"REPORT ON THE PHYSICAL COUNT OF SEMI-EXPANDABLE PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Oe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Count Date:"}),s.jsx("p",{className:"text-sm",children:e.countDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Property Custodian:"}),s.jsx("p",{className:"text-sm",children:e.custodian})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Counted By:"}),s.jsx("div",{className:"text-sm space-y-1",children:e.countedBy.map((r,n)=>s.jsx("p",{children:r},n))})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Book Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Actual Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Variance"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Location"}),s.jsx("th",{className:"p-2 text-center",children:"Remarks"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.bookQuantity}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.actualQuantity}),s.jsxs("td",{className:`border-r border-black p-2 text-center font-semibold ${r.variance!==0?r.variance>0?"text-green-600":"text-red-600":""}`,children:[r.variance>0?"+":"",r.variance]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.condition}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.location}),s.jsx("td",{className:"p-2",children:r.remarks})]},n))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL VARIANCE:"}),s.jsxs("td",{className:`border-r border-black p-2 text-center font-bold text-lg ${e.totalVariance!==0?e.totalVariance>0?"text-green-600":"text-red-600":""}`,children:[e.totalVariance>0?"+":"",e.totalVariance]}),s.jsx("td",{colSpan:3,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"SUMMARY OF VARIANCES:"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Overage: "}),s.jsxs("span",{className:"text-green-600",children:["+",e.items.filter(r=>r.variance>0).reduce((r,n)=>r+n.variance,0)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Shortage: "}),s.jsx("span",{className:"text-red-600",children:e.items.filter(r=>r.variance<0).reduce((r,n)=>r+n.variance,0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Net Variance: "}),s.jsxs("span",{className:e.totalVariance!==0?e.totalVariance>0?"text-green-600":"text-red-600":"",children:[e.totalVariance>0?"+":"",e.totalVariance]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Inventory Committee Chairman"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]})]})]})]})]})},OB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Report of Lost, Stolen, Damaged or Destroyed Property"}),s.jsxs(le,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(We,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"REPORT OF LOST, STOLEN, DAMAGED OR DESTROYED PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Oe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Date:"}),s.jsx("p",{className:"text-sm",children:e.reportDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Reported By:"}),s.jsx("p",{className:"text-sm",children:e.reportedBy})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Investigated By:"}),s.jsx("p",{className:"text-sm",children:e.investigatedBy})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date Acquired"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date of Loss"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Cause"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Responsible Person"}),s.jsx("th",{className:"p-2 text-center",children:"Action Taken"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.quantity}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",r.unitCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-semibold",children:["",r.totalCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.dateAcquired}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.dateOfLoss}),s.jsx("td",{className:"border-r border-black p-2",children:r.cause}),s.jsx("td",{className:"border-r border-black p-2",children:r.responsible}),s.jsx("td",{className:"p-2",children:r.actionTaken})]},n))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL LOSS VALUE:"}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-bold text-lg text-red-600",children:["",e.totalLoss.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{colSpan:5,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"RECOMMENDATIONS:"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{className:"border-b border-gray-200 pb-8",children:s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended actions based on investigation findings:"})})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Prepared by:"}),s.jsx("p",{className:"text-xs",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Noted by:"}),s.jsx("p",{className:"text-xs",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Approved by:"}),s.jsx("p",{className:"text-xs",children:"Head of Office"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Date"})]})]})]})]})]})},DB=({data:e})=>{const t=()=>{window.print()},r=n=>{switch(n){case"Repair":return"text-blue-600";case"Dispose":return"text-orange-600";case"Condemn":return"text-red-600";default:return""}};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory and Inspection Report of Unserviceable Semi-Expandable Property"}),s.jsxs(le,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(We,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"INVENTORY AND INSPECTION REPORT OF UNSERVICEABLE SEMI-EXPANDABLE PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Oe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Date:"}),s.jsx("p",{className:"text-sm",children:e.reportDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Review Period:"}),s.jsx("p",{className:"text-sm",children:e.reviewPeriod})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Inspected By:"}),s.jsx("div",{className:"text-sm space-y-1",children:e.inspectedBy.map((n,a)=>s.jsx("p",{children:n},a))})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date Acquired"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Defects/Issues"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Recommendation"}),s.jsx("th",{className:"p-2 text-center",children:"Estimated Repair Cost"})]})}),s.jsx("tbody",{children:e.items.map((n,a)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:a+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:n.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:n.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.quantity}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",n.unitCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",n.totalCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.dateAcquired}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.condition}),s.jsx("td",{className:"border-r border-black p-2",children:n.defects}),s.jsx("td",{className:`border-r border-black p-2 text-center font-semibold ${r(n.recommendation)}`,children:n.recommendation}),s.jsx("td",{className:"p-2 text-right",children:n.estimatedRepairCost?`${n.estimatedRepairCost.toLocaleString("en-PH",{minimumFractionDigits:2})}`:"-"})]},a))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL VALUE OF UNSERVICEABLE PROPERTY:"}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-bold text-lg text-orange-600",children:["",e.totalValue.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{colSpan:5,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border border-gray-400",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-blue-600",children:"FOR REPAIR"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Repair").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-orange-600",children:"FOR DISPOSAL"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Dispose").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-red-600",children:"FOR CONDEMNATION"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Condemn").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]})]}),s.jsxs("div",{className:"p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"INSPECTOR'S NOTES:"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{className:"border-b border-gray-200 pb-8",children:s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Additional observations and recommendations:"})})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Inspection Committee Chairman"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]})]})]})]})]})},MB=({data:e})=>{const[t,r]=h.useState(""),[n,a]=h.useState(!1),{data:i=[],isLoading:o}=ir({queryKey:["custodian-summaries"],queryFn:()=>gs.getAllSummaries(),enabled:!0}),{data:l=[]}=ir({queryKey:["custodian-item-history",t,n],queryFn:()=>gs.getItemHistory(t,{includeReturned:n}),enabled:!!t}),c=i.find(u=>u.custodian.id===t),d=()=>{console.log("Exporting custodian report...")};return o?s.jsx("div",{className:"p-6",children:s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading custodian data..."})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(sl,{className:"h-8 w-8"}),"Custodian Information Report"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive report showing all items and records for each custodian"})]}),s.jsxs(le,{onClick:d,children:[s.jsx(Sy,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sl,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Custodians"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items Assigned"}),s.jsx("p",{className:"text-2xl font-bold",children:i.reduce((u,f)=>u+f.total_items_assigned,0)})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hu,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Assigned"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",i.reduce((u,f)=>u+f.total_value_assigned,0).toLocaleString()]})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently Assigned"}),s.jsx("p",{className:"text-2xl font-bold",children:i.reduce((u,f)=>u+f.currently_assigned_items,0)})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"flex items-center gap-2",children:[s.jsx(Pc,{className:"h-5 w-5"}),"All Custodians"]})}),s.jsx(Oe,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.map(u=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${t===u.custodian.id?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,onClick:()=>r(u.custodian.id),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.custodian.name}),s.jsx("p",{className:"text-sm opacity-75",children:u.custodian.custodian_no})]}),s.jsx(Ye,{variant:u.custodian.is_active?"default":"secondary",children:u.currently_assigned_items})]}),s.jsxs("div",{className:"mt-2 text-xs opacity-75",children:[s.jsx("p",{children:u.custodian.department_name||"No Department"}),s.jsxs("p",{children:["",u.currently_assigned_value.toLocaleString()]})]})]},u.custodian.id))})})]})}),s.jsx("div",{className:"lg:col-span-2",children:c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"flex items-center justify-between",children:[s.jsx("span",{children:c.custodian.name}),s.jsx(Ye,{variant:c.custodian.is_active?"default":"secondary",children:c.custodian.is_active?"Active":"Inactive"})]})}),s.jsx(Oe,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custodian Number"}),s.jsx("p",{className:"font-mono",children:c.custodian.custodian_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Position"}),s.jsx("p",{children:c.custodian.position||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{children:c.custodian.department_name||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),s.jsx("p",{children:c.last_activity_date?ps(new Date(c.last_activity_date),"MMM dd, yyyy"):"No activity"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Items"}),s.jsx("p",{className:"text-2xl font-bold",children:c.currently_assigned_items})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hu,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",c.currently_assigned_value.toLocaleString()]})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:c.total_items_assigned})]})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hu,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",c.total_value_assigned.toLocaleString()]})]})]})})})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs(st,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Item History"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs($t,{value:n?"all":"current",onValueChange:u=>a(u==="all"),children:[s.jsx(Rt,{className:"w-40",children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"current",children:"Current Only"}),s.jsx(je,{value:"all",children:"All History"})]})]})})]})}),s.jsx(Oe,{children:l.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No item history found for this custodian."}):s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Category"}),s.jsx(Se,{children:"Condition"}),s.jsx(Se,{children:"Value"}),s.jsx(Se,{children:"Slip Number"}),s.jsx(Se,{children:"Date Issued"}),s.jsx(Se,{children:"Status"})]})}),s.jsx(un,{children:l.map(u=>s.jsxs(mt,{children:[s.jsx(xe,{className:"font-mono",children:u.property_number}),s.jsx(xe,{children:u.description}),s.jsx(xe,{children:s.jsx(Ye,{variant:"outline",children:u.category})}),s.jsx(xe,{children:s.jsx(Ye,{variant:u.condition==="Serviceable"?"default":"destructive",children:u.condition})}),s.jsxs(xe,{children:["",u.total_cost.toLocaleString()]}),s.jsx(xe,{className:"font-mono",children:u.custodian_slip_number}),s.jsx(xe,{children:u.date_issued?ps(new Date(u.date_issued),"MMM dd, yyyy"):"-"}),s.jsx(xe,{children:s.jsx(Ye,{variant:u.is_currently_assigned?"default":"secondary",children:u.is_currently_assigned?"Currently Assigned":"Returned"})})]},u.id))})]})})]})]}):s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Select a custodian from the list to view detailed information"})})})})]})]})},LB={async getAll(e={}){const{page:t=1,limit:r=50,category:n,status:a,condition:i,search:o}=e,{from:l,to:c}=Kf(t,r);let d=B.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `,{count:"exact"}).range(l,c);n&&(d=d.eq("category",n)),a&&(d=d.eq("status",a)),i&&(d=d.eq("condition",i)),o&&(d=d.or(`property_number.ilike.%${o}%,description.ilike.%${o}%,brand.ilike.%${o}%`));const u=await d.order("created_at",{ascending:!1});if(u.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:u.error.message};const f=u.count||0,m=Math.ceil(f/r);return{data:u.data||[],pagination:{page:t,limit:r,total:f,totalPages:m},success:!0}},async getById(e){var r;const t=await B.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `).eq("id",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getByPropertyNumber(e){var r;const t=await B.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `).eq("property_number",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async create(e){var r;const t=await B.from("inventory_items").insert({property_number:e.propertyNumber,description:e.description,brand:e.brand,model:e.model,serial_number:e.serialNumber,unit_of_measure:e.unitOfMeasure,quantity:e.quantity,unit_cost:e.unitCost,total_cost:e.totalCost,date_acquired:e.dateAcquired,supplier_id:e.supplier||null,condition:e.condition,location_id:e.location||null,custodian_id:e.custodian||null,custodian_position:e.custodianPosition,accountable_officer:e.accountableOfficer,fund_source_id:e.fundSource||null,remarks:e.remarks,last_inventory_date:e.lastInventoryDate,category:e.category,status:e.status}).select().single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var a;const r={};t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.brand&&(r.brand=t.brand),t.model&&(r.model=t.model),t.serialNumber&&(r.serial_number=t.serialNumber),t.unitOfMeasure&&(r.unit_of_measure=t.unitOfMeasure),t.quantity!==void 0&&(r.quantity=t.quantity),t.unitCost!==void 0&&(r.unit_cost=t.unitCost),t.totalCost!==void 0&&(r.total_cost=t.totalCost),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.supplier&&(r.supplier_id=t.supplier),t.condition&&(r.condition=t.condition),t.location&&(r.location_id=t.location),t.custodian&&(r.custodian_id=t.custodian),t.custodianPosition&&(r.custodian_position=t.custodianPosition),t.accountableOfficer&&(r.accountable_officer=t.accountableOfficer),t.fundSource&&(r.fund_source_id=t.fundSource),t.remarks&&(r.remarks=t.remarks),t.lastInventoryDate&&(r.last_inventory_date=t.lastInventoryDate),t.category&&(r.category=t.category),t.status&&(r.status=t.status);const n=await B.from("inventory_items").update(r).eq("id",e).select().single();return{data:n.data,error:((a=n.error)==null?void 0:a.message)||null,success:!n.error}},async delete(e){var r;const t=await B.from("inventory_items").delete().eq("id",e);return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getStatistics(){try{const{count:e}=await B.from("inventory_items").select("*",{count:"exact",head:!0}),{data:t}=await B.from("inventory_items").select("total_cost"),r=(t==null?void 0:t.reduce((d,u)=>d+(u.total_cost||0),0))||0,{data:n}=await B.from("inventory_items").select("category").not("category","is",null),a=(n==null?void 0:n.reduce((d,u)=>(d[u.category]=(d[u.category]||0)+1,d),{}))||{},{data:i}=await B.from("inventory_items").select("status").not("status","is",null),o=(i==null?void 0:i.reduce((d,u)=>(d[u.status]=(d[u.status]||0)+1,d),{}))||{},{data:l}=await B.from("inventory_items").select("condition").not("condition","is",null),c=(l==null?void 0:l.reduce((d,u)=>(d[u.condition]=(d[u.condition]||0)+1,d),{}))||{};return{data:{totalItems:e||0,totalValue:r,byCategory:a,byStatus:o,byCondition:c},error:null,success:!0}}catch(e){return{data:null,error:e instanceof Error?e.message:"Unknown error",success:!1}}},async search(e,t={}){return this.getAll({...t,search:e})}},FB={async getAll(e={}){const{page:t=1,limit:r=50,isActive:n,search:a}=e,{from:i,to:o}=Kf(t,r);let l=B.from("departments").select("*",{count:"exact"}).range(i,o);n!==void 0&&(l=l.eq("is_active",n)),a&&(l=l.or(`name.ilike.%${a}%,code.ilike.%${a}%,description.ilike.%${a}%`));const c=await l.order("name",{ascending:!0});if(c.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:c.error.message};const d=c.count||0,u=Math.ceil(d/r);return{data:c.data||[],pagination:{page:t,limit:r,total:d,totalPages:u},success:!0}},async getById(e){var r;const t=await B.from("departments").select("*").eq("id",e).single();return{data:t.data||null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async create(e){var r;const t=await B.from("departments").insert(e).select().single();return{data:t.data||null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var n;const r=await B.from("departments").update(t).eq("id",e).select().single();return{data:r.data||null,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async delete(e){var r;const t=await B.from("departments").delete().eq("id",e);return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}}},Cm={inventory:LB,departments:FB,propertyCards:pr},Xd=({reportType:e,reportName:t,trigger:r})=>{const[n,a]=h.useState("live"),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(null),f=async()=>{c(!0),u(null);try{switch(e){case"Inventory Summary":case"Property Card":const p=await Cm.propertyCards.getAll({limit:1});if(p.success&&p.data.length>0){const g=p.data[0],w=await Cm.propertyCards.getEntries(g.id);o({...g,entries:w.data||[]})}break;case"Property Ledger":const x=await Cm.inventory.getAll({limit:1});if(x.success&&x.data.length>0){const g=x.data[0];o({propertyNumber:g.propertyNumber,description:g.description,unit:g.unitOfMeasure,entries:[{date:g.dateAcquired,referenceNumber:"INITIAL",received:g.quantity,issued:0,balance:g.quantity,recipient:"Stock Inventory"}]})}break;case"Custodian Report":u("Custodian reports not available");break;case"Transfer Report":u("Transfer reports not available");break;case"Physical Count Summary":u("Physical count reports not available");break;case"Loss Report Summary":u("Loss reports not available");break;case"Unserviceable Report":u("Unserviceable reports not available");break;case"Custodian Report":o({});break;default:u("Report type not implemented yet")}}catch(p){u(p instanceof Error?p.message:"Failed to fetch report data")}finally{c(!1)}};h.useEffect(()=>{n==="live"&&f()},[n,e]);const m=()=>{if(l)return s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Kt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading report data..."})]});if(d)return s.jsxs("div",{className:"p-8 text-center",children:[s.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",d]}),s.jsx(le,{onClick:f,children:"Retry"})]});if(!i)return s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available for this report."})});switch(e){case"Inventory Summary":case"Property Card":return s.jsx(hk,{data:i});case"Property Ledger":return s.jsx(AB,{data:i});case"Custodian Report":return s.jsx(MB,{data:i});case"Transfer Report":return s.jsx(IB,{data:i});case"Physical Count Summary":return s.jsx(RB,{data:i});case"Loss Report Summary":return s.jsx(OB,{data:i});case"Unserviceable Report":return s.jsx(DB,{data:i});default:return s.jsx("div",{className:"p-8 text-center",children:"Report type not implemented yet."})}};return s.jsxs(gn,{children:[s.jsx(Eq,{asChild:!0,children:r||s.jsx(le,{variant:"outline",children:t})}),s.jsxs(sn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xn,{children:s.jsx(bn,{children:t})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Source:"}),s.jsxs($t,{value:n,onValueChange:a,children:[s.jsx(Rt,{className:"w-48",children:s.jsx(qt,{})}),s.jsx(Ot,{children:s.jsx(je,{value:"live",children:"Live Data"})})]}),n==="live"&&s.jsx(le,{onClick:f,variant:"outline",size:"sm",children:"Refresh"})]}),m()]})]})]})},$B=[{id:"1",name:"Inventory Summary Report",type:"Inventory Summary",description:"Complete overview of all semi-expandable property items with their current status, location, and condition",frequency:"Monthly",status:"Available"},{id:"2",name:"Issued vs Unissued Items Report",type:"Inventory Summary",description:"Detailed breakdown of issued and unissued items with assignment status and custodian information",frequency:"Weekly",status:"Available"},{id:"3",name:"Semi-Expendable Property Ledger",type:"Property Ledger",description:"Detailed ledger showing all property movements, acquisitions, transfers, and disposals",frequency:"Quarterly",status:"Available"},{id:"4",name:"Property Transfer Summary",type:"Transfer Report",description:"Summary of all property transfers between departments including pending and completed transfers",frequency:"Monthly",status:"Available"},{id:"5",name:"Custodian Information Report",type:"Custodian Report",description:"Comprehensive report showing all items and records for each custodian, including current assignments and historical data",frequency:"Weekly",status:"Available"},{id:"6",name:"Physical Count Variance Report",type:"Physical Count Summary",description:"Analysis of physical count results showing variances between expected and actual quantities",frequency:"Annual",status:"Generating"},{id:"5",name:"Loss and Damage Summary",type:"Loss Report Summary",description:"Comprehensive report of lost, stolen, damaged, or destroyed property with financial impact",frequency:"Quarterly",status:"Available"},{id:"6",name:"Unserviceable Property Report",type:"Unserviceable Report",description:"Report on property items that are unserviceable and recommendations for disposal or repair",frequency:"Monthly",status:"Available"},{id:"7",name:"Custodian Accountability Report",type:"Custodian Report",description:"Report showing property assigned to each custodian and their current accountability status",frequency:"Quarterly",status:"Scheduled"}],qB=()=>{const[e]=h.useState($B),[t,r]=h.useState("All"),[n,a]=h.useState("All"),[i,o]=h.useState({from:"",to:""}),[l,c]=h.useState("All"),{toast:d}=es(),u=x=>{d({title:"Download Started",description:`Downloading ${x.name}...`})},f=x=>{switch(x){case"Available":return"success";case"Generating":return"warning";case"Scheduled":return"secondary";default:return"secondary"}},m=x=>{switch(x){case"Inventory Summary":return s.jsx(An,{className:"h-5 w-5"});case"Property Ledger":return s.jsx(ys,{className:"h-5 w-5"});case"Transfer Report":return s.jsx(Cp,{className:"h-5 w-5"});case"Physical Count Summary":return s.jsx(Jh,{className:"h-5 w-5"});case"Loss Report Summary":return s.jsx(zu,{className:"h-5 w-5"});case"Unserviceable Report":return s.jsx(zu,{className:"h-5 w-5"});case"Custodian Report":return s.jsx(ys,{className:"h-5 w-5"});default:return s.jsx(ys,{className:"h-5 w-5"})}},p=e.filter(x=>{const g=t==="All"||x.type===t,w=n==="All"||x.status===n;return g&&w});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reports & Analytics"}),s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(fu,{className:"h-4 w-4"}),"Schedule Report"]})]}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Report Filters"})}),s.jsx(Oe,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Report Type"}),s.jsxs($t,{value:t,onValueChange:r,children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All Types"}),s.jsx(je,{value:"Inventory Summary",children:"Inventory Summary"}),s.jsx(je,{value:"Property Ledger",children:"Property Ledger"}),s.jsx(je,{value:"Transfer Report",children:"Transfer Report"}),s.jsx(je,{value:"Physical Count Summary",children:"Physical Count"}),s.jsx(je,{value:"Loss Report Summary",children:"Loss Report"}),s.jsx(je,{value:"Unserviceable Report",children:"Unserviceable"}),s.jsx(je,{value:"Custodian Report",children:"Custodian Report"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs($t,{value:n,onValueChange:a,children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All Status"}),s.jsx(je,{value:"Available",children:"Available"}),s.jsx(je,{value:"Generating",children:"Generating"}),s.jsx(je,{value:"Scheduled",children:"Scheduled"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Department"}),s.jsxs($t,{value:l,onValueChange:c,children:[s.jsx(Rt,{children:s.jsx(qt,{})}),s.jsxs(Ot,{children:[s.jsx(je,{value:"All",children:"All Departments"}),s.jsx(je,{value:"IT",children:"IT Department"}),s.jsx(je,{value:"HR",children:"Human Resources"}),s.jsx(je,{value:"Finance",children:"Finance"}),s.jsx(je,{value:"Operations",children:"Operations"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Date Range"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ae,{type:"date",value:i.from,onChange:x=>o({...i,from:x.target.value}),className:"flex-1"}),s.jsx(Ae,{type:"date",value:i.to,onChange:x=>o({...i,to:x.target.value}),className:"flex-1"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Reports"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Available").length})]}),s.jsx(ys,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Generating"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Generating").length})]}),s.jsx(Jh,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Scheduled").length})]}),s.jsx(fu,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Re,{children:s.jsx(Oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Reports"}),s.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),s.jsx(Cp,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(x=>s.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(We,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m(x.type),s.jsxs("div",{children:[s.jsx(st,{className:"text-lg",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.type})]})]}),s.jsx(Ye,{variant:f(x.status),children:x.status})]})}),s.jsxs(Oe,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:x.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Frequency:"}),s.jsx("span",{className:"font-medium",children:x.frequency})]}),x.lastGenerated&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Generated:"}),s.jsx("span",{className:"font-medium",children:x.lastGenerated})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Xd,{reportType:x.type,reportName:x.name,trigger:s.jsx(le,{className:"flex-1",disabled:x.status==="Generating",children:x.status==="Generating"?"Generating...":"Generate"})}),s.jsx(le,{onClick:()=>u(x),variant:"outline",size:"icon",disabled:x.status!=="Available",children:s.jsx(Sy,{className:"h-4 w-4"})})]})]})]},x.id))}),s.jsxs(Re,{children:[s.jsx(We,{children:s.jsx(st,{children:"Report Templates"})}),s.jsx(Oe,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Xd,{reportType:"Property Card",reportName:"Custom Property Card",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(An,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Custom Property Card"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a semi-expandable property card with specific property details"})]})}),s.jsx(Xd,{reportType:"Property Ledger",reportName:"Property Ledger Card",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Jh,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Property Ledger Card"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate detailed property ledger showing all movements and transactions"})]})}),s.jsx(Xd,{reportType:"Custodian Report",reportName:"Inventory Custodian Slip",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(fu,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Custodian Slip"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate inventory custodian slip for property accountability"})]})})]})})]})]})};function UB(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(""),[o,l]=h.useState(""),[c,d]=h.useState(null),[u,f]=h.useState(null),[m,p]=h.useState(!1),x=async()=>{const N=[];try{N.push({step:"env:VITE_SUPABASE_URL",ok:!0,info:"=https://jiusoksloniuozxrdiok.supabase.co"}),N.push({step:"env:VITE_SUPABASE_ANON_KEY",ok:!0,info:"<present>"});const{data:E,error:M}=await B.from("property_cards").select("id").limit(1);M?N.push({step:"db:select property_cards",ok:!1,error:M.message}):N.push({step:"db:select property_cards",ok:!0,info:`${(E==null?void 0:E.length)||0} rows accessible`});const U=(await B.auth.getSession()).data.session;N.push({step:"auth:session",ok:!!U,info:U?`user ${U.user.id}`:"no session"});const $={entity_name:"Debug Entity",fund_cluster:"101",semi_expendable_property:"Debug Item",property_number:`DBG-${Date.now()}`,description:"Debug connectivity",date_acquired:new Date().toISOString().slice(0,10),remarks:"debug"},L=await B.from("property_cards").insert($).select("id").single();L.error?N.push({step:"db:insert property_cards",ok:!1,error:L.error.message}):(N.push({step:"db:insert property_cards",ok:!0,info:`id ${L.data.id}`}),await B.from("property_cards").delete().eq("id",L.data.id))}catch(E){const M=E instanceof Error?E.message:String(E);N.push({step:"unexpected",ok:!1,error:M})}finally{t(N),n(!1)}};h.useEffect(()=>{x()},[]);const g=async()=>{d(null),n(!0);const{error:N}=await B.auth.signInWithPassword({email:a,password:o});d(N?N.message:"Signed in"),await x()},w=async()=>{d(null),n(!0),await B.auth.signOut(),d("Signed out"),await x()},v=async N=>{let M=0;for(;;){const{data:U,error:$}=await B.from(N).select("id").range(M,M+1e3-1);if($)throw $;const L=(U||[]).map(O=>O.id);if(!L.length)break;const F=await B.from(N).delete().in("id",L);if(F.error)throw F.error;if(L.length<1e3)break;M+=1e3}},y=async()=>{f(null),p(!0);try{await v("transfer_items"),await v("property_transfers"),f("Transfers reset completed")}catch(N){const E=N instanceof Error?N.message:String(N);f(E)}finally{p(!1)}},b=async()=>{f(null),p(!0);try{await v("property_card_entries"),await v("property_cards"),f("Property cards reset completed")}catch(N){const E=N instanceof Error?N.message:String(N);f(E)}finally{p(!1)}},j=async()=>{f(null),p(!0);try{const{data:N}=await B.from("custodian_slip_items").select("inventory_item_id").not("inventory_item_id","is",null),E=N??[],M=Array.from(new Set(E.map(U=>U.inventory_item_id))).filter(U=>!!U);if(M.length>0){const U=await B.from("inventory_items").delete().not("id","in",M);if(U.error&&U.error.code!=="PGRST204")throw U.error}else await v("inventory_items");if(M.length>0){const U=await B.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,updated_at:new Date().toISOString()}).in("id",M);if(U.error&&U.error.code!=="PGRST204")throw U.error}f("Inventory reset completed (safe mode)")}catch(N){const E=N instanceof Error?N.message:String(N);f(E)}finally{p(!1)}},_=async()=>{f(null),p(!0);try{await v("property_card_entries"),await v("property_cards"),await v("transfer_items"),await v("property_transfers");const{data:N}=await B.from("custodian_slip_items").select("inventory_item_id").not("inventory_item_id","is",null),E=N??[],M=Array.from(new Set(E.map(U=>U.inventory_item_id))).filter(U=>!!U);if(M.length>0){const U=await B.from("inventory_items").delete().not("id","in",M);if(U.error&&U.error.code!=="PGRST204")throw U.error}else await v("inventory_items");if(M.length>0){const U=await B.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,updated_at:new Date().toISOString()}).in("id",M);if(U.error&&U.error.code!=="PGRST204")throw U.error}f("All resets completed")}catch(N){const E=N instanceof Error?N.message:String(N);f(E)}finally{p(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Supabase Debug"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Visit this page to verify environment, connectivity, auth session, and RLS inserts."}),s.jsxs("div",{className:"rounded border p-4 space-y-3",children:[s.jsx("div",{className:"font-medium",children:"Auth test"}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx("input",{className:"border rounded px-2 py-1",placeholder:"email",value:a,onChange:N=>i(N.target.value)}),s.jsx("input",{className:"border rounded px-2 py-1",placeholder:"password",type:"password",value:o,onChange:N=>l(N.target.value)}),s.jsx("button",{className:"border rounded px-3 py-1",onClick:g,children:"Sign in"}),s.jsx("button",{className:"border rounded px-3 py-1",onClick:w,children:"Sign out"})]}),c&&s.jsx("div",{className:"text-xs text-muted-foreground",children:c})]}),s.jsxs("div",{className:"rounded border p-4 space-y-3",children:[s.jsx("div",{className:"font-medium",children:"Reset data"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Destructive actions. Ensure correct environment."}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"border rounded px-3 py-1 bg-red-600 text-white",disabled:m,onClick:y,children:"Clean Transfers"}),s.jsx("button",{className:"border rounded px-3 py-1 bg-red-600 text-white",disabled:m,onClick:b,children:"Clean Property Cards"}),s.jsx("button",{className:"border rounded px-3 py-1 bg-red-600 text-white",disabled:m,onClick:j,children:"Clean Inventory (safe)"}),s.jsx("button",{className:"border rounded px-3 py-1 bg-red-700 text-white",disabled:m,onClick:_,children:"Clean All"})]}),u&&s.jsx("div",{className:"text-xs text-muted-foreground",children:u})]}),r?s.jsx("div",{children:"Running checks"}):s.jsx("div",{className:"space-y-2",children:e.map((N,E)=>s.jsxs("div",{className:`rounded border p-3 ${N.ok?"border-green-500/40 bg-green-500/5":"border-red-500/40 bg-red-500/5"}`,children:[s.jsx("div",{className:"font-medium",children:N.step}),N.info&&s.jsx("div",{className:"text-xs mt-1",children:N.info}),N.error&&s.jsx("div",{className:"text-xs mt-1 text-red-600",children:N.error})]},E))})]})}function BB(){const e=ts(),t=rs(),{toast:r}=es(),[n,a]=h.useState(!1),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,m]=h.useState([]),[p,x]=h.useState([]),[g,w]=h.useState(""),v=e.hash?e.hash.substring(1):"suppliers",y=E=>{t(`${e.pathname}#${E}`,{replace:!0})},b=async()=>{a(!0);try{const[E,M,U,$,L]=await Promise.all([Jr.getSuppliers(),Jr.getFundSources(),Jr.getDepartments(),Jr.getCustodians(),Jr.getSemiExpandableCategories()]);o(E),c(M),u(U),m($),x(L)}catch(E){r({title:"Failed to load lookups",description:(E==null?void 0:E.message)||String(E),variant:"destructive"})}finally{a(!1)}};h.useEffect(()=>{b()},[]);const j=E=>E.filter(M=>(M.name||"").toLowerCase().includes(g.toLowerCase())||(M.code||"").toLowerCase().includes(g.toLowerCase())),_=(E,M,U)=>{const[$,L]=h.useState("idle"),[F,O]=h.useState(null),[R,S]=h.useState({name:""}),A=E==="fund_sources"||E==="departments"||E==="custodians"||E==="semi_expandable_categories",ne=E==="fund_sources",Q=()=>{L("create"),O(null),S(A?E==="custodians"?{name:"",code:"",position:"",department_id:void 0,department_name:""}:{name:"",code:""}:{name:""})},W=async ie=>{if(L("edit"),O(ie),E==="custodians")try{const de=await gs.getById(ie.id);if(de){S({name:de.name,code:ie.code,position:de.position||"",department_id:de.department_id||void 0,department_name:de.department_name||""});return}}catch{}S(A?{name:ie.name,code:ie.code}:{name:ie.name})},ae=()=>{L("idle"),O(null),S(E==="custodians"?{name:"",code:"",position:"",department_id:void 0,department_name:""}:{name:"",code:""})};return{mode:$,editing:F,form:R,setForm:S,startCreate:Q,startEdit:W,save:async()=>{if($==="edit"&&F){const ie=await Jr.update(E,F.id,R);U(M.map(de=>de.id===F.id?ie:de))}else if($==="create"){const ie=await Jr.create(E,R);U([ie,...M])}ae()},remove:async ie=>{try{await Jr.remove(E,ie),U(M.filter(de=>de.id!==ie)),r({title:"Deleted",description:"Record has been removed from lookups."})}catch(de){r({title:"Unable to delete",description:(de==null?void 0:de.message)||"Failed to delete this record.",variant:"destructive"})}},cancel:ae,hasCode:A,codeRequired:ne}},N=({title:E,items:M,table:U,setItems:$})=>{var he;const{mode:L,editing:F,form:O,setForm:R,startCreate:S,startEdit:A,save:ne,remove:Q,cancel:W,hasCode:ae,codeRequired:ge}=_(U,M,$),G=h.useMemo(()=>{if(U!=="custodians")return[];const J=((F?M.filter(fe=>fe.id!==F.id):M)||[]).map(fe=>(fe.code||"").trim()).filter(Boolean).map(fe=>({c:fe,n:fe.match(/\d+/)?parseInt(fe.match(/\d+/)[0],10):NaN}));return J.sort((fe,T)=>(isFinite(T.n)?T.n:-1)-(isFinite(fe.n)?fe.n:-1)),J.map(fe=>fe.c)},[U,M,F]),ie=h.useMemo(()=>{if(U!=="custodians")return"";const me=G.map(J=>J.match(/\d+/)?parseInt(J.match(/\d+/)[0],10):NaN).filter(J=>Number.isFinite(J)),se=me.length?Math.max(...me)+1:1;return`CUST-${String(se).padStart(4,"0")}`},[U,G]),de=h.useMemo(()=>{if(U!=="custodians")return!1;const me=(O.code||"").trim();if(!me)return!1;const J=`CUST-${(me.match(/\d+/)?me.match(/\d+/)[0]:me).padStart(4,"0")}`;return G.includes(me)||G.includes(J)},[U,O.code,G]);return s.jsxs(Re,{children:[s.jsx(We,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(st,{children:E}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ae,{placeholder:"Search",value:g,onChange:me=>w(me.target.value)}),s.jsx(le,{variant:"outline",onClick:b,disabled:n,children:"Refresh"}),s.jsx(le,{onClick:S,children:"Add"})]})]})}),s.jsxs(Oe,{children:[L!=="idle"&&s.jsxs("div",{className:"mb-4 p-3 border rounded grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsx(Ae,{placeholder:"Name",value:O.name,onChange:me=>R({...O,name:me.target.value})}),ae&&s.jsx(Ae,{placeholder:U==="custodians"?"Custodian No (auto if blank)":ge?"Code (required)":"Code (optional)",value:O.code||"",onChange:me=>R({...O,code:me.target.value}),required:ge}),U==="custodians"&&s.jsx(Ae,{placeholder:"Position",value:O.position||"",onChange:me=>R({...O,position:me.target.value})}),U==="custodians"&&s.jsx(xk,{value:O.department_name||"",onChange:(me,se)=>R({...O,department_name:me,department_id:se==null?void 0:se.id})}),U==="custodians"&&L==="create"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{variant:"outline",type:"button",onClick:()=>R({...O,code:ie}),children:"Use suggested"}),de&&s.jsx("span",{className:"text-xs text-red-600",children:"This number already exists"})]}),U==="custodians"&&s.jsx("div",{className:"text-xs text-muted-foreground col-span-1 md:col-span-3",children:s.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-1",children:[s.jsx("span",{children:"Existing Nos:"}),s.jsxs("span",{className:"max-w-full truncate",children:[G.slice(0,12).join(", ")||"None yet",G.length>12?"":""]}),s.jsx("span",{className:"ml-2",children:"Suggested next:"}),s.jsx("span",{className:"font-medium",children:ie})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{onClick:ne,disabled:!O.name.trim()||ge&&!((he=O.code)!=null&&he.trim())||U==="custodians"&&de,children:"Save"}),s.jsx(le,{variant:"outline",onClick:W,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded border",children:[s.jsxs(cn,{children:[s.jsx(dn,{children:s.jsxs(mt,{children:[s.jsx(Se,{className:"w-64",children:"Name"}),ae&&s.jsx(Se,{children:"Code"}),s.jsx(Se,{className:"w-40 text-right",children:"Actions"})]})}),s.jsx(un,{children:j(M).map(me=>s.jsxs(mt,{children:[s.jsx(xe,{children:me.name}),ae&&s.jsx(xe,{children:me.code||""}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(le,{variant:"outline",size:"sm",onClick:()=>A(me),children:"Edit"}),s.jsx(le,{variant:"destructive",size:"sm",onClick:()=>Q(me.id),children:"Delete"})]})})]},me.id))})]}),j(M).length===0&&s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No records"})]})]})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings  Lookups"}),s.jsxs(cd,{value:v,onValueChange:y,children:[s.jsxs(jl,{children:[s.jsx(tn,{value:"suppliers",children:"Suppliers"}),s.jsx(tn,{value:"fundSources",children:"Fund Sources"}),s.jsx(tn,{value:"departments",children:"Departments"}),s.jsx(tn,{value:"custodians",children:"Custodians"}),s.jsx(tn,{value:"semiExpandableCategories",children:"Semi Expandable Categories"})]}),s.jsx(rn,{value:"suppliers",children:s.jsx(N,{title:"Suppliers",items:i,table:"suppliers",setItems:o})}),s.jsx(rn,{value:"fundSources",children:s.jsx(N,{title:"Fund Sources",items:l,table:"fund_sources",setItems:c})}),s.jsx(rn,{value:"departments",children:s.jsx(N,{title:"Departments",items:d,table:"departments",setItems:u})}),s.jsxs(rn,{value:"custodians",children:[s.jsx(N,{title:"Custodians",items:f,table:"custodians",setItems:m}),f.length===0&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," If you don't see any custodians, make sure to run the SQL setup script in Supabase first. Check the ",s.jsx("code",{children:"database/custodians-setup.sql"})," file for the complete setup."]})})]}),s.jsx(rn,{value:"semiExpandableCategories",children:s.jsx(N,{title:"Semi Expandable Categories",items:p,table:"semi_expandable_categories",setItems:x})})]})]})}var hd=e=>e.type==="checkbox",yi=e=>e instanceof Date,Lr=e=>e==null;const Ok=e=>typeof e=="object";var er=e=>!Lr(e)&&!Array.isArray(e)&&Ok(e)&&!yi(e),VB=e=>er(e)&&e.target?hd(e.target)?e.target.checked:e.target.value:e,zB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,WB=(e,t)=>e.has(zB(t)),HB=e=>{const t=e.constructor&&e.constructor.prototype;return er(t)&&t.hasOwnProperty("isPrototypeOf")},Rv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Rv&&(e instanceof Blob||n))&&(r||er(e)))if(t=r?[]:{},!r&&!HB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=hr(e[a]));else return e;return t}var gh=e=>/^\w*$/.test(e),sr=e=>e===void 0,Ov=e=>Array.isArray(e)?e.filter(Boolean):[],Dv=e=>Ov(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,t,r)=>{if(!t||!er(e))return r;const n=(gh(t)?[t]:Dv(t)).reduce((a,i)=>Lr(a)?a:a[i],e);return sr(n)||n===e?sr(e[t])?r:e[t]:n},cs=e=>typeof e=="boolean",Lt=(e,t,r)=>{let n=-1;const a=gh(t)?[t]:Dv(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=er(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ow={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ks={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QB=pe.createContext(null);QB.displayName="HookFormContext";var KB=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Hn.all&&(t._proxyFormState[o]=!n||Hn.all),e[o]}});return a};const GB=typeof window<"u"?pe.useLayoutEffect:pe.useEffect;var xs=e=>typeof e=="string",YB=(e,t,r,n,a)=>xs(e)?(n&&t.watch.add(e),Le(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Le(r,i))):(n&&(t.watchAll=!0),r),jg=e=>Lr(e)||!Ok(e);function pa(e,t,r=new WeakSet){if(jg(e)||jg(t))return e===t;if(yi(e)&&yi(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(yi(o)&&yi(l)||er(o)&&er(l)||Array.isArray(o)&&Array.isArray(l)?!pa(o,l,r):o!==l)return!1}}return!0}var XB=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},cc=e=>Array.isArray(e)?e:[e],Dw=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Gr=e=>er(e)&&!Object.keys(e).length,Mv=e=>e.type==="file",Qn=e=>typeof e=="function",uf=e=>{if(!Rv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Dk=e=>e.type==="select-multiple",Lv=e=>e.type==="radio",JB=e=>Lv(e)||hd(e),Em=e=>uf(e)&&e.isConnected;function ZB(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=sr(e)?n++:e[t[n++]];return e}function eV(e){for(const t in e)if(e.hasOwnProperty(t)&&!sr(e[t]))return!1;return!0}function nr(e,t){const r=Array.isArray(t)?t:gh(t)?[t]:Dv(t),n=r.length===1?e:ZB(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(er(n)&&Gr(n)||Array.isArray(n)&&eV(n))&&nr(e,r.slice(0,-1)),e}var Mk=e=>{for(const t in e)if(Qn(e[t]))return!0;return!1};function ff(e,t={}){const r=Array.isArray(e);if(er(e)||r)for(const n in e)Array.isArray(e[n])||er(e[n])&&!Mk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ff(e[n],t[n])):Lr(e[n])||(t[n]=!0);return t}function Lk(e,t,r){const n=Array.isArray(e);if(er(e)||n)for(const a in e)Array.isArray(e[a])||er(e[a])&&!Mk(e[a])?sr(t)||jg(r[a])?r[a]=Array.isArray(e[a])?ff(e[a],[]):{...ff(e[a])}:Lk(e[a],Lr(t)?{}:t[a],r[a]):r[a]=!pa(e[a],t[a]);return r}var ql=(e,t)=>Lk(e,t,ff(t));const Mw={value:!1,isValid:!1},Lw={value:!0,isValid:!0};var Fk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!sr(e[0].attributes.value)?sr(e[0].value)||e[0].value===""?Lw:{value:e[0].value,isValid:!0}:Lw:Mw}return Mw},$k=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>sr(e)?e:t?e===""?NaN:e&&+e:r&&xs(e)?new Date(e):n?n(e):e;const Fw={isValid:!1,value:null};var qk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Fw):Fw;function $w(e){const t=e.ref;return Mv(t)?t.files:Lv(t)?qk(e.refs).value:Dk(t)?[...t.selectedOptions].map(({value:r})=>r):hd(t)?Fk(e.refs).value:$k(sr(t.value)?e.ref.value:t.value,e)}var tV=(e,t,r,n)=>{const a={};for(const i of e){const o=Le(t,i);o&&Lt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},hf=e=>e instanceof RegExp,Ul=e=>sr(e)?e:hf(e)?e.source:er(e)?hf(e.value)?e.value.source:e.value:e,qw=e=>({isOnSubmit:!e||e===Hn.onSubmit,isOnBlur:e===Hn.onBlur,isOnChange:e===Hn.onChange,isOnAll:e===Hn.all,isOnTouch:e===Hn.onTouched});const Uw="AsyncFunction";var rV=e=>!!e&&!!e.validate&&!!(Qn(e.validate)&&e.validate.constructor.name===Uw||er(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Uw)),nV=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Bw=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dc=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Le(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(dc(l,t))break}else if(er(l)&&dc(l,t))break}}};function Vw(e,t,r){const n=Le(e,r);if(n||gh(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Le(t,i),l=Le(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var sV=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Gr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Hn.all))},aV=(e,t,r)=>!e||!t||e===t||cc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),iV=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,oV=(e,t)=>!Ov(Le(e,t)).length&&nr(e,t),lV=(e,t,r)=>{const n=cc(Le(e,r));return Lt(n,"root",t[r]),Lt(e,r,n),e},xu=e=>xs(e);function zw(e,t,r="validate"){if(xu(e)||Array.isArray(e)&&e.every(xu)||cs(e)&&!e)return{type:r,message:xu(e)?e:"",ref:t}}var lo=e=>er(e)&&!hf(e)?e:{value:e,message:""},Ww=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:m,pattern:p,validate:x,name:g,valueAsNumber:w,mount:v}=e._f,y=Le(r,g);if(!v||t.has(g))return{};const b=l?l[0]:o,j=F=>{a&&b.reportValidity&&(b.setCustomValidity(cs(F)?"":F||""),b.reportValidity())},_={},N=Lv(o),E=hd(o),M=N||E,U=(w||Mv(o))&&sr(o.value)&&sr(y)||uf(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,$=XB.bind(null,g,n,_),L=(F,O,R,S=ks.maxLength,A=ks.minLength)=>{const ne=F?O:R;_[g]={type:F?S:A,message:ne,ref:o,...$(F?S:A,ne)}};if(i?!Array.isArray(y)||!y.length:c&&(!M&&(U||Lr(y))||cs(y)&&!y||E&&!Fk(l).isValid||N&&!qk(l).isValid)){const{value:F,message:O}=xu(c)?{value:!!c,message:c}:lo(c);if(F&&(_[g]={type:ks.required,message:O,ref:b,...$(ks.required,O)},!n))return j(O),_}if(!U&&(!Lr(f)||!Lr(m))){let F,O;const R=lo(m),S=lo(f);if(!Lr(y)&&!isNaN(y)){const A=o.valueAsNumber||y&&+y;Lr(R.value)||(F=A>R.value),Lr(S.value)||(O=A<S.value)}else{const A=o.valueAsDate||new Date(y),ne=ae=>new Date(new Date().toDateString()+" "+ae),Q=o.type=="time",W=o.type=="week";xs(R.value)&&y&&(F=Q?ne(y)>ne(R.value):W?y>R.value:A>new Date(R.value)),xs(S.value)&&y&&(O=Q?ne(y)<ne(S.value):W?y<S.value:A<new Date(S.value))}if((F||O)&&(L(!!F,R.message,S.message,ks.max,ks.min),!n))return j(_[g].message),_}if((d||u)&&!U&&(xs(y)||i&&Array.isArray(y))){const F=lo(d),O=lo(u),R=!Lr(F.value)&&y.length>+F.value,S=!Lr(O.value)&&y.length<+O.value;if((R||S)&&(L(R,F.message,O.message),!n))return j(_[g].message),_}if(p&&!U&&xs(y)){const{value:F,message:O}=lo(p);if(hf(F)&&!y.match(F)&&(_[g]={type:ks.pattern,message:O,ref:o,...$(ks.pattern,O)},!n))return j(O),_}if(x){if(Qn(x)){const F=await x(y,r),O=zw(F,b);if(O&&(_[g]={...O,...$(ks.validate,O.message)},!n))return j(O.message),_}else if(er(x)){let F={};for(const O in x){if(!Gr(F)&&!n)break;const R=zw(await x[O](y,r),b,O);R&&(F={...R,...$(O,R.message)},j(R.message),n&&(_[g]=F))}if(!Gr(F)&&(_[g]={ref:b,...F},!n))return _}}return j(!0),_};const cV={mode:Hn.onSubmit,reValidateMode:Hn.onChange,shouldFocusError:!0};function dV(e={}){let t={...cV,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Qn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=er(t.defaultValues)||er(t.values)?hr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:hr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const m={array:Dw(),state:Dw()},p=t.criteriaMode===Hn.all,x=C=>z=>{clearTimeout(d),d=setTimeout(C,z)},g=async C=>{if(!t.disabled&&(u.isValid||f.isValid||C)){const z=t.resolver?Gr((await E()).errors):await U(n,!0);z!==r.isValid&&m.state.next({isValid:z})}},w=(C,z)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((C||Array.from(l.mount)).forEach(k=>{k&&(z?Lt(r.validatingFields,k,z):nr(r.validatingFields,k))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Gr(r.validatingFields)}))},v=(C,z=[],k,D,X=!0,te=!0)=>{if(D&&k&&!t.disabled){if(o.action=!0,te&&Array.isArray(Le(n,C))){const re=k(Le(n,C),D.argA,D.argB);X&&Lt(n,C,re)}if(te&&Array.isArray(Le(r.errors,C))){const re=k(Le(r.errors,C),D.argA,D.argB);X&&Lt(r.errors,C,re),oV(r.errors,C)}if((u.touchedFields||f.touchedFields)&&te&&Array.isArray(Le(r.touchedFields,C))){const re=k(Le(r.touchedFields,C),D.argA,D.argB);X&&Lt(r.touchedFields,C,re)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ql(a,i)),m.state.next({name:C,isDirty:L(C,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Lt(i,C,z)},y=(C,z)=>{Lt(r.errors,C,z),m.state.next({errors:r.errors})},b=C=>{r.errors=C,m.state.next({errors:r.errors,isValid:!1})},j=(C,z,k,D)=>{const X=Le(n,C);if(X){const te=Le(i,C,sr(k)?Le(a,C):k);sr(te)||D&&D.defaultChecked||z?Lt(i,C,z?te:$w(X._f)):R(C,te),o.mount&&g()}},_=(C,z,k,D,X)=>{let te=!1,re=!1;const Te={name:C};if(!t.disabled){if(!k||D){(u.isDirty||f.isDirty)&&(re=r.isDirty,r.isDirty=Te.isDirty=L(),te=re!==Te.isDirty);const ke=pa(Le(a,C),z);re=!!Le(r.dirtyFields,C),ke?nr(r.dirtyFields,C):Lt(r.dirtyFields,C,!0),Te.dirtyFields=r.dirtyFields,te=te||(u.dirtyFields||f.dirtyFields)&&re!==!ke}if(k){const ke=Le(r.touchedFields,C);ke||(Lt(r.touchedFields,C,k),Te.touchedFields=r.touchedFields,te=te||(u.touchedFields||f.touchedFields)&&ke!==k)}te&&X&&m.state.next(Te)}return te?Te:{}},N=(C,z,k,D)=>{const X=Le(r.errors,C),te=(u.isValid||f.isValid)&&cs(z)&&r.isValid!==z;if(t.delayError&&k?(c=x(()=>y(C,k)),c(t.delayError)):(clearTimeout(d),c=null,k?Lt(r.errors,C,k):nr(r.errors,C)),(k?!pa(X,k):X)||!Gr(D)||te){const re={...D,...te&&cs(z)?{isValid:z}:{},errors:r.errors,name:C};r={...r,...re},m.state.next(re)}},E=async C=>{w(C,!0);const z=await t.resolver(i,t.context,tV(C||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(C),z},M=async C=>{const{errors:z}=await E(C);if(C)for(const k of C){const D=Le(z,k);D?Lt(r.errors,k,D):nr(r.errors,k)}else r.errors=z;return z},U=async(C,z,k={valid:!0})=>{for(const D in C){const X=C[D];if(X){const{_f:te,...re}=X;if(te){const Te=l.array.has(te.name),ke=X._f&&rV(X._f);ke&&u.validatingFields&&w([D],!0);const Ge=await Ww(X,l.disabled,i,p,t.shouldUseNativeValidation&&!z,Te);if(ke&&u.validatingFields&&w([D]),Ge[te.name]&&(k.valid=!1,z))break;!z&&(Le(Ge,te.name)?Te?lV(r.errors,Ge,te.name):Lt(r.errors,te.name,Ge[te.name]):nr(r.errors,te.name))}!Gr(re)&&await U(re,z,k)}}return k.valid},$=()=>{for(const C of l.unMount){const z=Le(n,C);z&&(z._f.refs?z._f.refs.every(k=>!Em(k)):!Em(z._f.ref))&&se(C)}l.unMount=new Set},L=(C,z)=>!t.disabled&&(C&&z&&Lt(i,C,z),!pa(ae(),a)),F=(C,z,k)=>YB(C,l,{...o.mount?i:sr(z)?a:xs(C)?{[C]:z}:z},k,z),O=C=>Ov(Le(o.mount?i:a,C,t.shouldUnregister?Le(a,C,[]):[])),R=(C,z,k={})=>{const D=Le(n,C);let X=z;if(D){const te=D._f;te&&(!te.disabled&&Lt(i,C,$k(z,te)),X=uf(te.ref)&&Lr(z)?"":z,Dk(te.ref)?[...te.ref.options].forEach(re=>re.selected=X.includes(re.value)):te.refs?hd(te.ref)?te.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(X)?re.checked=!!X.find(Te=>Te===re.value):re.checked=X===re.value||!!X)}):te.refs.forEach(re=>re.checked=re.value===X):Mv(te.ref)?te.ref.value="":(te.ref.value=X,te.ref.type||m.state.next({name:C,values:hr(i)})))}(k.shouldDirty||k.shouldTouch)&&_(C,X,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&W(C)},S=(C,z,k)=>{for(const D in z){if(!z.hasOwnProperty(D))return;const X=z[D],te=C+"."+D,re=Le(n,te);(l.array.has(C)||er(X)||re&&!re._f)&&!yi(X)?S(te,X,k):R(te,X,k)}},A=(C,z,k={})=>{const D=Le(n,C),X=l.array.has(C),te=hr(z);Lt(i,C,te),X?(m.array.next({name:C,values:hr(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&k.shouldDirty&&m.state.next({name:C,dirtyFields:ql(a,i),isDirty:L(C,te)})):D&&!D._f&&!Lr(te)?S(C,te,k):R(C,te,k),Bw(C,l)&&m.state.next({...r,name:C}),m.state.next({name:o.mount?C:void 0,values:hr(i)})},ne=async C=>{o.mount=!0;const z=C.target;let k=z.name,D=!0;const X=Le(n,k),te=ke=>{D=Number.isNaN(ke)||yi(ke)&&isNaN(ke.getTime())||pa(ke,Le(i,k,ke))},re=qw(t.mode),Te=qw(t.reValidateMode);if(X){let ke,Ge;const Qe=z.type?$w(X._f):VB(C),lt=C.type===Ow.BLUR||C.type===Ow.FOCUS_OUT,gt=!nV(X._f)&&!t.resolver&&!Le(r.errors,k)&&!X._f.deps||iV(lt,Le(r.touchedFields,k),r.isSubmitted,Te,re),yt=Bw(k,l,lt);Lt(i,k,Qe),lt?(X._f.onBlur&&X._f.onBlur(C),c&&c(0)):X._f.onChange&&X._f.onChange(C);const rt=_(k,Qe,lt),Tt=!Gr(rt)||yt;if(!lt&&m.state.next({name:k,type:C.type,values:hr(i)}),gt)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?lt&&g():lt||g()),Tt&&m.state.next({name:k,...yt?{}:rt});if(!lt&&yt&&m.state.next({...r}),t.resolver){const{errors:Ke}=await E([k]);if(te(Qe),D){const fr=Vw(r.errors,n,k),Ve=Vw(Ke,n,fr.name||k);ke=Ve.error,k=Ve.name,Ge=Gr(Ke)}}else w([k],!0),ke=(await Ww(X,l.disabled,i,p,t.shouldUseNativeValidation))[k],w([k]),te(Qe),D&&(ke?Ge=!1:(u.isValid||f.isValid)&&(Ge=await U(n,!0)));D&&(X._f.deps&&W(X._f.deps),N(k,Ge,ke,rt))}},Q=(C,z)=>{if(Le(r.errors,z)&&C.focus)return C.focus(),1},W=async(C,z={})=>{let k,D;const X=cc(C);if(t.resolver){const te=await M(sr(C)?C:X);k=Gr(te),D=C?!X.some(re=>Le(te,re)):k}else C?(D=(await Promise.all(X.map(async te=>{const re=Le(n,te);return await U(re&&re._f?{[te]:re}:re)}))).every(Boolean),!(!D&&!r.isValid)&&g()):D=k=await U(n);return m.state.next({...!xs(C)||(u.isValid||f.isValid)&&k!==r.isValid?{}:{name:C},...t.resolver||!C?{isValid:k}:{},errors:r.errors}),z.shouldFocus&&!D&&dc(n,Q,C?X:l.mount),D},ae=C=>{const z={...o.mount?i:a};return sr(C)?z:xs(C)?Le(z,C):C.map(k=>Le(z,k))},ge=(C,z)=>({invalid:!!Le((z||r).errors,C),isDirty:!!Le((z||r).dirtyFields,C),error:Le((z||r).errors,C),isValidating:!!Le(r.validatingFields,C),isTouched:!!Le((z||r).touchedFields,C)}),G=C=>{C&&cc(C).forEach(z=>nr(r.errors,z)),m.state.next({errors:C?r.errors:{}})},ie=(C,z,k)=>{const D=(Le(n,C,{_f:{}})._f||{}).ref,X=Le(r.errors,C)||{},{ref:te,message:re,type:Te,...ke}=X;Lt(r.errors,C,{...ke,...z,ref:D}),m.state.next({name:C,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&D&&D.focus&&D.focus()},de=(C,z)=>Qn(C)?m.state.subscribe({next:k=>"values"in k&&C(F(void 0,z),k)}):F(C,z,!0),he=C=>m.state.subscribe({next:z=>{aV(C.name,z.name,C.exact)&&sV(z,C.formState||u,Pe,C.reRenderRoot)&&C.callback({values:{...i},...r,...z,defaultValues:a})}}).unsubscribe,me=C=>(o.mount=!0,f={...f,...C.formState},he({...C,formState:f})),se=(C,z={})=>{for(const k of C?cc(C):l.mount)l.mount.delete(k),l.array.delete(k),z.keepValue||(nr(n,k),nr(i,k)),!z.keepError&&nr(r.errors,k),!z.keepDirty&&nr(r.dirtyFields,k),!z.keepTouched&&nr(r.touchedFields,k),!z.keepIsValidating&&nr(r.validatingFields,k),!t.shouldUnregister&&!z.keepDefaultValue&&nr(a,k);m.state.next({values:hr(i)}),m.state.next({...r,...z.keepDirty?{isDirty:L()}:{}}),!z.keepIsValid&&g()},J=({disabled:C,name:z})=>{(cs(C)&&o.mount||C||l.disabled.has(z))&&(C?l.disabled.add(z):l.disabled.delete(z))},fe=(C,z={})=>{let k=Le(n,C);const D=cs(z.disabled)||cs(t.disabled);return Lt(n,C,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:C}},name:C,mount:!0,...z}}),l.mount.add(C),k?J({disabled:cs(z.disabled)?z.disabled:t.disabled,name:C}):j(C,!0,z.value),{...D?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:Ul(z.min),max:Ul(z.max),minLength:Ul(z.minLength),maxLength:Ul(z.maxLength),pattern:Ul(z.pattern)}:{},name:C,onChange:ne,onBlur:ne,ref:X=>{if(X){fe(C,z),k=Le(n,C);const te=sr(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,re=JB(te),Te=k._f.refs||[];if(re?Te.find(ke=>ke===te):te===k._f.ref)return;Lt(n,C,{_f:{...k._f,...re?{refs:[...Te.filter(Em),te,...Array.isArray(Le(a,C))?[{}]:[]],ref:{type:te.type,name:C}}:{ref:te}}}),j(C,!1,void 0,te)}else k=Le(n,C,{}),k._f&&(k._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(WB(l.array,C)&&o.action)&&l.unMount.add(C)}}},T=()=>t.shouldFocusError&&dc(n,Q,l.mount),H=C=>{cs(C)&&(m.state.next({disabled:C}),dc(n,(z,k)=>{const D=Le(n,k);D&&(z.disabled=D._f.disabled||C,Array.isArray(D._f.refs)&&D._f.refs.forEach(X=>{X.disabled=D._f.disabled||C}))},0,!1))},ee=(C,z)=>async k=>{let D;k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let X=hr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:re}=await E();r.errors=te,X=hr(re)}else await U(n);if(l.disabled.size)for(const te of l.disabled)nr(X,te);if(nr(r.errors,"root"),Gr(r.errors)){m.state.next({errors:{}});try{await C(X,k)}catch(te){D=te}}else z&&await z({...r.errors},k),T(),setTimeout(T);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gr(r.errors)&&!D,submitCount:r.submitCount+1,errors:r.errors}),D)throw D},oe=(C,z={})=>{Le(n,C)&&(sr(z.defaultValue)?A(C,hr(Le(a,C))):(A(C,z.defaultValue),Lt(a,C,hr(z.defaultValue))),z.keepTouched||nr(r.touchedFields,C),z.keepDirty||(nr(r.dirtyFields,C),r.isDirty=z.defaultValue?L(C,hr(Le(a,C))):L()),z.keepError||(nr(r.errors,C),u.isValid&&g()),m.state.next({...r}))},be=(C,z={})=>{const k=C?hr(C):a,D=hr(k),X=Gr(C),te=X?a:D;if(z.keepDefaultValues||(a=k),!z.keepValues){if(z.keepDirtyValues){const re=new Set([...l.mount,...Object.keys(ql(a,i))]);for(const Te of Array.from(re))Le(r.dirtyFields,Te)?Lt(te,Te,Le(i,Te)):A(Te,Le(te,Te))}else{if(Rv&&sr(C))for(const re of l.mount){const Te=Le(n,re);if(Te&&Te._f){const ke=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(uf(ke)){const Ge=ke.closest("form");if(Ge){Ge.reset();break}}}}if(z.keepFieldsRef)for(const re of l.mount)A(re,Le(te,re));else n={}}i=t.shouldUnregister?z.keepDefaultValues?hr(a):{}:hr(te),m.array.next({values:{...te}}),m.state.next({values:{...te}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:X?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!pa(C,a)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:X?{}:z.keepDirtyValues?z.keepDefaultValues&&i?ql(a,i):r.dirtyFields:z.keepDefaultValues&&C?ql(a,C):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},He=(C,z)=>be(Qn(C)?C(i):C,z),ut=(C,z={})=>{const k=Le(n,C),D=k&&k._f;if(D){const X=D.refs?D.refs[0]:D.ref;X.focus&&(X.focus(),z.shouldSelect&&Qn(X.select)&&X.select())}},Pe=C=>{r={...r,...C}},tt={control:{register:fe,unregister:se,getFieldState:ge,handleSubmit:ee,setError:ie,_subscribe:he,_runSchema:E,_focusError:T,_getWatch:F,_getDirty:L,_setValid:g,_setFieldArray:v,_setDisabledField:J,_setErrors:b,_getFieldArray:O,_reset:be,_resetDefaultValues:()=>Qn(t.defaultValues)&&t.defaultValues().then(C=>{He(C,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:H,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(C){o=C},get _defaultValues(){return a},get _names(){return l},set _names(C){l=C},get _formState(){return r},get _options(){return t},set _options(C){t={...t,...C}}},subscribe:me,trigger:W,register:fe,handleSubmit:ee,watch:de,setValue:A,getValues:ae,reset:He,resetField:oe,clearErrors:G,unregister:se,setError:ie,setFocus:ut,getFieldState:ge};return{...tt,formControl:tt}}function uV(e={}){const t=pe.useRef(void 0),r=pe.useRef(void 0),[n,a]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Qn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Qn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Qn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=dV(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,GB(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),pe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),pe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),pe.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),pe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),pe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),pe.useEffect(()=>{e.values&&!pa(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),pe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=KB(n,i),t.current}const fV="_blob_18s1g_13",km={blob:fV};function hV(){const{register:e,handleSubmit:t,formState:{errors:r},reset:n}=uV(),[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),u=rs(),f=async m=>{i(!0),l(null),d(!1);try{const{error:p}=await B.auth.signInWithPassword({email:m.email,password:m.password});p?l(p.message):(d(!0),l(null),n(),setTimeout(()=>u("/"),1500))}catch(p){l(p instanceof Error?p.message:"An error occurred during login")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 relative overflow-hidden",children:[s.jsx("div",{className:`absolute top-20 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${km.blob}`}),s.jsx("div",{className:`absolute top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${km.blob}`}),s.jsx("div",{className:`absolute -bottom-8 left-20 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${km.blob}`}),s.jsxs(Re,{className:"w-full max-w-md shadow-lg relative z-10 border-slate-700 bg-slate-800/90 backdrop-blur",children:[s.jsxs(We,{className:"space-y-1",children:[s.jsx(st,{className:"text-2xl font-bold text-white",children:"Semi-Property Guardian"}),s.jsx(VC,{className:"text-slate-300",children:"Sign in to your account"})]}),s.jsxs(Oe,{children:[o&&s.jsxs(Fr,{variant:"destructive",className:"mb-4",children:[s.jsx(Va,{className:"h-4 w-4"}),s.jsx($r,{children:o})]}),c&&s.jsxs(Fr,{className:"mb-4 border-green-600 bg-green-50 dark:bg-green-950",children:[s.jsx(OI,{className:"h-4 w-4 text-green-600"}),s.jsx($r,{className:"text-green-600",children:"Login successful! Redirecting..."})]}),s.jsxs("form",{onSubmit:t(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-200",children:"Email"}),s.jsx(Ae,{id:"email",type:"email",placeholder:"your@email.com",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),disabled:a,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-200",children:"Password"}),s.jsx(Ae,{id:"password",type:"password",placeholder:"",...e("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),disabled:a,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password.message})]}),s.jsx(le,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:a,children:a?"Signing in...":"Sign In"})]})]})]})]})}const mV=()=>{const e=ts();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4 text-foreground",children:"404"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline",children:"Return to Home"})]})})},Uk=new wD({defaultOptions:{queries:{staleTime:GN,gcTime:UD,retry:1,refetchOnReconnect:!0,refetchOnWindowFocus:!0},mutations:{retry:1}}});LD({queryClient:Uk,persister:qD,maxAge:BD,buster:"v1",hydrateOptions:{defaultOptions:{queries:{staleTime:GN}}},dehydrateOptions:{shouldDehydrateMutation:()=>!1,onDeleteOldestQuery:FD}});const pV=()=>{const[e,t]=pe.useState(null);return pe.useEffect(()=>{const r=async()=>{const{data:a}=await B.auth.getSession();t(!!a.session)};r();const{data:n}=B.auth.onAuthStateChange(()=>{r()});return()=>{var a,i;return(i=(a=n==null?void 0:n.subscription)==null?void 0:a.unsubscribe)==null?void 0:i.call(a)}},[]),e===null?null:s.jsx(C3,{defaultTheme:"system",storageKey:"semi-property-theme",children:s.jsx(jD,{client:Uk,children:s.jsx(O3,{children:s.jsxs(qO,{children:[s.jsx(NR,{}),s.jsx(r2,{}),s.jsx(r$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsxs("div",{className:"min-h-screen bg-background",children:[e&&s.jsxs(s.Fragment,{children:[s.jsx(k3,{}),s.jsx(zO,{})]}),s.jsxs("div",{className:"flex",children:[e&&s.jsx(T3,{}),s.jsx("main",{className:e?"flex-1 p-6":"w-full",children:s.jsx(KF,{children:e?s.jsxs(s.Fragment,{children:[s.jsx(kr,{path:"/",element:s.jsx(L3,{})}),s.jsx(kr,{path:"/inventory",element:s.jsx(GU,{})}),s.jsx(kr,{path:"/property-cards",element:s.jsx(sB,{})}),s.jsx(kr,{path:"/custodian-slips",element:s.jsx(oB,{})}),s.jsx(kr,{path:"/custodians",element:s.jsx(lB,{})}),s.jsx(kr,{path:"/transfers",element:s.jsx(kB,{})}),s.jsx(kr,{path:"/physical-count",element:s.jsx(PB,{})}),s.jsx(kr,{path:"/loss-reports",element:s.jsx(TB,{})}),s.jsx(kr,{path:"/reports",element:s.jsx(qB,{})}),s.jsx(kr,{path:"/debug",element:s.jsx(UB,{})}),s.jsx(kr,{path:"/settings/lookups",element:s.jsx(BB,{})}),s.jsx(kr,{path:"*",element:s.jsx(mV,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(kr,{path:"/login",element:s.jsx(hV,{})}),s.jsx(kr,{path:"/",element:s.jsx(aw,{to:"/login",replace:!0})}),s.jsx(kr,{path:"*",element:s.jsx(aw,{to:"/login",replace:!0})})]})})})]})]})})]})})})})};window.addEventListener("online",()=>{VD({"propertyCards.create":async e=>{await pr.create(e.card)},"propertyCards.update":async e=>{await pr.update(e.id,e.updates)},"propertyCards.delete":async e=>{await pr.delete(e.id)},"propertyCards.addEntry":async e=>{await pr.addEntry(e.propertyCardId,e.entry)},"propertyCards.updateEntry":async e=>{await pr.updateEntry(e.propertyCardId,e.entryId,e.updates)},"propertyCards.deleteEntry":async e=>{await pr.deleteEntry(e.propertyCardId,e.entryId)},"inventory.create":async e=>{await Xr.create(e.item)},"inventory.update":async e=>{await Xr.update(e.id,e.updates)},"inventory.delete":async e=>{await Xr.delete(e.id)}}).then(({processed:e,failed:t})=>{(e||t)&&console.log(`[offline-queue] processed=${e} failed=${t}`)})});g_(document.getElementById("root")).render(s.jsx(pV,{}));
