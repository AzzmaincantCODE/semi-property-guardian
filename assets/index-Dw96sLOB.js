var Ry=e=>{throw TypeError(e)};var fh=(e,t,r)=>t.has(e)||Ry("Cannot "+r);var M=(e,t,r)=>(fh(e,t,"read from private field"),r?r.call(e):t.get(e)),qe=(e,t,r)=>t.has(e)?Ry("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ae=(e,t,r,n)=>(fh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ge=(e,t,r)=>(fh(e,t,"access private method"),r);var ld=(e,t,r,n)=>({set _(a){Ae(e,t,a,r)},get _(){return M(e,t,n)}});function tP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var K0={exports:{}},nf={},Q0={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=Symbol.for("react.element"),nP=Symbol.for("react.portal"),sP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),iP=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),cP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),uP=Symbol.for("react.memo"),fP=Symbol.for("react.lazy"),Iy=Symbol.iterator;function hP(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y0=Object.assign,X0={};function nl(e,t,r){this.props=e,this.context=t,this.refs=X0,this.updater=r||G0}nl.prototype.isReactComponent={};nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J0(){}J0.prototype=nl.prototype;function pg(e,t,r){this.props=e,this.context=t,this.refs=X0,this.updater=r||G0}var gg=pg.prototype=new J0;gg.constructor=pg;Y0(gg,nl.prototype);gg.isPureReactComponent=!0;var Oy=Array.isArray,Z0=Object.prototype.hasOwnProperty,vg={current:null},ew={key:!0,ref:!0,__self:!0,__source:!0};function tw(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Z0.call(t,n)&&!ew.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Lc,type:e,key:i,ref:o,props:a,_owner:vg.current}}function mP(e,t){return{$$typeof:Lc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lc}function pP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dy=/\/+/g;function hh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pP(""+e.key):t.toString(36)}function Vd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Lc:case nP:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+hh(o,0):n,Oy(a)?(r="",e!=null&&(r=e.replace(Dy,"$&/")+"/"),Vd(a,t,r,"",function(d){return d})):a!=null&&(yg(a)&&(a=mP(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Dy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Oy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+hh(i,l);o+=Vd(i,t,r,c,a)}else if(c=hP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+hh(i,l++),o+=Vd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(e,t,r){if(e==null)return e;var n=[],a=0;return Vd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function gP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr={current:null},zd={transition:null},vP={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:zd,ReactCurrentOwner:vg};function rw(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:cd,forEach:function(e,t,r){cd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cd(e,function(){t++}),t},toArray:function(e){return cd(e,function(t){return t})||[]},only:function(e){if(!yg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=nl;et.Fragment=sP;et.Profiler=iP;et.PureComponent=pg;et.StrictMode=aP;et.Suspense=dP;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;et.act=rw;et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Y0({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Z0.call(t,c)&&!ew.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Lc,type:e.type,key:a,ref:i,props:n,_owner:o}};et.createContext=function(e){return e={$$typeof:lP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oP,_context:e},e.Consumer=e};et.createElement=tw;et.createFactory=function(e){var t=tw.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:cP,render:e}};et.isValidElement=yg;et.lazy=function(e){return{$$typeof:fP,_payload:{_status:-1,_result:e},_init:gP}};et.memo=function(e,t){return{$$typeof:uP,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=zd.transition;zd.transition={};try{e()}finally{zd.transition=t}};et.unstable_act=rw;et.useCallback=function(e,t){return Cr.current.useCallback(e,t)};et.useContext=function(e){return Cr.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return Cr.current.useDeferredValue(e)};et.useEffect=function(e,t){return Cr.current.useEffect(e,t)};et.useId=function(){return Cr.current.useId()};et.useImperativeHandle=function(e,t,r){return Cr.current.useImperativeHandle(e,t,r)};et.useInsertionEffect=function(e,t){return Cr.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return Cr.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return Cr.current.useMemo(e,t)};et.useReducer=function(e,t,r){return Cr.current.useReducer(e,t,r)};et.useRef=function(e){return Cr.current.useRef(e)};et.useState=function(e){return Cr.current.useState(e)};et.useSyncExternalStore=function(e,t,r){return Cr.current.useSyncExternalStore(e,t,r)};et.useTransition=function(){return Cr.current.useTransition()};et.version="18.3.1";Q0.exports=et;var h=Q0.exports;const pe=mg(h),xg=tP({__proto__:null,default:pe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP=h,xP=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),wP=Object.prototype.hasOwnProperty,jP=yP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NP={key:!0,ref:!0,__self:!0,__source:!0};function nw(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wP.call(t,n)&&!NP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:xP,type:e,key:i,ref:o,props:a,_owner:jP.current}}nf.Fragment=bP;nf.jsx=nw;nf.jsxs=nw;K0.exports=nf;var s=K0.exports,sw={exports:{}},on={},aw={exports:{}},iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,U){var ae=W.length;W.push(U);e:for(;0<ae;){var ve=ae-1>>>1,B=W[ve];if(0<a(B,U))W[ve]=U,W[ae]=B,ae=ve;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var U=W[0],ae=W.pop();if(ae!==U){W[0]=ae;e:for(var ve=0,B=W.length,O=B>>>1;ve<O;){var G=2*(ve+1)-1,Q=W[G],ie=G+1,ne=W[ie];if(0>a(Q,ae))ie<B&&0>a(ne,Q)?(W[ve]=ne,W[ie]=ae,ve=ie):(W[ve]=Q,W[G]=ae,ve=G);else if(ie<B&&0>a(ne,ae))W[ve]=ne,W[ie]=ae,ve=ie;else break e}}return U}function a(W,U){var ae=W.sortIndex-U.sortIndex;return ae!==0?ae:W.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=W)n(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(d)}}function N(W){if(g=!1,b(W),!x)if(r(c)!==null)x=!0,A(j);else{var U=r(d);U!==null&&te(N,U.startTime-W)}}function j(W,U){x=!1,g&&(g=!1,y(D),D=-1),p=!0;var ae=m;try{for(b(U),f=r(c);f!==null&&(!(f.expirationTime>U)||W&&!I());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,m=f.priorityLevel;var B=ve(f.expirationTime<=U);U=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),b(U)}else n(c);f=r(c)}if(f!==null)var O=!0;else{var G=r(d);G!==null&&te(N,G.startTime-U),O=!1}return O}finally{f=null,m=ae,p=!1}}var E=!1,k=null,D=-1,z=5,F=-1;function I(){return!(e.unstable_now()-F<z)}function q(){if(k!==null){var W=e.unstable_now();F=W;var U=!0;try{U=k(!0,W)}finally{U?X():(E=!1,k=null)}}else E=!1}var X;if(typeof v=="function")X=function(){v(q)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,_=S.port2;S.port1.onmessage=q,X=function(){_.postMessage(null)}}else X=function(){w(q,0)};function A(W){k=W,E||(E=!0,X())}function te(W,U){D=w(function(){W(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,A(j))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var ae=m;m=U;try{return W()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,U){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=m;m=W;try{return U()}finally{m=ae}},e.unstable_scheduleCallback=function(W,U,ae){var ve=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ve+ae:ve):ae=ve,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ae+B,W={id:u++,callback:U,priorityLevel:W,startTime:ae,expirationTime:B,sortIndex:-1},ae>ve?(W.sortIndex=ae,t(d,W),r(c)===null&&W===r(d)&&(g?(y(D),D=-1):g=!0,te(N,ae-ve))):(W.sortIndex=B,t(c,W),x||p||(x=!0,A(j))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var U=m;return function(){var ae=m;m=U;try{return W.apply(this,arguments)}finally{m=ae}}}})(iw);aw.exports=iw;var _P=aw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP=h,an=_P;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ow=new Set,sc={};function Li(e,t){zo(e,t),zo(e+"Capture",t)}function zo(e,t){for(sc[e]=t,e=0;e<t.length;e++)ow.add(t[e])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,CP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,My={},Ly={};function EP(e){return xm.call(Ly,e)?!0:xm.call(My,e)?!1:CP.test(e)?Ly[e]=!0:(My[e]=!0,!1)}function kP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PP(e,t,r,n){if(t===null||typeof t>"u"||kP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Er(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new Er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new Er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new Er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new Er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new Er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new Er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new Er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new Er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new Er(e,5,!1,e.toLowerCase(),null,!1,!1)});var bg=/[\-:]([a-z])/g;function wg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bg,wg);cr[t]=new Er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bg,wg);cr[t]=new Er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bg,wg);cr[t]=new Er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new Er(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new Er(e,1,!1,e.toLowerCase(),null,!0,!0)});function jg(e,t,r,n){var a=cr.hasOwnProperty(t)?cr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PP(t,r,a,n)&&(r=null),n||a===null?EP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ws=SP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dd=Symbol.for("react.element"),oo=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),dw=Symbol.for("react.offscreen"),Fy=Symbol.iterator;function yl(e){return e===null||typeof e!="object"?null:(e=Fy&&e[Fy]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Object.assign,mh;function Dl(e){if(mh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mh=t&&t[1]||""}return`
`+mh+e}var ph=!1;function gh(e,t){if(!e||ph)return"";ph=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ph=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dl(e):""}function TP(e){switch(e.tag){case 5:return Dl(e.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return e=gh(e.type,!1),e;case 11:return e=gh(e.type.render,!1),e;case 1:return e=gh(e.type,!0),e;default:return""}}function Nm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case oo:return"Portal";case bm:return"Profiler";case Ng:return"StrictMode";case wm:return"Suspense";case jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cw:return(e.displayName||"Context")+".Consumer";case lw:return(e._context.displayName||"Context")+".Provider";case _g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sg:return t=e.displayName||null,t!==null?t:Nm(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return Nm(e(t))}catch{}}return null}function AP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(t);case 8:return t===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Aa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RP(e){var t=uw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ud(e){e._valueTracker||(e._valueTracker=RP(e))}function fw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _m(e,t){var r=t.checked;return Et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $y(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Aa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hw(e,t){t=t.checked,t!=null&&jg(e,"checked",t,!1)}function Sm(e,t){hw(e,t);var r=Aa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cm(e,t.type,Aa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cm(e,t,r){(t!=="number"||uu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function wo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Aa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(xe(92));if(Ml(r)){if(1<r.length)throw Error(xe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Aa(r)}}function mw(e,t){var r=Aa(t.value),n=Aa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function By(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function km(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fd,gw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fd=fd||document.createElement("div"),fd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ac(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IP=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(e){IP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vl[t]=Vl[e]})});function vw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vl.hasOwnProperty(e)&&Vl[e]?(""+t).trim():t+"px"}function yw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=vw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var OP=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pm(e,t){if(t){if(OP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function Tm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=null;function Cg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rm=null,jo=null,No=null;function Vy(e){if(e=Uc(e)){if(typeof Rm!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=cf(t),Rm(e.stateNode,e.type,t))}}function xw(e){jo?No?No.push(e):No=[e]:jo=e}function bw(){if(jo){var e=jo,t=No;if(No=jo=null,Vy(e),t)for(e=0;e<t.length;e++)Vy(t[e])}}function ww(e,t){return e(t)}function jw(){}var vh=!1;function Nw(e,t,r){if(vh)return e(t,r);vh=!0;try{return ww(e,t,r)}finally{vh=!1,(jo!==null||No!==null)&&(jw(),bw())}}function ic(e,t){var r=e.stateNode;if(r===null)return null;var n=cf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(xe(231,t,typeof r));return r}var Im=!1;if(Ms)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Im=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Im=!1}function DP(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var zl=!1,fu=null,hu=!1,Om=null,MP={onError:function(e){zl=!0,fu=e}};function LP(e,t,r,n,a,i,o,l,c){zl=!1,fu=null,DP.apply(MP,arguments)}function FP(e,t,r,n,a,i,o,l,c){if(LP.apply(this,arguments),zl){if(zl){var d=fu;zl=!1,fu=null}else throw Error(xe(198));hu||(hu=!0,Om=d)}}function Fi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zy(e){if(Fi(e)!==e)throw Error(xe(188))}function $P(e){var t=e.alternate;if(!t){if(t=Fi(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return zy(a),e;if(i===n)return zy(a),t;i=i.sibling}throw Error(xe(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?e:t}function Sw(e){return e=$P(e),e!==null?Cw(e):null}function Cw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cw(e);if(t!==null)return t;e=e.sibling}return null}var Ew=an.unstable_scheduleCallback,Wy=an.unstable_cancelCallback,UP=an.unstable_shouldYield,qP=an.unstable_requestPaint,It=an.unstable_now,BP=an.unstable_getCurrentPriorityLevel,Eg=an.unstable_ImmediatePriority,kw=an.unstable_UserBlockingPriority,mu=an.unstable_NormalPriority,VP=an.unstable_LowPriority,Pw=an.unstable_IdlePriority,sf=null,ls=null;function zP(e){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:KP,WP=Math.log,HP=Math.LN2;function KP(e){return e>>>=0,e===0?32:31-(WP(e)/HP|0)|0}var hd=64,md=4194304;function Ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ll(l):(i&=o,i!==0&&(n=Ll(i)))}else o=r&~a,o!==0?n=Ll(o):i!==0&&(n=Ll(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mn(t),a=1<<r,n|=e[r],t&=~a;return n}function QP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Mn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=QP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Dm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tw(){var e=hd;return hd<<=1,!(hd&4194240)&&(hd=64),e}function yh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=r}function YP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Mn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function kg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var dt=0;function Aw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rw,Pg,Iw,Ow,Dw,Mm=!1,pd=[],xa=null,ba=null,wa=null,oc=new Map,lc=new Map,na=[],XP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(e,t){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function bl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Uc(t),t!==null&&Pg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function JP(e,t,r,n,a){switch(t){case"focusin":return xa=bl(xa,e,t,r,n,a),!0;case"dragenter":return ba=bl(ba,e,t,r,n,a),!0;case"mouseover":return wa=bl(wa,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return oc.set(i,bl(oc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,lc.set(i,bl(lc.get(i)||null,e,t,r,n,a)),!0}return!1}function Mw(e){var t=si(e.target);if(t!==null){var r=Fi(t);if(r!==null){if(t=r.tag,t===13){if(t=_w(r),t!==null){e.blockedOn=t,Dw(e.priority,function(){Iw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Am=n,r.target.dispatchEvent(n),Am=null}else return t=Uc(r),t!==null&&Pg(t),e.blockedOn=r,!1;t.shift()}return!0}function Ky(e,t,r){Wd(e)&&r.delete(t)}function ZP(){Mm=!1,xa!==null&&Wd(xa)&&(xa=null),ba!==null&&Wd(ba)&&(ba=null),wa!==null&&Wd(wa)&&(wa=null),oc.forEach(Ky),lc.forEach(Ky)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,ZP)))}function cc(e){function t(a){return wl(a,e)}if(0<pd.length){wl(pd[0],e);for(var r=1;r<pd.length;r++){var n=pd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xa!==null&&wl(xa,e),ba!==null&&wl(ba,e),wa!==null&&wl(wa,e),oc.forEach(t),lc.forEach(t),r=0;r<na.length;r++)n=na[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<na.length&&(r=na[0],r.blockedOn===null);)Mw(r),r.blockedOn===null&&na.shift()}var _o=Ws.ReactCurrentBatchConfig,gu=!0;function eT(e,t,r,n){var a=dt,i=_o.transition;_o.transition=null;try{dt=1,Tg(e,t,r,n)}finally{dt=a,_o.transition=i}}function tT(e,t,r,n){var a=dt,i=_o.transition;_o.transition=null;try{dt=4,Tg(e,t,r,n)}finally{dt=a,_o.transition=i}}function Tg(e,t,r,n){if(gu){var a=Lm(e,t,r,n);if(a===null)kh(e,t,n,vu,r),Hy(e,n);else if(JP(a,e,t,r,n))n.stopPropagation();else if(Hy(e,n),t&4&&-1<XP.indexOf(e)){for(;a!==null;){var i=Uc(a);if(i!==null&&Rw(i),i=Lm(e,t,r,n),i===null&&kh(e,t,n,vu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else kh(e,t,n,null,r)}}var vu=null;function Lm(e,t,r,n){if(vu=null,e=Cg(n),e=si(e),e!==null)if(t=Fi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_w(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vu=e,null}function Lw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BP()){case Eg:return 1;case kw:return 4;case mu:case VP:return 16;case Pw:return 536870912;default:return 16}default:return 16}}var ga=null,Ag=null,Hd=null;function Fw(){if(Hd)return Hd;var e,t=Ag,r=t.length,n,a="value"in ga?ga.value:ga.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Hd=a.slice(e,1<n?1-n:void 0)}function Kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gd(){return!0}function Qy(){return!1}function ln(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gd:Qy,this.isPropagationStopped=Qy,this}return Et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=ln(sl),$c=Et({},sl,{view:0,detail:0}),rT=ln($c),xh,bh,jl,af=Et({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(xh=e.screenX-jl.screenX,bh=e.screenY-jl.screenY):bh=xh=0,jl=e),xh)},movementY:function(e){return"movementY"in e?e.movementY:bh}}),Gy=ln(af),nT=Et({},af,{dataTransfer:0}),sT=ln(nT),aT=Et({},$c,{relatedTarget:0}),wh=ln(aT),iT=Et({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=ln(iT),lT=Et({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cT=ln(lT),dT=Et({},sl,{data:0}),Yy=ln(dT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hT[e])?!!t[e]:!1}function Ig(){return mT}var pT=Et({},$c,{key:function(e){if(e.key){var t=uT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(e){return e.type==="keypress"?Kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gT=ln(pT),vT=Et({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=ln(vT),yT=Et({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),xT=ln(yT),bT=Et({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=ln(bT),jT=Et({},af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NT=ln(jT),_T=[9,13,27,32],Og=Ms&&"CompositionEvent"in window,Wl=null;Ms&&"documentMode"in document&&(Wl=document.documentMode);var ST=Ms&&"TextEvent"in window&&!Wl,$w=Ms&&(!Og||Wl&&8<Wl&&11>=Wl),Jy=" ",Zy=!1;function Uw(e,t){switch(e){case"keyup":return _T.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function CT(e,t){switch(e){case"compositionend":return qw(t);case"keypress":return t.which!==32?null:(Zy=!0,Jy);case"textInput":return e=t.data,e===Jy&&Zy?null:e;default:return null}}function ET(e,t){if(co)return e==="compositionend"||!Og&&Uw(e,t)?(e=Fw(),Hd=Ag=ga=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $w&&t.locale!=="ko"?null:t.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kT[e.type]:t==="textarea"}function Bw(e,t,r,n){xw(n),t=yu(t,"onChange"),0<t.length&&(r=new Rg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,dc=null;function PT(e){Zw(e,0)}function of(e){var t=ho(e);if(fw(t))return e}function TT(e,t){if(e==="change")return t}var Vw=!1;if(Ms){var jh;if(Ms){var Nh="oninput"in document;if(!Nh){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),Nh=typeof tx.oninput=="function"}jh=Nh}else jh=!1;Vw=jh&&(!document.documentMode||9<document.documentMode)}function rx(){Hl&&(Hl.detachEvent("onpropertychange",zw),dc=Hl=null)}function zw(e){if(e.propertyName==="value"&&of(dc)){var t=[];Bw(t,dc,e,Cg(e)),Nw(PT,t)}}function AT(e,t,r){e==="focusin"?(rx(),Hl=t,dc=r,Hl.attachEvent("onpropertychange",zw)):e==="focusout"&&rx()}function RT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return of(dc)}function IT(e,t){if(e==="click")return of(t)}function OT(e,t){if(e==="input"||e==="change")return of(t)}function DT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:DT;function uc(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!xm.call(t,a)||!Fn(e[a],t[a]))return!1}return!0}function nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sx(e,t){var r=nx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nx(r)}}function Ww(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ww(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hw(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uu(e.document)}return t}function Dg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MT(e){var t=Hw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ww(r.ownerDocument.documentElement,r)){if(n!==null&&Dg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=sx(r,i);var o=sx(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LT=Ms&&"documentMode"in document&&11>=document.documentMode,uo=null,Fm=null,Kl=null,$m=!1;function ax(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$m||uo==null||uo!==uu(n)||(n=uo,"selectionStart"in n&&Dg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kl&&uc(Kl,n)||(Kl=n,n=yu(Fm,"onSelect"),0<n.length&&(t=new Rg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=uo)))}function vd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fo={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},_h={},Kw={};Ms&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function lf(e){if(_h[e])return _h[e];if(!fo[e])return e;var t=fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kw)return _h[e]=t[r];return e}var Qw=lf("animationend"),Gw=lf("animationiteration"),Yw=lf("animationstart"),Xw=lf("transitionend"),Jw=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(e,t){Jw.set(e,t),Li(t,[e])}for(var Sh=0;Sh<ix.length;Sh++){var Ch=ix[Sh],FT=Ch.toLowerCase(),$T=Ch[0].toUpperCase()+Ch.slice(1);$a(FT,"on"+$T)}$a(Qw,"onAnimationEnd");$a(Gw,"onAnimationIteration");$a(Yw,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(Xw,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function ox(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,FP(n,t,void 0,e),e.currentTarget=null}function Zw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;ox(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;ox(a,l,d),i=c}}}if(hu)throw e=Om,hu=!1,Om=null,e}function vt(e,t){var r=t[zm];r===void 0&&(r=t[zm]=new Set);var n=e+"__bubble";r.has(n)||(ej(t,e,2,!1),r.add(n))}function Eh(e,t,r){var n=0;t&&(n|=4),ej(r,e,n,t)}var yd="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[yd]){e[yd]=!0,ow.forEach(function(r){r!=="selectionchange"&&(UT.has(r)||Eh(r,!1,e),Eh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yd]||(t[yd]=!0,Eh("selectionchange",!1,t))}}function ej(e,t,r,n){switch(Lw(t)){case 1:var a=eT;break;case 4:a=tT;break;default:a=Tg}r=a.bind(null,t,r,e),a=void 0,!Im||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kh(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=si(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Nw(function(){var d=i,u=Cg(r),f=[];e:{var m=Jw.get(e);if(m!==void 0){var p=Rg,x=e;switch(e){case"keypress":if(Kd(r)===0)break e;case"keydown":case"keyup":p=gT;break;case"focusin":x="focus",p=wh;break;case"focusout":x="blur",p=wh;break;case"beforeblur":case"afterblur":p=wh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xT;break;case Qw:case Gw:case Yw:p=oT;break;case Xw:p=wT;break;case"scroll":p=rT;break;case"wheel":p=NT;break;case"copy":case"cut":case"paste":p=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xy}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,b;v!==null;){b=v;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,y!==null&&(N=ic(v,y),N!=null&&g.push(hc(v,N,b)))),w)break;v=v.return}0<g.length&&(m=new p(m,x,null,r,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Am&&(x=r.relatedTarget||r.fromElement)&&(si(x)||x[Ls]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?si(x):null,x!==null&&(w=Fi(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=Gy,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Xy,N="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?m:ho(p),b=x==null?m:ho(x),m=new g(N,v+"leave",p,r,u),m.target=w,m.relatedTarget=b,N=null,si(u)===d&&(g=new g(y,v+"enter",x,r,u),g.target=b,g.relatedTarget=w,N=g),w=N,p&&x)t:{for(g=p,y=x,v=0,b=g;b;b=Hi(b))v++;for(b=0,N=y;N;N=Hi(N))b++;for(;0<v-b;)g=Hi(g),v--;for(;0<b-v;)y=Hi(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Hi(g),y=Hi(y)}g=null}else g=null;p!==null&&lx(f,m,p,g,!1),x!==null&&w!==null&&lx(f,w,x,g,!0)}}e:{if(m=d?ho(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=TT;else if(ex(m))if(Vw)j=OT;else{j=RT;var E=AT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=IT);if(j&&(j=j(e,d))){Bw(f,j,r,u);break e}E&&E(e,m,d),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Cm(m,"number",m.value)}switch(E=d?ho(d):window,e){case"focusin":(ex(E)||E.contentEditable==="true")&&(uo=E,Fm=d,Kl=null);break;case"focusout":Kl=Fm=uo=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,ax(f,r,u);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":ax(f,r,u)}var k;if(Og)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else co?Uw(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&($w&&r.locale!=="ko"&&(co||D!=="onCompositionStart"?D==="onCompositionEnd"&&co&&(k=Fw()):(ga=u,Ag="value"in ga?ga.value:ga.textContent,co=!0)),E=yu(d,D),0<E.length&&(D=new Yy(D,e,null,r,u),f.push({event:D,listeners:E}),k?D.data=k:(k=qw(r),k!==null&&(D.data=k)))),(k=ST?CT(e,r):ET(e,r))&&(d=yu(d,"onBeforeInput"),0<d.length&&(u=new Yy("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=k))}Zw(f,t)})}function hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ic(e,r),i!=null&&n.unshift(hc(e,i,a)),i=ic(e,t),i!=null&&n.push(hc(e,i,a))),e=e.return}return n}function Hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=ic(r,i),c!=null&&o.unshift(hc(r,c,l))):a||(c=ic(r,i),c!=null&&o.push(hc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var qT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function cx(e){return(typeof e=="string"?e:""+e).replace(qT,`
`).replace(BT,"")}function xd(e,t,r){if(t=cx(t),cx(e)!==t&&r)throw Error(xe(425))}function xu(){}var Um=null,qm=null;function Bm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(e){return dx.resolve(null).then(e).catch(WT)}:Vm;function WT(e){setTimeout(function(){throw e})}function Ph(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),cc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cc(t)}function ja(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ux(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var al=Math.random().toString(36).slice(2),ns="__reactFiber$"+al,mc="__reactProps$"+al,Ls="__reactContainer$"+al,zm="__reactEvents$"+al,HT="__reactListeners$"+al,KT="__reactHandles$"+al;function si(e){var t=e[ns];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ls]||r[ns]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ux(e);e!==null;){if(r=e[ns])return r;e=ux(e)}return t}e=r,r=e.parentNode}return null}function Uc(e){return e=e[ns]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function cf(e){return e[mc]||null}var Wm=[],mo=-1;function Ua(e){return{current:e}}function bt(e){0>mo||(e.current=Wm[mo],Wm[mo]=null,mo--)}function ht(e,t){mo++,Wm[mo]=e.current,e.current=t}var Ra={},pr=Ua(Ra),qr=Ua(!1),_i=Ra;function Wo(e,t){var r=e.type.contextTypes;if(!r)return Ra;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Br(e){return e=e.childContextTypes,e!=null}function bu(){bt(qr),bt(pr)}function fx(e,t,r){if(pr.current!==Ra)throw Error(xe(168));ht(pr,t),ht(qr,r)}function tj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(xe(108,AP(e)||"Unknown",a));return Et({},r,n)}function wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,_i=pr.current,ht(pr,e),ht(qr,qr.current),!0}function hx(e,t,r){var n=e.stateNode;if(!n)throw Error(xe(169));r?(e=tj(e,t,_i),n.__reactInternalMemoizedMergedChildContext=e,bt(qr),bt(pr),ht(pr,e)):bt(qr),ht(qr,r)}var _s=null,df=!1,Th=!1;function rj(e){_s===null?_s=[e]:_s.push(e)}function QT(e){df=!0,rj(e)}function qa(){if(!Th&&_s!==null){Th=!0;var e=0,t=dt;try{var r=_s;for(dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_s=null,df=!1}catch(a){throw _s!==null&&(_s=_s.slice(e+1)),Ew(Eg,qa),a}finally{dt=t,Th=!1}}return null}var po=[],go=0,ju=null,Nu=0,fn=[],hn=0,Si=null,As=1,Rs="";function Ja(e,t){po[go++]=Nu,po[go++]=ju,ju=e,Nu=t}function nj(e,t,r){fn[hn++]=As,fn[hn++]=Rs,fn[hn++]=Si,Si=e;var n=As;e=Rs;var a=32-Mn(n)-1;n&=~(1<<a),r+=1;var i=32-Mn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,As=1<<32-Mn(t)+a|r<<a|n,Rs=i+e}else As=1<<i|r<<a|n,Rs=e}function Mg(e){e.return!==null&&(Ja(e,1),nj(e,1,0))}function Lg(e){for(;e===ju;)ju=po[--go],po[go]=null,Nu=po[--go],po[go]=null;for(;e===Si;)Si=fn[--hn],fn[hn]=null,Rs=fn[--hn],fn[hn]=null,As=fn[--hn],fn[hn]=null}var tn=null,Jr=null,jt=!1,Rn=null;function sj(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Jr=ja(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Si!==null?{id:As,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tn=e,Jr=null,!0):!1;default:return!1}}function Hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Km(e){if(jt){var t=Jr;if(t){var r=t;if(!mx(e,t)){if(Hm(e))throw Error(xe(418));t=ja(r.nextSibling);var n=tn;t&&mx(e,t)?sj(n,r):(e.flags=e.flags&-4097|2,jt=!1,tn=e)}}else{if(Hm(e))throw Error(xe(418));e.flags=e.flags&-4097|2,jt=!1,tn=e}}}function px(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function bd(e){if(e!==tn)return!1;if(!jt)return px(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bm(e.type,e.memoizedProps)),t&&(t=Jr)){if(Hm(e))throw aj(),Error(xe(418));for(;t;)sj(e,t),t=ja(t.nextSibling)}if(px(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jr=ja(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=tn?ja(e.stateNode.nextSibling):null;return!0}function aj(){for(var e=Jr;e;)e=ja(e.nextSibling)}function Ho(){Jr=tn=null,jt=!1}function Fg(e){Rn===null?Rn=[e]:Rn.push(e)}var GT=Ws.ReactCurrentBatchConfig;function Nl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,e))}return e}function wd(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gx(e){var t=e._init;return t(e._payload)}function ij(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=Ca(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,N){return v===null||v.tag!==6?(v=Lh(b,y.mode,N),v.return=y,v):(v=a(v,b),v.return=y,v)}function c(y,v,b,N){var j=b.type;return j===lo?u(y,v,b.props.children,N,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ta&&gx(j)===v.type)?(N=a(v,b.props),N.ref=Nl(y,v,b),N.return=y,N):(N=eu(b.type,b.key,b.props,null,y.mode,N),N.ref=Nl(y,v,b),N.return=y,N)}function d(y,v,b,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Fh(b,y.mode,N),v.return=y,v):(v=a(v,b.children||[]),v.return=y,v)}function u(y,v,b,N,j){return v===null||v.tag!==7?(v=xi(b,y.mode,N,j),v.return=y,v):(v=a(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Lh(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dd:return b=eu(v.type,v.key,v.props,null,y.mode,b),b.ref=Nl(y,null,v),b.return=y,b;case oo:return v=Fh(v,y.mode,b),v.return=y,v;case ta:var N=v._init;return f(y,N(v._payload),b)}if(Ml(v)||yl(v))return v=xi(v,y.mode,b,null),v.return=y,v;wd(y,v)}return null}function m(y,v,b,N){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(y,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dd:return b.key===j?c(y,v,b,N):null;case oo:return b.key===j?d(y,v,b,N):null;case ta:return j=b._init,m(y,v,j(b._payload),N)}if(Ml(b)||yl(b))return j!==null?null:u(y,v,b,N,null);wd(y,b)}return null}function p(y,v,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(b)||null,l(v,y,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case dd:return y=y.get(N.key===null?b:N.key)||null,c(v,y,N,j);case oo:return y=y.get(N.key===null?b:N.key)||null,d(v,y,N,j);case ta:var E=N._init;return p(y,v,b,E(N._payload),j)}if(Ml(N)||yl(N))return y=y.get(b)||null,u(v,y,N,j,null);wd(v,N)}return null}function x(y,v,b,N){for(var j=null,E=null,k=v,D=v=0,z=null;k!==null&&D<b.length;D++){k.index>D?(z=k,k=null):z=k.sibling;var F=m(y,k,b[D],N);if(F===null){k===null&&(k=z);break}e&&k&&F.alternate===null&&t(y,k),v=i(F,v,D),E===null?j=F:E.sibling=F,E=F,k=z}if(D===b.length)return r(y,k),jt&&Ja(y,D),j;if(k===null){for(;D<b.length;D++)k=f(y,b[D],N),k!==null&&(v=i(k,v,D),E===null?j=k:E.sibling=k,E=k);return jt&&Ja(y,D),j}for(k=n(y,k);D<b.length;D++)z=p(k,y,D,b[D],N),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?D:z.key),v=i(z,v,D),E===null?j=z:E.sibling=z,E=z);return e&&k.forEach(function(I){return t(y,I)}),jt&&Ja(y,D),j}function g(y,v,b,N){var j=yl(b);if(typeof j!="function")throw Error(xe(150));if(b=j.call(b),b==null)throw Error(xe(151));for(var E=j=null,k=v,D=v=0,z=null,F=b.next();k!==null&&!F.done;D++,F=b.next()){k.index>D?(z=k,k=null):z=k.sibling;var I=m(y,k,F.value,N);if(I===null){k===null&&(k=z);break}e&&k&&I.alternate===null&&t(y,k),v=i(I,v,D),E===null?j=I:E.sibling=I,E=I,k=z}if(F.done)return r(y,k),jt&&Ja(y,D),j;if(k===null){for(;!F.done;D++,F=b.next())F=f(y,F.value,N),F!==null&&(v=i(F,v,D),E===null?j=F:E.sibling=F,E=F);return jt&&Ja(y,D),j}for(k=n(y,k);!F.done;D++,F=b.next())F=p(k,y,D,F.value,N),F!==null&&(e&&F.alternate!==null&&k.delete(F.key===null?D:F.key),v=i(F,v,D),E===null?j=F:E.sibling=F,E=F);return e&&k.forEach(function(q){return t(y,q)}),jt&&Ja(y,D),j}function w(y,v,b,N){if(typeof b=="object"&&b!==null&&b.type===lo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dd:e:{for(var j=b.key,E=v;E!==null;){if(E.key===j){if(j=b.type,j===lo){if(E.tag===7){r(y,E.sibling),v=a(E,b.props.children),v.return=y,y=v;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ta&&gx(j)===E.type){r(y,E.sibling),v=a(E,b.props),v.ref=Nl(y,E,b),v.return=y,y=v;break e}r(y,E);break}else t(y,E);E=E.sibling}b.type===lo?(v=xi(b.props.children,y.mode,N,b.key),v.return=y,y=v):(N=eu(b.type,b.key,b.props,null,y.mode,N),N.ref=Nl(y,v,b),N.return=y,y=N)}return o(y);case oo:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=a(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Fh(b,y.mode,N),v.return=y,y=v}return o(y);case ta:return E=b._init,w(y,v,E(b._payload),N)}if(Ml(b))return x(y,v,b,N);if(yl(b))return g(y,v,b,N);wd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,b),v.return=y,y=v):(r(y,v),v=Lh(b,y.mode,N),v.return=y,y=v),o(y)):r(y,v)}return w}var Ko=ij(!0),oj=ij(!1),_u=Ua(null),Su=null,vo=null,$g=null;function Ug(){$g=vo=Su=null}function qg(e){var t=_u.current;bt(_u),e._currentValue=t}function Qm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){Su=e,$g=vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($r=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if($g!==e)if(e={context:e,memoizedValue:t,next:null},vo===null){if(Su===null)throw Error(xe(308));vo=e,Su.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return t}var ai=null;function Bg(e){ai===null?ai=[e]:ai.push(e)}function lj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Bg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fs(e,n)}function Fs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ra=!1;function Vg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fs(e,r)}return a=n.interleaved,a===null?(t.next=t,Bg(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fs(e,r)}function Qd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kg(e,r)}}function vx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cu(e,t,r,n){var a=e.updateQueue;ra=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=Et({},f,m);break e;case 2:ra=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ei|=o,e.lanes=o,e.memoizedState=f}}function yx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(xe(191,a));a.call(n)}}}var qc={},cs=Ua(qc),pc=Ua(qc),gc=Ua(qc);function ii(e){if(e===qc)throw Error(xe(174));return e}function zg(e,t){switch(ht(gc,t),ht(pc,e),ht(cs,qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:km(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=km(t,e)}bt(cs),ht(cs,t)}function Qo(){bt(cs),bt(pc),bt(gc)}function dj(e){ii(gc.current);var t=ii(cs.current),r=km(t,e.type);t!==r&&(ht(pc,e),ht(cs,r))}function Wg(e){pc.current===e&&(bt(cs),bt(pc))}var St=Ua(0);function Eu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ah=[];function Hg(){for(var e=0;e<Ah.length;e++)Ah[e]._workInProgressVersionPrimary=null;Ah.length=0}var Gd=Ws.ReactCurrentDispatcher,Rh=Ws.ReactCurrentBatchConfig,Ci=0,Ct=null,Ht=null,tr=null,ku=!1,Ql=!1,vc=0,YT=0;function dr(){throw Error(xe(321))}function Kg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fn(e[r],t[r]))return!1;return!0}function Qg(e,t,r,n,a,i){if(Ci=i,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gd.current=e===null||e.memoizedState===null?e2:t2,e=r(n,a),Ql){i=0;do{if(Ql=!1,vc=0,25<=i)throw Error(xe(301));i+=1,tr=Ht=null,t.updateQueue=null,Gd.current=r2,e=r(n,a)}while(Ql)}if(Gd.current=Pu,t=Ht!==null&&Ht.next!==null,Ci=0,tr=Ht=Ct=null,ku=!1,t)throw Error(xe(300));return e}function Gg(){var e=vc!==0;return vc=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Ct.memoizedState=tr=e:tr=tr.next=e,tr}function bn(){if(Ht===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=tr===null?Ct.memoizedState:tr.next;if(t!==null)tr=t,Ht=e;else{if(e===null)throw Error(xe(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},tr===null?Ct.memoizedState=tr=e:tr=tr.next=e}return tr}function yc(e,t){return typeof t=="function"?t(e):t}function Ih(e){var t=bn(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=Ht,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ci&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ct.lanes|=u,Ei|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Fn(n,t.memoizedState)||($r=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ct.lanes|=i,Ei|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oh(e){var t=bn(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Fn(i,t.memoizedState)||($r=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function uj(){}function fj(e,t){var r=Ct,n=bn(),a=t(),i=!Fn(n.memoizedState,a);if(i&&(n.memoizedState=a,$r=!0),n=n.queue,Yg(pj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,xc(9,mj.bind(null,r,n,a,t),void 0,null),rr===null)throw Error(xe(349));Ci&30||hj(r,t,a)}return a}function hj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mj(e,t,r,n){t.value=r,t.getSnapshot=n,gj(t)&&vj(e)}function pj(e,t,r){return r(function(){gj(t)&&vj(e)})}function gj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fn(e,r)}catch{return!0}}function vj(e){var t=Fs(e,1);t!==null&&Ln(t,e,1,-1)}function xx(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:e},t.queue=e,e=e.dispatch=ZT.bind(null,Ct,e),[t.memoizedState,e]}function xc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yj(){return bn().memoizedState}function Yd(e,t,r,n){var a=Xn();Ct.flags|=e,a.memoizedState=xc(1|t,r,void 0,n===void 0?null:n)}function uf(e,t,r,n){var a=bn();n=n===void 0?null:n;var i=void 0;if(Ht!==null){var o=Ht.memoizedState;if(i=o.destroy,n!==null&&Kg(n,o.deps)){a.memoizedState=xc(t,r,i,n);return}}Ct.flags|=e,a.memoizedState=xc(1|t,r,i,n)}function bx(e,t){return Yd(8390656,8,e,t)}function Yg(e,t){return uf(2048,8,e,t)}function xj(e,t){return uf(4,2,e,t)}function bj(e,t){return uf(4,4,e,t)}function wj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jj(e,t,r){return r=r!=null?r.concat([e]):null,uf(4,4,wj.bind(null,t,e),r)}function Xg(){}function Nj(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _j(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Sj(e,t,r){return Ci&21?(Fn(r,t)||(r=Tw(),Ct.lanes|=r,Ei|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$r=!0),e.memoizedState=r)}function XT(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var n=Rh.transition;Rh.transition={};try{e(!1),t()}finally{dt=r,Rh.transition=n}}function Cj(){return bn().memoizedState}function JT(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ej(e))kj(t,r);else if(r=lj(e,t,r,n),r!==null){var a=_r();Ln(r,e,n,a),Pj(r,t,n)}}function ZT(e,t,r){var n=Sa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ej(e))kj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Fn(l,o)){var c=t.interleaved;c===null?(a.next=a,Bg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=lj(e,t,a,n),r!==null&&(a=_r(),Ln(r,e,n,a),Pj(r,t,n))}}function Ej(e){var t=e.alternate;return e===Ct||t!==null&&t===Ct}function kj(e,t){Ql=ku=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kg(e,r)}}var Pu={readContext:xn,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},e2={readContext:xn,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:bx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yd(4194308,4,wj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yd(4,2,e,t)},useMemo:function(e,t){var r=Xn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JT.bind(null,Ct,e),[n.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:xx,useDebugValue:Xg,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=xx(!1),t=e[0];return e=XT.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ct,a=Xn();if(jt){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=t(),rr===null)throw Error(xe(349));Ci&30||hj(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,bx(pj.bind(null,n,i,e),[e]),n.flags|=2048,xc(9,mj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xn(),t=rr.identifierPrefix;if(jt){var r=Rs,n=As;r=(n&~(1<<32-Mn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t2={readContext:xn,useCallback:Nj,useContext:xn,useEffect:Yg,useImperativeHandle:jj,useInsertionEffect:xj,useLayoutEffect:bj,useMemo:_j,useReducer:Ih,useRef:yj,useState:function(){return Ih(yc)},useDebugValue:Xg,useDeferredValue:function(e){var t=bn();return Sj(t,Ht.memoizedState,e)},useTransition:function(){var e=Ih(yc)[0],t=bn().memoizedState;return[e,t]},useMutableSource:uj,useSyncExternalStore:fj,useId:Cj,unstable_isNewReconciler:!1},r2={readContext:xn,useCallback:Nj,useContext:xn,useEffect:Yg,useImperativeHandle:jj,useInsertionEffect:xj,useLayoutEffect:bj,useMemo:_j,useReducer:Oh,useRef:yj,useState:function(){return Oh(yc)},useDebugValue:Xg,useDeferredValue:function(e){var t=bn();return Ht===null?t.memoizedState=e:Sj(t,Ht.memoizedState,e)},useTransition:function(){var e=Oh(yc)[0],t=bn().memoizedState;return[e,t]},useMutableSource:uj,useSyncExternalStore:fj,useId:Cj,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ff={isMounted:function(e){return(e=e._reactInternals)?Fi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_r(),a=Sa(e),i=Is(n,a);i.payload=t,r!=null&&(i.callback=r),t=Na(e,i,a),t!==null&&(Ln(t,e,a,n),Qd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_r(),a=Sa(e),i=Is(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Na(e,i,a),t!==null&&(Ln(t,e,a,n),Qd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_r(),n=Sa(e),a=Is(r,n);a.tag=2,t!=null&&(a.callback=t),t=Na(e,a,n),t!==null&&(Ln(t,e,n,r),Qd(t,e,n))}};function wx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!uc(r,n)||!uc(a,i):!0}function Tj(e,t,r){var n=!1,a=Ra,i=t.contextType;return typeof i=="object"&&i!==null?i=xn(i):(a=Br(t)?_i:pr.current,n=t.contextTypes,i=(n=n!=null)?Wo(e,a):Ra),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ff,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function jx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ff.enqueueReplaceState(t,t.state,null)}function Ym(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Vg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xn(i):(i=Br(t)?_i:pr.current,a.context=Wo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ff.enqueueReplaceState(a,a.state,null),Cu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Go(e,t){try{var r="",n=t;do r+=TP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Dh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var n2=typeof WeakMap=="function"?WeakMap:Map;function Aj(e,t,r){r=Is(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Au||(Au=!0,op=n),Xm(e,t)},r}function Rj(e,t,r){r=Is(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Xm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xm(e,t),typeof n!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Nx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new n2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=v2.bind(null,e,t,r),t.then(e,e))}function _x(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Is(-1,1),t.tag=2,Na(r,t,1))),r.lanes|=1),e)}var s2=Ws.ReactCurrentOwner,$r=!1;function xr(e,t,r,n){t.child=e===null?oj(t,null,r,n):Ko(t,e.child,r,n)}function Cx(e,t,r,n,a){r=r.render;var i=t.ref;return So(t,a),n=Qg(e,t,r,n,i,a),r=Gg(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$s(e,t,a)):(jt&&r&&Mg(t),t.flags|=1,xr(e,t,n,a),t.child)}function Ex(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!av(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ij(e,t,i,n,a)):(e=eu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:uc,r(o,n)&&e.ref===t.ref)return $s(e,t,a)}return t.flags|=1,e=Ca(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ij(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(uc(i,n)&&e.ref===t.ref)if($r=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&($r=!0);else return t.lanes=e.lanes,$s(e,t,a)}return Jm(e,t,r,n,a)}function Oj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(xo,Yr),Yr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(xo,Yr),Yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ht(xo,Yr),Yr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ht(xo,Yr),Yr|=n;return xr(e,t,a,r),t.child}function Dj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jm(e,t,r,n,a){var i=Br(r)?_i:pr.current;return i=Wo(t,i),So(t,a),r=Qg(e,t,r,n,i,a),n=Gg(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$s(e,t,a)):(jt&&n&&Mg(t),t.flags|=1,xr(e,t,r,a),t.child)}function kx(e,t,r,n,a){if(Br(r)){var i=!0;wu(t)}else i=!1;if(So(t,a),t.stateNode===null)Xd(e,t),Tj(t,r,n),Ym(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=Br(r)?_i:pr.current,d=Wo(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&jx(t,o,n,d),ra=!1;var m=t.memoizedState;o.state=m,Cu(t,n,o,a),c=t.memoizedState,l!==n||m!==c||qr.current||ra?(typeof u=="function"&&(Gm(t,r,u,n),c=t.memoizedState),(l=ra||wx(t,r,l,n,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:En(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Br(r)?_i:pr.current,c=Wo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&jx(t,o,n,c),ra=!1,m=t.memoizedState,o.state=m,Cu(t,n,o,a);var x=t.memoizedState;l!==f||m!==x||qr.current||ra?(typeof p=="function"&&(Gm(t,r,p,n),x=t.memoizedState),(d=ra||wx(t,r,d,n,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Zm(e,t,r,n,i,a)}function Zm(e,t,r,n,a,i){Dj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&hx(t,r,!1),$s(e,t,i);n=t.stateNode,s2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ko(t,e.child,null,i),t.child=Ko(t,null,l,i)):xr(e,t,l,i),t.memoizedState=n.state,a&&hx(t,r,!0),t.child}function Mj(e){var t=e.stateNode;t.pendingContext?fx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fx(e,t.context,!1),zg(e,t.containerInfo)}function Px(e,t,r,n,a){return Ho(),Fg(a),t.flags|=256,xr(e,t,r,n),t.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lj(e,t,r){var n=t.pendingProps,a=St.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ht(St,a&1),e===null)return Km(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pf(o,n,0,null),e=xi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tp(r),t.memoizedState=ep,e):Jg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return a2(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ca(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ca(l,i):(i=xi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?tp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ep,n}return i=e.child,e=i.sibling,n=Ca(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jg(e,t){return t=pf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jd(e,t,r,n){return n!==null&&Fg(n),Ko(t,e.child,null,r),e=Jg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a2(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Dh(Error(xe(422))),jd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=pf({mode:"visible",children:n.children},a,0,null),i=xi(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ko(t,e.child,null,o),t.child.memoizedState=tp(o),t.memoizedState=ep,i);if(!(t.mode&1))return jd(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(xe(419)),n=Dh(i,n,void 0),jd(e,t,o,n)}if(l=(o&e.childLanes)!==0,$r||l){if(n=rr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fs(e,a),Ln(n,e,a,-1))}return sv(),n=Dh(Error(xe(421))),jd(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=y2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Jr=ja(a.nextSibling),tn=t,jt=!0,Rn=null,e!==null&&(fn[hn++]=As,fn[hn++]=Rs,fn[hn++]=Si,As=e.id,Rs=e.overflow,Si=t),t=Jg(t,n.children),t.flags|=4096,t)}function Tx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qm(e.return,t,r)}function Mh(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Fj(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(xr(e,t,n.children,r),n=St.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tx(e,r,t);else if(e.tag===19)Tx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ht(St,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Eu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Mh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Eu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Mh(t,!0,r,null,i);break;case"together":Mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ei|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,r=Ca(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ca(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i2(e,t,r){switch(t.tag){case 3:Mj(t),Ho();break;case 5:dj(t);break;case 1:Br(t.type)&&wu(t);break;case 4:zg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ht(_u,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ht(St,St.current&1),t.flags|=128,null):r&t.child.childLanes?Lj(e,t,r):(ht(St,St.current&1),e=$s(e,t,r),e!==null?e.sibling:null);ht(St,St.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ht(St,St.current),n)break;return null;case 22:case 23:return t.lanes=0,Oj(e,t,r)}return $s(e,t,r)}var $j,rp,Uj,qj;$j=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rp=function(){};Uj=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ii(cs.current);var i=null;switch(r){case"input":a=_m(e,a),n=_m(e,n),i=[];break;case"select":a=Et({},a,{value:void 0}),n=Et({},n,{value:void 0}),i=[];break;case"textarea":a=Em(e,a),n=Em(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xu)}Pm(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&vt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};qj=function(e,t,r,n){r!==n&&(t.flags|=4)};function _l(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o2(e,t,r){var n=t.pendingProps;switch(Lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(t),null;case 1:return Br(t.type)&&bu(),ur(t),null;case 3:return n=t.stateNode,Qo(),bt(qr),bt(pr),Hg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(dp(Rn),Rn=null))),rp(e,t),ur(t),null;case 5:Wg(t);var a=ii(gc.current);if(r=t.type,e!==null&&t.stateNode!=null)Uj(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(xe(166));return ur(t),null}if(e=ii(cs.current),bd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ns]=t,n[mc]=i,e=(t.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(a=0;a<Fl.length;a++)vt(Fl[a],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":$y(n,i),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},vt("invalid",n);break;case"textarea":qy(n,i),vt("invalid",n)}Pm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&xd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xd(n.textContent,l,e),a=["children",""+l]):sc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&vt("scroll",n)}switch(r){case"input":ud(n),Uy(n,i,!0);break;case"textarea":ud(n),By(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ns]=t,e[mc]=n,$j(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tm(r,n),r){case"dialog":vt("cancel",e),vt("close",e),a=n;break;case"iframe":case"object":case"embed":vt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Fl.length;a++)vt(Fl[a],e);a=n;break;case"source":vt("error",e),a=n;break;case"img":case"image":case"link":vt("error",e),vt("load",e),a=n;break;case"details":vt("toggle",e),a=n;break;case"input":$y(e,n),a=_m(e,n),vt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Et({},n,{value:void 0}),vt("invalid",e);break;case"textarea":qy(e,n),a=Em(e,n),vt("invalid",e);break;default:a=n}Pm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ac(e,c):typeof c=="number"&&ac(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&vt("scroll",e):c!=null&&jg(e,i,c,o))}switch(r){case"input":ud(e),Uy(e,n,!1);break;case"textarea":ud(e),By(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Aa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?wo(e,!!n.multiple,i,!1):n.defaultValue!=null&&wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ur(t),null;case 6:if(e&&t.stateNode!=null)qj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(xe(166));if(r=ii(gc.current),ii(cs.current),bd(t)){if(n=t.stateNode,r=t.memoizedProps,n[ns]=t,(i=n.nodeValue!==r)&&(e=tn,e!==null))switch(e.tag){case 3:xd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ns]=t,t.stateNode=n}return ur(t),null;case 13:if(bt(St),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&Jr!==null&&t.mode&1&&!(t.flags&128))aj(),Ho(),t.flags|=98560,i=!1;else if(i=bd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(xe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[ns]=t}else Ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ur(t),i=!1}else Rn!==null&&(dp(Rn),Rn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Yt===0&&(Yt=3):sv())),t.updateQueue!==null&&(t.flags|=4),ur(t),null);case 4:return Qo(),rp(e,t),e===null&&fc(t.stateNode.containerInfo),ur(t),null;case 10:return qg(t.type._context),ur(t),null;case 17:return Br(t.type)&&bu(),ur(t),null;case 19:if(bt(St),i=t.memoizedState,i===null)return ur(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)_l(i,!1);else{if(Yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eu(e),o!==null){for(t.flags|=128,_l(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(St,St.current&1|2),t.child}e=e.sibling}i.tail!==null&&It()>Yo&&(t.flags|=128,n=!0,_l(i,!1),t.lanes=4194304)}else{if(!n)if(e=Eu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!jt)return ur(t),null}else 2*It()-i.renderingStartTime>Yo&&r!==1073741824&&(t.flags|=128,n=!0,_l(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=It(),t.sibling=null,r=St.current,ht(St,n?r&1|2:r&1),t):(ur(t),null);case 22:case 23:return nv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yr&1073741824&&(ur(t),t.subtreeFlags&6&&(t.flags|=8192)):ur(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function l2(e,t){switch(Lg(t),t.tag){case 1:return Br(t.type)&&bu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),bt(qr),bt(pr),Hg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wg(t),null;case 13:if(bt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));Ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(St),null;case 4:return Qo(),null;case 10:return qg(t.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var Nd=!1,hr=!1,c2=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function yo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pt(e,t,n)}else r.current=null}function np(e,t,r){try{r()}catch(n){Pt(e,t,n)}}var Ax=!1;function d2(e,t){if(Um=gu,e=Hw(),Dg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qm={focusedElem:e,selectionRange:r},gu=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:En(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(N){Pt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return x=Ax,Ax=!1,x}function Gl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&np(t,r,i)}a=a.next}while(a!==n)}}function hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bj(e){var t=e.alternate;t!==null&&(e.alternate=null,Bj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ns],delete t[mc],delete t[zm],delete t[HT],delete t[KT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vj(e){return e.tag===5||e.tag===3||e.tag===4}function Rx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ap(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xu));else if(n!==4&&(e=e.child,e!==null))for(ap(e,t,r),e=e.sibling;e!==null;)ap(e,t,r),e=e.sibling}function ip(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ip(e,t,r),e=e.sibling;e!==null;)ip(e,t,r),e=e.sibling}var ar=null,Tn=!1;function Ks(e,t,r){for(r=r.child;r!==null;)zj(e,t,r),r=r.sibling}function zj(e,t,r){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(sf,r)}catch{}switch(r.tag){case 5:hr||yo(r,t);case 6:var n=ar,a=Tn;ar=null,Ks(e,t,r),ar=n,Tn=a,ar!==null&&(Tn?(e=ar,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ar.removeChild(r.stateNode));break;case 18:ar!==null&&(Tn?(e=ar,r=r.stateNode,e.nodeType===8?Ph(e.parentNode,r):e.nodeType===1&&Ph(e,r),cc(e)):Ph(ar,r.stateNode));break;case 4:n=ar,a=Tn,ar=r.stateNode.containerInfo,Tn=!0,Ks(e,t,r),ar=n,Tn=a;break;case 0:case 11:case 14:case 15:if(!hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&np(r,t,o),a=a.next}while(a!==n)}Ks(e,t,r);break;case 1:if(!hr&&(yo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Pt(r,t,l)}Ks(e,t,r);break;case 21:Ks(e,t,r);break;case 22:r.mode&1?(hr=(n=hr)||r.memoizedState!==null,Ks(e,t,r),hr=n):Ks(e,t,r);break;default:Ks(e,t,r)}}function Ix(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new c2),t.forEach(function(n){var a=x2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ar=l.stateNode,Tn=!1;break e;case 3:ar=l.stateNode.containerInfo,Tn=!0;break e;case 4:ar=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(ar===null)throw Error(xe(160));zj(i,o,a),ar=null,Tn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Pt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wj(t,e),t=t.sibling}function Wj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Yn(e),n&4){try{Gl(3,e,e.return),hf(3,e)}catch(g){Pt(e,e.return,g)}try{Gl(5,e,e.return)}catch(g){Pt(e,e.return,g)}}break;case 1:Nn(t,e),Yn(e),n&512&&r!==null&&yo(r,r.return);break;case 5:if(Nn(t,e),Yn(e),n&512&&r!==null&&yo(r,r.return),e.flags&32){var a=e.stateNode;try{ac(a,"")}catch(g){Pt(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hw(a,i),Tm(l,o);var d=Tm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?yw(a,f):u==="dangerouslySetInnerHTML"?gw(a,f):u==="children"?ac(a,f):jg(a,u,f,d)}switch(l){case"input":Sm(a,i);break;case"textarea":mw(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wo(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?wo(a,!!i.multiple,i.defaultValue,!0):wo(a,!!i.multiple,i.multiple?[]:"",!1))}a[mc]=i}catch(g){Pt(e,e.return,g)}}break;case 6:if(Nn(t,e),Yn(e),n&4){if(e.stateNode===null)throw Error(xe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Pt(e,e.return,g)}}break;case 3:if(Nn(t,e),Yn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(g){Pt(e,e.return,g)}break;case 4:Nn(t,e),Yn(e);break;case 13:Nn(t,e),Yn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(tv=It())),n&4&&Ix(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(hr=(d=hr)||u,Nn(t,e),hr=d):Nn(t,e),Yn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Oe=e,u=e.child;u!==null;){for(f=Oe=u;Oe!==null;){switch(m=Oe,p=m.child,m.tag){case 0:case 11:case 14:case 15:Gl(4,m,m.return);break;case 1:yo(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Pt(n,r,g)}}break;case 5:yo(m,m.return);break;case 22:if(m.memoizedState!==null){Dx(f);continue}}p!==null?(p.return=m,Oe=p):Dx(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vw("display",o))}catch(g){Pt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Pt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(t,e),Yn(e),n&4&&Ix(e);break;case 21:break;default:Nn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vj(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ac(a,""),n.flags&=-33);var i=Rx(e);ip(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Rx(e);ap(e,l,o);break;default:throw Error(xe(161))}}catch(c){Pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u2(e,t,r){Oe=e,Hj(e)}function Hj(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var a=Oe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Nd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||hr;l=Nd;var d=hr;if(Nd=o,(hr=c)&&!d)for(Oe=a;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?Mx(a):c!==null?(c.return=o,Oe=c):Mx(a);for(;i!==null;)Oe=i,Hj(i),i=i.sibling;Oe=a,Nd=l,hr=d}Ox(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Oe=i):Ox(e)}}function Ox(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hr||hf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!hr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:En(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&cc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}hr||t.flags&512&&sp(t)}catch(m){Pt(t,t.return,m)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function Dx(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function Mx(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hf(4,t)}catch(c){Pt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Pt(t,a,c)}}var i=t.return;try{sp(t)}catch(c){Pt(t,i,c)}break;case 5:var o=t.return;try{sp(t)}catch(c){Pt(t,o,c)}}}catch(c){Pt(t,t.return,c)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var f2=Math.ceil,Tu=Ws.ReactCurrentDispatcher,Zg=Ws.ReactCurrentOwner,vn=Ws.ReactCurrentBatchConfig,nt=0,rr=null,Ut=null,or=0,Yr=0,xo=Ua(0),Yt=0,bc=null,Ei=0,mf=0,ev=0,Yl=null,Lr=null,tv=0,Yo=1/0,js=null,Au=!1,op=null,_a=null,_d=!1,va=null,Ru=0,Xl=0,lp=null,Jd=-1,Zd=0;function _r(){return nt&6?It():Jd!==-1?Jd:Jd=It()}function Sa(e){return e.mode&1?nt&2&&or!==0?or&-or:GT.transition!==null?(Zd===0&&(Zd=Tw()),Zd):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Lw(e.type)),e):1}function Ln(e,t,r,n){if(50<Xl)throw Xl=0,lp=null,Error(xe(185));Fc(e,r,n),(!(nt&2)||e!==rr)&&(e===rr&&(!(nt&2)&&(mf|=r),Yt===4&&sa(e,or)),Vr(e,n),r===1&&nt===0&&!(t.mode&1)&&(Yo=It()+500,df&&qa()))}function Vr(e,t){var r=e.callbackNode;GP(e,t);var n=pu(e,e===rr?or:0);if(n===0)r!==null&&Wy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wy(r),t===1)e.tag===0?QT(Lx.bind(null,e)):rj(Lx.bind(null,e)),zT(function(){!(nt&6)&&qa()}),r=null;else{switch(Aw(n)){case 1:r=Eg;break;case 4:r=kw;break;case 16:r=mu;break;case 536870912:r=Pw;break;default:r=mu}r=eN(r,Kj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kj(e,t){if(Jd=-1,Zd=0,nt&6)throw Error(xe(327));var r=e.callbackNode;if(Co()&&e.callbackNode!==r)return null;var n=pu(e,e===rr?or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Iu(e,n);else{t=n;var a=nt;nt|=2;var i=Gj();(rr!==e||or!==t)&&(js=null,Yo=It()+500,yi(e,t));do try{p2();break}catch(l){Qj(e,l)}while(!0);Ug(),Tu.current=i,nt=a,Ut!==null?t=0:(rr=null,or=0,t=Yt)}if(t!==0){if(t===2&&(a=Dm(e),a!==0&&(n=a,t=cp(e,a))),t===1)throw r=bc,yi(e,0),sa(e,n),Vr(e,It()),r;if(t===6)sa(e,n);else{if(a=e.current.alternate,!(n&30)&&!h2(a)&&(t=Iu(e,n),t===2&&(i=Dm(e),i!==0&&(n=i,t=cp(e,i))),t===1))throw r=bc,yi(e,0),sa(e,n),Vr(e,It()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(xe(345));case 2:Za(e,Lr,js);break;case 3:if(sa(e,n),(n&130023424)===n&&(t=tv+500-It(),10<t)){if(pu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_r(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vm(Za.bind(null,e,Lr,js),t);break}Za(e,Lr,js);break;case 4:if(sa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Mn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f2(n/1960))-n,10<n){e.timeoutHandle=Vm(Za.bind(null,e,Lr,js),n);break}Za(e,Lr,js);break;case 5:Za(e,Lr,js);break;default:throw Error(xe(329))}}}return Vr(e,It()),e.callbackNode===r?Kj.bind(null,e):null}function cp(e,t){var r=Yl;return e.current.memoizedState.isDehydrated&&(yi(e,t).flags|=256),e=Iu(e,t),e!==2&&(t=Lr,Lr=r,t!==null&&dp(t)),e}function dp(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function h2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Fn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sa(e,t){for(t&=~ev,t&=~mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mn(t),n=1<<r;e[r]=-1,t&=~n}}function Lx(e){if(nt&6)throw Error(xe(327));Co();var t=pu(e,0);if(!(t&1))return Vr(e,It()),null;var r=Iu(e,t);if(e.tag!==0&&r===2){var n=Dm(e);n!==0&&(t=n,r=cp(e,n))}if(r===1)throw r=bc,yi(e,0),sa(e,t),Vr(e,It()),r;if(r===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Za(e,Lr,js),Vr(e,It()),null}function rv(e,t){var r=nt;nt|=1;try{return e(t)}finally{nt=r,nt===0&&(Yo=It()+500,df&&qa())}}function ki(e){va!==null&&va.tag===0&&!(nt&6)&&Co();var t=nt;nt|=1;var r=vn.transition,n=dt;try{if(vn.transition=null,dt=1,e)return e()}finally{dt=n,vn.transition=r,nt=t,!(nt&6)&&qa()}}function nv(){Yr=xo.current,bt(xo)}function yi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,VT(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(Lg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bu();break;case 3:Qo(),bt(qr),bt(pr),Hg();break;case 5:Wg(n);break;case 4:Qo();break;case 13:bt(St);break;case 19:bt(St);break;case 10:qg(n.type._context);break;case 22:case 23:nv()}r=r.return}if(rr=e,Ut=e=Ca(e.current,null),or=Yr=t,Yt=0,bc=null,ev=mf=Ei=0,Lr=Yl=null,ai!==null){for(t=0;t<ai.length;t++)if(r=ai[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ai=null}return e}function Qj(e,t){do{var r=Ut;try{if(Ug(),Gd.current=Pu,ku){for(var n=Ct.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ku=!1}if(Ci=0,tr=Ht=Ct=null,Ql=!1,vc=0,Zg.current=null,r===null||r.return===null){Yt=1,bc=t,Ut=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=or,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_x(o);if(p!==null){p.flags&=-257,Sx(p,o,l,i,t),p.mode&1&&Nx(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Nx(i,d,t),sv();break e}c=Error(xe(426))}}else if(jt&&l.mode&1){var w=_x(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sx(w,o,l,i,t),Fg(Go(c,l));break e}}i=c=Go(c,l),Yt!==4&&(Yt=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Aj(i,c,t);vx(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_a===null||!_a.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Rj(i,l,t);vx(i,N);break e}}i=i.return}while(i!==null)}Xj(r)}catch(j){t=j,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(!0)}function Gj(){var e=Tu.current;return Tu.current=Pu,e===null?Pu:e}function sv(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rr===null||!(Ei&268435455)&&!(mf&268435455)||sa(rr,or)}function Iu(e,t){var r=nt;nt|=2;var n=Gj();(rr!==e||or!==t)&&(js=null,yi(e,t));do try{m2();break}catch(a){Qj(e,a)}while(!0);if(Ug(),nt=r,Tu.current=n,Ut!==null)throw Error(xe(261));return rr=null,or=0,Yt}function m2(){for(;Ut!==null;)Yj(Ut)}function p2(){for(;Ut!==null&&!UP();)Yj(Ut)}function Yj(e){var t=Zj(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?Xj(e):Ut=t,Zg.current=null}function Xj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=l2(r,t),r!==null){r.flags&=32767,Ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yt=6,Ut=null;return}}else if(r=o2(r,t,Yr),r!==null){Ut=r;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Yt===0&&(Yt=5)}function Za(e,t,r){var n=dt,a=vn.transition;try{vn.transition=null,dt=1,g2(e,t,r,n)}finally{vn.transition=a,dt=n}return null}function g2(e,t,r,n){do Co();while(va!==null);if(nt&6)throw Error(xe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(YP(e,i),e===rr&&(Ut=rr=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_d||(_d=!0,eN(mu,function(){return Co(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var o=dt;dt=1;var l=nt;nt|=4,Zg.current=null,d2(e,r),Wj(r,e),MT(qm),gu=!!Um,qm=Um=null,e.current=r,u2(r),qP(),nt=l,dt=o,vn.transition=i}else e.current=r;if(_d&&(_d=!1,va=e,Ru=a),i=e.pendingLanes,i===0&&(_a=null),zP(r.stateNode),Vr(e,It()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Au)throw Au=!1,e=op,op=null,e;return Ru&1&&e.tag!==0&&Co(),i=e.pendingLanes,i&1?e===lp?Xl++:(Xl=0,lp=e):Xl=0,qa(),null}function Co(){if(va!==null){var e=Aw(Ru),t=vn.transition,r=dt;try{if(vn.transition=null,dt=16>e?16:e,va===null)var n=!1;else{if(e=va,va=null,Ru=0,nt&6)throw Error(xe(331));var a=nt;for(nt|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Oe=d;Oe!==null;){var u=Oe;switch(u.tag){case 0:case 11:case 15:Gl(8,u,i)}var f=u.child;if(f!==null)f.return=u,Oe=f;else for(;Oe!==null;){u=Oe;var m=u.sibling,p=u.return;if(Bj(u),u===d){Oe=null;break}if(m!==null){m.return=p,Oe=m;break}Oe=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Oe=y;break e}Oe=i.return}}var v=e.current;for(Oe=v;Oe!==null;){o=Oe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Oe=b;else e:for(o=v;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hf(9,l)}}catch(j){Pt(l,l.return,j)}if(l===o){Oe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Oe=N;break e}Oe=l.return}}if(nt=a,qa(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(sf,e)}catch{}n=!0}return n}finally{dt=r,vn.transition=t}}return!1}function Fx(e,t,r){t=Go(r,t),t=Aj(e,t,1),e=Na(e,t,1),t=_r(),e!==null&&(Fc(e,1,t),Vr(e,t))}function Pt(e,t,r){if(e.tag===3)Fx(e,e,r);else for(;t!==null;){if(t.tag===3){Fx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_a===null||!_a.has(n))){e=Go(r,e),e=Rj(t,e,1),t=Na(t,e,1),e=_r(),t!==null&&(Fc(t,1,e),Vr(t,e));break}}t=t.return}}function v2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(or&r)===r&&(Yt===4||Yt===3&&(or&130023424)===or&&500>It()-tv?yi(e,0):ev|=r),Vr(e,t)}function Jj(e,t){t===0&&(e.mode&1?(t=md,md<<=1,!(md&130023424)&&(md=4194304)):t=1);var r=_r();e=Fs(e,t),e!==null&&(Fc(e,t,r),Vr(e,r))}function y2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jj(e,r)}function x2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(t),Jj(e,r)}var Zj;Zj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qr.current)$r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $r=!1,i2(e,t,r);$r=!!(e.flags&131072)}else $r=!1,jt&&t.flags&1048576&&nj(t,Nu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xd(e,t),e=t.pendingProps;var a=Wo(t,pr.current);So(t,r),a=Qg(null,t,n,e,a,r);var i=Gg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(n)?(i=!0,wu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Vg(t),a.updater=ff,t.stateNode=a,a._reactInternals=t,Ym(t,n,e,r),t=Zm(null,t,n,!0,i,r)):(t.tag=0,jt&&i&&Mg(t),xr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=w2(n),e=En(n,e),a){case 0:t=Jm(null,t,n,e,r);break e;case 1:t=kx(null,t,n,e,r);break e;case 11:t=Cx(null,t,n,e,r);break e;case 14:t=Ex(null,t,n,En(n.type,e),r);break e}throw Error(xe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:En(n,a),Jm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:En(n,a),kx(e,t,n,a,r);case 3:e:{if(Mj(t),e===null)throw Error(xe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,cj(e,t),Cu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Go(Error(xe(423)),t),t=Px(e,t,n,r,a);break e}else if(n!==a){a=Go(Error(xe(424)),t),t=Px(e,t,n,r,a);break e}else for(Jr=ja(t.stateNode.containerInfo.firstChild),tn=t,jt=!0,Rn=null,r=oj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ho(),n===a){t=$s(e,t,r);break e}xr(e,t,n,r)}t=t.child}return t;case 5:return dj(t),e===null&&Km(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Bm(n,a)?o=null:i!==null&&Bm(n,i)&&(t.flags|=32),Dj(e,t),xr(e,t,o,r),t.child;case 6:return e===null&&Km(t),null;case 13:return Lj(e,t,r);case 4:return zg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ko(t,null,n,r):xr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:En(n,a),Cx(e,t,n,a,r);case 7:return xr(e,t,t.pendingProps,r),t.child;case 8:return xr(e,t,t.pendingProps.children,r),t.child;case 12:return xr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ht(_u,n._currentValue),n._currentValue=o,i!==null)if(Fn(i.value,o)){if(i.children===a.children&&!qr.current){t=$s(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Is(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Qm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,So(t,r),a=xn(a),n=n(a),t.flags|=1,xr(e,t,n,r),t.child;case 14:return n=t.type,a=En(n,t.pendingProps),a=En(n.type,a),Ex(e,t,n,a,r);case 15:return Ij(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:En(n,a),Xd(e,t),t.tag=1,Br(n)?(e=!0,wu(t)):e=!1,So(t,r),Tj(t,n,a),Ym(t,n,a,r),Zm(null,t,n,!0,e,r);case 19:return Fj(e,t,r);case 22:return Oj(e,t,r)}throw Error(xe(156,t.tag))};function eN(e,t){return Ew(e,t)}function b2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,n){return new b2(e,t,r,n)}function av(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w2(e){if(typeof e=="function")return av(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_g)return 11;if(e===Sg)return 14}return 2}function Ca(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function eu(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")av(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lo:return xi(r.children,a,i,t);case Ng:o=8,a|=8;break;case bm:return e=gn(12,r,t,a|2),e.elementType=bm,e.lanes=i,e;case wm:return e=gn(13,r,t,a),e.elementType=wm,e.lanes=i,e;case jm:return e=gn(19,r,t,a),e.elementType=jm,e.lanes=i,e;case dw:return pf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lw:o=10;break e;case cw:o=9;break e;case _g:o=11;break e;case Sg:o=14;break e;case ta:o=16,n=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=gn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function xi(e,t,r,n){return e=gn(7,e,n,t),e.lanes=r,e}function pf(e,t,r,n){return e=gn(22,e,n,t),e.elementType=dw,e.lanes=r,e.stateNode={isHidden:!1},e}function Lh(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function Fh(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j2(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function iv(e,t,r,n,a,i,o,l,c){return e=new j2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vg(i),e}function N2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tN(e){if(!e)return Ra;e=e._reactInternals;e:{if(Fi(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var r=e.type;if(Br(r))return tj(e,r,t)}return t}function rN(e,t,r,n,a,i,o,l,c){return e=iv(r,n,!0,e,a,i,o,l,c),e.context=tN(null),r=e.current,n=_r(),a=Sa(r),i=Is(n,a),i.callback=t??null,Na(r,i,a),e.current.lanes=a,Fc(e,a,n),Vr(e,n),e}function gf(e,t,r,n){var a=t.current,i=_r(),o=Sa(a);return r=tN(r),t.context===null?t.context=r:t.pendingContext=r,t=Is(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Na(a,t,o),e!==null&&(Ln(e,a,o,i),Qd(e,a,o)),o}function Ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ov(e,t){$x(e,t),(e=e.alternate)&&$x(e,t)}function _2(){return null}var nN=typeof reportError=="function"?reportError:function(e){console.error(e)};function lv(e){this._internalRoot=e}vf.prototype.render=lv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));gf(e,t,null,null)};vf.prototype.unmount=lv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ki(function(){gf(null,e,null,null)}),t[Ls]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ow();e={blockedOn:null,target:e,priority:t};for(var r=0;r<na.length&&t!==0&&t<na[r].priority;r++);na.splice(r,0,e),r===0&&Mw(e)}};function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ux(){}function S2(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Ou(o);i.call(d)}}var o=rN(t,n,e,0,null,!1,!1,"",Ux);return e._reactRootContainer=o,e[Ls]=o.current,fc(e.nodeType===8?e.parentNode:e),ki(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Ou(c);l.call(d)}}var c=iv(e,0,!1,null,null,!1,!1,"",Ux);return e._reactRootContainer=c,e[Ls]=c.current,fc(e.nodeType===8?e.parentNode:e),ki(function(){gf(t,c,r,n)}),c}function xf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ou(o);l.call(c)}}gf(t,o,e,a)}else o=S2(r,t,e,a,n);return Ou(o)}Rw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ll(t.pendingLanes);r!==0&&(kg(t,r|1),Vr(t,It()),!(nt&6)&&(Yo=It()+500,qa()))}break;case 13:ki(function(){var n=Fs(e,1);if(n!==null){var a=_r();Ln(n,e,1,a)}}),ov(e,1)}};Pg=function(e){if(e.tag===13){var t=Fs(e,134217728);if(t!==null){var r=_r();Ln(t,e,134217728,r)}ov(e,134217728)}};Iw=function(e){if(e.tag===13){var t=Sa(e),r=Fs(e,t);if(r!==null){var n=_r();Ln(r,e,t,n)}ov(e,t)}};Ow=function(){return dt};Dw=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};Rm=function(e,t,r){switch(t){case"input":if(Sm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=cf(n);if(!a)throw Error(xe(90));fw(n),Sm(n,a)}}}break;case"textarea":mw(e,r);break;case"select":t=r.value,t!=null&&wo(e,!!r.multiple,t,!1)}};ww=rv;jw=ki;var C2={usingClientEntryPoint:!1,Events:[Uc,ho,cf,xw,bw,rv]},Sl={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E2={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sw(e),e===null?null:e.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||_2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{sf=Sd.inject(E2),ls=Sd}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(t))throw Error(xe(200));return N2(e,t,null,r)};on.createRoot=function(e,t){if(!cv(e))throw Error(xe(299));var r=!1,n="",a=nN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=iv(e,1,!1,null,null,r,!1,n,a),e[Ls]=t.current,fc(e.nodeType===8?e.parentNode:e),new lv(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=Sw(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return ki(e)};on.hydrate=function(e,t,r){if(!yf(t))throw Error(xe(200));return xf(null,e,t,!0,r)};on.hydrateRoot=function(e,t,r){if(!cv(e))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=nN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rN(t,null,e,1,r??null,a,!1,i,o),e[Ls]=t.current,fc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new vf(t)};on.render=function(e,t,r){if(!yf(t))throw Error(xe(200));return xf(null,e,t,!1,r)};on.unmountComponentAtNode=function(e){if(!yf(e))throw Error(xe(40));return e._reactRootContainer?(ki(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1};on.unstable_batchedUpdates=rv;on.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yf(r))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return xf(e,t,r,!1,n)};on.version="18.3.1-next-f1338f8080-20240426";function sN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sN)}catch(e){console.error(e)}}sN(),sw.exports=on;var $i=sw.exports;const aN=mg($i);var iN,qx=$i;iN=qx.createRoot,qx.hydrateRoot;const k2=1,P2=1e6;let $h=0;function T2(){return $h=($h+1)%Number.MAX_SAFE_INTEGER,$h.toString()}const Uh=new Map,Bx=e=>{if(Uh.has(e))return;const t=setTimeout(()=>{Uh.delete(e),Jl({type:"REMOVE_TOAST",toastId:e})},P2);Uh.set(e,t)},A2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,k2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Bx(r):e.toasts.forEach(n=>{Bx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tu=[];let ru={toasts:[]};function Jl(e){ru=A2(ru,e),tu.forEach(t=>{t(ru)})}function R2({...e}){const t=T2(),r=a=>Jl({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Jl({type:"DISMISS_TOAST",toastId:t});return Jl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Bn(){const[e,t]=h.useState(ru);return h.useEffect(()=>(tu.push(t),()=>{const r=tu.indexOf(t);r>-1&&tu.splice(r,1)}),[e]),{...e,toast:R2,dismiss:r=>Jl({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Vx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Us(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Vx(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Vx(e[a],null)}}}}function ze(...e){return h.useCallback(Us(...e),e)}function I2(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function kr(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=f=>{var y;const{scope:m,children:p,...x}=f,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,w=h.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,O2(a,...t)]}function O2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ia(e){const t=M2(e),r=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(L2);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var D2=Ia("Slot");function M2(e){const t=h.forwardRef((r,n)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=$2(a),l=F2(i,a.props);return a.type!==h.Fragment&&(l.ref=n?Us(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oN=Symbol("radix.slottable");function lN(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=oN,t}function L2(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oN}function F2(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function $2(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bf(e){const t=e+"CollectionProvider",[r,n]=kr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,v=pe.useRef(null),b=pe.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ia(l),d=pe.forwardRef((g,w)=>{const{scope:y,children:v}=g,b=i(l,y),N=ze(w,b.collectionRef);return s.jsx(c,{ref:N,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ia(u),p=pe.forwardRef((g,w)=>{const{scope:y,children:v,...b}=g,N=pe.useRef(null),j=ze(w,N),E=i(u,y);return pe.useEffect(()=>(E.itemMap.set(N,{ref:N,...b}),()=>void E.itemMap.delete(N))),s.jsx(m,{[f]:"",ref:j,children:v})});p.displayName=u;function x(g){const w=i(e+"CollectionConsumer",g);return pe.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((E,k)=>b.indexOf(E.ref.current)-b.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},x,n]}var U2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=U2.reduce((e,t)=>{const r=Ia(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dv(e,t){e&&$i.flushSync(()=>e.dispatchEvent(t))}function Ot(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function q2(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var B2="DismissableLayer",up="dismissableLayer.update",V2="dismissableLayer.pointerDownOutside",z2="dismissableLayer.focusOutside",zx,cN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ui=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(cN),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=ze(t,k=>f(k)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=y,j=H2(k=>{const D=k.target,z=[...d.branches].some(F=>F.contains(D));!N||z||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),E=K2(k=>{const D=k.target;[...d.branches].some(F=>F.contains(D))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return q2(k=>{v===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Wx(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=zx)}},[u,m,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Wx())},[u,d]),h.useEffect(()=>{const k=()=>p({});return document.addEventListener(up,k),()=>document.removeEventListener(up,k)},[]),s.jsx(De.div,{...c,ref:x,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,j.onPointerDownCapture)})});Ui.displayName=B2;var W2="DismissableLayerBranch",dN=h.forwardRef((e,t)=>{const r=h.useContext(cN),n=h.useRef(null),a=ze(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(De.div,{...e,ref:a})});dN.displayName=W2;function H2(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){uN(V2,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function K2(e,t=globalThis==null?void 0:globalThis.document){const r=Ot(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&uN(z2,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Wx(){const e=new CustomEvent(up);document.dispatchEvent(e)}function uN(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dv(a,i):a.dispatchEvent(i)}var Q2=Ui,G2=dN,nr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Y2="Portal",il=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=h.useState(!1);nr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?aN.createPortal(s.jsx(De.div,{...n,ref:t}),o):null});il.displayName=Y2;function X2(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var sr=e=>{const{present:t,children:r}=e,n=J2(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=ze(n.ref,Z2(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};sr.displayName="Presence";function J2(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=X2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Cd(n.current);i.current=l==="mounted"?d:"none"},[l]),nr(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Cd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),nr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Cd(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(i.current=Cd(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Cd(e){return(e==null?void 0:e.animationName)||"none"}function Z2(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eA=xg[" useInsertionEffect ".trim().toString()]||nr;function qs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=tA({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const m=rA(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function tA({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),a=h.useRef(r),i=h.useRef(t);return eA(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function rA(e){return typeof e=="function"}var fN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nA="VisuallyHidden",wf=h.forwardRef((e,t)=>s.jsx(De.span,{...e,ref:t,style:{...fN,...e.style}}));wf.displayName=nA;var sA=wf,uv="ToastProvider",[fv,aA,iA]=bf("Toast"),[hN,aV]=kr("Toast",[iA]),[oA,jf]=hN(uv),mN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${uv}\`. Expected non-empty \`string\`.`),s.jsx(fv.Provider,{scope:t,children:s.jsx(oA,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};mN.displayName=uv;var pN="ToastViewport",lA=["F8"],fp="toast.viewportPause",hp="toast.viewportResume",gN=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=lA,label:a="Notifications ({hotkey})",...i}=e,o=jf(pN,r),l=aA(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=ze(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;h.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),h.useEffect(()=>{const w=c.current,y=f.current;if(x&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(fp);y.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(hp);y.dispatchEvent(E),o.isClosePausedRef.current=!1}},N=E=>{!w.contains(E.relatedTarget)&&b()},j=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",N),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",j),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const N=b.ref.current,j=[N,...wA(N)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const y=v=>{var j,E,k;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const D=document.activeElement,z=v.shiftKey;if(v.target===w&&z){(j=d.current)==null||j.focus();return}const q=g({tabbingDirection:z?"backwards":"forwards"}),X=q.findIndex(S=>S===D);qh(q.slice(X+1))?v.preventDefault():z?(E=d.current)==null||E.focus():(k=u.current)==null||k.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),s.jsxs(G2,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(mp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});qh(w)}}),s.jsx(fv.Slot,{scope:r,children:s.jsx(De.ol,{tabIndex:-1,...i,ref:m})}),x&&s.jsx(mp,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});qh(w)}})]})});gN.displayName=pN;var vN="ToastFocusProxy",mp=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=jf(vN,r);return s.jsx(wf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});mp.displayName=vN;var Bc="Toast",cA="toast.swipeStart",dA="toast.swipeMove",uA="toast.swipeCancel",fA="toast.swipeEnd",yN=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=qs({prop:n,defaultProp:a??!0,onChange:i,caller:Bc});return s.jsx(sr,{present:r||l,children:s.jsx(pA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ot(e.onPause),onResume:Ot(e.onResume),onSwipeStart:Ne(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});yN.displayName=Bc;var[hA,mA]=hN(Bc,{onClose(){}}),pA=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=jf(Bc,r),[w,y]=h.useState(null),v=ze(t,S=>y(S)),b=h.useRef(null),N=h.useRef(null),j=a||g.duration,E=h.useRef(0),k=h.useRef(j),D=h.useRef(0),{onToastAdd:z,onToastRemove:F}=g,I=Ot(()=>{var _;(w==null?void 0:w.contains(document.activeElement))&&((_=g.viewport)==null||_.focus()),o()}),q=h.useCallback(S=>{!S||S===1/0||(window.clearTimeout(D.current),E.current=new Date().getTime(),D.current=window.setTimeout(I,S))},[I]);h.useEffect(()=>{const S=g.viewport;if(S){const _=()=>{q(k.current),d==null||d()},A=()=>{const te=new Date().getTime()-E.current;k.current=k.current-te,window.clearTimeout(D.current),c==null||c()};return S.addEventListener(fp,A),S.addEventListener(hp,_),()=>{S.removeEventListener(fp,A),S.removeEventListener(hp,_)}}},[g.viewport,j,c,d,q]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&q(j)},[i,j,g.isClosePausedRef,q]),h.useEffect(()=>(z(),()=>F()),[z,F]);const X=h.useMemo(()=>w?SN(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[X&&s.jsx(gA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),s.jsx(hA,{scope:r,onClose:I,children:$i.createPortal(s.jsx(fv.ItemSlot,{scope:r,children:s.jsx(Q2,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,S=>{S.key==="Escape"&&(l==null||l(S.nativeEvent),S.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ne(e.onPointerDown,S=>{S.button===0&&(b.current={x:S.clientX,y:S.clientY})}),onPointerMove:Ne(e.onPointerMove,S=>{if(!b.current)return;const _=S.clientX-b.current.x,A=S.clientY-b.current.y,te=!!N.current,W=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ae=W?U(0,_):0,ve=W?0:U(0,A),B=S.pointerType==="touch"?10:2,O={x:ae,y:ve},G={originalEvent:S,delta:O};te?(N.current=O,Ed(dA,f,G,{discrete:!1})):Hx(O,g.swipeDirection,B)?(N.current=O,Ed(cA,u,G,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(_)>B||Math.abs(A)>B)&&(b.current=null)}),onPointerUp:Ne(e.onPointerUp,S=>{const _=N.current,A=S.target;if(A.hasPointerCapture(S.pointerId)&&A.releasePointerCapture(S.pointerId),N.current=null,b.current=null,_){const te=S.currentTarget,W={originalEvent:S,delta:_};Hx(_,g.swipeDirection,g.swipeThreshold)?Ed(fA,p,W,{discrete:!0}):Ed(uA,m,W,{discrete:!0}),te.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),gA=e=>{const{__scopeToast:t,children:r,...n}=e,a=jf(Bc,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return xA(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(il,{asChild:!0,children:s.jsx(wf,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},vA="ToastTitle",xN=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(De.div,{...n,ref:t})});xN.displayName=vA;var yA="ToastDescription",bN=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(De.div,{...n,ref:t})});bN.displayName=yA;var wN="ToastAction",jN=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(_N,{altText:r,asChild:!0,children:s.jsx(hv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wN}\`. Expected non-empty \`string\`.`),null)});jN.displayName=wN;var NN="ToastClose",hv=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=mA(NN,r);return s.jsx(_N,{asChild:!0,children:s.jsx(De.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});hv.displayName=NN;var _N=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function SN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),bA(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...SN(n))}}),t}function Ed(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dv(a,i):a.dispatchEvent(i)}var Hx=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function xA(e=()=>{}){const t=Ot(e);nr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function bA(e){return e.nodeType===e.ELEMENT_NODE}function wA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var jA=mN,CN=gN,EN=yN,kN=xN,PN=bN,TN=jN,AN=hv;function RN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=RN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function IN(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=RN(e))&&(n&&(n+=" "),n+=t);return n}const Kx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qx=IN,Vc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=Kx(u)||Kx(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return Qx(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ON=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,..._A,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ON("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const r=h.forwardRef(({className:n,...a},i)=>h.createElement(SA,{ref:i,iconNode:t,className:ON(`lucide-${NA(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=We("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=We("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=We("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=We("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=We("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=We("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=We("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=We("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=We("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=We("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=We("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gv="-",MA=e=>{const t=FA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(gv);return l[0]===""&&l.length!==1&&l.shift(),UN(l,t)||LA(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},UN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?UN(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(gv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},eb=/^\[(.+)\]$/,LA=e=>{if(eb.test(e)){const t=eb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return UA(Object.entries(e.classGroups),r).forEach(([i,o])=>{vp(o,n,i,t)}),n},vp=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:tb(t,a);i.classGroupId=r;return}if(typeof a=="function"){if($A(a)){vp(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{vp(o,tb(t,i),r,n)})})},tb=(e,t)=>{let r=e;return t.split(gv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$A=e=>e.isThemeGetter,UA=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,qA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},qN="!",BA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===a&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(y==="/"){f=w;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(qN),x=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},VA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zA=e=>({cache:qA(e.cacheSize),parseClassName:BA(e),...MA(e)}),WA=/\s+/,HA=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(WA);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let x=!!p,g=n(x?m.substring(0,p):m);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const w=VA(u).join(":"),y=f?w+qN:w,v=y+g;if(i.includes(v))continue;i.push(v);const b=a(g,x);for(let N=0;N<b.length;++N){const j=b[N];i.push(y+j)}l=d+(l.length>0?" "+l:l)}return l};function KA(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=BN(t))&&(n&&(n+=" "),n+=r);return n}const BN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=BN(e[n]))&&(r&&(r+=" "),r+=t);return r};function QA(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=zA(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=HA(c,r);return a(c,u),u}return function(){return i(KA.apply(null,arguments))}}const gt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},VN=/^\[(?:([a-z-]+):)?(.+)\]$/i,GA=/^\d+\/\d+$/,YA=new Set(["px","full","screen"]),XA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=e=>Eo(e)||YA.has(e)||GA.test(e),Qs=e=>ol(e,"length",cR),Eo=e=>!!e&&!Number.isNaN(Number(e)),Vh=e=>ol(e,"number",Eo),Cl=e=>!!e&&Number.isInteger(Number(e)),rR=e=>e.endsWith("%")&&Eo(e.slice(0,-1)),Qe=e=>VN.test(e),Gs=e=>XA.test(e),nR=new Set(["length","size","percentage"]),sR=e=>ol(e,nR,zN),aR=e=>ol(e,"position",zN),iR=new Set(["image","url"]),oR=e=>ol(e,iR,uR),lR=e=>ol(e,"",dR),El=()=>!0,ol=(e,t,r)=>{const n=VN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},cR=e=>JA.test(e)&&!ZA.test(e),zN=()=>!1,dR=e=>eR.test(e),uR=e=>tR.test(e),fR=()=>{const e=gt("colors"),t=gt("spacing"),r=gt("blur"),n=gt("brightness"),a=gt("borderColor"),i=gt("borderRadius"),o=gt("borderSpacing"),l=gt("borderWidth"),c=gt("contrast"),d=gt("grayscale"),u=gt("hueRotate"),f=gt("invert"),m=gt("gap"),p=gt("gradientColorStops"),x=gt("gradientColorStopPositions"),g=gt("inset"),w=gt("margin"),y=gt("opacity"),v=gt("padding"),b=gt("saturate"),N=gt("scale"),j=gt("sepia"),E=gt("skew"),k=gt("space"),D=gt("translate"),z=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Qe,t],q=()=>[Qe,t],X=()=>["",ys,Qs],S=()=>["auto",Eo,Qe],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Qe],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ve=()=>[Eo,Qe];return{cacheSize:500,separator:":",theme:{colors:[El],spacing:[ys,Qs],blur:["none","",Gs,Qe],brightness:ve(),borderColor:[e],borderRadius:["none","","full",Gs,Qe],borderSpacing:q(),borderWidth:X(),contrast:ve(),grayscale:U(),hueRotate:ve(),invert:U(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[rR,Qs],inset:I(),margin:I(),opacity:ve(),padding:q(),saturate:ve(),scale:ve(),sepia:U(),skew:ve(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Gs]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),Qe]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,Qe]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Cl,Qe]}],"grid-cols":[{"grid-cols":[El]}],"col-start-end":[{col:["auto",{span:["full",Cl,Qe]},Qe]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[El]}],"row-start-end":[{row:["auto",{span:[Cl,Qe]},Qe]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[Gs]},Gs]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gs,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vh]}],"font-family":[{font:[El]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Eo,Vh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,Qs]}],"underline-offset":[{"underline-offset":["auto",ys,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),aR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:A()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[ys,Qe]}],"outline-w":[{outline:[ys,Qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ys,Qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gs,lR]}],"shadow-color":[{shadow:[El]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gs,Qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:ve()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Cl,Qe]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ys,Qs,Vh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hR=QA(fR);function Ee(...e){return hR(IN(e))}const mR=jA,WN=h.forwardRef(({className:e,...t},r)=>s.jsx(CN,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WN.displayName=CN.displayName;const pR=Vc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HN=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(EN,{ref:n,className:Ee(pR({variant:t}),e),...r}));HN.displayName=EN.displayName;const gR=h.forwardRef(({className:e,...t},r)=>s.jsx(TN,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gR.displayName=TN.displayName;const KN=h.forwardRef(({className:e,...t},r)=>s.jsx(AN,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx($N,{className:"h-4 w-4"})}));KN.displayName=AN.displayName;const QN=h.forwardRef(({className:e,...t},r)=>s.jsx(kN,{ref:r,className:Ee("text-sm font-semibold",e),...t}));QN.displayName=kN.displayName;const GN=h.forwardRef(({className:e,...t},r)=>s.jsx(PN,{ref:r,className:Ee("text-sm opacity-90",e),...t}));GN.displayName=PN.displayName;function vR(){const{toasts:e}=Bn();return s.jsxs(mR,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(HN,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(QN,{children:r}),n&&s.jsx(GN,{children:n})]}),a,s.jsx(KN,{})]},t)}),s.jsx(WN,{})]})}var rb=["light","dark"],yR="(prefers-color-scheme: dark)",xR=h.createContext(void 0),bR={setTheme:e=>{},themes:[]},wR=()=>{var e;return(e=h.useContext(xR))!=null?e:bR};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?rb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,g=!1,w=!0)=>{let y=o?o[x]:x,v=g?x+"|| ''":`'${y}'`,b="";return a&&w&&!g&&rb.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?g||y?b+=`c.add(${v})`:b+="null":y&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${yR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var jR=e=>{switch(e){case"success":return SR;case"info":return ER;case"warning":return CR;case"error":return kR;default:return null}},NR=Array(12).fill(0),_R=({visible:e,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},pe.createElement("div",{className:"sonner-spinner"},NR.map((r,n)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),SR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ER=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PR=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TR=()=>{let[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},yp=1,AR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yp++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],pe.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(IR(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||yp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Or=new AR,RR=(e,t)=>{let r=(t==null?void 0:t.id)||yp++;return Or.addToast({title:e,...t,id:r}),r},IR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",OR=RR,DR=()=>Or.toasts,MR=()=>Or.getActiveToasts();Object.assign(OR,{success:Or.success,info:Or.info,warning:Or.warning,error:Or.error,custom:Or.custom,message:Or.message,promise:Or.promise,dismiss:Or.dismiss,loading:Or.loading},{getHistory:DR,getToasts:MR});function LR(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}LR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kd(e){return e.label!==void 0}var FR=3,$R="32px",UR="16px",nb=4e3,qR=356,BR=14,VR=20,zR=200;function _n(...e){return e.filter(Boolean).join(" ")}function WR(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var HR=e=>{var t,r,n,a,i,o,l,c,d,u,f;let{invert:m,toast:p,unstyled:x,interacting:g,setHeights:w,visibleToasts:y,heights:v,index:b,toasts:N,expanded:j,removeToast:E,defaultRichColors:k,closeButton:D,style:z,cancelButtonStyle:F,actionButtonStyle:I,className:q="",descriptionClassName:X="",duration:S,position:_,gap:A,loadingIcon:te,expandByDefault:W,classNames:U,icons:ae,closeButtonAriaLabel:ve="Close toast",pauseWhenPageIsHidden:B}=e,[O,G]=pe.useState(null),[Q,ie]=pe.useState(null),[ne,R]=pe.useState(!1),[J,ce]=pe.useState(!1),[se,Pe]=pe.useState(!1),[Ue,st]=pe.useState(!1),[oe,Me]=pe.useState(!1),[H,Z]=pe.useState(0),[ye,P]=pe.useState(0),$=pe.useRef(p.duration||S||nb),ee=pe.useRef(null),de=pe.useRef(null),me=b===0,le=b+1<=y,ke=p.type,Fe=p.dismissible!==!1,Ye=p.className||"",mt=p.descriptionClassName||"",Xt=pe.useMemo(()=>v.findIndex(Ve=>Ve.toastId===p.id)||0,[v,p.id]),Tt=pe.useMemo(()=>{var Ve;return(Ve=p.closeButton)!=null?Ve:D},[p.closeButton,D]),qt=pe.useMemo(()=>p.duration||S||nb,[p.duration,S]),Bt=pe.useRef(0),At=pe.useRef(0),ps=pe.useRef(0),Vt=pe.useRef(null),[Kn,gs]=_.split("-"),pt=pe.useMemo(()=>v.reduce((Ve,at,ut)=>ut>=Xt?Ve:Ve+at.height,0),[v,Xt]),Tr=TR(),ih=p.invert||m,pl=ke==="loading";At.current=pe.useMemo(()=>Xt*A+pt,[Xt,pt]),pe.useEffect(()=>{$.current=qt},[qt]),pe.useEffect(()=>{R(!0)},[]),pe.useEffect(()=>{let Ve=de.current;if(Ve){let at=Ve.getBoundingClientRect().height;return P(at),w(ut=>[{toastId:p.id,height:at,position:p.position},...ut]),()=>w(ut=>ut.filter(Kr=>Kr.toastId!==p.id))}},[w,p.id]),pe.useLayoutEffect(()=>{if(!ne)return;let Ve=de.current,at=Ve.style.height;Ve.style.height="auto";let ut=Ve.getBoundingClientRect().height;Ve.style.height=at,P(ut),w(Kr=>Kr.find(Qr=>Qr.toastId===p.id)?Kr.map(Qr=>Qr.toastId===p.id?{...Qr,height:ut}:Qr):[{toastId:p.id,height:ut,position:p.position},...Kr])},[ne,p.title,p.description,w,p.id]);let jn=pe.useCallback(()=>{ce(!0),Z(At.current),w(Ve=>Ve.filter(at=>at.toastId!==p.id)),setTimeout(()=>{E(p)},zR)},[p,E,w,At]);pe.useEffect(()=>{if(p.promise&&ke==="loading"||p.duration===1/0||p.type==="loading")return;let Ve;return j||g||B&&Tr?(()=>{if(ps.current<Bt.current){let at=new Date().getTime()-Bt.current;$.current=$.current-at}ps.current=new Date().getTime()})():$.current!==1/0&&(Bt.current=new Date().getTime(),Ve=setTimeout(()=>{var at;(at=p.onAutoClose)==null||at.call(p,p),jn()},$.current)),()=>clearTimeout(Ve)},[j,g,p,ke,B,Tr,jn]),pe.useEffect(()=>{p.delete&&jn()},[jn,p.delete]);function oh(){var Ve,at,ut;return ae!=null&&ae.loading?pe.createElement("div",{className:_n(U==null?void 0:U.loader,(Ve=p==null?void 0:p.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":ke==="loading"},ae.loading):te?pe.createElement("div",{className:_n(U==null?void 0:U.loader,(at=p==null?void 0:p.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":ke==="loading"},te):pe.createElement(_R,{className:_n(U==null?void 0:U.loader,(ut=p==null?void 0:p.classNames)==null?void 0:ut.loader),visible:ke==="loading"})}return pe.createElement("li",{tabIndex:0,ref:de,className:_n(q,Ye,U==null?void 0:U.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[ke],(r=p==null?void 0:p.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":ne,"data-promise":!!p.promise,"data-swiped":oe,"data-removed":J,"data-visible":le,"data-y-position":Kn,"data-x-position":gs,"data-index":b,"data-front":me,"data-swiping":se,"data-dismissible":Fe,"data-type":ke,"data-invert":ih,"data-swipe-out":Ue,"data-swipe-direction":Q,"data-expanded":!!(j||W&&ne),style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${J?H:At.current}px`,"--initial-height":W?"auto":`${ye}px`,...z,...p.style},onDragEnd:()=>{Pe(!1),G(null),Vt.current=null},onPointerDown:Ve=>{pl||!Fe||(ee.current=new Date,Z(At.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(Pe(!0),Vt.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,at,ut,Kr;if(Ue||!Fe)return;Vt.current=null;let Qr=Number(((Ve=de.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qn=Number(((at=de.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vs=new Date().getTime()-((ut=ee.current)==null?void 0:ut.getTime()),Gr=O==="x"?Qr:Qn,Gn=Math.abs(Gr)/vs;if(Math.abs(Gr)>=VR||Gn>.11){Z(At.current),(Kr=p.onDismiss)==null||Kr.call(p,p),ie(O==="x"?Qr>0?"right":"left":Qn>0?"down":"up"),jn(),st(!0),Me(!1);return}Pe(!1),G(null)},onPointerMove:Ve=>{var at,ut,Kr,Qr;if(!Vt.current||!Fe||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;let Qn=Ve.clientY-Vt.current.y,vs=Ve.clientX-Vt.current.x,Gr=(ut=e.swipeDirections)!=null?ut:WR(_);!O&&(Math.abs(vs)>1||Math.abs(Qn)>1)&&G(Math.abs(vs)>Math.abs(Qn)?"x":"y");let Gn={x:0,y:0};O==="y"?(Gr.includes("top")||Gr.includes("bottom"))&&(Gr.includes("top")&&Qn<0||Gr.includes("bottom")&&Qn>0)&&(Gn.y=Qn):O==="x"&&(Gr.includes("left")||Gr.includes("right"))&&(Gr.includes("left")&&vs<0||Gr.includes("right")&&vs>0)&&(Gn.x=vs),(Math.abs(Gn.x)>0||Math.abs(Gn.y)>0)&&Me(!0),(Kr=de.current)==null||Kr.style.setProperty("--swipe-amount-x",`${Gn.x}px`),(Qr=de.current)==null||Qr.style.setProperty("--swipe-amount-y",`${Gn.y}px`)}},Tt&&!p.jsx?pe.createElement("button",{"aria-label":ve,"data-disabled":pl,"data-close-button":!0,onClick:pl||!Fe?()=>{}:()=>{var Ve;jn(),(Ve=p.onDismiss)==null||Ve.call(p,p)},className:_n(U==null?void 0:U.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=ae==null?void 0:ae.close)!=null?i:PR):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:pe.createElement(pe.Fragment,null,ke||p.icon||p.promise?pe.createElement("div",{"data-icon":"",className:_n(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||oh():null,p.type!=="loading"?p.icon||(ae==null?void 0:ae[ke])||jR(ke):null):null,pe.createElement("div",{"data-content":"",className:_n(U==null?void 0:U.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},pe.createElement("div",{"data-title":"",className:_n(U==null?void 0:U.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?pe.createElement("div",{"data-description":"",className:_n(X,mt,U==null?void 0:U.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&kd(p.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:Ve=>{var at,ut;kd(p.cancel)&&Fe&&((ut=(at=p.cancel).onClick)==null||ut.call(at,Ve),jn())},className:_n(U==null?void 0:U.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&kd(p.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Ve=>{var at,ut;kd(p.action)&&((ut=(at=p.action).onClick)==null||ut.call(at,Ve),!Ve.defaultPrevented&&jn())},className:_n(U==null?void 0:U.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function sb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function KR(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?UR:$R;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var QR=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:m,style:p,visibleToasts:x=FR,toastOptions:g,dir:w=sb(),gap:y=BR,loadingIcon:v,icons:b,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[E,k]=pe.useState([]),D=pe.useMemo(()=>Array.from(new Set([n].concat(E.filter(B=>B.position).map(B=>B.position)))),[E,n]),[z,F]=pe.useState([]),[I,q]=pe.useState(!1),[X,S]=pe.useState(!1),[_,A]=pe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=pe.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=pe.useRef(null),ae=pe.useRef(!1),ve=pe.useCallback(B=>{k(O=>{var G;return(G=O.find(Q=>Q.id===B.id))!=null&&G.delete||Or.dismiss(B.id),O.filter(({id:Q})=>Q!==B.id)})},[]);return pe.useEffect(()=>Or.subscribe(B=>{if(B.dismiss){k(O=>O.map(G=>G.id===B.id?{...G,delete:!0}:G));return}setTimeout(()=>{aN.flushSync(()=>{k(O=>{let G=O.findIndex(Q=>Q.id===B.id);return G!==-1?[...O.slice(0,G),{...O[G],...B},...O.slice(G+1)]:[B,...O]})})})}),[]),pe.useEffect(()=>{if(u!=="system"){A(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:O})=>{A(O?"dark":"light")})}catch{B.addListener(({matches:G})=>{try{A(G?"dark":"light")}catch(Q){console.error(Q)}})}},[u]),pe.useEffect(()=>{E.length<=1&&q(!1)},[E]),pe.useEffect(()=>{let B=O=>{var G,Q;a.every(ie=>O[ie]||O.code===ie)&&(q(!0),(G=te.current)==null||G.focus()),O.code==="Escape"&&(document.activeElement===te.current||(Q=te.current)!=null&&Q.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[a]),pe.useEffect(()=>{if(te.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,ae.current=!1)}},[te.current]),pe.createElement("section",{ref:t,"aria-label":`${N} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((B,O)=>{var G;let[Q,ie]=B.split("-");return E.length?pe.createElement("ol",{key:B,dir:w==="auto"?sb():w,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":_,"data-y-position":Q,"data-lifted":I&&E.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((G=z[0])==null?void 0:G.height)||0}px`,"--width":`${qR}px`,"--gap":`${y}px`,...p,...KR(c,d)},onBlur:ne=>{ae.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(ae.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,U.current=ne.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{X||q(!1)},onDragEnd:()=>q(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||S(!0)},onPointerUp:()=>S(!1)},E.filter(ne=>!ne.position&&O===0||ne.position===B).map((ne,R)=>{var J,ce;return pe.createElement(HR,{key:ne.id,icons:b,index:R,toast:ne,defaultRichColors:f,duration:(J=g==null?void 0:g.duration)!=null?J:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(ce=g==null?void 0:g.closeButton)!=null?ce:o,interacting:X,position:B,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ve,toasts:E.filter(se=>se.position==ne.position),heights:z.filter(se=>se.position==ne.position),setHeights:F,expandByDefault:i,gap:y,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const GR=({...e})=>{const{theme:t="system"}=wR();return s.jsx(QR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var YR=xg[" useId ".trim().toString()]||(()=>{}),XR=0;function lr(e){const[t,r]=h.useState(YR());return nr(()=>{r(n=>n??String(XR++))},[e]),t?`radix-${t}`:""}const JR=["top","right","bottom","left"],Ma=Math.min,Xr=Math.max,Mu=Math.round,Pd=Math.floor,ds=e=>({x:e,y:e}),ZR={left:"right",right:"left",bottom:"top",top:"bottom"},eI={start:"end",end:"start"};function xp(e,t,r){return Xr(e,Ma(t,r))}function Vs(e,t){return typeof e=="function"?e(t):e}function zs(e){return e.split("-")[0]}function ll(e){return e.split("-")[1]}function vv(e){return e==="x"?"y":"x"}function yv(e){return e==="y"?"height":"width"}const tI=new Set(["top","bottom"]);function is(e){return tI.has(zs(e))?"y":"x"}function xv(e){return vv(is(e))}function rI(e,t,r){r===void 0&&(r=!1);const n=ll(e),a=xv(e),i=yv(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Lu(o)),[o,Lu(o)]}function nI(e){const t=Lu(e);return[bp(e),t,bp(t)]}function bp(e){return e.replace(/start|end/g,t=>eI[t])}const ab=["left","right"],ib=["right","left"],sI=["top","bottom"],aI=["bottom","top"];function iI(e,t,r){switch(e){case"top":case"bottom":return r?t?ib:ab:t?ab:ib;case"left":case"right":return t?sI:aI;default:return[]}}function oI(e,t,r,n){const a=ll(e);let i=iI(zs(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(bp)))),i}function Lu(e){return e.replace(/left|right|bottom|top/g,t=>ZR[t])}function lI(e){return{top:0,right:0,bottom:0,left:0,...e}}function YN(e){return typeof e!="number"?lI(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ob(e,t,r){let{reference:n,floating:a}=e;const i=is(t),o=xv(t),l=yv(o),c=zs(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ll(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const cI=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=ob(d,n,c),m=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:N,reset:j}=await y({x:u,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=b??f,p={...p,[w]:{...p[w],...N}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:u,y:f}=ob(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:p}};async function Nc(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Vs(t,e),x=YN(p),w=l[m?f==="floating"?"reference":"floating":f],y=Fu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Fu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-j.top+x.top)/N.y,bottom:(j.bottom-y.bottom+x.bottom)/N.y,left:(y.left-j.left+x.left)/N.x,right:(j.right-y.right+x.right)/N.x}}const dI=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Vs(e,t)||{};if(d==null)return{};const f=YN(u),m={x:r,y:n},p=xv(a),x=yv(p),g=await o.getDimensions(d),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[p]-m[p]-i.floating[x],j=m[p]-i.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=E?E[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(E)))&&(k=l.floating[b]||i.floating[x]);const D=N/2-j/2,z=k/2-g[x]/2-1,F=Ma(f[y],z),I=Ma(f[v],z),q=F,X=k-g[x]-I,S=k/2-g[x]/2+D,_=xp(q,S,X),A=!c.arrow&&ll(a)!=null&&S!==_&&i.reference[x]/2-(S<q?F:I)-g[x]/2<0,te=A?S<q?S-q:S-X:0;return{[p]:m[p]+te,data:{[p]:_,centerOffset:S-_-te,...A&&{alignmentOffset:te}},reset:A}}}),uI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Vs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=zs(a),v=is(l),b=zs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(b||!g?[Lu(l)]:nI(l)),E=x!=="none";!m&&E&&j.push(...oI(l,g,x,N));const k=[l,...j],D=await Nc(t,w),z=[];let F=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&z.push(D[y]),f){const S=rI(a,o,N);z.push(D[S[0]],D[S[1]])}if(F=[...F,{placement:a,overflows:z}],!z.every(S=>S<=0)){var I,q;const S=(((I=i.flip)==null?void 0:I.index)||0)+1,_=k[S];if(_&&(!(f==="alignment"?v!==is(_):!1)||F.every(W=>W.overflows[0]>0&&is(W.placement)===v)))return{data:{index:S,overflows:F},reset:{placement:_}};let A=(q=F.filter(te=>te.overflows[0]<=0).sort((te,W)=>te.overflows[1]-W.overflows[1])[0])==null?void 0:q.placement;if(!A)switch(p){case"bestFit":{var X;const te=(X=F.filter(W=>{if(E){const U=is(W.placement);return U===v||U==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(U=>U>0).reduce((U,ae)=>U+ae,0)]).sort((W,U)=>W[1]-U[1])[0])==null?void 0:X[0];te&&(A=te);break}case"initialPlacement":A=l;break}if(a!==A)return{reset:{placement:A}}}return{}}}};function lb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cb(e){return JR.some(t=>e[t]>=0)}const fI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Vs(e,t);switch(n){case"referenceHidden":{const i=await Nc(t,{...a,elementContext:"reference"}),o=lb(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cb(o)}}}case"escaped":{const i=await Nc(t,{...a,altBoundary:!0}),o=lb(i,r.floating);return{data:{escapedOffsets:o,escaped:cb(o)}}}default:return{}}}}},XN=new Set(["left","top"]);async function hI(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=zs(r),l=ll(r),c=is(r)==="y",d=XN.has(o)?-1:1,u=i&&c?-1:1,f=Vs(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const mI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await hI(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},pI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=Vs(e,t),d={x:r,y:n},u=await Nc(t,c),f=is(zs(a)),m=vv(f);let p=d[m],x=d[f];if(i){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+u[w],b=p-u[y];p=xp(v,p,b)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+u[w],b=x-u[y];x=xp(v,x,b)}const g=l.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},gI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Vs(e,t),u={x:r,y:n},f=is(a),m=vv(f);let p=u[m],x=u[f];const g=Vs(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",N=i.reference[m]-i.floating[b]+w.mainAxis,j=i.reference[m]+i.reference[b]-w.mainAxis;p<N?p=N:p>j&&(p=j)}if(d){var y,v;const b=m==="y"?"width":"height",N=XN.has(zs(a)),j=i.reference[f]-i.floating[b]+(N&&((y=o.offset)==null?void 0:y[f])||0)+(N?0:w.crossAxis),E=i.reference[f]+i.reference[b]+(N?0:((v=o.offset)==null?void 0:v[f])||0)-(N?w.crossAxis:0);x<j?x=j:x>E&&(x=E)}return{[m]:p,[f]:x}}}},vI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Vs(e,t),u=await Nc(t,d),f=zs(a),m=ll(a),p=is(a)==="y",{width:x,height:g}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,w=m==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=x-u.left-u.right,N=Ma(g-u[w],v),j=Ma(x-u[y],b),E=!t.middlewareData.shift;let k=N,D=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=v),E&&!m){const F=Xr(u.left,0),I=Xr(u.right,0),q=Xr(u.top,0),X=Xr(u.bottom,0);p?D=x-2*(F!==0||I!==0?F+I:Xr(u.left,u.right)):k=g-2*(q!==0||X!==0?q+X:Xr(u.top,u.bottom))}await c({...t,availableWidth:D,availableHeight:k});const z=await o.getDimensions(l.floating);return x!==z.width||g!==z.height?{reset:{rects:!0}}:{}}}};function _f(){return typeof window<"u"}function cl(e){return JN(e)?(e.nodeName||"").toLowerCase():"#document"}function rn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(JN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JN(e){return _f()?e instanceof Node||e instanceof rn(e).Node:!1}function Un(e){return _f()?e instanceof Element||e instanceof rn(e).Element:!1}function fs(e){return _f()?e instanceof HTMLElement||e instanceof rn(e).HTMLElement:!1}function db(e){return!_f()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rn(e).ShadowRoot}const yI=new Set(["inline","contents"]);function Wc(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!yI.has(a)}const xI=new Set(["table","td","th"]);function bI(e){return xI.has(cl(e))}const wI=[":popover-open",":modal"];function Sf(e){return wI.some(t=>{try{return e.matches(t)}catch{return!1}})}const jI=["transform","translate","scale","rotate","perspective"],NI=["transform","translate","scale","rotate","perspective","filter"],_I=["paint","layout","strict","content"];function bv(e){const t=wv(),r=Un(e)?qn(e):e;return jI.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||NI.some(n=>(r.willChange||"").includes(n))||_I.some(n=>(r.contain||"").includes(n))}function SI(e){let t=La(e);for(;fs(t)&&!Jo(t);){if(bv(t))return t;if(Sf(t))return null;t=La(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CI=new Set(["html","body","#document"]);function Jo(e){return CI.has(cl(e))}function qn(e){return rn(e).getComputedStyle(e)}function Cf(e){return Un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function La(e){if(cl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||db(e)&&e.host||hs(e);return db(t)?t.host:t}function ZN(e){const t=La(e);return Jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:fs(t)&&Wc(t)?t:ZN(t)}function _c(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ZN(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=rn(a);if(i){const l=wp(o);return t.concat(o,o.visualViewport||[],Wc(a)?a:[],l&&r?_c(l):[])}return t.concat(a,_c(a,[],r))}function wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e_(e){const t=qn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=fs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Mu(r)!==i||Mu(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function jv(e){return Un(e)?e:e.contextElement}function ko(e){const t=jv(e);if(!fs(t))return ds(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=e_(t);let o=(i?Mu(r.width):r.width)/n,l=(i?Mu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const EI=ds(0);function t_(e){const t=rn(e);return!wv()||!t.visualViewport?EI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kI(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==rn(e)?!1:t}function Pi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=jv(e);let o=ds(1);t&&(n?Un(n)&&(o=ko(n)):o=ko(e));const l=kI(i,r,n)?t_(i):ds(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=rn(i),p=n&&Un(n)?rn(n):n;let x=m,g=wp(x);for(;g&&n&&p!==x;){const w=ko(g),y=g.getBoundingClientRect(),v=qn(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,N=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=N,x=rn(g),g=wp(x)}}return Fu({width:u,height:f,x:c,y:d})}function Nv(e,t){const r=Cf(e).scrollLeft;return t?t.left+r:Pi(hs(e)).left+r}function r_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Nv(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function PI(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=hs(n),l=t?Sf(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ds(1);const u=ds(0),f=fs(n);if((f||!f&&!i)&&((cl(n)!=="body"||Wc(o))&&(c=Cf(n)),fs(n))){const p=Pi(n);d=ko(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!f&&!i?r_(o,c,!0):ds(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function TI(e){return Array.from(e.getClientRects())}function AI(e){const t=hs(e),r=Cf(e),n=e.ownerDocument.body,a=Xr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Xr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Nv(e);const l=-r.scrollTop;return qn(n).direction==="rtl"&&(o+=Xr(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function RI(e,t){const r=rn(e),n=hs(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=wv();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const II=new Set(["absolute","fixed"]);function OI(e,t){const r=Pi(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=fs(e)?ko(e):ds(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function ub(e,t,r){let n;if(t==="viewport")n=RI(e,r);else if(t==="document")n=AI(hs(e));else if(Un(t))n=OI(t,r);else{const a=t_(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Fu(n)}function n_(e,t){const r=La(e);return r===t||!Un(r)||Jo(r)?!1:qn(r).position==="fixed"||n_(r,t)}function DI(e,t){const r=t.get(e);if(r)return r;let n=_c(e,[],!1).filter(l=>Un(l)&&cl(l)!=="body"),a=null;const i=qn(e).position==="fixed";let o=i?La(e):e;for(;Un(o)&&!Jo(o);){const l=qn(o),c=bv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&II.has(a.position)||Wc(o)&&!c&&n_(e,o))?n=n.filter(u=>u!==o):a=l,o=La(o)}return t.set(e,n),n}function MI(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Sf(t)?[]:DI(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=ub(t,u,a);return d.top=Xr(f.top,d.top),d.right=Ma(f.right,d.right),d.bottom=Ma(f.bottom,d.bottom),d.left=Xr(f.left,d.left),d},ub(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LI(e){const{width:t,height:r}=e_(e);return{width:t,height:r}}function FI(e,t,r){const n=fs(t),a=hs(t),i=r==="fixed",o=Pi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ds(0);function d(){c.x=Nv(a)}if(n||!n&&!i)if((cl(t)!=="body"||Wc(a))&&(l=Cf(t)),n){const p=Pi(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?r_(a,l):ds(0),f=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function zh(e){return qn(e).position==="static"}function fb(e,t){if(!fs(e)||qn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hs(e)===r&&(r=r.ownerDocument.body),r}function s_(e,t){const r=rn(e);if(Sf(e))return r;if(!fs(e)){let a=La(e);for(;a&&!Jo(a);){if(Un(a)&&!zh(a))return a;a=La(a)}return r}let n=fb(e,t);for(;n&&bI(n)&&zh(n);)n=fb(n,t);return n&&Jo(n)&&zh(n)&&!bv(n)?r:n||SI(e)||r}const $I=async function(e){const t=this.getOffsetParent||s_,r=this.getDimensions,n=await r(e.floating);return{reference:FI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UI(e){return qn(e).direction==="rtl"}const qI={convertOffsetParentRelativeRectToViewportRelativeRect:PI,getDocumentElement:hs,getClippingRect:MI,getOffsetParent:s_,getElementRects:$I,getClientRects:TI,getDimensions:LI,getScale:ko,isElement:Un,isRTL:UI};function a_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BI(e,t){let r=null,n;const a=hs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=d;if(l||t(),!m||!p)return;const x=Pd(f),g=Pd(a.clientWidth-(u+m)),w=Pd(a.clientHeight-(f+p)),y=Pd(u),b={rootMargin:-x+"px "+-g+"px "+-w+"px "+-y+"px",threshold:Xr(0,Ma(1,c))||1};let N=!0;function j(E){const k=E[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!a_(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function VI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=jv(e),u=a||i?[...d?_c(d):[],..._c(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=d&&l?BI(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?Pi(e):null;c&&w();function w(){const y=Pi(e);g&&!a_(g,y)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const zI=mI,WI=pI,HI=uI,KI=vI,QI=fI,hb=dI,GI=gI,YI=(e,t,r)=>{const n=new Map,a={platform:qI,...r},i={...a.platform,_c:n};return cI(e,t,{...a,platform:i})};var XI=typeof document<"u",JI=function(){},su=XI?h.useLayoutEffect:JI;function $u(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$u(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!$u(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function i_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mb(e,t){const r=i_(e);return Math.round(t*r)/r}function Wh(e){const t=h.useRef(e);return su(()=>{t.current=e}),t}function ZI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);$u(m,n)||p(n);const[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useCallback(W=>{W!==E.current&&(E.current=W,g(W))},[]),b=h.useCallback(W=>{W!==k.current&&(k.current=W,y(W))},[]),N=i||x,j=o||w,E=h.useRef(null),k=h.useRef(null),D=h.useRef(u),z=c!=null,F=Wh(c),I=Wh(a),q=Wh(d),X=h.useCallback(()=>{if(!E.current||!k.current)return;const W={placement:t,strategy:r,middleware:m};I.current&&(W.platform=I.current),YI(E.current,k.current,W).then(U=>{const ae={...U,isPositioned:q.current!==!1};S.current&&!$u(D.current,ae)&&(D.current=ae,$i.flushSync(()=>{f(ae)}))})},[m,t,r,I,q]);su(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[d]);const S=h.useRef(!1);su(()=>(S.current=!0,()=>{S.current=!1}),[]),su(()=>{if(N&&(E.current=N),j&&(k.current=j),N&&j){if(F.current)return F.current(N,j,X);X()}},[N,j,X,F,z]);const _=h.useMemo(()=>({reference:E,floating:k,setReference:v,setFloating:b}),[v,b]),A=h.useMemo(()=>({reference:N,floating:j}),[N,j]),te=h.useMemo(()=>{const W={position:r,left:0,top:0};if(!A.floating)return W;const U=mb(A.floating,u.x),ae=mb(A.floating,u.y);return l?{...W,transform:"translate("+U+"px, "+ae+"px)",...i_(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:ae}},[r,l,A.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:X,refs:_,elements:A,floatingStyles:te}),[u,X,_,A,te])}const eO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hb({element:n.current,padding:a}).fn(r):{}:n?hb({element:n,padding:a}).fn(r):{}}}},tO=(e,t)=>({...zI(e),options:[e,t]}),rO=(e,t)=>({...WI(e),options:[e,t]}),nO=(e,t)=>({...GI(e),options:[e,t]}),sO=(e,t)=>({...HI(e),options:[e,t]}),aO=(e,t)=>({...KI(e),options:[e,t]}),iO=(e,t)=>({...QI(e),options:[e,t]}),oO=(e,t)=>({...eO(e),options:[e,t]});var lO="Arrow",o_=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(De.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});o_.displayName=lO;var cO=o_;function l_(e){const[t,r]=h.useState(void 0);return nr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _v="Popper",[c_,Ba]=kr(_v),[dO,d_]=c_(_v),u_=e=>{const{__scopePopper:t,children:r}=e,[n,a]=h.useState(null);return s.jsx(dO,{scope:t,anchor:n,onAnchorChange:a,children:r})};u_.displayName=_v;var f_="PopperAnchor",h_=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=d_(f_,r),o=h.useRef(null),l=ze(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(De.div,{...a,ref:l})});h_.displayName=f_;var Sv="PopperContent",[uO,fO]=c_(Sv),m_=h.forwardRef((e,t)=>{var ne,R,J,ce,se,Pe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=d_(Sv,r),[y,v]=h.useState(null),b=ze(t,Ue=>v(Ue)),[N,j]=h.useState(null),E=l_(N),k=(E==null?void 0:E.width)??0,D=(E==null?void 0:E.height)??0,z=n+(i!=="center"?"-"+i:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],q=I.length>0,X={padding:F,boundary:I.filter(mO),altBoundary:q},{refs:S,floatingStyles:_,placement:A,isPositioned:te,middlewareData:W}=ZI({strategy:"fixed",placement:z,whileElementsMounted:(...Ue)=>VI(...Ue,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[tO({mainAxis:a+D,alignmentAxis:o}),c&&rO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nO():void 0,...X}),c&&sO({...X}),aO({...X,apply:({elements:Ue,rects:st,availableWidth:oe,availableHeight:Me})=>{const{width:H,height:Z}=st.reference,ye=Ue.floating.style;ye.setProperty("--radix-popper-available-width",`${oe}px`),ye.setProperty("--radix-popper-available-height",`${Me}px`),ye.setProperty("--radix-popper-anchor-width",`${H}px`),ye.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),N&&oO({element:N,padding:l}),pO({arrowWidth:k,arrowHeight:D}),m&&iO({strategy:"referenceHidden",...X})]}),[U,ae]=v_(A),ve=Ot(x);nr(()=>{te&&(ve==null||ve())},[te,ve]);const B=(ne=W.arrow)==null?void 0:ne.x,O=(R=W.arrow)==null?void 0:R.y,G=((J=W.arrow)==null?void 0:J.centerOffset)!==0,[Q,ie]=h.useState();return nr(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:te?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(ce=W.transformOrigin)==null?void 0:ce.x,(se=W.transformOrigin)==null?void 0:se.y].join(" "),...((Pe=W.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(uO,{scope:r,placedSide:U,onArrowChange:j,arrowX:B,arrowY:O,shouldHideArrow:G,children:s.jsx(De.div,{"data-side":U,"data-align":ae,...g,ref:b,style:{...g.style,animation:te?void 0:"none"}})})})});m_.displayName=Sv;var p_="PopperArrow",hO={top:"bottom",right:"left",bottom:"top",left:"right"},g_=h.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=fO(p_,n),o=hO[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(cO,{...a,ref:r,style:{...a.style,display:"block"}})})});g_.displayName=p_;function mO(e){return e!==null}var pO=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=v_(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?f:`${m}px`,g=`${-c}px`):d==="top"?(x=o?f:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x,y:g}}}});function v_(e){const[t,r="center"]=e.split("-");return[t,r]}var Cv=u_,Hc=h_,Ef=m_,kf=g_,[Pf,iV]=kr("Tooltip",[Ba]),Ev=Ba(),y_="TooltipProvider",gO=700,pb="tooltip.open",[vO,x_]=Pf(y_),b_=e=>{const{__scopeTooltip:t,delayDuration:r=gO,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(vO,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};b_.displayName=y_;var w_="Tooltip",[oV,Tf]=Pf(w_),jp="TooltipTrigger",yO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Tf(jp,r),i=x_(jp,r),o=Ev(r),l=h.useRef(null),c=ze(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Hc,{asChild:!0,...o,children:s.jsx(De.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});yO.displayName=jp;var xO="TooltipPortal",[lV,bO]=Pf(xO,{forceMount:void 0}),Zo="TooltipContent",j_=h.forwardRef((e,t)=>{const r=bO(Zo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Tf(Zo,e.__scopeTooltip);return s.jsx(sr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(N_,{side:a,...i,ref:t}):s.jsx(wO,{side:a,...i,ref:t})})}),wO=h.forwardRef((e,t)=>{const r=Tf(Zo,e.__scopeTooltip),n=x_(Zo,e.__scopeTooltip),a=h.useRef(null),i=ze(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},v=CO(y,w.getBoundingClientRect()),b=EO(y,v),N=kO(g.getBoundingClientRect()),j=TO([...b,...N]);l(j),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const x=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(o){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!PO(y,o);v?m():b&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),s.jsx(N_,{...e,ref:i})}),[jO,NO]=Pf(w_,{isInside:!1}),_O=lN("TooltipContent"),N_=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Tf(Zo,r),d=Ev(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(pb,u),()=>document.removeEventListener(pb,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(Ui,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(Ef,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(_O,{children:n}),s.jsx(jO,{scope:r,isInside:!0,children:s.jsx(sA,{id:c.contentId,role:"tooltip",children:a||n})})]})})});j_.displayName=Zo;var __="TooltipArrow",SO=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ev(r);return NO(__,r).isInside?null:s.jsx(kf,{...a,...n,ref:t})});SO.displayName=__;function CO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function EO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function kO(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function PO(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function TO(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),AO(t)}function AO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var RO=b_,S_=j_;const IO=RO,OO=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(S_,{ref:n,sideOffset:t,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));OO.displayName=S_.displayName;const DO=Vc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wr=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ee(DO({variant:t}),e),...r}));wr.displayName="Alert";const MO=h.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));MO.displayName="AlertTitle";const jr=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));jr.displayName="AlertDescription";function LO(){const[e,t]=h.useState(navigator.onLine);return h.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),e?null:s.jsxs(wr,{className:"mb-4 border-orange-200 bg-orange-50",children:[s.jsx(DA,{className:"h-4 w-4"}),s.jsx(jr,{children:"You're currently offline. Some features may not work properly until your connection is restored."})]})}var dl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FO={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},oa,hg,M0,$O=(M0=class{constructor(){qe(this,oa,FO);qe(this,hg,!1)}setTimeoutProvider(e){Ae(this,oa,e)}setTimeout(e,t){return M(this,oa).setTimeout(e,t)}clearTimeout(e){M(this,oa).clearTimeout(e)}setInterval(e,t){return M(this,oa).setInterval(e,t)}clearInterval(e){M(this,oa).clearInterval(e)}},oa=new WeakMap,hg=new WeakMap,M0),oi=new $O;function UO(e){setTimeout(e,0)}var Ti=typeof window>"u"||"Deno"in globalThis;function ir(){}function qO(e,t){return typeof e=="function"?e(t):e}function Np(e){return typeof e=="number"&&e>=0&&e!==1/0}function C_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ka(e,t){return typeof e=="function"?e(t):e}function un(e,t){return typeof e=="function"?e(t):e}function gb(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==kv(o,t.options))return!1}else if(!Sc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function vb(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ai(t.options.mutationKey)!==Ai(i))return!1}else if(!Sc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function kv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ai)(e)}function Ai(e){return JSON.stringify(e,(t,r)=>_p(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Sc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Sc(e[r],t[r])):!1}var BO=Object.prototype.hasOwnProperty;function E_(e,t){if(e===t)return e;const r=yb(e)&&yb(t);if(!r&&!(_p(e)&&_p(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],f=e[u],m=t[u];if(f===m){l[u]=f,(r?d<a:BO.call(e,u))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[u]=m;continue}const p=E_(f,m);l[u]=p,p===f&&c++}return a===o&&c===a?e:l}function Uu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _p(e){if(!xb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xb(e){return Object.prototype.toString.call(e)==="[object Object]"}function VO(e){return new Promise(t=>{oi.setTimeout(t,e)})}function Sp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?E_(e,t):t}function zO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function WO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Pv=Symbol();function k_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Pv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function P_(e,t){return typeof e=="function"?e(...t):!!e}var ci,la,Ro,L0,HO=(L0=class extends dl{constructor(){super();qe(this,ci);qe(this,la);qe(this,Ro);Ae(this,Ro,t=>{if(!Ti&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,la)||this.setEventListener(M(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,la))==null||t.call(this),Ae(this,la,void 0))}setEventListener(t){var r;Ae(this,Ro,t),(r=M(this,la))==null||r.call(this),Ae(this,la,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){M(this,ci)!==t&&(Ae(this,ci,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof M(this,ci)=="boolean"?M(this,ci):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ci=new WeakMap,la=new WeakMap,Ro=new WeakMap,L0),Tv=new HO;function Cp(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function KO(e){var r;let t;if((r=e.then(n=>(t=n,n),ir))==null||r.catch(ir),t!==void 0)return{data:t}}function T_(e){return e}function QO(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function GO(e,t,r){var n;return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:(n=e.promise)==null?void 0:n.then(t).catch(a=>r(a)?Promise.reject(new Error("redacted")):Promise.reject(a))},...e.meta&&{meta:e.meta}}}function YO(e){return e.state.isPaused}function XO(e){return e.state.status==="success"}function JO(e){return!0}function ZO(e,t={}){var c,d,u,f;const r=t.shouldDehydrateMutation??((c=e.getDefaultOptions().dehydrate)==null?void 0:c.shouldDehydrateMutation)??YO,n=e.getMutationCache().getAll().flatMap(m=>r(m)?[QO(m)]:[]),a=t.shouldDehydrateQuery??((d=e.getDefaultOptions().dehydrate)==null?void 0:d.shouldDehydrateQuery)??XO,i=t.shouldRedactErrors??((u=e.getDefaultOptions().dehydrate)==null?void 0:u.shouldRedactErrors)??JO,o=t.serializeData??((f=e.getDefaultOptions().dehydrate)==null?void 0:f.serializeData)??T_,l=e.getQueryCache().getAll().flatMap(m=>a(m)?[GO(m,o,i)]:[]);return{mutations:n,queries:l}}function eD(e,t,r){var c,d;if(typeof t!="object"||t===null)return;const n=e.getMutationCache(),a=e.getQueryCache(),i=((c=r==null?void 0:r.defaultOptions)==null?void 0:c.deserializeData)??((d=e.getDefaultOptions().hydrate)==null?void 0:d.deserializeData)??T_,o=t.mutations||[],l=t.queries||[];o.forEach(({state:u,...f})=>{var m,p;n.build(e,{...(m=e.getDefaultOptions().hydrate)==null?void 0:m.mutations,...(p=r==null?void 0:r.defaultOptions)==null?void 0:p.mutations,...f},u)}),l.forEach(({queryKey:u,state:f,queryHash:m,meta:p,promise:x,dehydratedAt:g})=>{var E,k;const w=x?KO(x):void 0,y=f.data===void 0?w==null?void 0:w.data:f.data,v=y===void 0?y:i(y);let b=a.get(m);const N=(b==null?void 0:b.state.status)==="pending",j=(b==null?void 0:b.state.fetchStatus)==="fetching";if(b){const D=w&&g!==void 0&&g>b.state.dataUpdatedAt;if(f.dataUpdatedAt>b.state.dataUpdatedAt||D){const{fetchStatus:z,...F}=f;b.setState({...F,data:v})}}else b=a.build(e,{...(E=e.getDefaultOptions().hydrate)==null?void 0:E.queries,...(k=r==null?void 0:r.defaultOptions)==null?void 0:k.queries,queryKey:u,queryHash:m,meta:p},{...f,data:v,fetchStatus:"idle",status:v!==void 0?"success":f.status});x&&!N&&!j&&(g===void 0||g>b.state.dataUpdatedAt)&&b.fetch(void 0,{initialPromise:Promise.resolve(x).then(i)})})}var tD=UO;function rD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=tD;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Kt=rD(),Io,ca,Oo,F0,nD=(F0=class extends dl{constructor(){super();qe(this,Io,!0);qe(this,ca);qe(this,Oo);Ae(this,Oo,t=>{if(!Ti&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,ca)||this.setEventListener(M(this,Oo))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,ca))==null||t.call(this),Ae(this,ca,void 0))}setEventListener(t){var r;Ae(this,Oo,t),(r=M(this,ca))==null||r.call(this),Ae(this,ca,t(this.setOnline.bind(this)))}setOnline(t){M(this,Io)!==t&&(Ae(this,Io,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return M(this,Io)}},Io=new WeakMap,ca=new WeakMap,Oo=new WeakMap,F0),qu=new nD;function sD(e){return Math.min(1e3*2**e,3e4)}function A_(e){return(e??"online")==="online"?qu.isOnline():!0}var Ep=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function R_(e){let t=!1,r=0,n;const a=Cp(),i=()=>a.status!=="pending",o=g=>{var w;if(!i()){const y=new Ep(g);m(y),(w=e.onCancel)==null||w.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>Tv.isFocused()&&(e.networkMode==="always"||qu.isOnline())&&e.canRun(),u=()=>A_(e.networkMode)&&e.canRun(),f=g=>{i()||(n==null||n(),a.resolve(g))},m=g=>{i()||(n==null||n(),a.reject(g))},p=()=>new Promise(g=>{var w;n=y=>{(i()||d())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(i())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var E;if(i())return;const v=e.retry??(Ti?0:3),b=e.retryDelay??sD,N=typeof b=="function"?b(r,y):b,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!j){m(y);return}r++,(E=e.onFail)==null||E.call(e,r,y),VO(N).then(()=>d()?void 0:p()).then(()=>{t?m(y):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),a)}}var di,$0,I_=($0=class{constructor(){qe(this,di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Np(this.gcTime)&&Ae(this,di,oi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ti?1/0:5*60*1e3))}clearGcTimeout(){M(this,di)&&(oi.clearTimeout(M(this,di)),Ae(this,di,void 0))}},di=new WeakMap,$0),ui,Do,dn,fi,Zt,Rc,hi,kn,bs,U0,aD=(U0=class extends I_{constructor(t){super();qe(this,kn);qe(this,ui);qe(this,Do);qe(this,dn);qe(this,fi);qe(this,Zt);qe(this,Rc);qe(this,hi);Ae(this,hi,!1),Ae(this,Rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,fi,t.client),Ae(this,dn,M(this,fi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,ui,bb(this.options)),this.state=t.state??M(this,ui),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,Zt))==null?void 0:t.promise}setOptions(t){if(this.options={...M(this,Rc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=bb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ae(this,ui,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,dn).remove(this)}setData(t,r){const n=Sp(this.state.data,t,this.options);return Ge(this,kn,bs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ge(this,kn,bs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=M(this,Zt))==null?void 0:n.promise;return(a=M(this,Zt))==null||a.cancel(t),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,ui))}isActive(){return this.observers.some(t=>un(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ka(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!C_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,Zt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,Zt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(M(this,Zt)&&(M(this,hi)?M(this,Zt).cancel({revert:!0}):M(this,Zt).cancelRetry()),this.scheduleGc()),M(this,dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ge(this,kn,bs).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,f,m,p,x,g,w,y,v,b;if(this.state.fetchStatus!=="idle"&&((c=M(this,Zt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,Zt))return M(this,Zt).continueRetry(),M(this,Zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Ae(this,hi,!0),n.signal)})},i=()=>{const N=k_(this.options,r),E=(()=>{const k={client:M(this,fi),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Ae(this,hi,!1),this.options.persister?this.options.persister(N,E,this):N(E)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:M(this,fi),state:this.state,fetchFn:i};return a(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),Ae(this,Do,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Ge(this,kn,bs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ae(this,Zt,R_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof Ep&&N.revert&&this.setState({...M(this,Do),fetchStatus:"idle"}),n.abort()},onFail:(N,j)=>{Ge(this,kn,bs).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{Ge(this,kn,bs).call(this,{type:"pause"})},onContinue:()=>{Ge(this,kn,bs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await M(this,Zt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(m=M(this,dn).config).onSuccess)==null||p.call(m,N,this),(g=(x=M(this,dn).config).onSettled)==null||g.call(x,N,this.state.error,this),N}catch(N){if(N instanceof Ep){if(N.silent)return M(this,Zt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Ge(this,kn,bs).call(this,{type:"error",error:N}),(y=(w=M(this,dn).config).onError)==null||y.call(w,N,this),(b=(v=M(this,dn).config).onSettled)==null||b.call(v,this.state.data,N,this),N}finally{this.scheduleGc()}}},ui=new WeakMap,Do=new WeakMap,dn=new WeakMap,fi=new WeakMap,Zt=new WeakMap,Rc=new WeakMap,hi=new WeakMap,kn=new WeakSet,bs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O_(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ae(this,Do,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),M(this,dn).notify({query:this,type:"updated",action:t})})},U0);function O_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,tt,Ic,vr,mi,Mo,Cs,da,Oc,Lo,Fo,pi,gi,ua,$o,ot,$l,kp,Pp,Tp,Ap,Rp,Ip,Op,D_,q0,iD=(q0=class extends dl{constructor(t,r){super();qe(this,ot);qe(this,Ar);qe(this,tt);qe(this,Ic);qe(this,vr);qe(this,mi);qe(this,Mo);qe(this,Cs);qe(this,da);qe(this,Oc);qe(this,Lo);qe(this,Fo);qe(this,pi);qe(this,gi);qe(this,ua);qe(this,$o,new Set);this.options=r,Ae(this,Ar,t),Ae(this,da,null),Ae(this,Cs,Cp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,tt).addObserver(this),wb(M(this,tt),this.options)?Ge(this,ot,$l).call(this):this.updateResult(),Ge(this,ot,Ap).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dp(M(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dp(M(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ge(this,ot,Rp).call(this),Ge(this,ot,Ip).call(this),M(this,tt).removeObserver(this)}setOptions(t){const r=this.options,n=M(this,tt);if(this.options=M(this,Ar).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof un(this.options.enabled,M(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ge(this,ot,Op).call(this),M(this,tt).setOptions(this.options),r._defaulted&&!Uu(this.options,r)&&M(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,tt),observer:this});const a=this.hasListeners();a&&jb(M(this,tt),n,this.options,r)&&Ge(this,ot,$l).call(this),this.updateResult(),a&&(M(this,tt)!==n||un(this.options.enabled,M(this,tt))!==un(r.enabled,M(this,tt))||ka(this.options.staleTime,M(this,tt))!==ka(r.staleTime,M(this,tt)))&&Ge(this,ot,kp).call(this);const i=Ge(this,ot,Pp).call(this);a&&(M(this,tt)!==n||un(this.options.enabled,M(this,tt))!==un(r.enabled,M(this,tt))||i!==M(this,ua))&&Ge(this,ot,Tp).call(this,i)}getOptimisticResult(t){const r=M(this,Ar).getQueryCache().build(M(this,Ar),t),n=this.createResult(r,t);return lD(this,n)&&(Ae(this,vr,n),Ae(this,Mo,this.options),Ae(this,mi,M(this,tt).state)),n}getCurrentResult(){return M(this,vr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&M(this,Cs).status==="pending"&&M(this,Cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){M(this,$o).add(t)}getCurrentQuery(){return M(this,tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=M(this,Ar).defaultQueryOptions(t),n=M(this,Ar).getQueryCache().build(M(this,Ar),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ge(this,ot,$l).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,vr)))}createResult(t,r){var z;const n=M(this,tt),a=this.options,i=M(this,vr),o=M(this,mi),l=M(this,Mo),d=t!==n?t.state:M(this,Ic),{state:u}=t;let f={...u},m=!1,p;if(r._optimisticResults){const F=this.hasListeners(),I=!F&&wb(t,r),q=F&&jb(t,n,r,a);(I||q)&&(f={...f,...O_(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let F;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(F=i.data,y=!0):F=typeof r.placeholderData=="function"?r.placeholderData((z=M(this,Fo))==null?void 0:z.state.data,M(this,Fo)):r.placeholderData,F!==void 0&&(w="success",p=Sp(i==null?void 0:i.data,F,r),m=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===M(this,Oc))p=M(this,Lo);else try{Ae(this,Oc,r.select),p=r.select(p),p=Sp(i==null?void 0:i.data,p,r),Ae(this,Lo,p),Ae(this,da,null)}catch(F){Ae(this,da,F)}M(this,da)&&(x=M(this,da),p=M(this,Lo),g=Date.now(),w="error");const v=f.fetchStatus==="fetching",b=w==="pending",N=w==="error",j=b&&v,E=p!==void 0,D={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:N,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:N&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&E,isStale:Av(t,r),refetch:this.refetch,promise:M(this,Cs),isEnabled:un(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=X=>{D.status==="error"?X.reject(D.error):D.data!==void 0&&X.resolve(D.data)},I=()=>{const X=Ae(this,Cs,D.promise=Cp());F(X)},q=M(this,Cs);switch(q.status){case"pending":t.queryHash===n.queryHash&&F(q);break;case"fulfilled":(D.status==="error"||D.data!==q.value)&&I();break;case"rejected":(D.status!=="error"||D.error!==q.reason)&&I();break}}return D}updateResult(){const t=M(this,vr),r=this.createResult(M(this,tt),this.options);if(Ae(this,mi,M(this,tt).state),Ae(this,Mo,this.options),M(this,mi).data!==void 0&&Ae(this,Fo,M(this,tt)),Uu(r,t))return;Ae(this,vr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!M(this,$o).size)return!0;const o=new Set(i??M(this,$o));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,vr)).some(l=>{const c=l;return M(this,vr)[c]!==t[c]&&o.has(c)})};Ge(this,ot,D_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ge(this,ot,Ap).call(this)}},Ar=new WeakMap,tt=new WeakMap,Ic=new WeakMap,vr=new WeakMap,mi=new WeakMap,Mo=new WeakMap,Cs=new WeakMap,da=new WeakMap,Oc=new WeakMap,Lo=new WeakMap,Fo=new WeakMap,pi=new WeakMap,gi=new WeakMap,ua=new WeakMap,$o=new WeakMap,ot=new WeakSet,$l=function(t){Ge(this,ot,Op).call(this);let r=M(this,tt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ir)),r},kp=function(){Ge(this,ot,Rp).call(this);const t=ka(this.options.staleTime,M(this,tt));if(Ti||M(this,vr).isStale||!Np(t))return;const n=C_(M(this,vr).dataUpdatedAt,t)+1;Ae(this,pi,oi.setTimeout(()=>{M(this,vr).isStale||this.updateResult()},n))},Pp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,tt)):this.options.refetchInterval)??!1},Tp=function(t){Ge(this,ot,Ip).call(this),Ae(this,ua,t),!(Ti||un(this.options.enabled,M(this,tt))===!1||!Np(M(this,ua))||M(this,ua)===0)&&Ae(this,gi,oi.setInterval(()=>{(this.options.refetchIntervalInBackground||Tv.isFocused())&&Ge(this,ot,$l).call(this)},M(this,ua)))},Ap=function(){Ge(this,ot,kp).call(this),Ge(this,ot,Tp).call(this,Ge(this,ot,Pp).call(this))},Rp=function(){M(this,pi)&&(oi.clearTimeout(M(this,pi)),Ae(this,pi,void 0))},Ip=function(){M(this,gi)&&(oi.clearInterval(M(this,gi)),Ae(this,gi,void 0))},Op=function(){const t=M(this,Ar).getQueryCache().build(M(this,Ar),this.options);if(t===M(this,tt))return;const r=M(this,tt);Ae(this,tt,t),Ae(this,Ic,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D_=function(t){Kt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(M(this,vr))}),M(this,Ar).getQueryCache().notify({query:M(this,tt),type:"observerResultsUpdated"})})},q0);function oD(e,t){return un(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wb(e,t){return oD(e,t)||e.state.data!==void 0&&Dp(e,t,t.refetchOnMount)}function Dp(e,t,r){if(un(t.enabled,e)!==!1&&ka(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Av(e,t)}return!1}function jb(e,t,r,n){return(e!==t||un(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Av(e,r)}function Av(e,t){return un(t.enabled,e)!==!1&&e.isStaleByTime(ka(t.staleTime,e))}function lD(e,t){return!Uu(e.getCurrentResult(),t)}function Nb(e){return{onFetch:(t,r)=>{var u,f,m,p,x;const n=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=k_(t.options,t.fetchOptions),v=async(b,N,j)=>{if(g)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return w(I),I})(),D=await y(k),{maxPages:z}=t.options,F=j?WO:zO;return{pages:F(b.pages,D,z),pageParams:F(b.pageParams,N,z)}};if(a&&i.length){const b=a==="backward",N=b?cD:_b,j={pages:i,pageParams:o},E=N(n,j);l=await v(j,E,b)}else{const b=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:_b(n,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function _b(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function cD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dc,es,yr,vi,ts,Js,B0,dD=(B0=class extends I_{constructor(t){super();qe(this,ts);qe(this,Dc);qe(this,es);qe(this,yr);qe(this,vi);Ae(this,Dc,t.client),this.mutationId=t.mutationId,Ae(this,yr,t.mutationCache),Ae(this,es,[]),this.state=t.state||M_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,es).includes(t)||(M(this,es).push(t),this.clearGcTimeout(),M(this,yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,es,M(this,es).filter(r=>r!==t)),this.scheduleGc(),M(this,yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,es).length||(this.state.status==="pending"?this.scheduleGc():M(this,yr).remove(this))}continue(){var t;return((t=M(this,vi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,f,m,p,x,g,w,y,v,b,N,j,E,k,D,z;const r=()=>{Ge(this,ts,Js).call(this,{type:"continue"})},n={client:M(this,Dc),meta:this.options.meta,mutationKey:this.options.mutationKey};Ae(this,vi,R_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(F,I)=>{Ge(this,ts,Js).call(this,{type:"failed",failureCount:F,error:I})},onPause:()=>{Ge(this,ts,Js).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,yr).canRun(this)}));const a=this.state.status==="pending",i=!M(this,vi).canStart();try{if(a)r();else{Ge(this,ts,Js).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=M(this,yr).config).onMutate)==null?void 0:l.call(o,t,this,n));const I=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));I!==this.state.context&&Ge(this,ts,Js).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const F=await M(this,vi).start();return await((f=(u=M(this,yr).config).onSuccess)==null?void 0:f.call(u,F,t,this.state.context,this,n)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,F,t,this.state.context,n)),await((g=(x=M(this,yr).config).onSettled)==null?void 0:g.call(x,F,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,F,null,t,this.state.context,n)),Ge(this,ts,Js).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(v=M(this,yr).config).onError)==null?void 0:b.call(v,F,t,this.state.context,this,n)),await((j=(N=this.options).onError)==null?void 0:j.call(N,F,t,this.state.context,n)),await((k=(E=M(this,yr).config).onSettled)==null?void 0:k.call(E,void 0,F,this.state.variables,this.state.context,this,n)),await((z=(D=this.options).onSettled)==null?void 0:z.call(D,void 0,F,t,this.state.context,n)),F}finally{Ge(this,ts,Js).call(this,{type:"error",error:F})}}finally{M(this,yr).runNext(this)}}},Dc=new WeakMap,es=new WeakMap,yr=new WeakMap,vi=new WeakMap,ts=new WeakSet,Js=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{M(this,es).forEach(n=>{n.onMutationUpdate(t)}),M(this,yr).notify({mutation:this,type:"updated",action:t})})},B0);function M_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Es,Pn,Mc,V0,uD=(V0=class extends dl{constructor(t={}){super();qe(this,Es);qe(this,Pn);qe(this,Mc);this.config=t,Ae(this,Es,new Set),Ae(this,Pn,new Map),Ae(this,Mc,0)}build(t,r,n){const a=new dD({client:t,mutationCache:this,mutationId:++ld(this,Mc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){M(this,Es).add(t);const r=Td(t);if(typeof r=="string"){const n=M(this,Pn).get(r);n?n.push(t):M(this,Pn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(M(this,Es).delete(t)){const r=Td(t);if(typeof r=="string"){const n=M(this,Pn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&M(this,Pn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Td(t);if(typeof r=="string"){const n=M(this,Pn).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Td(t);if(typeof r=="string"){const a=(n=M(this,Pn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{M(this,Es).forEach(t=>{this.notify({type:"removed",mutation:t})}),M(this,Es).clear(),M(this,Pn).clear()})}getAll(){return Array.from(M(this,Es))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vb(r,n))}findAll(t={}){return this.getAll().filter(r=>vb(t,r))}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kt.batch(()=>Promise.all(t.map(r=>r.continue().catch(ir))))}},Es=new WeakMap,Pn=new WeakMap,Mc=new WeakMap,V0);function Td(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ks,fa,Rr,Ps,Ds,au,Mp,z0,fD=(z0=class extends dl{constructor(r,n){super();qe(this,Ds);qe(this,ks);qe(this,fa);qe(this,Rr);qe(this,Ps);Ae(this,ks,r),this.setOptions(n),this.bindMethods(),Ge(this,Ds,au).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=M(this,ks).defaultMutationOptions(r),Uu(this.options,n)||M(this,ks).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Rr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ai(n.mutationKey)!==Ai(this.options.mutationKey)?this.reset():((a=M(this,Rr))==null?void 0:a.state.status)==="pending"&&M(this,Rr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=M(this,Rr))==null||r.removeObserver(this)}onMutationUpdate(r){Ge(this,Ds,au).call(this),Ge(this,Ds,Mp).call(this,r)}getCurrentResult(){return M(this,fa)}reset(){var r;(r=M(this,Rr))==null||r.removeObserver(this),Ae(this,Rr,void 0),Ge(this,Ds,au).call(this),Ge(this,Ds,Mp).call(this)}mutate(r,n){var a;return Ae(this,Ps,n),(a=M(this,Rr))==null||a.removeObserver(this),Ae(this,Rr,M(this,ks).getMutationCache().build(M(this,ks),this.options)),M(this,Rr).addObserver(this),M(this,Rr).execute(r)}},ks=new WeakMap,fa=new WeakMap,Rr=new WeakMap,Ps=new WeakMap,Ds=new WeakSet,au=function(){var n;const r=((n=M(this,Rr))==null?void 0:n.state)??M_();Ae(this,fa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Mp=function(r){Kt.batch(()=>{var n,a,i,o,l,c,d,u;if(M(this,Ps)&&this.hasListeners()){const f=M(this,fa).variables,m=M(this,fa).context,p={client:M(this,ks),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=M(this,Ps)).onSuccess)==null||a.call(n,r.data,f,m,p),(o=(i=M(this,Ps)).onSettled)==null||o.call(i,r.data,null,f,m,p)):(r==null?void 0:r.type)==="error"&&((c=(l=M(this,Ps)).onError)==null||c.call(l,r.error,f,m,p),(u=(d=M(this,Ps)).onSettled)==null||u.call(d,void 0,r.error,f,m,p))}this.listeners.forEach(f=>{f(M(this,fa))})})},z0),rs,W0,hD=(W0=class extends dl{constructor(t={}){super();qe(this,rs);this.config=t,Ae(this,rs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??kv(a,r);let o=this.get(i);return o||(o=new aD({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){M(this,rs).has(t.queryHash)||(M(this,rs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=M(this,rs).get(t.queryHash);r&&(t.destroy(),r===t&&M(this,rs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,rs).get(t)}getAll(){return[...M(this,rs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gb(t,n)):r}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rs=new WeakMap,W0),kt,ha,ma,Uo,qo,pa,Bo,Vo,H0,mD=(H0=class{constructor(e={}){qe(this,kt);qe(this,ha);qe(this,ma);qe(this,Uo);qe(this,qo);qe(this,pa);qe(this,Bo);qe(this,Vo);Ae(this,kt,e.queryCache||new hD),Ae(this,ha,e.mutationCache||new uD),Ae(this,ma,e.defaultOptions||{}),Ae(this,Uo,new Map),Ae(this,qo,new Map),Ae(this,pa,0)}mount(){ld(this,pa)._++,M(this,pa)===1&&(Ae(this,Bo,Tv.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,kt).onFocus())})),Ae(this,Vo,qu.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,kt).onOnline())})))}unmount(){var e,t;ld(this,pa)._--,M(this,pa)===0&&((e=M(this,Bo))==null||e.call(this),Ae(this,Bo,void 0),(t=M(this,Vo))==null||t.call(this),Ae(this,Vo,void 0))}isFetching(e){return M(this,kt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,ha).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,kt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=M(this,kt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ka(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return M(this,kt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=M(this,kt).get(n.queryHash),i=a==null?void 0:a.state.data,o=qO(t,i);if(o!==void 0)return M(this,kt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Kt.batch(()=>M(this,kt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,kt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=M(this,kt);Kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=M(this,kt);return Kt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Kt.batch(()=>M(this,kt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ir).catch(ir)}invalidateQueries(e,t={}){return Kt.batch(()=>(M(this,kt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Kt.batch(()=>M(this,kt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ir)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ir)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=M(this,kt).build(this,t);return r.isStaleByTime(ka(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ir).catch(ir)}fetchInfiniteQuery(e){return e.behavior=Nb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ir).catch(ir)}ensureInfiniteQueryData(e){return e.behavior=Nb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qu.isOnline()?M(this,ha).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,kt)}getMutationCache(){return M(this,ha)}getDefaultOptions(){return M(this,ma)}setDefaultOptions(e){Ae(this,ma,e)}setQueryDefaults(e,t){M(this,Uo).set(Ai(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Uo).values()],r={};return t.forEach(n=>{Sc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){M(this,qo).set(Ai(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,qo).values()],r={};return t.forEach(n=>{Sc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,ma).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,ma).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,kt).clear(),M(this,ha).clear()}},kt=new WeakMap,ha=new WeakMap,ma=new WeakMap,Uo=new WeakMap,qo=new WeakMap,pa=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,H0),L_=h.createContext(void 0),Va=e=>{const t=h.useContext(L_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pD=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(L_.Provider,{value:e,children:t})),F_=h.createContext(!1),gD=()=>h.useContext(F_);F_.Provider;function vD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yD=h.createContext(vD()),xD=()=>h.useContext(yD),bD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},wD=e=>{h.useEffect(()=>{e.clearReset()},[e])},jD=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||P_(r,[e.error,n])),ND=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},_D=(e,t)=>e.isLoading&&e.isFetching&&!t,SD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function CD(e,t,r){var f,m,p,x,g;const n=gD(),a=xD(),i=Va(),o=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",ND(o),bD(o,a),wD(a);const l=!i.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(w=>{const y=u?c.subscribe(Kt.batchCalls(w)):ir;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o)},[o,c]),SD(o,d))throw Sb(o,c,a);if(jD({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,d),o.experimental_prefetchInRender&&!Ti&&_D(d,n)){const w=l?Sb(o,c,a):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(ir).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Gt(e,t){return CD(e,iD)}function Os(e,t){const r=Va(),[n]=h.useState(()=>new fD(r,e));h.useEffect(()=>{n.setOptions(e)},[n,e]);const a=h.useSyncExternalStore(h.useCallback(o=>n.subscribe(Kt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=h.useCallback((o,l)=>{n.mutate(o,l).catch(ir)},[n]);if(a.error&&P_(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var ED=["added","removed","updated"];function Cb(e){return ED.includes(e)}async function kD({queryClient:e,persister:t,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:a}){try{const i=await t.restoreClient();if(i)if(i.timestamp){const o=Date.now()-i.timestamp>r,l=i.buster!==n;if(o||l)return t.removeClient();eD(e,i.clientState,a)}else return t.removeClient()}catch(i){throw await t.removeClient(),i}}async function Eb({queryClient:e,persister:t,buster:r="",dehydrateOptions:n}){const a={buster:r,timestamp:Date.now(),clientState:ZO(e,n)};await t.persistClient(a)}function PD(e){const t=e.queryClient.getQueryCache().subscribe(n=>{Cb(n.type)&&Eb(e)}),r=e.queryClient.getMutationCache().subscribe(n=>{Cb(n.type)&&Eb(e)});return()=>{t(),r()}}function TD(e){let t=!1,r;const n=()=>{t=!0,r==null||r()},a=kD(e).then(()=>{t||(r=PD(e))});return[n,a]}var AD=({persistedClient:e})=>{const t=[...e.clientState.mutations],r=[...e.clientState.queries],n={...e,clientState:{mutations:t,queries:r}},a=[...r].sort((i,o)=>i.state.dataUpdatedAt-o.state.dataUpdatedAt);if(a.length>0){const i=a.shift();return n.clientState.queries=r.filter(o=>o!==i),n}};function Ad(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $_={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,i){function o(d,u){if(!a[d]){if(!n[d]){var f=typeof Ad=="function"&&Ad;if(!u&&f)return f(d,!0);if(l)return l(d,!0);var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}var p=a[d]={exports:{}};n[d][0].call(p.exports,function(x){var g=n[d][1][x];return o(g||x)},p,p.exports,r,n,a,i)}return a[d].exports}for(var l=typeof Ad=="function"&&Ad,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(r,n,a){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,l;if(o){var c=0,d=new o(x),u=i.document.createTextNode("");d.observe(u,{characterData:!0}),l=function(){u.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var f=new i.MessageChannel;f.port1.onmessage=x,l=function(){f.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var w=i.document.createElement("script");w.onreadystatechange=function(){x(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:l=function(){setTimeout(x,0)};var m,p=[];function x(){m=!0;for(var w,y,v=p.length;v;){for(y=p,p=[],w=-1;++w<v;)y[w]();v=p.length}m=!1}n.exports=g;function g(w){p.push(w)===1&&!m&&l()}}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,a){var i=r(1);function o(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];n.exports=f;function f(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,j!==o&&g(this,j)}f.prototype.catch=function(j){return this.then(null,j)},f.prototype.then=function(j,E){if(typeof j!="function"&&this.state===d||typeof E!="function"&&this.state===c)return this;var k=new this.constructor(o);if(this.state!==u){var D=this.state===d?j:E;p(k,D,this.outcome)}else this.queue.push(new m(k,j,E));return k};function m(j,E,k){this.promise=j,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(j){l.resolve(this.promise,j)},m.prototype.otherCallFulfilled=function(j){p(this.promise,this.onFulfilled,j)},m.prototype.callRejected=function(j){l.reject(this.promise,j)},m.prototype.otherCallRejected=function(j){p(this.promise,this.onRejected,j)};function p(j,E,k){i(function(){var D;try{D=E(k)}catch(z){return l.reject(j,z)}D===j?l.reject(j,new TypeError("Cannot resolve promise with itself")):l.resolve(j,D)})}l.resolve=function(j,E){var k=w(x,E);if(k.status==="error")return l.reject(j,k.value);var D=k.value;if(D)g(j,D);else{j.state=d,j.outcome=E;for(var z=-1,F=j.queue.length;++z<F;)j.queue[z].callFulfilled(E)}return j},l.reject=function(j,E){j.state=c,j.outcome=E;for(var k=-1,D=j.queue.length;++k<D;)j.queue[k].callRejected(E);return j};function x(j){var E=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof E=="function")return function(){E.apply(j,arguments)}}function g(j,E){var k=!1;function D(q){k||(k=!0,l.reject(j,q))}function z(q){k||(k=!0,l.resolve(j,q))}function F(){E(z,D)}var I=w(F);I.status==="error"&&D(I.value)}function w(j,E){var k={};try{k.value=j(E),k.status="success"}catch(D){k.status="error",k.value=D}return k}f.resolve=y;function y(j){return j instanceof this?j:l.resolve(new this(o),j)}f.reject=v;function v(j){var E=new this(o);return l.reject(E,j)}f.all=b;function b(j){var E=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=j.length,D=!1;if(!k)return this.resolve([]);for(var z=new Array(k),F=0,I=-1,q=new this(o);++I<k;)X(j[I],I);return q;function X(S,_){E.resolve(S).then(A,function(te){D||(D=!0,l.reject(q,te))});function A(te){z[_]=te,++F===k&&!D&&(D=!0,l.resolve(q,z))}}}f.race=N;function N(j){var E=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=j.length,D=!1;if(!k)return this.resolve([]);for(var z=-1,F=new this(o);++z<k;)I(j[z]);return F;function I(q){E.resolve(q).then(function(X){D||(D=!0,l.resolve(F,X))},function(X){D||(D=!0,l.reject(F,X))})}}},{1:1}],3:[function(r,n,a){(function(i){typeof i.Promise!="function"&&(i.Promise=r(2))}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function o(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function d(){try{if(!c||!c.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||L)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(C,L){C=C||[],L=L||{};try{return new Blob(C,L)}catch(V){if(V.name!=="TypeError")throw V;for(var T=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,K=new T,Y=0;Y<C.length;Y+=1)K.append(C[Y]);return K.getBlob(L.type)}}typeof Promise>"u"&&r(3);var f=Promise;function m(C,L){L&&C.then(function(T){L(null,T)},function(T){L(T)})}function p(C,L,T){typeof L=="function"&&C.then(L),typeof T=="function"&&C.catch(T)}function x(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",y=void 0,v={},b=Object.prototype.toString,N="readonly",j="readwrite";function E(C){for(var L=C.length,T=new ArrayBuffer(L),K=new Uint8Array(T),Y=0;Y<L;Y++)K[Y]=C.charCodeAt(Y);return T}function k(C){return new f(function(L){var T=C.transaction(w,j),K=u([""]);T.objectStore(w).put(K,"key"),T.onabort=function(Y){Y.preventDefault(),Y.stopPropagation(),L(!1)},T.oncomplete=function(){var Y=navigator.userAgent.match(/Chrome\/(\d+)/),V=navigator.userAgent.match(/Edge\//);L(V||!Y||parseInt(Y[1],10)>=43)}}).catch(function(){return!1})}function D(C){return typeof y=="boolean"?f.resolve(y):k(C).then(function(L){return y=L,y})}function z(C){var L=v[C.name],T={};T.promise=new f(function(K,Y){T.resolve=K,T.reject=Y}),L.deferredOperations.push(T),L.dbReady?L.dbReady=L.dbReady.then(function(){return T.promise}):L.dbReady=T.promise}function F(C){var L=v[C.name],T=L.deferredOperations.pop();if(T)return T.resolve(),T.promise}function I(C,L){var T=v[C.name],K=T.deferredOperations.pop();if(K)return K.reject(L),K.promise}function q(C,L){return new f(function(T,K){if(v[C.name]=v[C.name]||B(),C.db)if(L)z(C),C.db.close();else return T(C.db);var Y=[C.name];L&&Y.push(C.version);var V=c.open.apply(c,Y);L&&(V.onupgradeneeded=function(fe){var ge=V.result;try{ge.createObjectStore(C.storeName),fe.oldVersion<=1&&ge.createObjectStore(w)}catch(we){if(we.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+fe.oldVersion+" to version "+fe.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw we}}),V.onerror=function(fe){fe.preventDefault(),K(V.error)},V.onsuccess=function(){var fe=V.result;fe.onversionchange=function(ge){ge.target.close()},T(fe),F(C)}})}function X(C){return q(C,!1)}function S(C){return q(C,!0)}function _(C,L){if(!C.db)return!0;var T=!C.db.objectStoreNames.contains(C.storeName),K=C.version<C.db.version,Y=C.version>C.db.version;if(K&&(C.version!==L&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),Y||T){if(T){var V=C.db.version+1;V>C.version&&(C.version=V)}return!0}return!1}function A(C){return new f(function(L,T){var K=new FileReader;K.onerror=T,K.onloadend=function(Y){var V=btoa(Y.target.result||"");L({__local_forage_encoded_blob:!0,data:V,type:C.type})},K.readAsBinaryString(C)})}function te(C){var L=E(atob(C.data));return u([L],{type:C.type})}function W(C){return C&&C.__local_forage_encoded_blob}function U(C){var L=this,T=L._initReady().then(function(){var K=v[L._dbInfo.name];if(K&&K.dbReady)return K.dbReady});return p(T,C,C),T}function ae(C){z(C);for(var L=v[C.name],T=L.forages,K=0;K<T.length;K++){var Y=T[K];Y._dbInfo.db&&(Y._dbInfo.db.close(),Y._dbInfo.db=null)}return C.db=null,X(C).then(function(V){return C.db=V,_(C)?S(C):V}).then(function(V){C.db=L.db=V;for(var fe=0;fe<T.length;fe++)T[fe]._dbInfo.db=V}).catch(function(V){throw I(C,V),V})}function ve(C,L,T,K){K===void 0&&(K=1);try{var Y=C.db.transaction(C.storeName,L);T(null,Y)}catch(V){if(K>0&&(!C.db||V.name==="InvalidStateError"||V.name==="NotFoundError"))return f.resolve().then(function(){if(!C.db||V.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),S(C)}).then(function(){return ae(C).then(function(){ve(C,L,T,K-1)})}).catch(T);T(V)}}function B(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function O(C){var L=this,T={db:null};if(C)for(var K in C)T[K]=C[K];var Y=v[T.name];Y||(Y=B(),v[T.name]=Y),Y.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=U);var V=[];function fe(){return f.resolve()}for(var ge=0;ge<Y.forages.length;ge++){var we=Y.forages[ge];we!==L&&V.push(we._initReady().catch(fe))}var _e=Y.forages.slice(0);return f.all(V).then(function(){return T.db=Y.db,X(T)}).then(function(Ce){return T.db=Ce,_(T,L._defaultConfig.version)?S(T):Ce}).then(function(Ce){T.db=Y.db=Ce,L._dbInfo=T;for(var $e=0;$e<_e.length;$e++){var Xe=_e[$e];Xe!==L&&(Xe._dbInfo.db=T.db,Xe._dbInfo.version=T.version)}})}function G(C,L){var T=this;C=x(C);var K=new f(function(Y,V){T.ready().then(function(){ve(T._dbInfo,N,function(fe,ge){if(fe)return V(fe);try{var we=ge.objectStore(T._dbInfo.storeName),_e=we.get(C);_e.onsuccess=function(){var Ce=_e.result;Ce===void 0&&(Ce=null),W(Ce)&&(Ce=te(Ce)),Y(Ce)},_e.onerror=function(){V(_e.error)}}catch(Ce){V(Ce)}})}).catch(V)});return m(K,L),K}function Q(C,L){var T=this,K=new f(function(Y,V){T.ready().then(function(){ve(T._dbInfo,N,function(fe,ge){if(fe)return V(fe);try{var we=ge.objectStore(T._dbInfo.storeName),_e=we.openCursor(),Ce=1;_e.onsuccess=function(){var $e=_e.result;if($e){var Xe=$e.value;W(Xe)&&(Xe=te(Xe));var it=C(Xe,$e.key,Ce++);it!==void 0?Y(it):$e.continue()}else Y()},_e.onerror=function(){V(_e.error)}}catch($e){V($e)}})}).catch(V)});return m(K,L),K}function ie(C,L,T){var K=this;C=x(C);var Y=new f(function(V,fe){var ge;K.ready().then(function(){return ge=K._dbInfo,b.call(L)==="[object Blob]"?D(ge.db).then(function(we){return we?L:A(L)}):L}).then(function(we){ve(K._dbInfo,j,function(_e,Ce){if(_e)return fe(_e);try{var $e=Ce.objectStore(K._dbInfo.storeName);we===null&&(we=void 0);var Xe=$e.put(we,C);Ce.oncomplete=function(){we===void 0&&(we=null),V(we)},Ce.onabort=Ce.onerror=function(){var it=Xe.error?Xe.error:Xe.transaction.error;fe(it)}}catch(it){fe(it)}})}).catch(fe)});return m(Y,T),Y}function ne(C,L){var T=this;C=x(C);var K=new f(function(Y,V){T.ready().then(function(){ve(T._dbInfo,j,function(fe,ge){if(fe)return V(fe);try{var we=ge.objectStore(T._dbInfo.storeName),_e=we.delete(C);ge.oncomplete=function(){Y()},ge.onerror=function(){V(_e.error)},ge.onabort=function(){var Ce=_e.error?_e.error:_e.transaction.error;V(Ce)}}catch(Ce){V(Ce)}})}).catch(V)});return m(K,L),K}function R(C){var L=this,T=new f(function(K,Y){L.ready().then(function(){ve(L._dbInfo,j,function(V,fe){if(V)return Y(V);try{var ge=fe.objectStore(L._dbInfo.storeName),we=ge.clear();fe.oncomplete=function(){K()},fe.onabort=fe.onerror=function(){var _e=we.error?we.error:we.transaction.error;Y(_e)}}catch(_e){Y(_e)}})}).catch(Y)});return m(T,C),T}function J(C){var L=this,T=new f(function(K,Y){L.ready().then(function(){ve(L._dbInfo,N,function(V,fe){if(V)return Y(V);try{var ge=fe.objectStore(L._dbInfo.storeName),we=ge.count();we.onsuccess=function(){K(we.result)},we.onerror=function(){Y(we.error)}}catch(_e){Y(_e)}})}).catch(Y)});return m(T,C),T}function ce(C,L){var T=this,K=new f(function(Y,V){if(C<0){Y(null);return}T.ready().then(function(){ve(T._dbInfo,N,function(fe,ge){if(fe)return V(fe);try{var we=ge.objectStore(T._dbInfo.storeName),_e=!1,Ce=we.openKeyCursor();Ce.onsuccess=function(){var $e=Ce.result;if(!$e){Y(null);return}C===0||_e?Y($e.key):(_e=!0,$e.advance(C))},Ce.onerror=function(){V(Ce.error)}}catch($e){V($e)}})}).catch(V)});return m(K,L),K}function se(C){var L=this,T=new f(function(K,Y){L.ready().then(function(){ve(L._dbInfo,N,function(V,fe){if(V)return Y(V);try{var ge=fe.objectStore(L._dbInfo.storeName),we=ge.openKeyCursor(),_e=[];we.onsuccess=function(){var Ce=we.result;if(!Ce){K(_e);return}_e.push(Ce.key),Ce.continue()},we.onerror=function(){Y(we.error)}}catch(Ce){Y(Ce)}})}).catch(Y)});return m(T,C),T}function Pe(C,L){L=g.apply(this,arguments);var T=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||T.name,C.storeName=C.storeName||T.storeName);var K=this,Y;if(!C.name)Y=f.reject("Invalid arguments");else{var V=C.name===T.name&&K._dbInfo.db,fe=V?f.resolve(K._dbInfo.db):X(C).then(function(ge){var we=v[C.name],_e=we.forages;we.db=ge;for(var Ce=0;Ce<_e.length;Ce++)_e[Ce]._dbInfo.db=ge;return ge});C.storeName?Y=fe.then(function(ge){if(ge.objectStoreNames.contains(C.storeName)){var we=ge.version+1;z(C);var _e=v[C.name],Ce=_e.forages;ge.close();for(var $e=0;$e<Ce.length;$e++){var Xe=Ce[$e];Xe._dbInfo.db=null,Xe._dbInfo.version=we}var it=new f(function(lt,Lt){var Rt=c.open(C.name,we);Rt.onerror=function(cn){var vl=Rt.result;vl.close(),Lt(cn)},Rt.onupgradeneeded=function(){var cn=Rt.result;cn.deleteObjectStore(C.storeName)},Rt.onsuccess=function(){var cn=Rt.result;cn.close(),lt(cn)}});return it.then(function(lt){_e.db=lt;for(var Lt=0;Lt<Ce.length;Lt++){var Rt=Ce[Lt];Rt._dbInfo.db=lt,F(Rt._dbInfo)}}).catch(function(lt){throw(I(C,lt)||f.resolve()).catch(function(){}),lt})}}):Y=fe.then(function(ge){z(C);var we=v[C.name],_e=we.forages;ge.close();for(var Ce=0;Ce<_e.length;Ce++){var $e=_e[Ce];$e._dbInfo.db=null}var Xe=new f(function(it,lt){var Lt=c.deleteDatabase(C.name);Lt.onerror=function(){var Rt=Lt.result;Rt&&Rt.close(),lt(Lt.error)},Lt.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},Lt.onsuccess=function(){var Rt=Lt.result;Rt&&Rt.close(),it(Rt)}});return Xe.then(function(it){we.db=it;for(var lt=0;lt<_e.length;lt++){var Lt=_e[lt];F(Lt._dbInfo)}}).catch(function(it){throw(I(C,it)||f.resolve()).catch(function(){}),it})})}return m(Y,L),Y}var Ue={_driver:"asyncStorage",_initStorage:O,_support:d(),iterate:Q,getItem:G,setItem:ie,removeItem:ne,clear:R,length:J,key:ce,keys:se,dropInstance:Pe};function st(){return typeof openDatabase=="function"}var oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me="~~local_forage_type~",H=/^~~local_forage_type~([^~]+)~/,Z="__lfsc__:",ye=Z.length,P="arbf",$="blob",ee="si08",de="ui08",me="uic8",le="si16",ke="si32",Fe="ur16",Ye="ui32",mt="fl32",Xt="fl64",Tt=ye+P.length,qt=Object.prototype.toString;function Bt(C){var L=C.length*.75,T=C.length,K,Y=0,V,fe,ge,we;C[C.length-1]==="="&&(L--,C[C.length-2]==="="&&L--);var _e=new ArrayBuffer(L),Ce=new Uint8Array(_e);for(K=0;K<T;K+=4)V=oe.indexOf(C[K]),fe=oe.indexOf(C[K+1]),ge=oe.indexOf(C[K+2]),we=oe.indexOf(C[K+3]),Ce[Y++]=V<<2|fe>>4,Ce[Y++]=(fe&15)<<4|ge>>2,Ce[Y++]=(ge&3)<<6|we&63;return _e}function At(C){var L=new Uint8Array(C),T="",K;for(K=0;K<L.length;K+=3)T+=oe[L[K]>>2],T+=oe[(L[K]&3)<<4|L[K+1]>>4],T+=oe[(L[K+1]&15)<<2|L[K+2]>>6],T+=oe[L[K+2]&63];return L.length%3===2?T=T.substring(0,T.length-1)+"=":L.length%3===1&&(T=T.substring(0,T.length-2)+"=="),T}function ps(C,L){var T="";if(C&&(T=qt.call(C)),C&&(T==="[object ArrayBuffer]"||C.buffer&&qt.call(C.buffer)==="[object ArrayBuffer]")){var K,Y=Z;C instanceof ArrayBuffer?(K=C,Y+=P):(K=C.buffer,T==="[object Int8Array]"?Y+=ee:T==="[object Uint8Array]"?Y+=de:T==="[object Uint8ClampedArray]"?Y+=me:T==="[object Int16Array]"?Y+=le:T==="[object Uint16Array]"?Y+=Fe:T==="[object Int32Array]"?Y+=ke:T==="[object Uint32Array]"?Y+=Ye:T==="[object Float32Array]"?Y+=mt:T==="[object Float64Array]"?Y+=Xt:L(new Error("Failed to get type for BinaryArray"))),L(Y+At(K))}else if(T==="[object Blob]"){var V=new FileReader;V.onload=function(){var fe=Me+C.type+"~"+At(this.result);L(Z+$+fe)},V.readAsArrayBuffer(C)}else try{L(JSON.stringify(C))}catch(fe){console.error("Couldn't convert value into a JSON string: ",C),L(null,fe)}}function Vt(C){if(C.substring(0,ye)!==Z)return JSON.parse(C);var L=C.substring(Tt),T=C.substring(ye,Tt),K;if(T===$&&H.test(L)){var Y=L.match(H);K=Y[1],L=L.substring(Y[0].length)}var V=Bt(L);switch(T){case P:return V;case $:return u([V],{type:K});case ee:return new Int8Array(V);case de:return new Uint8Array(V);case me:return new Uint8ClampedArray(V);case le:return new Int16Array(V);case Fe:return new Uint16Array(V);case ke:return new Int32Array(V);case Ye:return new Uint32Array(V);case mt:return new Float32Array(V);case Xt:return new Float64Array(V);default:throw new Error("Unkown type: "+T)}}var Kn={serialize:ps,deserialize:Vt,stringToBuffer:Bt,bufferToString:At};function gs(C,L,T,K){C.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],T,K)}function pt(C){var L=this,T={db:null};if(C)for(var K in C)T[K]=typeof C[K]!="string"?C[K].toString():C[K];var Y=new f(function(V,fe){try{T.db=openDatabase(T.name,String(T.version),T.description,T.size)}catch(ge){return fe(ge)}T.db.transaction(function(ge){gs(ge,T,function(){L._dbInfo=T,V()},function(we,_e){fe(_e)})},fe)});return T.serializer=Kn,Y}function Tr(C,L,T,K,Y,V){C.executeSql(T,K,Y,function(fe,ge){ge.code===ge.SYNTAX_ERR?fe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(we,_e){_e.rows.length?V(we,ge):gs(we,L,function(){we.executeSql(T,K,Y,V)},V)},V):V(fe,ge)},V)}function ih(C,L){var T=this;C=x(C);var K=new f(function(Y,V){T.ready().then(function(){var fe=T._dbInfo;fe.db.transaction(function(ge){Tr(ge,fe,"SELECT * FROM "+fe.storeName+" WHERE key = ? LIMIT 1",[C],function(we,_e){var Ce=_e.rows.length?_e.rows.item(0).value:null;Ce&&(Ce=fe.serializer.deserialize(Ce)),Y(Ce)},function(we,_e){V(_e)})})}).catch(V)});return m(K,L),K}function pl(C,L){var T=this,K=new f(function(Y,V){T.ready().then(function(){var fe=T._dbInfo;fe.db.transaction(function(ge){Tr(ge,fe,"SELECT * FROM "+fe.storeName,[],function(we,_e){for(var Ce=_e.rows,$e=Ce.length,Xe=0;Xe<$e;Xe++){var it=Ce.item(Xe),lt=it.value;if(lt&&(lt=fe.serializer.deserialize(lt)),lt=C(lt,it.key,Xe+1),lt!==void 0){Y(lt);return}}Y()},function(we,_e){V(_e)})})}).catch(V)});return m(K,L),K}function jn(C,L,T,K){var Y=this;C=x(C);var V=new f(function(fe,ge){Y.ready().then(function(){L===void 0&&(L=null);var we=L,_e=Y._dbInfo;_e.serializer.serialize(L,function(Ce,$e){$e?ge($e):_e.db.transaction(function(Xe){Tr(Xe,_e,"INSERT OR REPLACE INTO "+_e.storeName+" (key, value) VALUES (?, ?)",[C,Ce],function(){fe(we)},function(it,lt){ge(lt)})},function(Xe){if(Xe.code===Xe.QUOTA_ERR){if(K>0){fe(jn.apply(Y,[C,we,T,K-1]));return}ge(Xe)}})})}).catch(ge)});return m(V,T),V}function oh(C,L,T){return jn.apply(this,[C,L,T,1])}function Ve(C,L){var T=this;C=x(C);var K=new f(function(Y,V){T.ready().then(function(){var fe=T._dbInfo;fe.db.transaction(function(ge){Tr(ge,fe,"DELETE FROM "+fe.storeName+" WHERE key = ?",[C],function(){Y()},function(we,_e){V(_e)})})}).catch(V)});return m(K,L),K}function at(C){var L=this,T=new f(function(K,Y){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(fe){Tr(fe,V,"DELETE FROM "+V.storeName,[],function(){K()},function(ge,we){Y(we)})})}).catch(Y)});return m(T,C),T}function ut(C){var L=this,T=new f(function(K,Y){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(fe){Tr(fe,V,"SELECT COUNT(key) as c FROM "+V.storeName,[],function(ge,we){var _e=we.rows.item(0).c;K(_e)},function(ge,we){Y(we)})})}).catch(Y)});return m(T,C),T}function Kr(C,L){var T=this,K=new f(function(Y,V){T.ready().then(function(){var fe=T._dbInfo;fe.db.transaction(function(ge){Tr(ge,fe,"SELECT key FROM "+fe.storeName+" WHERE id = ? LIMIT 1",[C+1],function(we,_e){var Ce=_e.rows.length?_e.rows.item(0).key:null;Y(Ce)},function(we,_e){V(_e)})})}).catch(V)});return m(K,L),K}function Qr(C){var L=this,T=new f(function(K,Y){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(fe){Tr(fe,V,"SELECT key FROM "+V.storeName,[],function(ge,we){for(var _e=[],Ce=0;Ce<we.rows.length;Ce++)_e.push(we.rows.item(Ce).key);K(_e)},function(ge,we){Y(we)})})}).catch(Y)});return m(T,C),T}function Qn(C){return new f(function(L,T){C.transaction(function(K){K.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Y,V){for(var fe=[],ge=0;ge<V.rows.length;ge++)fe.push(V.rows.item(ge).name);L({db:C,storeNames:fe})},function(Y,V){T(V)})},function(K){T(K)})})}function vs(C,L){L=g.apply(this,arguments);var T=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||T.name,C.storeName=C.storeName||T.storeName);var K=this,Y;return C.name?Y=new f(function(V){var fe;C.name===T.name?fe=K._dbInfo.db:fe=openDatabase(C.name,"","",0),C.storeName?V({db:fe,storeNames:[C.storeName]}):V(Qn(fe))}).then(function(V){return new f(function(fe,ge){V.db.transaction(function(we){function _e(it){return new f(function(lt,Lt){we.executeSql("DROP TABLE IF EXISTS "+it,[],function(){lt()},function(Rt,cn){Lt(cn)})})}for(var Ce=[],$e=0,Xe=V.storeNames.length;$e<Xe;$e++)Ce.push(_e(V.storeNames[$e]));f.all(Ce).then(function(){fe()}).catch(function(it){ge(it)})},function(we){ge(we)})})}):Y=f.reject("Invalid arguments"),m(Y,L),Y}var Gr={_driver:"webSQLStorage",_initStorage:pt,_support:st(),iterate:pl,getItem:ih,setItem:oh,removeItem:Ve,clear:at,length:ut,key:Kr,keys:Qr,dropInstance:vs};function Gn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ky(C,L){var T=C.name+"/";return C.storeName!==L.storeName&&(T+=C.storeName+"/"),T}function Rk(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function Ik(){return!Rk()||localStorage.length>0}function Ok(C){var L=this,T={};if(C)for(var K in C)T[K]=C[K];return T.keyPrefix=ky(C,L._defaultConfig),Ik()?(L._dbInfo=T,T.serializer=Kn,f.resolve()):f.reject()}function Dk(C){var L=this,T=L.ready().then(function(){for(var K=L._dbInfo.keyPrefix,Y=localStorage.length-1;Y>=0;Y--){var V=localStorage.key(Y);V.indexOf(K)===0&&localStorage.removeItem(V)}});return m(T,C),T}function Mk(C,L){var T=this;C=x(C);var K=T.ready().then(function(){var Y=T._dbInfo,V=localStorage.getItem(Y.keyPrefix+C);return V&&(V=Y.serializer.deserialize(V)),V});return m(K,L),K}function Lk(C,L){var T=this,K=T.ready().then(function(){for(var Y=T._dbInfo,V=Y.keyPrefix,fe=V.length,ge=localStorage.length,we=1,_e=0;_e<ge;_e++){var Ce=localStorage.key(_e);if(Ce.indexOf(V)===0){var $e=localStorage.getItem(Ce);if($e&&($e=Y.serializer.deserialize($e)),$e=C($e,Ce.substring(fe),we++),$e!==void 0)return $e}}});return m(K,L),K}function Fk(C,L){var T=this,K=T.ready().then(function(){var Y=T._dbInfo,V;try{V=localStorage.key(C)}catch{V=null}return V&&(V=V.substring(Y.keyPrefix.length)),V});return m(K,L),K}function $k(C){var L=this,T=L.ready().then(function(){for(var K=L._dbInfo,Y=localStorage.length,V=[],fe=0;fe<Y;fe++){var ge=localStorage.key(fe);ge.indexOf(K.keyPrefix)===0&&V.push(ge.substring(K.keyPrefix.length))}return V});return m(T,C),T}function Uk(C){var L=this,T=L.keys().then(function(K){return K.length});return m(T,C),T}function qk(C,L){var T=this;C=x(C);var K=T.ready().then(function(){var Y=T._dbInfo;localStorage.removeItem(Y.keyPrefix+C)});return m(K,L),K}function Bk(C,L,T){var K=this;C=x(C);var Y=K.ready().then(function(){L===void 0&&(L=null);var V=L;return new f(function(fe,ge){var we=K._dbInfo;we.serializer.serialize(L,function(_e,Ce){if(Ce)ge(Ce);else try{localStorage.setItem(we.keyPrefix+C,_e),fe(V)}catch($e){($e.name==="QuotaExceededError"||$e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ge($e),ge($e)}})})});return m(Y,T),Y}function Vk(C,L){if(L=g.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var T=this.config();C.name=C.name||T.name,C.storeName=C.storeName||T.storeName}var K=this,Y;return C.name?Y=new f(function(V){C.storeName?V(ky(C,K._defaultConfig)):V(C.name+"/")}).then(function(V){for(var fe=localStorage.length-1;fe>=0;fe--){var ge=localStorage.key(fe);ge.indexOf(V)===0&&localStorage.removeItem(ge)}}):Y=f.reject("Invalid arguments"),m(Y,L),Y}var zk={_driver:"localStorageWrapper",_initStorage:Ok,_support:Gn(),iterate:Lk,getItem:Mk,setItem:Bk,removeItem:qk,clear:Dk,length:Uk,key:Fk,keys:$k,dropInstance:Vk},Wk=function(L,T){return L===T||typeof L=="number"&&typeof T=="number"&&isNaN(L)&&isNaN(T)},Hk=function(L,T){for(var K=L.length,Y=0;Y<K;){if(Wk(L[Y],T))return!0;Y++}return!1},Py=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},gl={},Ty={},Wi={INDEXEDDB:Ue,WEBSQL:Gr,LOCALSTORAGE:zk},Kk=[Wi.INDEXEDDB._driver,Wi.WEBSQL._driver,Wi.LOCALSTORAGE._driver],od=["dropInstance"],lh=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(od),Qk={description:"",driver:Kk.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Gk(C,L){C[L]=function(){var T=arguments;return C.ready().then(function(){return C[L].apply(C,T)})}}function ch(){for(var C=1;C<arguments.length;C++){var L=arguments[C];if(L)for(var T in L)L.hasOwnProperty(T)&&(Py(L[T])?arguments[0][T]=L[T].slice():arguments[0][T]=L[T])}return arguments[0]}var Yk=function(){function C(L){o(this,C);for(var T in Wi)if(Wi.hasOwnProperty(T)){var K=Wi[T],Y=K._driver;this[T]=Y,gl[Y]||this.defineDriver(K)}this._defaultConfig=ch({},Qk),this._config=ch({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(T){if((typeof T>"u"?"undefined":i(T))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var K in T){if(K==="storeName"&&(T[K]=T[K].replace(/\W/g,"_")),K==="version"&&typeof T[K]!="number")return new Error("Database version must be a number.");this._config[K]=T[K]}return"driver"in T&&T.driver?this.setDriver(this._config.driver):!0}else return typeof T=="string"?this._config[T]:this._config},C.prototype.defineDriver=function(T,K,Y){var V=new f(function(fe,ge){try{var we=T._driver,_e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!T._driver){ge(_e);return}for(var Ce=lh.concat("_initStorage"),$e=0,Xe=Ce.length;$e<Xe;$e++){var it=Ce[$e],lt=!Hk(od,it);if((lt||T[it])&&typeof T[it]!="function"){ge(_e);return}}var Lt=function(){for(var vl=function(Zk){return function(){var eP=new Error("Method "+Zk+" is not implemented by the current driver"),Ay=f.reject(eP);return m(Ay,arguments[arguments.length-1]),Ay}},dh=0,Jk=od.length;dh<Jk;dh++){var uh=od[dh];T[uh]||(T[uh]=vl(uh))}};Lt();var Rt=function(vl){gl[we]&&console.info("Redefining LocalForage driver: "+we),gl[we]=T,Ty[we]=vl,fe()};"_support"in T?T._support&&typeof T._support=="function"?T._support().then(Rt,ge):Rt(!!T._support):Rt(!0)}catch(cn){ge(cn)}});return p(V,K,Y),V},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(T,K,Y){var V=gl[T]?f.resolve(gl[T]):f.reject(new Error("Driver not found."));return p(V,K,Y),V},C.prototype.getSerializer=function(T){var K=f.resolve(Kn);return p(K,T),K},C.prototype.ready=function(T){var K=this,Y=K._driverSet.then(function(){return K._ready===null&&(K._ready=K._initDriver()),K._ready});return p(Y,T,T),Y},C.prototype.setDriver=function(T,K,Y){var V=this;Py(T)||(T=[T]);var fe=this._getSupportedDrivers(T);function ge(){V._config.driver=V.driver()}function we($e){return V._extend($e),ge(),V._ready=V._initStorage(V._config),V._ready}function _e($e){return function(){var Xe=0;function it(){for(;Xe<$e.length;){var lt=$e[Xe];return Xe++,V._dbInfo=null,V._ready=null,V.getDriver(lt).then(we).catch(it)}ge();var Lt=new Error("No available storage method found.");return V._driverSet=f.reject(Lt),V._driverSet}return it()}}var Ce=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Ce.then(function(){var $e=fe[0];return V._dbInfo=null,V._ready=null,V.getDriver($e).then(function(Xe){V._driver=Xe._driver,ge(),V._wrapLibraryMethodsWithReady(),V._initDriver=_e(fe)})}).catch(function(){ge();var $e=new Error("No available storage method found.");return V._driverSet=f.reject($e),V._driverSet}),p(this._driverSet,K,Y),this._driverSet},C.prototype.supports=function(T){return!!Ty[T]},C.prototype._extend=function(T){ch(this,T)},C.prototype._getSupportedDrivers=function(T){for(var K=[],Y=0,V=T.length;Y<V;Y++){var fe=T[Y];this.supports(fe)&&K.push(fe)}return K},C.prototype._wrapLibraryMethodsWithReady=function(){for(var T=0,K=lh.length;T<K;T++)Gk(this,lh[T])},C.prototype.createInstance=function(T){return new C(T)},C}(),Xk=new Yk;n.exports=Xk},{3:3}]},{},[4])(4)})})($_);var RD=$_.exports;const ji=mg(RD);ji.config({name:"semiproperty-guardian",storeName:"react-query-cache",description:"Persisted React Query cache for offline support"});const Hh="rq-cache-v1",ID={persistClient:async e=>{try{await ji.setItem(Hh,e)}catch(t){console.warn("Failed to persist query client",t)}},restoreClient:async()=>{try{return await ji.getItem(Hh)??void 0}catch(e){console.warn("Failed to restore query client",e);return}},removeClient:async()=>{try{await ji.removeItem(Hh)}catch(e){console.warn("Failed to remove persisted query client",e)}}},U_=5*60*1e3,OD=24*60*60*1e3,DD=24*60*60*1e3,q_="offline-mutation-queue-v1";ji.config({name:"semiproperty-guardian",storeName:"offline-queue"});async function B_(){return await ji.getItem(q_)||[]}async function V_(e){await ji.setItem(q_,e)}async function Ss(e,t){const r={id:`${e}-${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e,payload:t,createdAt:Date.now()},n=await B_();return n.push(r),await V_(n),r}async function MD(e){if(!navigator.onLine)return{processed:0,failed:0};let t=await B_();if(!t.length)return{processed:0,failed:0};const r=[];let n=0,a=0;for(const i of t){const o=e[i.name];if(!o){r.push(i);continue}try{await o(i.payload),n+=1}catch(l){console.warn("Failed processing offline mutation",i.name,l),a+=1,r.push(i)}}return await V_(r),{processed:n,failed:a}}const LD="modulepreload",FD=function(e){return"/semi-property-guardian/"+e},kb={},Kc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=FD(c),c in kb)return;kb[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":LD,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},$D=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kc(async()=>{const{default:n}=await Promise.resolve().then(()=>ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Rv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class UD extends Rv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pb extends Rv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tb extends Rv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lp||(Lp={}));var qD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class BD{constructor(t,{headers:r={},customFetch:n,region:a=Lp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=$D(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qD(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new UD(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Pb(f);if(!f.ok)throw new Tb(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Tb||a instanceof Pb?a.context:void 0}}})}}var Fr={},Iv={},Af={},Qc={},Rf={},If={},VD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},el=VD();const zD=el.fetch,z_=el.fetch.bind(el),W_=el.Headers,WD=el.Request,HD=el.Response,ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:W_,Request:WD,Response:HD,default:z_,fetch:zD},Symbol.toStringTag,{value:"Module"})),KD=rP(ul);var Of={};Object.defineProperty(Of,"__esModule",{value:!0});let QD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Of.default=QD;var H_=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(If,"__esModule",{value:!0});const GD=H_(KD),YD=H_(Of);let XD=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=GD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,m=null,p=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(f=[],u=null,p=200,x="OK")}catch{i.status===404&&w===""?(p=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new YD.default(u)}return{error:u,data:f,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};If.default=XD;var JD=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});const ZD=JD(If);let eM=class extends ZD.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Rf.default=eM;var tM=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qc,"__esModule",{value:!0});const rM=tM(Rf);let nM=class extends rM.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Qc.default=nM;var sM=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Af,"__esModule",{value:!0});const kl=sM(Qc);let aM=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new kl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new kl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new kl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new kl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Af.default=aM;var K_=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iv,"__esModule",{value:!0});const iM=K_(Af),oM=K_(Qc);let lM=class Q_{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new iM.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Q_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new oM.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Iv.default=lM;var fl=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.PostgrestError=Fr.PostgrestBuilder=Fr.PostgrestTransformBuilder=Fr.PostgrestFilterBuilder=Fr.PostgrestQueryBuilder=Fr.PostgrestClient=void 0;const G_=fl(Iv);Fr.PostgrestClient=G_.default;const Y_=fl(Af);Fr.PostgrestQueryBuilder=Y_.default;const X_=fl(Qc);Fr.PostgrestFilterBuilder=X_.default;const J_=fl(Rf);Fr.PostgrestTransformBuilder=J_.default;const Z_=fl(If);Fr.PostgrestBuilder=Z_.default;const eS=fl(Of);Fr.PostgrestError=eS.default;var cM=Fr.default={PostgrestClient:G_.default,PostgrestQueryBuilder:Y_.default,PostgrestFilterBuilder:X_.default,PostgrestTransformBuilder:J_.default,PostgrestBuilder:Z_.default,PostgrestError:eS.default};const{PostgrestClient:dM,PostgrestQueryBuilder:pV,PostgrestFilterBuilder:gV,PostgrestTransformBuilder:vV,PostgrestBuilder:yV,PostgrestError:xV}=cM;class uM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const fM="2.15.5",hM=`realtime-js/${fM}`,mM="1.0.0",Fp=1e4,pM=1e3,gM=100;var Zl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zl||(Zl={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var An;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(An||(An={}));var $p;(function(e){e.websocket="websocket"})($p||($p={}));var ni;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ni||(ni={}));class vM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class tS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const Ab=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=yM(o,e,t,a),i),{})},yM=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?rS(i,o):Up(o)},rS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jM(t,r)}switch(e){case ft.bool:return xM(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return bM(t);case ft.json:case ft.jsonb:return wM(t);case ft.timestamp:return NM(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return Up(t);default:return Up(t)}},Up=e=>e,xM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>rS(t,l))}return e},NM=e=>typeof e=="string"?e.replace(" ","T"):e,nS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Kh{constructor(t,r,n={},a=Fp){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rb||(Rb={}));class ec{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ec.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ec.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const m=u.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),x=u.filter(w=>p.indexOf(w.presence_ref)<0),g=f.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ib;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ib||(Ib={}));var tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tc||(tc={}));var Ns;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ns||(Ns={}));class Ov{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kh(this,An.join,this.params,this.timeout),this.rejoinTimer=new tS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ec(this),this.broadcastEndpointURL=nS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ns.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ns.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Ns.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,y=[];for(let v=0;v<w;v++){const b=g[v],{filter:{event:N,schema:j,table:E,filter:k}}=b,D=p&&p[v];if(D&&D.event===N&&D.schema===j&&D.table===E&&D.filter===k)y.push(Object.assign(Object.assign({},b),{id:D.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(Ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ns.SUBSCRIBED);return}}).receive("error",p=>{this.state=zt.errored,t==null||t(Ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===zt.joined&&t===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Kh(this,An.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Kh(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=An;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,g,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,j=(x=p.filter)===null||x===void 0?void 0:x.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const N=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ov.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(An.close,{},t)}_onError(t){this._on(An.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ab(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ab(t.columns,t.old_record)),r}}const Qh=()=>{},Rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_M=[1e3,2e3,5e3,1e4],SM=1e4,CM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fp,this.transport=null,this.heartbeatIntervalMs=Rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qh,this.ref=0,this.reconnectTimer=null,this.logger=Qh,this.conn=null,this.sendBuffer=[],this.serializer=new vM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Kc(async()=>{const{default:l}=await Promise.resolve().then(()=>ul);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$p.websocket}`,this.httpEndpoint=nS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mM}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zl.connecting:return ni.Connecting;case Zl.open:return ni.Open;case Zl.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ov(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(An.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([CM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:hM};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(An.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Fp,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Rd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>_M[f-1]||SM,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,m)=>m(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Dv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kM extends Dv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qp extends Dv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var PM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const sS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kc(async()=>{const{default:n}=await Promise.resolve().then(()=>ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TM=()=>PM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kc(()=>Promise.resolve().then(()=>ul),void 0)).Response:Response}),Bp=e=>{if(Array.isArray(e))return e.map(r=>Bp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Bp(n)}),t},AM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Gh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RM=(e,t,r)=>qi(void 0,void 0,void 0,function*(){const n=yield TM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new kM(Gh(a),i,o))}).catch(a=>{t(new qp(Gh(a),a))}):t(new qp(Gh(e),e))}),IM=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(AM(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Gc(e,t,r,n,a,i){return qi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,IM(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>RM(c,l,n))})})}function Bu(e,t,r,n){return qi(this,void 0,void 0,function*(){return Gc(e,"GET",t,r,n)})}function Jn(e,t,r,n,a){return qi(this,void 0,void 0,function*(){return Gc(e,"POST",t,n,a,r)})}function Vp(e,t,r,n,a){return qi(this,void 0,void 0,function*(){return Gc(e,"PUT",t,n,a,r)})}function OM(e,t,r,n){return qi(this,void 0,void 0,function*(){return Gc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function aS(e,t,r,n,a){return qi(this,void 0,void 0,function*(){return Gc(e,"DELETE",t,n,a,r)})}var gr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const DM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ob={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MM{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=sS(a)}uploadOrUpdate(t,r,n,a){return gr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ob),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?Vp:Jn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Wt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return gr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return gr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Ob.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Vp(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(Wt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return gr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Jn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Dv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}update(t,r,n){return gr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return gr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return gr(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return gr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Jn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return gr(this,void 0,void 0,function*(){try{const a=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}download(t,r){return gr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Bu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wt(l))return{data:null,error:l};throw l}})}info(t){return gr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bp(n),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}exists(t){return gr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield OM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Wt(n)&&n instanceof qp){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return gr(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}list(t,r,n){return gr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},DM),r),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Wt(a))return{data:null,error:a};throw a}})}listV2(t,r){return gr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const LM="2.11.1",FM={"X-Client-Info":`storage-js/${LM}`};var Ki=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class $M{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},FM),r),this.fetch=sS(n)}listBuckets(){return Ki(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ki(this,void 0,void 0,function*(){try{return{data:yield Bu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ki(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ki(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ki(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ki(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}}class UM extends $M{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new MM(this.url,this.headers,t,this.fetch)}}const qM="2.57.2";let Ul="";typeof Deno<"u"?Ul="deno":typeof document<"u"?Ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ul="react-native":Ul="node";const BM={"X-Client-Info":`supabase-js-${Ul}/${qM}`},VM={headers:BM},zM={schema:"public"},WM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HM={};var KM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const QM=e=>{let t;return e?t=e:typeof fetch>"u"?t=z_:t=fetch,(...r)=>t(...r)},GM=()=>typeof Headers>"u"?W_:Headers,YM=(e,t,r)=>{const n=QM(r),a=GM();return(i,o)=>KM(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var XM=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function JM(e){return e.endsWith("/")?e:e+"/"}function ZM(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>XM(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const iS="2.71.1",no=30*1e3,zp=3,Yh=zp*no,eL="http://localhost:9999",tL="supabase.auth.token",rL={"X-Client-Info":`gotrue-js/${iS}`},Wp="X-Supabase-Api-Version",oS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sL=10*60*1e3;class Mv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aL extends Mv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iL(e){return He(e)&&e.name==="AuthApiError"}class lS extends Mv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class za extends Mv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Zs extends za{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oL(e){return He(e)&&e.name==="AuthSessionMissingError"}class Id extends za{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Od extends za{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dd extends za{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lL(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class Db extends za{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hp extends za{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xh(e){return He(e)&&e.name==="AuthRetryableFetchError"}class Mb extends za{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kp extends za{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lb=` 	
\r=`.split(""),cL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Lb.length;t+=1)e[Lb[t].charCodeAt(0)]=-2;for(let t=0;t<Vu.length;t+=1)e[Vu[t].charCodeAt(0)]=t;return e})();function Fb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vu[n]),t.queuedBits-=6}}function cS(e,t,r){const n=cL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $b(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{fL(o,n,r)};for(let o=0;o<e.length;o+=1)cS(e.charCodeAt(o),a,i);return t.join("")}function dL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}dL(n,t)}}function fL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)cS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function mL(e){const t=[];return uL(e,r=>t.push(r)),new Uint8Array(t)}function pL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Fb(a,r,n)),Fb(null,r,n),t.join("")}function gL(e){return Math.round(Date.now()/1e3)+e}function vL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sn=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},dS=()=>{if(!Sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function yL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const uS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kc(async()=>{const{default:n}=await Promise.resolve().then(()=>ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",so=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ys=async(e,t)=>{await e.removeItem(t)};class Df{constructor(){this.promise=new Df.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Df.promiseConstructor=Promise;function Jh(e){const t=e.split(".");if(t.length!==3)throw new Kp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!nL.test(t[n]))throw new Kp("JWT not in base64url format");return{header:JSON.parse($b(t[0])),payload:JSON.parse($b(t[1])),signature:hL(t[2]),raw:{header:t[0],payload:t[1]}}}async function bL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wL(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function jL(e){return("0"+e.toString(16)).substr(-2)}function NL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,jL).join("")}async function _L(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function SL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _L(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qi(e,t,r=!1){const n=NL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await so(e,`${t}-code-verifier`,a);const i=await SL(n);return[i,n===i?"plain":"s256"]}const CL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EL(e){const t=e.headers.get(Wp);if(!t||!t.match(CL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gi(e){if(!TL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ub(e){return JSON.parse(JSON.stringify(e))}var AL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RL=[502,503,504];async function qb(e){var t;if(!xL(e))throw new Hp(ei(e),0);if(RL.includes(e.status))throw new Hp(ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new lS(ei(i),i)}let n;const a=EL(e);if(a&&a.getTime()>=oS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mb(ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mb(ei(r),e.status,r.weak_password.reasons);throw new aL(ei(r),e.status||500,n)}const IL=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Je(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Wp]||(i[Wp]=oS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await OL(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function OL(e,t,r,n,a,i){const o=IL(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Hp(ei(c),0)}if(l.ok||await qb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await qb(c)}}function ws(e){var t;let r=null;FL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bb(e){const t=ws(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function aa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function DL(e){return{data:e,error:null}}function ML(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=AL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function LL(e){return e}function FL(e){return e.access_token&&e.refresh_token&&e.expires_in}const em=["global","local","others"];var $L=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class UL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=uS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=em[0]){if(em.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${em.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:aa})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$L(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ML,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:aa})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LL});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(He(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Gi(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:aa})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gi(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:aa})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gi(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:aa})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gi(t.userId);try{const{data:r,error:n}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gi(t.userId),Gi(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}function Vb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function qL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yi={debug:!!(globalThis&&dS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BL extends fS{}async function VL(e,t,r){Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}qL();const zL={url:eL,storageKey:tL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zb(e,t,r){return await r()}const Xi={};class Cc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cc.nextInstanceID,Cc.nextInstanceID+=1,this.instanceID>0&&Sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},zL),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new UL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uS(a.fetch),this.lock=a.lock||zb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=VL:this.lock=zb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:dS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=yL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Sn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?{error:r}:{error:new lS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ws}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Qi(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:ws})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ws})}else throw new Od("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else throw new Od("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Id}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,f,m,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:b}=t;let N;if(Sn())if(typeof y=="object")N=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))N=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const E=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:w,error:y}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:pL(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ws});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Id}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(He(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Xa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ws});if(await Ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Id}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ws}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Id}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Qi(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Od("You must provide either an email or phone number.")}catch(l){if(He(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ws});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qi(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:DL})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zs;const{error:a}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Od("You must provide either an email or phone number and a type")}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Xa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Zh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:aa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zs}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:aa})})}catch(r){if(He(r))return oL(r)&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Zs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Qi(this.storage,this.storageKey));const{data:d,error:u}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:aa});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Jh(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(He(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zs;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Sn())throw new Dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Db("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Dd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(iL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=vL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Qi(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Sn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(He(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wL(async a=>(a>0&&await bL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ws})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Xh(i)&&Date.now()+o-n<no})}catch(n){if(this._debug(r,"error",n),He(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Xa(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await so(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Zh()}else if(a&&!a.user&&!a.user){const o=await Xa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ys(this.storage,this.storageKey+"-user"),await so(this.storage,this.storageKey,a)):a.user=Zh()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Yh}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Xh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Df;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Zs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),He(i)){const o={session:null,error:i};return Xh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await so(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Ub(a);await so(this.storage,this.storageKey,i)}else{const a=Ub(r);await so(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ys(this.storage,this.storageKey),await Ys(this.storage,this.storageKey+"-code-verifier"),await Ys(this.storage,this.storageKey+"-user"),this.userStorage&&await Ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${no}ms, refresh threshold is ${zp} ticks`),a<=zp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jh(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+sL>a)return n;const{data:i,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Jh(n);r!=null&&r.allowExpired||kL(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=PL(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,mL(`${l}.${c}`)))throw new Kp("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}Cc.nextInstanceID=0;const WL=Cc;class HL extends WL{constructor(t){super(t)}}var KL=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class QL{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=JM(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:zM,realtime:HM,auth:Object.assign(Object.assign({},WM),{storageKey:d}),global:VM},f=ZM(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=YM(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new dM(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new UM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new BD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return KL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HL({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new EM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GL=(e,t,r)=>new QL(e,t,r);function YL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}YL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XL="https://drlfakeottpbmxiudftz.supabase.co",JL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRybGZha2VvdHRwYm14aXVkZnR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwODI1MjUsImV4cCI6MjA3MjY1ODUyNX0.PVmrI-ySsWPDTdtFPkthHttKYsq3e08T2oTOurN6Yss",re=GL(XL,JL),Mf=(e=1,t=50)=>{const r=(e-1)*t,n=r+t-1;return{from:r,to:n}},er={mapRow(e){return{id:e.id,entityName:e.entity_name,fundCluster:e.fund_cluster,semiExpendableProperty:e.semi_expendable_property,propertyNumber:e.property_number,description:e.description,dateAcquired:e.date_acquired,remarks:e.remarks??void 0,createdAt:e.created_at,updatedAt:e.updated_at}},mapEntry(e){return{id:e.id,propertyCardId:e.property_card_id,date:e.date,reference:e.reference,receiptQty:e.receipt_qty,unitCost:Number(e.unit_cost||0),totalCost:Number(e.total_cost||0),issueItemNo:e.issue_item_no,issueQty:e.issue_qty,officeOfficer:e.office_officer,balanceQty:e.balance_qty,amount:Number(e.amount||0),createdAt:e.created_at,updatedAt:e.updated_at}},async getAll(e={}){const{page:t=1,limit:r=50,search:n}=e,{from:a,to:i}=Mf(t,r);let o=re.from("property_cards").select("*",{count:"exact"}).range(a,i);n&&(o=o.or(`property_number.ilike.%${n}%,description.ilike.%${n}%,entity_name.ilike.%${n}%`));const l=await o.order("created_at",{ascending:!1});if(l.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:l.error.message};const c=l.count||0,d=Math.ceil(c/r);return{data:(l.data||[]).map(u=>er.mapRow(u)),pagination:{page:t,limit:r,total:c,totalPages:d},success:!0}},async getById(e){var r;const t=await re.from("property_cards").select("*").eq("id",e).single();return{data:t.data?er.mapRow(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getWithEntries(e){var n;const t=await re.from("property_cards").select(`
        *,
        entries:property_card_entries(*)
      `).eq("id",e).single();return{data:t.data?{...er.mapRow(t.data),entries:(t.data.entries||[]).map(a=>er.mapEntry(a))}:null,error:((n=t.error)==null?void 0:n.message)||null,success:!t.error}},async create(e){var r;if(!navigator.onLine)return await Ss("propertyCards.create",{card:e}),{data:{id:`temp-${Date.now()}`,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const t=await re.from("property_cards").insert({entity_name:e.entityName,fund_cluster:e.fundCluster,semi_expendable_property:e.semiExpendableProperty,property_number:e.propertyNumber,description:e.description,date_acquired:e.dateAcquired,remarks:e.remarks}).select().single();return{data:t.data?er.mapRow(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var a;if(!navigator.onLine)return await Ss("propertyCards.update",{id:e,updates:t}),{data:{...t,id:e},error:null,success:!0};const r={};t.entityName&&(r.entity_name=t.entityName),t.fundCluster&&(r.fund_cluster=t.fundCluster),t.semiExpendableProperty&&(r.semi_expendable_property=t.semiExpendableProperty),t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.remarks!==void 0&&(r.remarks=t.remarks);const n=await re.from("property_cards").update(r).eq("id",e).select().single();return{data:n.data?er.mapRow(n.data):null,error:((a=n.error)==null?void 0:a.message)||null,success:!n.error}},async delete(e){var r;if(!navigator.onLine)return await Ss("propertyCards.delete",{id:e}),{data:null,error:null,success:!0};const t=await re.from("property_cards").delete().eq("id",e);return{data:t.data?er.mapEntry(t.data):null,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async addEntry(e,t){var n;if(!navigator.onLine)return await Ss("propertyCards.addEntry",{propertyCardId:e,entry:t}),{data:{id:`temp-entry-${Date.now()}`,propertyCardId:e,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};const r=await re.from("property_card_entries").insert({property_card_id:e,date:t.date,reference:t.reference,receipt_qty:t.receiptQty,unit_cost:t.unitCost,total_cost:t.totalCost,issue_item_no:t.issueItemNo,issue_qty:t.issueQty,office_officer:t.officeOfficer,balance_qty:t.balanceQty,amount:t.amount}).select().single();return{data:r.data?er.mapEntry(r.data):null,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async updateEntry(e,t,r){var i;if(!navigator.onLine)return await Ss("propertyCards.updateEntry",{propertyCardId:e,entryId:t,updates:r}),{data:{...r,id:t,propertyCardId:e},error:null,success:!0};const n={};r.date&&(n.date=r.date),r.reference&&(n.reference=r.reference),r.receiptQty!==void 0&&(n.receipt_qty=r.receiptQty),r.unitCost!==void 0&&(n.unit_cost=r.unitCost),r.totalCost!==void 0&&(n.total_cost=r.totalCost),r.issueItemNo&&(n.issue_item_no=r.issueItemNo),r.issueQty!==void 0&&(n.issue_qty=r.issueQty),r.officeOfficer&&(n.office_officer=r.officeOfficer),r.balanceQty!==void 0&&(n.balance_qty=r.balanceQty),r.amount!==void 0&&(n.amount=r.amount);const a=await re.from("property_card_entries").update(n).eq("id",t).eq("property_card_id",e).select().single();return{data:a.data,error:((i=a.error)==null?void 0:i.message)||null,success:!a.error}},async deleteEntry(e,t){var n;if(!navigator.onLine)return await Ss("propertyCards.deleteEntry",{propertyCardId:e,entryId:t}),{data:null,error:null,success:!0};const r=await re.from("property_card_entries").delete().eq("id",t).eq("property_card_id",e);return{data:r.data,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async getEntries(e){var r;const t=await re.from("property_card_entries").select("*").eq("property_card_id",e).order("date",{ascending:!0});return{data:(t.data||[]).map(n=>er.mapEntry(n)),error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async search(e,t={}){return this.getAll({...t,search:e})},async safeDelete(e){try{const{data:t,error:r}=await re.rpc("safe_delete_property_card",{card_id:e});return r?(console.error("Safe delete property card error:",r),{data:null,error:r.message,success:!1}):{data:t,error:null,success:!0}}catch(t){return console.error("Safe delete property card exception:",t),{data:null,error:t instanceof Error?t.message:"Unknown error occurred",success:!1}}},async canDelete(e){try{const{data:t,error:r}=await re.rpc("can_delete_property_card",{card_id:e});return r?(console.error("Can delete property card error:",r),{data:null,error:r.message,success:!1}):{data:t,error:null,success:!0}}catch(t){return console.error("Can delete property card exception:",t),{data:null,error:t instanceof Error?t.message:"Unknown error occurred",success:!1}}}},Dr={async getAll(e={}){const{page:t=1,limit:r=1e3,status:n,condition:a,search:i,filter:o,valueFilter:l}=e,{from:c,to:d}=Mf(t,r);let u;o==="available"?u=re.from("inventory_items").select("*",{count:"planned"}).range(c,d).eq("status","Active").eq("condition","Serviceable").or("assignment_status.is.null,assignment_status.eq.Available"):o==="issued"?(console.log("Fetching issued items with filter:",o),u=re.from("inventory_items").select("*",{count:"planned"}).range(c,d).eq("status","Active").eq("condition","Serviceable").eq("assignment_status","Assigned")):u=re.from("inventory_items").select("*",{count:"planned"}).range(c,d),n&&(u=u.eq("status",n)),a&&(u=u.eq("condition",a)),l==="high-value"?u=u.eq("sub_category","High Value Expendable"):l==="low-value"&&(u=u.eq("sub_category","Small Value Expendable")),i&&(u=u.or(`property_number.ilike.%${i}%,description.ilike.%${i}%,brand.ilike.%${i}%`));const f=await u.order("created_at",{ascending:!1});if(f.error)return console.error("Error fetching inventory items:",f.error),{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:f.error.message};let m=f.data||[];o==="available"&&(m=m.filter(y=>!(y.assignment_status==="Assigned"||y.custodian&&y.custodian.trim()!==""))),console.log("Raw database response:",{filter:o,dataCount:m.length,totalCount:f.count,sampleItems:m.slice(0,3).map(y=>({id:y.id,property_number:y.property_number,assignment_status:y.assignment_status,custodian:y.custodian,sub_category:y.sub_category}))});const p=o==="available"?m.length:f.count||0,x=Math.ceil(p/r);let g=new Set;if(m.length>0){const y=m.map(v=>v.id);for(let v=0;v<y.length;v+=100){const b=y.slice(v,v+100),{data:N}=await re.from("property_cards").select("inventory_item_id").in("inventory_item_id",b);N&&N.forEach(j=>g.add(j.inventory_item_id))}}const w=m.map(y=>({id:y.id,propertyNumber:y.property_number,description:y.description||(y.model?`${y.brand?y.brand+" ":""}${y.model}`:y.brand)||"",brand:y.brand||"",model:y.model||"",serialNumber:y.serial_number||"",unitOfMeasure:y.unit_of_measure,quantity:y.quantity,unitCost:y.unit_cost,totalCost:y.total_cost,dateAcquired:y.date_acquired,supplier:y.supplier_id||"",condition:y.condition,fundSource:y.fund_source_id||"",remarks:y.remarks||"",lastInventoryDate:y.last_inventory_date||"",semiExpandableCategory:y.semi_expandable_category||void 0,subCategory:y.sub_category||void 0,entityName:y.entity_name||void 0,status:y.status,custodian:y.custodian||"",custodianPosition:y.custodian_position||"",assignmentStatus:y.assignment_status||"Available",assignedDate:y.assigned_date||"",hasPropertyCard:g.has(y.id),createdAt:y.created_at,updatedAt:y.updated_at}));return console.log("Transformed data sample:",{totalItems:w.length,spHVItems:w.filter(y=>{var v;return(v=y.propertyNumber)==null?void 0:v.startsWith("SPHV")}),spLVItems:w.filter(y=>{var v;return(v=y.propertyNumber)==null?void 0:v.startsWith("SPLV")}),sampleTransformed:w.slice(0,3).map(y=>({propertyNumber:y.propertyNumber,subCategory:y.subCategory}))}),{data:w,pagination:{page:t,limit:r,total:p,totalPages:x},success:!0}},async getById(e){const t=await re.from("inventory_items").select("*").eq("id",e).single();return t.error?{data:null,error:t.error.message,success:!1}:{data:{id:t.data.id,propertyNumber:t.data.property_number,description:t.data.description||(t.data.model?`${t.data.brand?t.data.brand+" ":""}${t.data.model}`:t.data.brand)||"",brand:t.data.brand||"",model:t.data.model||"",serialNumber:t.data.serial_number||"",unitOfMeasure:t.data.unit_of_measure,quantity:t.data.quantity,unitCost:t.data.unit_cost,totalCost:t.data.total_cost,dateAcquired:t.data.date_acquired,supplier:t.data.supplier_id||"",condition:t.data.condition,fundSource:t.data.fund_source_id||"",remarks:t.data.remarks||"",lastInventoryDate:t.data.last_inventory_date||"",semiExpandableCategory:t.data.semi_expandable_category||void 0,subCategory:t.data.sub_category||void 0,entityName:t.data.entity_name||void 0,status:t.data.status,custodian:t.data.custodian||"",custodianPosition:t.data.custodian_position||"",assignmentStatus:t.data.assignment_status||"Available",assignedDate:t.data.assigned_date||"",createdAt:t.data.created_at,updatedAt:t.data.updated_at},error:null,success:!0}},async create(e){if(console.log("Creating inventory item with data:",e),!navigator.onLine)return await Ss("inventory.create",{item:e}),{data:{id:`temp-${Date.now()}`,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},error:null,success:!0};if(e.propertyNumber){const{data:a,error:i}=await re.from("inventory_items").select("id, property_number").eq("property_number",e.propertyNumber).limit(1);if(i)return console.error("Error checking for duplicate property number:",i),{data:null,error:"Failed to validate property number uniqueness",success:!1};if(a&&a.length>0)return console.error("Duplicate property number detected:",e.propertyNumber),{data:null,error:`Property number ${e.propertyNumber} already exists. Please generate a new property number.`,success:!1}}const t={property_number:e.propertyNumber,description:e.description,brand:e.brand,model:e.model,serial_number:e.serialNumber,unit_of_measure:e.unitOfMeasure,quantity:e.quantity,unit_cost:e.unitCost,total_cost:e.totalCost,date_acquired:e.dateAcquired,supplier_id:e.supplier||null,condition:e.condition,fund_source_id:e.fundSource||null,remarks:e.remarks,last_inventory_date:e.lastInventoryDate,category:"Semi-Expendable",status:e.status,estimated_useful_life_override:e.estimatedUsefulLifeOverride};e.subCategory&&(t.sub_category=e.subCategory),e.entityName&&(t.entity_name=e.entityName),e.semiExpandableCategory&&(t.semi_expandable_category=e.semiExpandableCategory),console.log("Inserting data:",t);const r=await re.from("inventory_items").insert(t).select().single();return console.log("Supabase response:",r),r.error?(console.error("Error creating inventory item:",r.error),{data:null,error:r.error.message,success:!1}):{data:{id:r.data.id,propertyNumber:r.data.property_number,description:r.data.description||(r.data.model?`${r.data.brand?r.data.brand+" ":""}${r.data.model}`:r.data.brand)||"",brand:r.data.brand||"",model:r.data.model||"",serialNumber:r.data.serial_number||"",unitOfMeasure:r.data.unit_of_measure,quantity:r.data.quantity,unitCost:r.data.unit_cost,totalCost:r.data.total_cost,dateAcquired:r.data.date_acquired,supplier:r.data.supplier_id||"",condition:r.data.condition,semiExpandableCategory:r.data.semi_expandable_category||void 0,subCategory:r.data.sub_category,entityName:r.data.entity_name,fundSource:r.data.fund_source_id||"",remarks:r.data.remarks||"",lastInventoryDate:r.data.last_inventory_date||"",status:r.data.status,estimatedUsefulLife:r.data.estimated_useful_life,estimatedUsefulLifeOverride:r.data.estimated_useful_life_override,custodian:r.data.custodian||"",custodianPosition:r.data.custodian_position||"",assignmentStatus:r.data.assignment_status||"Available",assignedDate:r.data.assigned_date||"",createdAt:r.data.created_at,updatedAt:r.data.updated_at},error:null,success:!0}},async update(e,t){if(!navigator.onLine)return await Ss("inventory.update",{id:e,updates:t}),{data:{...t,id:e},error:null,success:!0};const r={};t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.brand&&(r.brand=t.brand),t.model&&(r.model=t.model),t.serialNumber&&(r.serial_number=t.serialNumber),t.unitOfMeasure&&(r.unit_of_measure=t.unitOfMeasure),t.quantity!==void 0&&(r.quantity=t.quantity),t.unitCost!==void 0&&(r.unit_cost=t.unitCost),t.totalCost!==void 0&&(r.total_cost=t.totalCost),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.supplier&&(r.supplier_id=t.supplier),t.condition&&(r.condition=t.condition),t.semiExpandableCategory!==void 0&&(r.semi_expandable_category=t.semiExpandableCategory||null),t.subCategory&&(r.sub_category=t.subCategory),t.entityName&&(r.entity_name=t.entityName),t.fundSource&&(r.fund_source_id=t.fundSource),t.remarks&&(r.remarks=t.remarks),t.lastInventoryDate&&(r.last_inventory_date=t.lastInventoryDate),t.status&&(r.status=t.status),t.estimatedUsefulLifeOverride!==void 0&&(r.estimated_useful_life_override=t.estimatedUsefulLifeOverride);const n=await re.from("inventory_items").update(r).eq("id",e).select().single();return n.error?{data:null,error:n.error.message,success:!1}:{data:{id:n.data.id,propertyNumber:n.data.property_number,description:n.data.description||(n.data.model?`${n.data.brand?n.data.brand+" ":""}${n.data.model}`:n.data.brand)||"",brand:n.data.brand||"",model:n.data.model||"",serialNumber:n.data.serial_number||"",unitOfMeasure:n.data.unit_of_measure,quantity:n.data.quantity,unitCost:n.data.unit_cost,totalCost:n.data.total_cost,dateAcquired:n.data.date_acquired,supplier:n.data.supplier_id||"",condition:n.data.condition,semiExpandableCategory:n.data.semi_expandable_category||void 0,subCategory:n.data.sub_category,entityName:n.data.entity_name,fundSource:n.data.fund_source_id||"",remarks:n.data.remarks||"",lastInventoryDate:n.data.last_inventory_date||"",status:n.data.status,estimatedUsefulLife:n.data.estimated_useful_life,estimatedUsefulLifeOverride:n.data.estimated_useful_life_override,custodian:n.data.custodian||"",custodianPosition:n.data.custodian_position||"",assignmentStatus:n.data.assignment_status||"Available",assignedDate:n.data.assigned_date||"",createdAt:n.data.created_at,updatedAt:n.data.updated_at},error:null,success:!0}},async delete(e){if(!navigator.onLine)return await Ss("inventory.delete",{id:e}),{data:null,error:null,success:!0};const{data:t,error:r}=await re.from("inventory_items").select("id, assignment_status, custodian").eq("id",e).single();if(r)return{data:null,error:r.message||"Failed to fetch item details",success:!1};if(t.assignment_status==="Assigned"||t.custodian&&t.custodian.trim()!=="")return{data:null,error:`This inventory item cannot be deleted because it is currently assigned to ${t.custodian||"a custodian"}. Please unassign the item from the custodian first before deleting.`,success:!1};const{data:a,error:i}=await re.rpc("safe_delete_inventory_item",{item_id:e});return i?i.message.includes("function")&&i.message.includes("does not exist")?{data:null,error:"Safe deletion function not found. Please run the database setup script first.",success:!1}:i.message.includes("Cannot delete inventory item")?{data:null,error:"This inventory item cannot be deleted because it is assigned to custodian slips or has property card entries.",success:!1}:{data:null,error:i.message,success:!1}:{data:a,error:null,success:!0}},async search(e,t={}){return this.getAll({...t,search:e})}};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}var ya;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ya||(ya={}));const Wb="popstate";function ZL(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=Bi(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Qp("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:zu(i))}function n(a,i){Lv(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tF(t,r,n,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eF(){return Math.random().toString(36).substr(2,8)}function Hb(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,r,n){return r===void 0&&(r=null),Ec({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bi(t):t,{state:r,key:t&&t.key||n||eF()})}function zu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tF(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ya.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ec({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=ya.Pop;let w=u(),y=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:y})}function m(w,y){l=ya.Push;let v=Qp(g.location,w,y);r&&r(v,w),d=u()+1;let b=Hb(v,d),N=g.createHref(v);try{o.pushState(b,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function p(w,y){l=ya.Replace;let v=Qp(g.location,w,y);r&&r(v,w),d=u();let b=Hb(v,d),N=g.createHref(v);o.replaceState(b,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof w=="string"?w:zu(w);return v=v.replace(/ $/,"%20"),Dt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Wb,f),c=w,()=>{a.removeEventListener(Wb,f),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var Kb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kb||(Kb={}));function rF(e,t,r){return r===void 0&&(r="/"),nF(e,t,r,!1)}function nF(e,t,r,n){let a=typeof t=="string"?Bi(t):t,i=Fv(a.pathname||"/",r);if(i==null)return null;let o=hS(e);sF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=pF(i);l=hF(o[c],d,n)}return l}function hS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Pa([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),hS(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:uF(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of mS(i.path))a(i,o,c)}),t}function mS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=mS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aF=/^:[\w-]+$/,iF=3,oF=2,lF=1,cF=10,dF=-2,Qb=e=>e==="*";function uF(e,t){let r=e.split("/"),n=r.length;return r.some(Qb)&&(n+=dF),t&&(n+=oF),r.filter(a=>!Qb(a)).reduce((a,i)=>a+(aF.test(i)?iF:i===""?lF:cF),n)}function fF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function hF(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Gb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Gb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Pa([i,f.pathname]),pathnameBase:xF(Pa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Pa([i,f.pathnameBase]))}return o}function Gb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mF(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function mF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Lv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bi(e):e;return{pathname:r?r.startsWith("/")?r:vF(r,t):t,search:bF(n),hash:wF(a)}}function vF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function tm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $v(e,t){let r=yF(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Uv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Bi(e):(a=Ec({},e),Dt(!a.pathname||!a.pathname.includes("?"),tm("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),tm("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),tm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=gF(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Pa=e=>e.join("/").replace(/\/\/+/g,"/"),xF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pS=["post","put","patch","delete"];new Set(pS);const NF=["get",...pS];new Set(NF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}const qv=h.createContext(null),_F=h.createContext(null),Wa=h.createContext(null),Lf=h.createContext(null),Ha=h.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=h.createContext(null);function SF(e,t){let{relative:r}=t===void 0?{}:t;hl()||Dt(!1);let{basename:n,navigator:a}=h.useContext(Wa),{hash:i,pathname:o,search:l}=yS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Pa([n,o])),a.createHref({pathname:c,search:l,hash:i})}function hl(){return h.useContext(Lf)!=null}function Vn(){return hl()||Dt(!1),h.useContext(Lf).location}function vS(e){h.useContext(Wa).static||h.useLayoutEffect(e)}function zn(){let{isDataRoute:e}=h.useContext(Ha);return e?FF():CF()}function CF(){hl()||Dt(!1);let e=h.useContext(qv),{basename:t,future:r,navigator:n}=h.useContext(Wa),{matches:a}=h.useContext(Ha),{pathname:i}=Vn(),o=JSON.stringify($v(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return vS(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Uv(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pa([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function yS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Wa),{matches:a}=h.useContext(Ha),{pathname:i}=Vn(),o=JSON.stringify($v(a,n.v7_relativeSplatPath));return h.useMemo(()=>Uv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function EF(e,t){return kF(e,t)}function kF(e,t,r,n){hl()||Dt(!1);let{navigator:a}=h.useContext(Wa),{matches:i}=h.useContext(Ha),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Vn(),u;if(t){var f;let w=typeof t=="string"?Bi(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Dt(!1),u=w}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=rF(e,{pathname:p}),g=IF(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Pa([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Pa([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?h.createElement(Lf.Provider,{value:{location:kc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ya.Pop}},g):g}function PF(){let e=LF(),t=jF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const TF=h.createElement(PF,null);class AF extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Ha.Provider,{value:this.props.routeContext},h.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RF(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(qv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Ha.Provider,{value:t},n)}function IF(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Dt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let p,x=!1,g=null,w=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||TF,c&&(d<0&&m===0?(x=!0,w=null):d===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),v=()=>{let b;return p?b=g:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,h.createElement(RF,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(AF,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var xS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xS||{}),Wu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wu||{});function OF(e){let t=h.useContext(qv);return t||Dt(!1),t}function DF(e){let t=h.useContext(_F);return t||Dt(!1),t}function MF(e){let t=h.useContext(Ha);return t||Dt(!1),t}function bS(e){let t=MF(),r=t.matches[t.matches.length-1];return r.route.id||Dt(!1),r.route.id}function LF(){var e;let t=h.useContext(gS),r=DF(Wu.UseRouteError),n=bS(Wu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function FF(){let{router:e}=OF(xS.UseNavigateStable),t=bS(Wu.UseNavigateStable),r=h.useRef(!1);return vS(()=>{r.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,kc({fromRouteId:t},i)))},[e,t])}function $F(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Yb(e){let{to:t,replace:r,state:n,relative:a}=e;hl()||Dt(!1);let{future:i,static:o}=h.useContext(Wa),{matches:l}=h.useContext(Ha),{pathname:c}=Vn(),d=zn(),u=Uv(t,$v(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function fr(e){Dt(!1)}function UF(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ya.Pop,navigator:i,static:o=!1,future:l}=e;hl()&&Dt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:kc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Bi(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,g=h.useMemo(()=>{let w=Fv(u,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:x},navigationType:a}},[c,u,f,m,p,x,a]);return g==null?null:h.createElement(Wa.Provider,{value:d},h.createElement(Lf.Provider,{children:r,value:g}))}function qF(e){let{children:t,location:r}=e;return EF(Gp(t),r)}new Promise(()=>{});function Gp(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){r.push.apply(r,Gp(n.props.children,i));return}n.type!==fr&&Dt(!1),!n.props.index||!n.props.children||Dt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(this,arguments)}function BF(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function VF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zF(e,t){return e.button===0&&(!t||t==="_self")&&!VF(e)}function Xp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function WF(e,t){let r=Xp(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const HF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KF="6";try{window.__reactRouterVersion=KF}catch{}const QF="startTransition",Xb=xg[QF];function GF(e){let{basename:t,children:r,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=ZL({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&Xb?Xb(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>$F(n),[n]),h.createElement(UF,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const YF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JF=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=BF(t,HF),{basename:p}=h.useContext(Wa),x,g=!1;if(typeof d=="string"&&XF.test(d)&&(x=d,YF))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=Fv(N.pathname,p);N.origin===b.origin&&j!=null?d=j+N.search+N.hash:g=!0}catch{}let w=SF(d,{relative:a}),y=ZF(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||y(b)}return h.createElement("a",Yp({},m,{href:x||w,onClick:g||i?n:v,ref:r,target:c}))});var Jb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jb||(Jb={}));var Zb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zb||(Zb={}));function ZF(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=zn(),d=Vn(),u=yS(e,{relative:o});return h.useCallback(f=>{if(zF(f,r)){f.preventDefault();let m=n!==void 0?n:zu(d)===zu(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function e4(e){let t=h.useRef(Xp(e)),r=h.useRef(!1),n=Vn(),a=h.useMemo(()=>WF(n.search,r.current?null:t.current),[n.search]),i=zn(),o=h.useCallback((l,c)=>{const d=Xp(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const Bv=Vc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?D2:"button";return s.jsx(o,{className:Ee(Bv({variant:t,size:r,className:e})),ref:i,...a})});ue.displayName="Button";var t4=h.createContext(void 0);function Yc(e){const t=h.useContext(t4);return e||t||"ltr"}var rm=0;function Ff(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??e0()),document.body.insertAdjacentElement("beforeend",e[1]??e0()),rm++,()=>{rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rm--}},[])}function e0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",t0={bubbles:!1,cancelable:!0},r4="FocusScope",Xc=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Ot(a),u=Ot(i),f=h.useRef(null),m=ze(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const N=b.target;l.contains(N)?f.current=N:ea(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||ea(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&ea(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){n0.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(nm,t0);l.addEventListener(nm,d),l.dispatchEvent(y),y.defaultPrevented||(n4(l4(wS(l)),{select:!0}),document.activeElement===g&&ea(l))}return()=>{l.removeEventListener(nm,d),setTimeout(()=>{const y=new CustomEvent(sm,t0);l.addEventListener(sm,u),l.dispatchEvent(y),y.defaultPrevented||ea(g??document.body,{select:!0}),l.removeEventListener(sm,u),n0.remove(p)},0)}}},[l,d,u,p]);const x=h.useCallback(g=>{if(!r&&!n||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,N]=s4(v);b&&N?!g.shiftKey&&y===N?(g.preventDefault(),r&&ea(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&ea(N,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(De.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Xc.displayName=r4;function n4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ea(n,{select:t}),document.activeElement!==r)return}function s4(e){const t=wS(e),r=r0(t,e),n=r0(t.reverse(),e);return[r,n]}function wS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function r0(e,t){for(const r of e)if(!a4(r,{upTo:t}))return r}function a4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function i4(e){return e instanceof HTMLInputElement&&"select"in e}function ea(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&i4(e)&&t&&e.select()}}var n0=o4();function o4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=s0(e,t),e.unshift(t)},remove(t){var r;e=s0(e,t),(r=e[0])==null||r.resume()}}}function s0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function l4(e){return e.filter(t=>t.tagName!=="A")}var am="rovingFocusGroup.onEntryFocus",c4={bubbles:!1,cancelable:!0},Jc="RovingFocusGroup",[Jp,jS,d4]=bf(Jc),[u4,$f]=kr(Jc,[d4]),[f4,h4]=u4(Jc),NS=h.forwardRef((e,t)=>s.jsx(Jp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Jp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(m4,{...e,ref:t})})}));NS.displayName=Jc;var m4=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=ze(t,m),x=Yc(i),[g,w]=qs({prop:o,defaultProp:l??null,onChange:c,caller:Jc}),[y,v]=h.useState(!1),b=Ot(d),N=jS(r),j=h.useRef(!1),[E,k]=h.useState(0);return h.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(am,b),()=>D.removeEventListener(am,b)},[b]),s.jsx(f4,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(D=>w(D),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:h.useCallback(()=>k(D=>D-1),[]),children:s.jsx(De.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{j.current=!0}),onFocus:Ne(e.onFocus,D=>{const z=!j.current;if(D.target===D.currentTarget&&z&&!y){const F=new CustomEvent(am,c4);if(D.currentTarget.dispatchEvent(F),!F.defaultPrevented){const I=N().filter(A=>A.focusable),q=I.find(A=>A.active),X=I.find(A=>A.id===g),_=[q,X,...I].filter(Boolean).map(A=>A.ref.current);CS(_,u)}}j.current=!1}),onBlur:Ne(e.onBlur,()=>v(!1))})})}),_S="RovingFocusGroupItem",SS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=lr(),d=i||c,u=h4(_S,r),f=u.currentTabStopId===d,m=jS(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),s.jsx(Jp.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(De.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:Ne(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ne(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=v4(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=m().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const N=b.indexOf(w.currentTarget);b=u.loop?y4(b,N+1):b.slice(N+1)}setTimeout(()=>CS(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});SS.displayName=_S;var p4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function v4(e,t,r){const n=g4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return p4[n]}function CS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function y4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ES=NS,kS=SS,x4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ji=new WeakMap,Md=new WeakMap,Ld={},im=0,PS=function(e){return e&&(e.host||PS(e.parentNode))},b4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=PS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},w4=function(e,t,r,n){var a=b4(t,Array.isArray(e)?e:[e]);Ld[r]||(Ld[r]=new WeakMap);var i=Ld[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),x=p!==null&&p!=="false",g=(Ji.get(m)||0)+1,w=(i.get(m)||0)+1;Ji.set(m,g),i.set(m,w),o.push(m),g===1&&x&&Md.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),im++,function(){o.forEach(function(f){var m=Ji.get(f)-1,p=i.get(f)-1;Ji.set(f,m),i.set(f,p),m||(Md.has(f)||f.removeAttribute(n),Md.delete(f)),p||f.removeAttribute(r)}),im--,im||(Ji=new WeakMap,Ji=new WeakMap,Md=new WeakMap,Ld={})}},Uf=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=x4(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),w4(n,a,r,"aria-hidden")):function(){return null}},ss=function(){return ss=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ss.apply(this,arguments)};function TS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function j4(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var iu="right-scroll-bar-position",ou="width-before-scroll-bar",N4="with-scroll-bars-hidden",_4="--removed-body-scroll-bar-size";function om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function S4(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var C4=typeof window<"u"?h.useLayoutEffect:h.useEffect,a0=new WeakMap;function E4(e,t){var r=S4(null,function(n){return e.forEach(function(a){return om(a,n)})});return C4(function(){var n=a0.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||om(l,null)}),i.forEach(function(l){a.has(l)||om(l,o)})}a0.set(r,e)},[e]),r}function k4(e){return e}function P4(e,t){t===void 0&&(t=k4);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function T4(e){e===void 0&&(e={});var t=P4(null);return t.options=ss({async:!0,ssr:!1},e),t}var AS=function(e){var t=e.sideCar,r=TS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,ss({},r))};AS.isSideCarExport=!0;function A4(e,t){return e.useMedium(t),AS}var RS=T4(),lm=function(){},qf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,N=TS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,E=E4([r,t]),k=ss(ss({},N),a);return h.createElement(h.Fragment,null,u&&h.createElement(j,{sideCar:RS,removeScrollBar:d,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?h.cloneElement(h.Children.only(l),ss(ss({},k),{ref:E})):h.createElement(v,ss({},k,{className:c,ref:E}),l))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:ou,zeroRight:iu};var R4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=R4();return t&&e.setAttribute("nonce",t),e}function O4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function D4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var M4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=I4())&&(O4(t,r),D4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},L4=function(){var e=M4();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},IS=function(){var e=L4(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},F4={left:0,top:0,right:0,gap:0},cm=function(e){return parseInt(e||"",10)||0},$4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[cm(r),cm(n),cm(a)]},U4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F4;var t=$4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},q4=IS(),Po="data-scroll-locked",B4=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(N4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Po,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ou,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Po,`] {
    `).concat(_4,": ").concat(l,`px;
  }
`)},i0=function(){var e=parseInt(document.body.getAttribute(Po)||"0",10);return isFinite(e)?e:0},V4=function(){h.useEffect(function(){return document.body.setAttribute(Po,(i0()+1).toString()),function(){var e=i0()-1;e<=0?document.body.removeAttribute(Po):document.body.setAttribute(Po,e.toString())}},[])},z4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;V4();var i=h.useMemo(function(){return U4(a)},[a]);return h.createElement(q4,{styles:B4(i,!t,a,r?"":"!important")})},Zp=!1;if(typeof window<"u")try{var Fd=Object.defineProperty({},"passive",{get:function(){return Zp=!0,!0}});window.addEventListener("test",Fd,Fd),window.removeEventListener("test",Fd,Fd)}catch{Zp=!1}var Zi=Zp?{passive:!1}:!1,W4=function(e){return e.tagName==="TEXTAREA"},OS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!W4(e)&&r[t]==="visible")},H4=function(e){return OS(e,"overflowY")},K4=function(e){return OS(e,"overflowX")},o0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=DS(e,n);if(a){var i=MS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Q4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},G4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},DS=function(e,t){return e==="v"?H4(t):K4(t)},MS=function(e,t){return e==="v"?Q4(t):G4(t)},Y4=function(e,t){return e==="h"&&t==="rtl"?-1:1},X4=function(e,t,r,n,a){var i=Y4(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{if(!l)break;var p=MS(e,l),x=p[0],g=p[1],w=p[2],y=g-w-i*x;(x||y)&&DS(e,l)&&(f+=y,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},$d=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},l0=function(e){return[e.deltaX,e.deltaY]},c0=function(e){return e&&"current"in e?e.current:e},J4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Z4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},e$=0,eo=[];function t$(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(e$++)[0],i=h.useState(IS)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=j4([e.lockRef.current],(e.shards||[]).map(c0),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=$d(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],N="deltaY"in g?g.deltaY:v[1]-y[1],j,E=g.target,k=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in g&&k==="h"&&E.type==="range")return!1;var D=o0(k,E);if(!D)return!0;if(D?j=k:(j=k==="v"?"h":"v",D=o0(k,E)),!D)return!1;if(!n.current&&"changedTouches"in g&&(b||N)&&(n.current=j),!j)return!0;var z=n.current||j;return X4(z,w,g,z==="h"?b:N,!0)},[]),c=h.useCallback(function(g){var w=g;if(!(!eo.length||eo[eo.length-1]!==i)){var y="deltaY"in w?l0(w):$d(w),v=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&J4(j.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(c0).filter(Boolean).filter(function(j){return j.contains(w.target)}),N=b.length>0?l(w,b[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:r$(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),u=h.useCallback(function(g){r.current=$d(g),n.current=void 0},[]),f=h.useCallback(function(g){d(g.type,l0(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,$d(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return eo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Zi),document.addEventListener("touchmove",c,Zi),document.addEventListener("touchstart",u,Zi),function(){eo=eo.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Zi),document.removeEventListener("touchmove",c,Zi),document.removeEventListener("touchstart",u,Zi)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(i,{styles:Z4(a)}):null,p?h.createElement(z4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function r$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const n$=A4(RS,t$);var Zc=h.forwardRef(function(e,t){return h.createElement(qf,ss({},e,{ref:t,sideCar:n$}))});Zc.classNames=qf.classNames;var eg=["Enter"," "],s$=["ArrowDown","PageUp","Home"],LS=["ArrowUp","PageDown","End"],a$=[...s$,...LS],i$={ltr:[...eg,"ArrowRight"],rtl:[...eg,"ArrowLeft"]},o$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ed="Menu",[Pc,l$,c$]=bf(ed),[Vi,FS]=kr(ed,[c$,Ba,$f]),Bf=Ba(),$S=$f(),[d$,zi]=Vi(ed),[u$,td]=Vi(ed),US=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Bf(t),[c,d]=h.useState(null),u=h.useRef(!1),f=Ot(i),m=Yc(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(Cv,{...l,children:s.jsx(d$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(u$,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};US.displayName=ed;var f$="MenuAnchor",Vv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Bf(r);return s.jsx(Hc,{...a,...n,ref:t})});Vv.displayName=f$;var zv="MenuPortal",[h$,qS]=Vi(zv,{forceMount:void 0}),BS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=zi(zv,t);return s.jsx(h$,{scope:t,forceMount:r,children:s.jsx(sr,{present:r||i.open,children:s.jsx(il,{asChild:!0,container:a,children:n})})})};BS.displayName=zv;var yn="MenuContent",[m$,Wv]=Vi(yn),VS=h.forwardRef((e,t)=>{const r=qS(yn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=zi(yn,e.__scopeMenu),o=td(yn,e.__scopeMenu);return s.jsx(Pc.Provider,{scope:e.__scopeMenu,children:s.jsx(sr,{present:n||i.open,children:s.jsx(Pc.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(p$,{...a,ref:t}):s.jsx(g$,{...a,ref:t})})})})}),p$=h.forwardRef((e,t)=>{const r=zi(yn,e.__scopeMenu),n=h.useRef(null),a=ze(t,n);return h.useEffect(()=>{const i=n.current;if(i)return Uf(i)},[]),s.jsx(Hv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),g$=h.forwardRef((e,t)=>{const r=zi(yn,e.__scopeMenu);return s.jsx(Hv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),v$=Ia("MenuContent.ScrollLock"),Hv=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=zi(yn,r),y=td(yn,r),v=Bf(r),b=$S(r),N=l$(r),[j,E]=h.useState(null),k=h.useRef(null),D=ze(t,k,w.onContentChange),z=h.useRef(0),F=h.useRef(""),I=h.useRef(0),q=h.useRef(null),X=h.useRef("right"),S=h.useRef(0),_=x?Zc:h.Fragment,A=x?{as:v$,allowPinchZoom:!0}:void 0,te=U=>{var ne,R;const ae=F.current+U,ve=N().filter(J=>!J.disabled),B=document.activeElement,O=(ne=ve.find(J=>J.ref.current===B))==null?void 0:ne.textValue,G=ve.map(J=>J.textValue),Q=P$(G,ae,O),ie=(R=ve.find(J=>J.textValue===Q))==null?void 0:R.ref.current;(function J(ce){F.current=ce,window.clearTimeout(z.current),ce!==""&&(z.current=window.setTimeout(()=>J(""),1e3))})(ae),ie&&setTimeout(()=>ie.focus())};h.useEffect(()=>()=>window.clearTimeout(z.current),[]),Ff();const W=h.useCallback(U=>{var ve,B;return X.current===((ve=q.current)==null?void 0:ve.side)&&A$(U,(B=q.current)==null?void 0:B.area)},[]);return s.jsx(m$,{scope:r,searchRef:F,onItemEnter:h.useCallback(U=>{W(U)&&U.preventDefault()},[W]),onItemLeave:h.useCallback(U=>{var ae;W(U)||((ae=k.current)==null||ae.focus(),E(null))},[W]),onTriggerLeave:h.useCallback(U=>{W(U)&&U.preventDefault()},[W]),pointerGraceTimerRef:I,onPointerGraceIntentChange:h.useCallback(U=>{q.current=U},[]),children:s.jsx(_,{...A,children:s.jsx(Xc,{asChild:!0,trapped:a,onMountAutoFocus:Ne(i,U=>{var ae;U.preventDefault(),(ae=k.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Ui,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(ES,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:E,onEntryFocus:Ne(c,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ef,{role:"menu","aria-orientation":"vertical","data-state":aC(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:Ne(g.onKeyDown,U=>{const ve=U.target.closest("[data-radix-menu-content]")===U.currentTarget,B=U.ctrlKey||U.altKey||U.metaKey,O=U.key.length===1;ve&&(U.key==="Tab"&&U.preventDefault(),!B&&O&&te(U.key));const G=k.current;if(U.target!==G||!a$.includes(U.key))return;U.preventDefault();const ie=N().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);LS.includes(U.key)&&ie.reverse(),E$(ie)}),onBlur:Ne(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(z.current),F.current="")}),onPointerMove:Ne(e.onPointerMove,Tc(U=>{const ae=U.target,ve=S.current!==U.clientX;if(U.currentTarget.contains(ae)&&ve){const B=U.clientX>S.current?"right":"left";X.current=B,S.current=U.clientX}}))})})})})})})});VS.displayName=yn;var y$="MenuGroup",Kv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(De.div,{role:"group",...n,ref:t})});Kv.displayName=y$;var x$="MenuLabel",zS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(De.div,{...n,ref:t})});zS.displayName=x$;var Hu="MenuItem",d0="menu.itemSelect",Vf=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=h.useRef(null),o=td(Hu,e.__scopeMenu),l=Wv(Hu,e.__scopeMenu),c=ze(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(d0,{bubbles:!0,cancelable:!0});f.addEventListener(d0,p=>n==null?void 0:n(p),{once:!0}),dv(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(WS,{...a,ref:c,disabled:r,onClick:Ne(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||eg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Vf.displayName=Hu;var WS=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Wv(Hu,r),l=$S(r),c=h.useRef(null),d=ze(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),s.jsx(Pc.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(kS,{asChild:!0,...l,focusable:!n,children:s.jsx(De.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Ne(e.onPointerMove,Tc(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Tc(x=>o.onItemLeave(x))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),b$="MenuCheckboxItem",HS=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(XS,{scope:e.__scopeMenu,checked:r,children:s.jsx(Vf,{role:"menuitemcheckbox","aria-checked":Ku(r)?"mixed":r,...a,ref:t,"data-state":Gv(r),onSelect:Ne(a.onSelect,()=>n==null?void 0:n(Ku(r)?!0:!r),{checkForDefaultPrevented:!1})})})});HS.displayName=b$;var KS="MenuRadioGroup",[w$,j$]=Vi(KS,{value:void 0,onValueChange:()=>{}}),QS=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ot(n);return s.jsx(w$,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(Kv,{...a,ref:t})})});QS.displayName=KS;var GS="MenuRadioItem",YS=h.forwardRef((e,t)=>{const{value:r,...n}=e,a=j$(GS,e.__scopeMenu),i=r===a.value;return s.jsx(XS,{scope:e.__scopeMenu,checked:i,children:s.jsx(Vf,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Gv(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});YS.displayName=GS;var Qv="MenuItemIndicator",[XS,N$]=Vi(Qv,{checked:!1}),JS=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=N$(Qv,r);return s.jsx(sr,{present:n||Ku(i.checked)||i.checked===!0,children:s.jsx(De.span,{...a,ref:t,"data-state":Gv(i.checked)})})});JS.displayName=Qv;var _$="MenuSeparator",ZS=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ZS.displayName=_$;var S$="MenuArrow",eC=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Bf(r);return s.jsx(kf,{...a,...n,ref:t})});eC.displayName=S$;var C$="MenuSub",[bV,tC]=Vi(C$),ql="MenuSubTrigger",rC=h.forwardRef((e,t)=>{const r=zi(ql,e.__scopeMenu),n=td(ql,e.__scopeMenu),a=tC(ql,e.__scopeMenu),i=Wv(ql,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Vv,{asChild:!0,...d,children:s.jsx(WS,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":aC(r.open),...e,ref:Us(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Tc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ne(e.onPointerLeave,Tc(f=>{var p,x;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,v=m[w?"left":"right"],b=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||i$[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});rC.displayName=ql;var nC="MenuSubContent",sC=h.forwardRef((e,t)=>{const r=qS(yn,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=zi(yn,e.__scopeMenu),o=td(yn,e.__scopeMenu),l=tC(nC,e.__scopeMenu),c=h.useRef(null),d=ze(t,c);return s.jsx(Pc.Provider,{scope:e.__scopeMenu,children:s.jsx(sr,{present:n||i.open,children:s.jsx(Pc.Slot,{scope:e.__scopeMenu,children:s.jsx(Hv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ne(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=o$[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});sC.displayName=nC;function aC(e){return e?"open":"closed"}function Ku(e){return e==="indeterminate"}function Gv(e){return Ku(e)?"indeterminate":e?"checked":"unchecked"}function E$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function k$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function P$(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=k$(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function T$(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,m=c.y;u>n!=m>n&&r<(f-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function A$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return T$(r,t)}function Tc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var R$=US,I$=Vv,O$=BS,D$=VS,M$=Kv,L$=zS,F$=Vf,$$=HS,U$=QS,q$=YS,B$=JS,V$=ZS,z$=eC,W$=rC,H$=sC,zf="DropdownMenu",[K$,wV]=kr(zf,[FS]),Pr=FS(),[Q$,iC]=K$(zf),oC=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Pr(t),d=h.useRef(null),[u,f]=qs({prop:a,defaultProp:i??!1,onChange:o,caller:zf});return s.jsx(Q$,{scope:t,triggerId:lr(),triggerRef:d,contentId:lr(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(R$,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};oC.displayName=zf;var lC="DropdownMenuTrigger",cC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=iC(lC,r),o=Pr(r);return s.jsx(I$,{asChild:!0,...o,children:s.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Us(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});cC.displayName=lC;var G$="DropdownMenuPortal",dC=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Pr(t);return s.jsx(O$,{...n,...r})};dC.displayName=G$;var uC="DropdownMenuContent",fC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=iC(uC,r),i=Pr(r),o=h.useRef(!1);return s.jsx(D$,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fC.displayName=uC;var Y$="DropdownMenuGroup",X$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(M$,{...a,...n,ref:t})});X$.displayName=Y$;var J$="DropdownMenuLabel",hC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(L$,{...a,...n,ref:t})});hC.displayName=J$;var Z$="DropdownMenuItem",mC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(F$,{...a,...n,ref:t})});mC.displayName=Z$;var e3="DropdownMenuCheckboxItem",pC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx($$,{...a,...n,ref:t})});pC.displayName=e3;var t3="DropdownMenuRadioGroup",r3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(U$,{...a,...n,ref:t})});r3.displayName=t3;var n3="DropdownMenuRadioItem",gC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(q$,{...a,...n,ref:t})});gC.displayName=n3;var s3="DropdownMenuItemIndicator",vC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(B$,{...a,...n,ref:t})});vC.displayName=s3;var a3="DropdownMenuSeparator",yC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(V$,{...a,...n,ref:t})});yC.displayName=a3;var i3="DropdownMenuArrow",o3=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(z$,{...a,...n,ref:t})});o3.displayName=i3;var l3="DropdownMenuSubTrigger",xC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(W$,{...a,...n,ref:t})});xC.displayName=l3;var c3="DropdownMenuSubContent",bC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pr(r);return s.jsx(H$,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bC.displayName=c3;var d3=oC,u3=cC,f3=dC,wC=fC,jC=hC,NC=mC,_C=pC,SC=gC,CC=vC,EC=yC,kC=xC,PC=bC;const h3=d3,m3=u3,p3=h.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(kC,{ref:a,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(LN,{className:"ml-auto h-4 w-4"})]}));p3.displayName=kC.displayName;const g3=h.forwardRef(({className:e,...t},r)=>s.jsx(PC,{ref:r,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));g3.displayName=PC.displayName;const TC=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(f3,{children:s.jsx(wC,{ref:n,sideOffset:t,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));TC.displayName=wC.displayName;const lu=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(NC,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));lu.displayName=NC.displayName;const v3=h.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(_C,{ref:a,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CC,{children:s.jsx(Bs,{className:"h-4 w-4"})})}),t]}));v3.displayName=_C.displayName;const y3=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(SC,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CC,{children:s.jsx(TA,{className:"h-2 w-2 fill-current"})})}),t]}));y3.displayName=SC.displayName;const AC=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(jC,{ref:n,className:Ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));AC.displayName=jC.displayName;const RC=h.forwardRef(({className:e,...t},r)=>s.jsx(EC,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));RC.displayName=EC.displayName;const IC=h.createContext(void 0);function x3({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[a,i]=h.useState(()=>localStorage.getItem(r)||t),[o,l]=h.useState(()=>{if(typeof window>"u")return"light";const d=localStorage.getItem(r)||t;return d==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d});h.useEffect(()=>{const d=window.document.documentElement;d.classList.remove("light","dark");let u;if(a==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u=f,d.classList.add(f)}else u=a,d.classList.add(a);l(u)},[a]),h.useEffect(()=>{if(a!=="system")return;const d=window.matchMedia("(prefers-color-scheme: dark)"),u=f=>{const m=window.document.documentElement;m.classList.remove("light","dark");const p=f.matches?"dark":"light";m.classList.add(p),l(p)};return d.addEventListener("change",u),()=>d.removeEventListener("change",u)},[a]);const c={theme:a,setTheme:d=>{localStorage.setItem(r,d),i(d)},resolvedTheme:o};return s.jsx(IC.Provider,{...n,value:c,children:e})}const b3=()=>{const e=h.useContext(IC);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},w3=()=>{const{theme:e,setTheme:t}=b3(),r=async()=>{await re.auth.signOut()};return s.jsx("header",{className:"bg-government-dark text-white shadow-formal",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dn,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Semi-Expendable Property"}),s.jsx("p",{className:"text-sm text-white/80",children:"Inventory Management System"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(h3,{children:[s.jsx(m3,{asChild:!0,children:s.jsx(ue,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:e==="light"?s.jsx(Zx,{className:"h-4 w-4"}):e==="dark"?s.jsx(Xx,{className:"h-4 w-4"}):s.jsx(Yx,{className:"h-4 w-4"})})}),s.jsxs(TC,{align:"end",children:[s.jsx(AC,{children:"Theme"}),s.jsx(RC,{}),s.jsxs(lu,{onClick:()=>t("light"),children:[s.jsx(Zx,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"}),e==="light"&&s.jsx("span",{className:"ml-auto",children:""})]}),s.jsxs(lu,{onClick:()=>t("dark"),children:[s.jsx(Xx,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"}),e==="dark"&&s.jsx("span",{className:"ml-auto",children:""})]}),s.jsxs(lu,{onClick:()=>t("system"),children:[s.jsx(Yx,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"System"}),e==="system"&&s.jsx("span",{className:"ml-auto",children:""})]})]})]}),s.jsxs(ue,{variant:"outline",size:"sm",className:"text-white border-white/20 hover:bg-white/10",onClick:r,children:[s.jsx(OA,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})})},j3=[{name:"Dashboard",href:"/",icon:IA},{name:"Inventory",href:"/inventory",icon:Zr},{name:"Property Cards",href:"/property-cards",icon:Dn},{name:"Custodian Slips",href:"/custodian-slips",icon:AA},{name:"Custodians",href:"/custodians",icon:wi},{name:"Transfers",href:"/transfers",icon:MN},{name:"Lookups",href:"/settings/lookups",icon:pp}],N3=()=>{const[e,t]=h.useState(!1),r=Vn();return s.jsxs("div",{className:Ee("bg-card border-r border-border transition-all duration-300",e?"w-16":"w-64"),children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"ml-auto",children:e?s.jsx(LN,{className:"h-4 w-4"}):s.jsx(EA,{className:"h-4 w-4"})})}),s.jsx("nav",{className:"p-4 space-y-2",children:j3.map(n=>{const a=n.icon,i=r.pathname===n.href;return s.jsxs(JF,{to:n.href,className:Ee("flex items-center space-x-3 px-3 py-2 rounded-md transition-colors",i?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[s.jsx(a,{className:"h-5 w-5"}),!e&&s.jsx("span",{className:"text-sm font-medium",children:n.name})]},n.name)})})]})},Re=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const Be=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",e),...t}));Be.displayName="CardHeader";const Ke=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ke.displayName="CardTitle";const OC=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));OC.displayName="CardDescription";const Ie=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const _3=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",e),...t}));_3.displayName="CardFooter";const S3=async()=>{const[{data:e,error:t},{data:r,error:n}]=await Promise.all([re.from("inventory_items").select("id, total_cost, condition, status, assignment_status, custodian").range(0,499),re.from("inventory_items").select("description, property_number, created_at, updated_at").order("updated_at",{ascending:!1}).limit(8)]);if(t)throw t;if(n)throw n;const a=(e==null?void 0:e.length)||0,i=(e||[]).reduce((p,x)=>p+(Number(x.total_cost)||0),0),o=(e||[]).filter(p=>p.status==="Active"&&p.condition==="Serviceable"),l={},c={};(e||[]).forEach(p=>{l[p.condition]=(l[p.condition]||0)+1,c[p.status]=(c[p.status]||0)+1});const d=o.filter(p=>p.assignment_status==="Assigned"||p.custodian&&p.custodian!=="").length,u=o.filter(p=>!p.assignment_status||p.assignment_status==="Available"||!p.custodian||p.custodian==="").length,f=(e||[]).filter(p=>p.condition==="Unserviceable").length,m=(r||[]).map(p=>({action:`Item ${p.property_number} updated`,user:"system",time:new Date(p.updated_at||p.created_at).toLocaleString()}));return{totalItems:a,totalValue:i,byCondition:l,byStatus:c,issuedItems:d,unissuedItems:u,unserviceableItems:f,recentActivity:m}},C3=()=>{const e=zn();Bn();const t=Va(),{data:r,isLoading:n,error:a}=Gt({queryKey:["dashboard-stats"],queryFn:S3,staleTime:2*60*1e3,gcTime:24*60*60*1e3,retry:(c,d)=>navigator.onLine?c<2:!1}),i=r||{totalItems:0,totalValue:0,byCondition:{},byStatus:{},issuedItems:0,unissuedItems:0,unserviceableItems:0,recentActivity:[]};h.useEffect(()=>{const c=re.channel("realtime:dashboard-inventory").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing dashboard..."),t.invalidateQueries({queryKey:["dashboard-stats"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing dashboard..."),t.invalidateQueries({queryKey:["dashboard-stats"]})}).subscribe();return()=>{re.removeChannel(c)}},[t]);const o=c=>{switch(c){case"Add New Item":e("/inventory");break;case"Generate Report":e("/reports");break;case"Process Transfer":e("/transfers");break;case"Physical Count":e("/physical-count");break}},l=c=>{switch(c){case"Serviceable":return"bg-green-500";case"For Repair":return"bg-yellow-500";case"Unserviceable":return"bg-red-600";case"Missing":return"bg-red-400";default:return"bg-gray-500"}};return n?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Qt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading dashboard..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Re,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Total Items"}),s.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.totalItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:!navigator.onLine&&!r?"Offline - cached data":i.totalItems===0?"No items yet":"From database"})]})]}),s.jsxs(Re,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Total Value"}),s.jsx(gp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",i.totalValue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:!navigator.onLine&&!r?"Offline - cached data":i.totalValue===0?"No value yet":"From database"})]})]}),s.jsxs(Re,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Issued Items"}),s.jsx(wi,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.issuedItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.issuedItems===0?"No items issued yet":"Assigned to custodians"})]})]}),s.jsxs(Re,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium",children:"Available Items"}),s.jsx(Zr,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Ie,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.unissuedItems.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.unissuedItems===0?"All items are issued":"Ready for assignment"})]})]})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(Dn,{className:"h-5 w-5"}),s.jsx("span",{children:"Issued vs Unissued Items Summary"})]})}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{onClick:()=>e("/inventory?filter=issued"),className:"w-full flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200 hover:bg-green-100 hover:border-green-300 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wi,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Issued Items"}),s.jsx("p",{className:"text-sm text-green-600",children:"Assigned to custodians"}),s.jsx("p",{className:"text-xs text-green-500 group-hover:text-green-700",children:"Click to view "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.issuedItems}),s.jsxs("div",{className:"text-sm text-green-600",children:[i.totalItems>0?Math.round(i.issuedItems/i.totalItems*100):0,"% of total"]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("button",{onClick:()=>e("/inventory?filter=available"),className:"w-full flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200 hover:bg-blue-100 hover:border-blue-300 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zr,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Available Items"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Ready for assignment"}),s.jsx("p",{className:"text-xs text-blue-500 group-hover:text-blue-700",children:"Click to view "})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.unissuedItems}),s.jsxs("div",{className:"text-sm text-blue-600",children:[i.totalItems>0?Math.round(i.unissuedItems/i.totalItems*100):0,"% of total"]})]})]})})]}),i.totalItems>0&&s.jsxs("div",{className:"mt-6 p-4 bg-secondary rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Distribution"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.totalItems," total items"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:s.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[s.jsx("div",{className:"bg-green-500",style:{width:`${i.totalItems>0?i.issuedItems/i.totalItems*100:0}%`},title:`${i.issuedItems} issued items`}),s.jsx("div",{className:"bg-blue-500",style:{width:`${i.totalItems>0?i.unissuedItems/i.totalItems*100:0}%`},title:`${i.unissuedItems} available items`}),i.unserviceableItems>0&&s.jsx("div",{className:"bg-red-600",style:{width:`${i.totalItems>0?i.unserviceableItems/i.totalItems*100:0}%`},title:`${i.unserviceableItems} unserviceable items`})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsxs("span",{children:["Issued (",i.issuedItems,")"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsxs("span",{children:["Available (",i.unissuedItems,")"]})]}),i.unserviceableItems>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),s.jsxs("span",{children:["Unserviceable (",i.unserviceableItems,")"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Recent Activity"})}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-4",children:r.recentActivity.length>0?r.recentActivity.map((c,d)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:c.action}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",c.user,"  ",c.time]})]})]},d)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No recent activity"}),s.jsx("p",{className:"text-xs",children:"Add items to see activity here"})]})})})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Property Status Overview"})}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-4",children:Object.keys(r.byCondition).length>0?Object.entries(r.byCondition).map(([c,d])=>{const u=Object.values(r.byCondition).reduce((p,x)=>p+x,0),f=u>0?d/u*100:0,m=Math.max(f,5);return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:c}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 h-2 bg-muted rounded-full",children:s.jsx("div",{className:`h-2 rounded-full ${l(c)}`,style:{width:`${m}%`}})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:d})]})]},c)}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No property data"}),s.jsx("p",{className:"text-xs",children:"Add items to see status overview"})]})})})]})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Quick Actions"})}),s.jsx(Ie,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{title:"Add New Item",icon:Zr,description:"Register new property"},{title:"Generate Report",icon:Dn,description:"Create inventory reports"},{title:"Process Transfer",icon:MN,description:"Handle property transfers"},{title:"Physical Count",icon:wi,description:"Conduct inventory count"}].map((c,d)=>{const u=c.icon;return s.jsxs("div",{onClick:()=>o(c.title),className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsx(u,{className:"h-6 w-6 text-primary mb-2"}),s.jsx("h3",{className:"font-medium text-sm",children:c.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.description})]},d)})})})]})]})},Te=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Te.displayName="Input";const Nr=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ee("w-full caption-bottom text-sm",e),...t})}));Nr.displayName="Table";const zr=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ee("[&_tr]:border-b",e),...t}));zr.displayName="TableHeader";const Wr=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ee("[&_tr:last-child]:border-0",e),...t}));Wr.displayName="TableBody";const E3=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));E3.displayName="TableFooter";const rt=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rt.displayName="TableRow";const Se=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableHead";const be=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));be.displayName="TableCell";const k3=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ee("mt-4 text-sm text-muted-foreground",e),...t}));k3.displayName="TableCaption";const P3=Vc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return s.jsx("div",{className:Ee(P3({variant:t}),e),...r})}function tg(e,[t,r]){return Math.min(r,Math.max(t,e))}function DC(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var T3=[" ","Enter","ArrowUp","ArrowDown"],A3=[" ","Enter"],Ri="Select",[Wf,Hf,R3]=bf(Ri),[ml,jV]=kr(Ri,[R3,Ba]),Kf=Ba(),[I3,Ka]=ml(Ri),[O3,D3]=ml(Ri),MC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:x}=e,g=Kf(t),[w,y]=h.useState(null),[v,b]=h.useState(null),[N,j]=h.useState(!1),E=Yc(d),[k,D]=qs({prop:n,defaultProp:a??!1,onChange:i,caller:Ri}),[z,F]=qs({prop:o,defaultProp:l,onChange:c,caller:Ri}),I=h.useRef(null),q=w?x||!!w.closest("form"):!0,[X,S]=h.useState(new Set),_=Array.from(X).map(A=>A.props.value).join(";");return s.jsx(Cv,{...g,children:s.jsxs(I3,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:lr(),value:z,onValueChange:F,open:k,onOpenChange:D,dir:E,triggerPointerDownPosRef:I,disabled:m,children:[s.jsx(Wf.Provider,{scope:t,children:s.jsx(O3,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(A=>{S(te=>new Set(te).add(A))},[]),onNativeOptionRemove:h.useCallback(A=>{S(te=>{const W=new Set(te);return W.delete(A),W})},[]),children:r})}),q?s.jsxs(i1,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:z,onChange:A=>F(A.target.value),disabled:m,form:x,children:[z===void 0?s.jsx("option",{value:""}):null,Array.from(X)]},_):null]})})};MC.displayName=Ri;var LC="SelectTrigger",FC=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Kf(r),o=Ka(LC,r),l=o.disabled||n,c=ze(t,o.onTriggerChange),d=Hf(r),u=h.useRef("touch"),[f,m,p]=l1(g=>{const w=d().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=c1(w,g,y);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Hc,{asChild:!0,...i,children:s.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o1(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:Ne(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Ne(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&T3.includes(g.key)&&(x(),g.preventDefault())})})})});FC.displayName=LC;var $C="SelectValue",UC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ka($C,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=ze(t,c.onValueNodeChange);return nr(()=>{d(u)},[d,u]),s.jsx(De.span,{...l,ref:f,style:{pointerEvents:"none"},children:o1(c.value)?s.jsx(s.Fragment,{children:o}):i})});UC.displayName=$C;var M3="SelectIcon",qC=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(De.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});qC.displayName=M3;var L3="SelectPortal",BC=e=>s.jsx(il,{asChild:!0,...e});BC.displayName=L3;var Ii="SelectContent",VC=h.forwardRef((e,t)=>{const r=Ka(Ii,e.__scopeSelect),[n,a]=h.useState();if(nr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?$i.createPortal(s.jsx(zC,{scope:e.__scopeSelect,children:s.jsx(Wf.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(WC,{...e,ref:t})});VC.displayName=Ii;var Cn=10,[zC,Qa]=ml(Ii),F3="SelectContentImpl",$3=Ia("SelectContent.RemoveScroll"),WC=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=Ka(Ii,r),[b,N]=h.useState(null),[j,E]=h.useState(null),k=ze(t,ne=>N(ne)),[D,z]=h.useState(null),[F,I]=h.useState(null),q=Hf(r),[X,S]=h.useState(!1),_=h.useRef(!1);h.useEffect(()=>{if(b)return Uf(b)},[b]),Ff();const A=h.useCallback(ne=>{const[R,...J]=q().map(Pe=>Pe.ref.current),[ce]=J.slice(-1),se=document.activeElement;for(const Pe of ne)if(Pe===se||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===R&&j&&(j.scrollTop=0),Pe===ce&&j&&(j.scrollTop=j.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==se))return},[q,j]),te=h.useCallback(()=>A([D,b]),[A,D,b]);h.useEffect(()=>{X&&te()},[X,te]);const{onOpenChange:W,triggerPointerDownPosRef:U}=v;h.useEffect(()=>{if(b){let ne={x:0,y:0};const R=ce=>{var se,Pe;ne={x:Math.abs(Math.round(ce.pageX)-(((se=U.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Pe=U.current)==null?void 0:Pe.y)??0))}},J=ce=>{ne.x<=10&&ne.y<=10?ce.preventDefault():b.contains(ce.target)||W(!1),document.removeEventListener("pointermove",R),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",J,{capture:!0})}}},[b,W,U]),h.useEffect(()=>{const ne=()=>W(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[W]);const[ae,ve]=l1(ne=>{const R=q().filter(se=>!se.disabled),J=R.find(se=>se.ref.current===document.activeElement),ce=c1(R,ne,J);ce&&setTimeout(()=>ce.ref.current.focus())}),B=h.useCallback((ne,R,J)=>{const ce=!_.current&&!J;(v.value!==void 0&&v.value===R||ce)&&(z(ne),ce&&(_.current=!0))},[v.value]),O=h.useCallback(()=>b==null?void 0:b.focus(),[b]),G=h.useCallback((ne,R,J)=>{const ce=!_.current&&!J;(v.value!==void 0&&v.value===R||ce)&&I(ne)},[v.value]),Q=n==="popper"?rg:HC,ie=Q===rg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(zC,{scope:r,content:b,viewport:j,onViewportChange:E,itemRefCallback:B,selectedItem:D,onItemLeave:O,itemTextRefCallback:G,focusSelectedItem:te,selectedItemText:F,position:n,isPositioned:X,searchRef:ae,children:s.jsx(Zc,{as:$3,allowPinchZoom:!0,children:s.jsx(Xc,{asChild:!0,trapped:v.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ne(a,ne=>{var R;(R=v.trigger)==null||R.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(Ui,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ne=>ne.preventDefault(),...y,...ie,onPlaced:()=>S(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ne(y.onKeyDown,ne=>{const R=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!R&&ne.key.length===1&&ve(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ce=q().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const se=ne.target,Pe=ce.indexOf(se);ce=ce.slice(Pe+1)}setTimeout(()=>A(ce)),ne.preventDefault()}})})})})})})});WC.displayName=F3;var U3="SelectItemAlignedPosition",HC=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ka(Ii,r),o=Qa(Ii,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=ze(t,k=>u(k)),m=Hf(r),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&y){const k=i.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),F=y.getBoundingClientRect();if(i.dir!=="rtl"){const se=F.left-D.left,Pe=z.left-se,Ue=k.left-Pe,st=k.width+Ue,oe=Math.max(st,D.width),Me=window.innerWidth-Cn,H=tg(Pe,[Cn,Math.max(Cn,Me-oe)]);l.style.minWidth=st+"px",l.style.left=H+"px"}else{const se=D.right-F.right,Pe=window.innerWidth-z.right-se,Ue=window.innerWidth-k.right-Pe,st=k.width+Ue,oe=Math.max(st,D.width),Me=window.innerWidth-Cn,H=tg(Pe,[Cn,Math.max(Cn,Me-oe)]);l.style.minWidth=st+"px",l.style.right=H+"px"}const I=m(),q=window.innerHeight-Cn*2,X=g.scrollHeight,S=window.getComputedStyle(d),_=parseInt(S.borderTopWidth,10),A=parseInt(S.paddingTop,10),te=parseInt(S.borderBottomWidth,10),W=parseInt(S.paddingBottom,10),U=_+A+X+W+te,ae=Math.min(w.offsetHeight*5,U),ve=window.getComputedStyle(g),B=parseInt(ve.paddingTop,10),O=parseInt(ve.paddingBottom,10),G=k.top+k.height/2-Cn,Q=q-G,ie=w.offsetHeight/2,ne=w.offsetTop+ie,R=_+A+ne,J=U-R;if(R<=G){const se=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const Pe=d.clientHeight-g.offsetTop-g.offsetHeight,Ue=Math.max(Q,ie+(se?O:0)+Pe+te),st=R+Ue;l.style.height=st+"px"}else{const se=I.length>0&&w===I[0].ref.current;l.style.top="0px";const Ue=Math.max(G,_+g.offsetTop+(se?B:0)+ie)+J;l.style.height=Ue+"px",g.scrollTop=R-G+g.offsetTop}l.style.margin=`${Cn}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,y,i.dir,n]);nr(()=>b(),[b]);const[N,j]=h.useState();nr(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const E=h.useCallback(k=>{k&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return s.jsx(B3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(De.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});HC.displayName=U3;var q3="SelectPopperPosition",rg=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Cn,...i}=e,o=Kf(r);return s.jsx(Ef,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rg.displayName=q3;var[B3,Yv]=ml(Ii,{}),ng="SelectViewport",KC=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Qa(ng,r),o=Yv(ng,r),l=ze(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Wf.Slot,{scope:r,children:s.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-Cn*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<x){const v=y+p,b=Math.min(x,v),N=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});KC.displayName=ng;var QC="SelectGroup",[V3,z3]=ml(QC),W3=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=lr();return s.jsx(V3,{scope:r,id:a,children:s.jsx(De.div,{role:"group","aria-labelledby":a,...n,ref:t})})});W3.displayName=QC;var GC="SelectLabel",YC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=z3(GC,r);return s.jsx(De.div,{id:a.id,...n,ref:t})});YC.displayName=GC;var Qu="SelectItem",[H3,XC]=ml(Qu),JC=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ka(Qu,r),c=Qa(Qu,r),d=l.value===n,[u,f]=h.useState(i??""),[m,p]=h.useState(!1),x=ze(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,a)}),g=lr(),w=h.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(H3,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(Wf.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(De.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Ne(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Ne(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Ne(o.onPointerMove,v=>{var b;w.current=v.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ne(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(A3.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});JC.displayName=Qu;var Bl="SelectItemText",ZC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ka(Bl,r),l=Qa(Bl,r),c=XC(Bl,r),d=D3(Bl,r),[u,f]=h.useState(null),m=ze(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return nr(()=>(g(x),()=>w(x)),[g,w,x]),s.jsxs(s.Fragment,{children:[s.jsx(De.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$i.createPortal(i.children,o.valueNode):null]})});ZC.displayName=Bl;var e1="SelectItemIndicator",t1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return XC(e1,r).isSelected?s.jsx(De.span,{"aria-hidden":!0,...n,ref:t}):null});t1.displayName=e1;var sg="SelectScrollUpButton",r1=h.forwardRef((e,t)=>{const r=Qa(sg,e.__scopeSelect),n=Yv(sg,e.__scopeSelect),[a,i]=h.useState(!1),o=ze(t,n.onScrollButtonChange);return nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(s1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});r1.displayName=sg;var ag="SelectScrollDownButton",n1=h.forwardRef((e,t)=>{const r=Qa(ag,e.__scopeSelect),n=Yv(ag,e.__scopeSelect),[a,i]=h.useState(!1),o=ze(t,n.onScrollButtonChange);return nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(s1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});n1.displayName=ag;var s1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Qa("SelectScrollButton",r),o=h.useRef(null),l=Hf(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),nr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(De.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),K3="SelectSeparator",a1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(De.div,{"aria-hidden":!0,...n,ref:t})});a1.displayName=K3;var ig="SelectArrow",Q3=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Kf(r),i=Ka(ig,r),o=Qa(ig,r);return i.open&&o.position==="popper"?s.jsx(kf,{...a,...n,ref:t}):null});Q3.displayName=ig;var G3="SelectBubbleInput",i1=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=h.useRef(null),i=ze(n,a),o=DC(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(De.select,{...r,style:{...fN,...r.style},ref:i,defaultValue:t})});i1.displayName=G3;function o1(e){return e===""||e===void 0}function l1(e){const t=Ot(e),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function c1(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Y3(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Y3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var X3=MC,d1=FC,J3=UC,Z3=qC,e5=BC,u1=VC,t5=KC,f1=YC,h1=JC,r5=ZC,n5=t1,m1=r1,p1=n1,g1=a1;const Nt=X3,_t=J3,yt=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(d1,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Z3,{asChild:!0,children:s.jsx(Nf,{className:"h-4 w-4 opacity-50"})})]}));yt.displayName=d1.displayName;const v1=h.forwardRef(({className:e,...t},r)=>s.jsx(m1,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(kA,{className:"h-4 w-4"})}));v1.displayName=m1.displayName;const y1=h.forwardRef(({className:e,...t},r)=>s.jsx(p1,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Nf,{className:"h-4 w-4"})}));y1.displayName=p1.displayName;const xt=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(e5,{children:s.jsxs(u1,{ref:a,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(v1,{}),s.jsx(t5,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(y1,{})]})}));xt.displayName=u1.displayName;const s5=h.forwardRef(({className:e,...t},r)=>s.jsx(f1,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));s5.displayName=f1.displayName;const je=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(h1,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n5,{children:s.jsx(Bs,{className:"h-4 w-4"})})}),s.jsx(r5,{children:t})]}));je.displayName=h1.displayName;const a5=h.forwardRef(({className:e,...t},r)=>s.jsx(g1,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",e),...t}));a5.displayName=g1.displayName;var Qf="Dialog",[x1,b1]=kr(Qf),[i5,Wn]=x1(Qf),w1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=qs({prop:n,defaultProp:a??!1,onChange:i,caller:Qf});return s.jsx(i5,{scope:t,triggerRef:l,contentRef:c,contentId:lr(),titleId:lr(),descriptionId:lr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};w1.displayName=Qf;var j1="DialogTrigger",N1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wn(j1,r),i=ze(t,a.triggerRef);return s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zv(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});N1.displayName=j1;var Xv="DialogPortal",[o5,_1]=x1(Xv,{forceMount:void 0}),S1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Wn(Xv,t);return s.jsx(o5,{scope:t,forceMount:r,children:h.Children.map(n,o=>s.jsx(sr,{present:r||i.open,children:s.jsx(il,{asChild:!0,container:a,children:o})}))})};S1.displayName=Xv;var Gu="DialogOverlay",C1=h.forwardRef((e,t)=>{const r=_1(Gu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Wn(Gu,e.__scopeDialog);return i.modal?s.jsx(sr,{present:n||i.open,children:s.jsx(c5,{...a,ref:t})}):null});C1.displayName=Gu;var l5=Ia("DialogOverlay.RemoveScroll"),c5=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wn(Gu,r);return s.jsx(Zc,{as:l5,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(De.div,{"data-state":Zv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Oi="DialogContent",E1=h.forwardRef((e,t)=>{const r=_1(Oi,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Wn(Oi,e.__scopeDialog);return s.jsx(sr,{present:n||i.open,children:i.modal?s.jsx(d5,{...a,ref:t}):s.jsx(u5,{...a,ref:t})})});E1.displayName=Oi;var d5=h.forwardRef((e,t)=>{const r=Wn(Oi,e.__scopeDialog),n=h.useRef(null),a=ze(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Uf(i)},[]),s.jsx(k1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),u5=h.forwardRef((e,t)=>{const r=Wn(Oi,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(k1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),k1=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Wn(Oi,r),c=h.useRef(null),d=ze(t,c);return Ff(),s.jsxs(s.Fragment,{children:[s.jsx(Xc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Ui,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(h5,{titleId:l.titleId}),s.jsx(p5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Jv="DialogTitle",P1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wn(Jv,r);return s.jsx(De.h2,{id:a.titleId,...n,ref:t})});P1.displayName=Jv;var T1="DialogDescription",A1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wn(T1,r);return s.jsx(De.p,{id:a.descriptionId,...n,ref:t})});A1.displayName=T1;var R1="DialogClose",I1=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wn(R1,r);return s.jsx(De.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});I1.displayName=R1;function Zv(e){return e?"open":"closed"}var O1="DialogTitleWarning",[f5,D1]=I2(O1,{contentName:Oi,titleName:Jv,docsSlug:"dialog"}),h5=({titleId:e})=>{const t=D1(O1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},m5="DialogDescriptionWarning",p5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D1(m5).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ey=w1,M1=N1,ty=S1,Gf=C1,Yf=E1,ry=P1,ny=A1,sy=I1;const en=ey,g5=M1,v5=ty,L1=h.forwardRef(({className:e,...t},r)=>s.jsx(Gf,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L1.displayName=Gf.displayName;const Ur=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(v5,{children:[s.jsx(L1,{}),s.jsxs(Yf,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(sy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx($N,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ur.displayName=Yf.displayName;const nn=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});nn.displayName="DialogHeader";const F1=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});F1.displayName="DialogFooter";const sn=h.forwardRef(({className:e,...t},r)=>s.jsx(ry,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",e),...t}));sn.displayName=ry.displayName;const us=h.forwardRef(({className:e,...t},r)=>s.jsx(ny,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));us.displayName=ny.displayName;var y5="Label",$1=h.forwardRef((e,t)=>s.jsx(De.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$1.displayName=y5;var U1=$1;const x5=Vc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=h.forwardRef(({className:e,...t},r)=>s.jsx(U1,{ref:r,className:Ee(x5(),e),...t}));he.displayName=U1.displayName;var Xf="Tabs",[b5,NV]=kr(Xf,[$f]),q1=$f(),[w5,ay]=b5(Xf),B1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Yc(l),[f,m]=qs({prop:n,onChange:a,defaultProp:i??"",caller:Xf});return s.jsx(w5,{scope:r,baseId:lr(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(De.div,{dir:u,"data-orientation":o,...d,ref:t})})});B1.displayName=Xf;var V1="TabsList",z1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ay(V1,r),o=q1(r);return s.jsx(ES,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});z1.displayName=V1;var W1="TabsTrigger",H1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ay(W1,r),l=q1(r),c=G1(o.baseId,n),d=Y1(o.baseId,n),u=n===o.value;return s.jsx(kS,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(De.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});H1.displayName=W1;var K1="TabsContent",Q1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=ay(K1,r),c=G1(l.baseId,n),d=Y1(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(sr,{present:a||u,children:({present:m})=>s.jsx(De.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Q1.displayName=K1;function G1(e,t){return`${e}-trigger-${t}`}function Y1(e,t){return`${e}-content-${t}`}var j5=B1,X1=z1,J1=H1,Z1=Q1;const Jf=j5,rd=h.forwardRef(({className:e,...t},r)=>s.jsx(X1,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));rd.displayName=X1.displayName;const mn=h.forwardRef(({className:e,...t},r)=>s.jsx(J1,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mn.displayName=J1.displayName;const pn=h.forwardRef(({className:e,...t},r)=>s.jsx(Z1,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pn.displayName=Z1.displayName;const Ni=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ni.displayName="Textarea";var Zf="Popover",[eE,_V]=kr(Zf,[Ba]),nd=Ba(),[N5,Ga]=eE(Zf),tE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=nd(t),c=h.useRef(null),[d,u]=h.useState(!1),[f,m]=qs({prop:n,defaultProp:a??!1,onChange:i,caller:Zf});return s.jsx(Cv,{...l,children:s.jsx(N5,{scope:t,contentId:lr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:o,children:r})})};tE.displayName=Zf;var rE="PopoverAnchor",_5=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ga(rE,r),i=nd(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Hc,{...i,...n,ref:t})});_5.displayName=rE;var nE="PopoverTrigger",sE=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ga(nE,r),i=nd(r),o=ze(t,a.triggerRef),l=s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cE(a.open),...n,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Hc,{asChild:!0,...i,children:l})});sE.displayName=nE;var iy="PopoverPortal",[S5,C5]=eE(iy,{forceMount:void 0}),aE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Ga(iy,t);return s.jsx(S5,{scope:t,forceMount:r,children:s.jsx(sr,{present:r||i.open,children:s.jsx(il,{asChild:!0,container:a,children:n})})})};aE.displayName=iy;var tl="PopoverContent",iE=h.forwardRef((e,t)=>{const r=C5(tl,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Ga(tl,e.__scopePopover);return s.jsx(sr,{present:n||i.open,children:i.modal?s.jsx(k5,{...a,ref:t}):s.jsx(P5,{...a,ref:t})})});iE.displayName=tl;var E5=Ia("PopoverContent.RemoveScroll"),k5=h.forwardRef((e,t)=>{const r=Ga(tl,e.__scopePopover),n=h.useRef(null),a=ze(t,n),i=h.useRef(!1);return h.useEffect(()=>{const o=n.current;if(o)return Uf(o)},[]),s.jsx(Zc,{as:E5,allowPinchZoom:!0,children:s.jsx(oE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),P5=h.forwardRef((e,t)=>{const r=Ga(tl,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(oE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),oE=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Ga(tl,r),p=nd(r);return Ff(),s.jsx(Xc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Ui,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Ef,{"data-state":cE(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lE="PopoverClose",T5=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ga(lE,r);return s.jsx(De.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});T5.displayName=lE;var A5="PopoverArrow",R5=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=nd(r);return s.jsx(kf,{...a,...n,ref:t})});R5.displayName=A5;function cE(e){return e?"open":"closed"}var I5=tE,O5=sE,D5=aE,dE=iE;const uE=I5,fE=O5,oy=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(D5,{children:s.jsx(dE,{ref:a,align:t,sideOffset:r,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));oy.displayName=dE.displayName;var u0=1,M5=.9,L5=.8,F5=.17,dm=.1,um=.999,$5=.9999,U5=.99,q5=/[\\\/_+.#"@\[\(\{&]/,B5=/[\\\/_+.#"@\[\(\{&]/g,V5=/[\s-]/,hE=/[\s-]/g;function og(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?u0:U5;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,f,m,p,x;d>=0;)f=og(e,t,r,n,d+1,i+1,o),f>u&&(d===a?f*=u0:q5.test(e.charAt(d-1))?(f*=L5,p=e.slice(a,d-1).match(B5),p&&a>0&&(f*=Math.pow(um,p.length))):V5.test(e.charAt(d-1))?(f*=M5,x=e.slice(a,d-1).match(hE),x&&a>0&&(f*=Math.pow(um,x.length))):(f*=F5,a>0&&(f*=Math.pow(um,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=$5)),(f<dm&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(m=og(e,t,r,n,d+1,i+2,o),m*dm>f&&(f=m*dm)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function f0(e){return e.toLowerCase().replace(hE," ")}function z5(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,og(e,t,f0(e),f0(t),0,0,{})}var Pl='[cmdk-group=""]',fm='[cmdk-group-items=""]',W5='[cmdk-group-heading=""]',mE='[cmdk-item=""]',h0=`${mE}:not([aria-disabled="true"])`,lg="cmdk-item-select",ao="data-value",H5=(e,t,r)=>z5(e,t,r),pE=h.createContext(void 0),sd=()=>h.useContext(pE),gE=h.createContext(void 0),ly=()=>h.useContext(gE),vE=h.createContext(void 0),yE=h.forwardRef((e,t)=>{let r=io(()=>{var B,O;return{search:"",value:(O=(B=e.value)!=null?B:e.defaultValue)!=null?O:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=io(()=>new Set),a=io(()=>new Map),i=io(()=>new Map),o=io(()=>new Set),l=xE(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:w=!0,...y}=e,v=lr(),b=lr(),N=lr(),j=h.useRef(null),E=nU();Di(()=>{if(u!==void 0){let B=u.trim();r.current.value=B,k.emit()}},[u]),Di(()=>{E(6,X)},[]);let k=h.useMemo(()=>({subscribe:B=>(o.current.add(B),()=>o.current.delete(B)),snapshot:()=>r.current,setState:(B,O,G)=>{var Q,ie,ne,R;if(!Object.is(r.current[B],O)){if(r.current[B]=O,B==="search")q(),F(),E(1,I);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let J=document.getElementById(N);J?J.focus():(Q=document.getElementById(v))==null||Q.focus()}if(E(7,()=>{var J;r.current.selectedItemId=(J=S())==null?void 0:J.id,k.emit()}),G||E(5,X),((ie=l.current)==null?void 0:ie.value)!==void 0){let J=O??"";(R=(ne=l.current).onValueChange)==null||R.call(ne,J);return}}k.emit()}},emit:()=>{o.current.forEach(B=>B())}}),[]),D=h.useMemo(()=>({value:(B,O,G)=>{var Q;O!==((Q=i.current.get(B))==null?void 0:Q.value)&&(i.current.set(B,{value:O,keywords:G}),r.current.filtered.items.set(B,z(O,G)),E(2,()=>{F(),k.emit()}))},item:(B,O)=>(n.current.add(B),O&&(a.current.has(O)?a.current.get(O).add(B):a.current.set(O,new Set([B]))),E(3,()=>{q(),F(),r.current.value||I(),k.emit()}),()=>{i.current.delete(B),n.current.delete(B),r.current.filtered.items.delete(B);let G=S();E(4,()=>{q(),(G==null?void 0:G.getAttribute("id"))===B&&I(),k.emit()})}),group:B=>(a.current.has(B)||a.current.set(B,new Set),()=>{i.current.delete(B),a.current.delete(B)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:N,labelId:b,listInnerRef:j}),[]);function z(B,O){var G,Q;let ie=(Q=(G=l.current)==null?void 0:G.filter)!=null?Q:H5;return B?ie(B,r.current.search,O):0}function F(){if(!r.current.search||l.current.shouldFilter===!1)return;let B=r.current.filtered.items,O=[];r.current.filtered.groups.forEach(Q=>{let ie=a.current.get(Q),ne=0;ie.forEach(R=>{let J=B.get(R);ne=Math.max(J,ne)}),O.push([Q,ne])});let G=j.current;_().sort((Q,ie)=>{var ne,R;let J=Q.getAttribute("id"),ce=ie.getAttribute("id");return((ne=B.get(ce))!=null?ne:0)-((R=B.get(J))!=null?R:0)}).forEach(Q=>{let ie=Q.closest(fm);ie?ie.appendChild(Q.parentElement===ie?Q:Q.closest(`${fm} > *`)):G.appendChild(Q.parentElement===G?Q:Q.closest(`${fm} > *`))}),O.sort((Q,ie)=>ie[1]-Q[1]).forEach(Q=>{var ie;let ne=(ie=j.current)==null?void 0:ie.querySelector(`${Pl}[${ao}="${encodeURIComponent(Q[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function I(){let B=_().find(G=>G.getAttribute("aria-disabled")!=="true"),O=B==null?void 0:B.getAttribute(ao);k.setState("value",O||void 0)}function q(){var B,O,G,Q;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let ne of n.current){let R=(O=(B=i.current.get(ne))==null?void 0:B.value)!=null?O:"",J=(Q=(G=i.current.get(ne))==null?void 0:G.keywords)!=null?Q:[],ce=z(R,J);r.current.filtered.items.set(ne,ce),ce>0&&ie++}for(let[ne,R]of a.current)for(let J of R)if(r.current.filtered.items.get(J)>0){r.current.filtered.groups.add(ne);break}r.current.filtered.count=ie}function X(){var B,O,G;let Q=S();Q&&(((B=Q.parentElement)==null?void 0:B.firstChild)===Q&&((G=(O=Q.closest(Pl))==null?void 0:O.querySelector(W5))==null||G.scrollIntoView({block:"nearest"})),Q.scrollIntoView({block:"nearest"}))}function S(){var B;return(B=j.current)==null?void 0:B.querySelector(`${mE}[aria-selected="true"]`)}function _(){var B;return Array.from(((B=j.current)==null?void 0:B.querySelectorAll(h0))||[])}function A(B){let O=_()[B];O&&k.setState("value",O.getAttribute(ao))}function te(B){var O;let G=S(),Q=_(),ie=Q.findIndex(R=>R===G),ne=Q[ie+B];(O=l.current)!=null&&O.loop&&(ne=ie+B<0?Q[Q.length-1]:ie+B===Q.length?Q[0]:Q[ie+B]),ne&&k.setState("value",ne.getAttribute(ao))}function W(B){let O=S(),G=O==null?void 0:O.closest(Pl),Q;for(;G&&!Q;)G=B>0?tU(G,Pl):rU(G,Pl),Q=G==null?void 0:G.querySelector(h0);Q?k.setState("value",Q.getAttribute(ao)):te(B)}let U=()=>A(_().length-1),ae=B=>{B.preventDefault(),B.metaKey?U():B.altKey?W(1):te(1)},ve=B=>{B.preventDefault(),B.metaKey?A(0):B.altKey?W(-1):te(-1)};return h.createElement(De.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:B=>{var O;(O=y.onKeyDown)==null||O.call(y,B);let G=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||G))switch(B.key){case"n":case"j":{w&&B.ctrlKey&&ae(B);break}case"ArrowDown":{ae(B);break}case"p":case"k":{w&&B.ctrlKey&&ve(B);break}case"ArrowUp":{ve(B);break}case"Home":{B.preventDefault(),A(0);break}case"End":{B.preventDefault(),U();break}case"Enter":{B.preventDefault();let Q=S();if(Q){let ie=new Event(lg);Q.dispatchEvent(ie)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:aU},c),eh(e,B=>h.createElement(gE.Provider,{value:k},h.createElement(pE.Provider,{value:D},B))))}),K5=h.forwardRef((e,t)=>{var r,n;let a=lr(),i=h.useRef(null),o=h.useContext(vE),l=sd(),c=xE(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Di(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=bE(a,i,[e.value,e.children,i],e.keywords),f=ly(),m=Fa(E=>E.value&&E.value===u.current),p=Fa(E=>d||l.filter()===!1?!0:E.search?E.filtered.items.get(a)>0:!0);h.useEffect(()=>{let E=i.current;if(!(!E||e.disabled))return E.addEventListener(lg,x),()=>E.removeEventListener(lg,x)},[p,e.onSelect,e.disabled]);function x(){var E,k;g(),(k=(E=c.current).onSelect)==null||k.call(E,u.current)}function g(){f.setState("value",u.current,!0)}if(!p)return null;let{disabled:w,value:y,onSelect:v,forceMount:b,keywords:N,...j}=e;return h.createElement(De.div,{ref:Us(i,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||l.getDisablePointerSelection()?void 0:g,onClick:w?void 0:x},e.children)}),Q5=h.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=lr(),l=h.useRef(null),c=h.useRef(null),d=lr(),u=sd(),f=Fa(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Di(()=>u.group(o),[]),bE(o,l,[e.value,e.heading,c]);let m=h.useMemo(()=>({id:o,forceMount:a}),[a]);return h.createElement(De.div,{ref:Us(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),eh(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(vE.Provider,{value:m},p))))}),G5=h.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=h.useRef(null),i=Fa(o=>!o.search);return!r&&!i?null:h.createElement(De.div,{ref:Us(a,t),...n,"cmdk-separator":"",role:"separator"})}),Y5=h.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=ly(),o=Fa(d=>d.search),l=Fa(d=>d.selectedItemId),c=sd();return h.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),h.createElement(De.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),X5=h.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=h.useRef(null),o=h.useRef(null),l=Fa(d=>d.selectedItemId),c=sd();return h.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(f),m.unobserve(d)}}},[]),h.createElement(De.div,{ref:Us(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},eh(e,d=>h.createElement("div",{ref:Us(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),J5=h.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return h.createElement(ey,{open:r,onOpenChange:n},h.createElement(ty,{container:o},h.createElement(Gf,{"cmdk-overlay":"",className:a}),h.createElement(Yf,{"aria-label":e.label,"cmdk-dialog":"",className:i},h.createElement(yE,{ref:t,...l}))))}),Z5=h.forwardRef((e,t)=>Fa(r=>r.filtered.count===0)?h.createElement(De.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),eU=h.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return h.createElement(De.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},eh(e,o=>h.createElement("div",{"aria-hidden":!0},o)))}),Hr=Object.assign(yE,{List:X5,Item:K5,Input:Y5,Group:Q5,Separator:G5,Dialog:J5,Empty:Z5,Loading:eU});function tU(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function rU(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function xE(e){let t=h.useRef(e);return Di(()=>{t.current=e}),t}var Di=typeof window>"u"?h.useEffect:h.useLayoutEffect;function io(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function Fa(e){let t=ly(),r=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,r,r)}function bE(e,t,r,n=[]){let a=h.useRef(),i=sd();return Di(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(ao,l),a.current=l}),a}var nU=()=>{let[e,t]=h.useState(),r=io(()=>new Map);return Di(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function sU(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function eh({asChild:e,children:t},r){return e&&h.isValidElement(t)?h.cloneElement(sU(t),{ref:t.ref},r(t.props.children)):r(t)}var aU={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const cy=h.forwardRef(({className:e,...t},r)=>s.jsx(Hr,{ref:r,className:Ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));cy.displayName=Hr.displayName;const dy=h.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx($n,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Hr.Input,{ref:r,className:Ee("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));dy.displayName=Hr.Input.displayName;const uy=h.forwardRef(({className:e,...t},r)=>s.jsx(Hr.List,{ref:r,className:Ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));uy.displayName=Hr.List.displayName;const fy=h.forwardRef((e,t)=>s.jsx(Hr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));fy.displayName=Hr.Empty.displayName;const hy=h.forwardRef(({className:e,...t},r)=>s.jsx(Hr.Group,{ref:r,className:Ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hy.displayName=Hr.Group.displayName;const iU=h.forwardRef(({className:e,...t},r)=>s.jsx(Hr.Separator,{ref:r,className:Ee("-mx-1 h-px bg-border",e),...t}));iU.displayName=Hr.Separator.displayName;const my=h.forwardRef(({className:e,...t},r)=>s.jsx(Hr.Item,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));my.displayName=Hr.Item.displayName;const Mr={async getSuppliers(){try{const{data:e,error:t}=await re.from("suppliers").select("id, name").eq("is_active",!0).order("name");return t?(console.error("Error fetching suppliers:",t),[]):e||[]}catch(e){return console.error("Network error fetching suppliers:",e),[]}},async getCustodians(){try{const{data:e,error:t}=await re.from("custodians").select("id, name, custodian_no").order("name");return t?(console.error("Error fetching custodians:",t),[]):(e||[]).map(r=>({id:r.id,name:r.name,code:r.custodian_no}))}catch(e){return console.error("Network error fetching custodians:",e),[]}},async getFundSources(){const{data:e,error:t}=await re.from("fund_sources").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching fund sources:",t),[]):e||[]},async getUsers(){const{data:e,error:t}=await re.from("user_profiles").select("id, full_name").eq("is_active",!0).order("full_name");return t?(console.error("Error fetching users:",t),[]):e||[]},async getDepartments(){const{data:e,error:t}=await re.from("departments").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching departments:",t),[]):e||[]},async getSemiExpandableCategories(){const{data:e,error:t}=await re.from("semi_expandable_categories").select("id, name, code").eq("is_active",!0).order("name");return t?(console.error("Error fetching semi expandable categories:",t),[]):e||[]},async create(e,t){var l;const r={name:t.name},n=(l=t.code)==null?void 0:l.trim();if(e==="fund_sources"){if(!n)throw new Error("Code is required for fund sources");r.code=n}else if(e==="departments"||e==="semi_expandable_categories")n&&(r.code=n);else if(e==="custodians"){let c=n;if(!c){const{data:p,error:x}=await re.from("custodians").select("custodian_no").order("custodian_no",{ascending:!1}).limit(50);if(!x&&p){const g=p.map(y=>String(y.custodian_no||"").trim()).map(y=>y.match(/\d+/)?parseInt(y.match(/\d+/)[0],10):NaN).filter(y=>Number.isFinite(y)),w=g.length?Math.max(...g)+1:1;c=String(w).padStart(4,"0")}else c="0001"}const u=`CUST-${(c.match(/\d+/)?c.match(/\d+/)[0]:c).padStart(4,"0")}`,{data:f,error:m}=await re.from("custodians").select("id").in("custodian_no",[c,u]).limit(1);if(!m&&f&&f.length>0)throw new Error("Custodian number already exists. Please use a different number.");r.custodian_no=u}const a=e==="fund_sources"||e==="departments"||e==="semi_expandable_categories"?"id, name, code":e==="custodians"?"id, name, custodian_no":"id, name",{data:i,error:o}=await re.from(e).insert(r).select(a).single();if(o)throw o.code==="23505"?e==="custodians"?new Error("Custodian number already exists. Please use a different number."):new Error("A record with this code already exists. Please use a different code."):o.code==="23502"&&e==="departments"?new Error("Department code is optional, but your database still requires it. Please run database/make-department-code-optional.sql in Supabase."):o;return e==="custodians"?{id:i.id,name:i.name,code:i.custodian_no}:i},async update(e,t,r){var c;const n={};r.name!==void 0&&(n.name=r.name);const a=(c=r.code)==null?void 0:c.trim();if(e==="fund_sources"||e==="departments"||e==="semi_expandable_categories")r.code!==void 0&&(n.code=a??null);else if(e==="custodians"&&r.code!==void 0)if(a){const d=(a.match(/\d+/)?a.match(/\d+/)[0]:a).padStart(4,"0");n.custodian_no=`CUST-${d}`}else n.custodian_no=null;const i=e==="fund_sources"||e==="departments"||e==="semi_expandable_categories"?"id, name, code":e==="custodians"?"id, name, custodian_no":"id, name",{data:o,error:l}=await re.from(e).update(n).eq("id",t).select(i).single();if(l)throw l;return e==="custodians"?{id:o.id,name:o.name,code:o.custodian_no}:o},async remove(e,t){if(e==="departments"){const{data:n,error:a}=await re.from("custodians").select("id").eq("department_id",t).limit(1);if(a)throw a;if(n&&n.length>0)throw new Error("Cannot delete department: It is currently assigned to custodians. Please reassign the custodians to a different department first.")}if(e==="custodians"){const{data:n,error:a}=await re.from("inventory_items").select("id").eq("custodian_id",t).limit(1);if(a)throw a;if(n&&n.length>0)throw new Error("Cannot delete custodian: They are assigned to inventory items. Please reassign the items first.")}const{error:r}=await re.from(e).delete().eq("id",t);if(r)throw r;return!0}};class Ud{static async generateNextPropertyNumber(t){const n=new Date().getFullYear().toString(),a=t==="Small Value Expendable"?"SPLV":"SPHV",i=`${a}-${n}-`;console.log(`Generating property number for ${t}:`,{prefix:a,year:n,searchPattern:i});try{const{data:o,error:l}=await re.from("inventory_items").select("property_number").like("property_number",`${i}%`).order("property_number",{ascending:!1});if(console.log("Database query result:",{data:o,error:l}),l){console.error("Error fetching property numbers:",l);const p=`${i}0001`;return console.log("Using fallback number:",p),p}if(!o||o.length===0){const p=`${i}0001`;return console.log("No existing numbers found, using first number:",p),p}let c=0;for(const p of o){const x=p.property_number;if(x.startsWith(i)){const g=x.split("-");if(g.length===3){const w=g[2],y=parseInt(w,10);!isNaN(y)&&y>c&&(c=y)}}}const d=c+1,u=d.toString().padStart(4,"0"),f=`${i}${u}`;if(console.log("Generated next number:",f,{highestSequence:c,nextSequence:d,totalExisting:o.length}),o.find(p=>p.property_number===f)){console.warn("Generated number already exists, trying next sequence");const x=(d+1).toString().padStart(4,"0"),g=`${i}${x}`;return console.log("Using next available number:",g),g}return f}catch(o){console.error("Error generating property number:",o);const l=`${i}0001`;return console.log("Using fallback number due to error:",l),l}}static parsePropertyNumber(t){const r=t.split("-");if(r.length===3){const[n,a,i]=r;return n!=="SPLV"&&n!=="SPHV"||!/^\d{4}$/.test(a)||!/^\d{4}$/.test(i)?null:{prefix:n,year:a,sequenceNumber:i,fullNumber:t}}if(r.length===4){const[n,a,i,o]=r;return n!=="SPLV"&&n!=="SPHV"||!/^\d{4}$/.test(a)||!/^(0[1-9]|1[0-2])$/.test(i)||!/^\d{4}$/.test(o)?null:{prefix:n,year:a,sequenceNumber:o,fullNumber:t}}return null}static getPrefixForSubCategory(t){return t==="Small Value Expendable"?"SPLV":"SPHV"}static isValidPropertyNumber(t){return this.parsePropertyNumber(t)!==null}static async checkPropertyNumberExists(t){try{const{data:r,error:n}=await re.from("inventory_items").select("id").eq("property_number",t).limit(1);return n?(console.error("Error checking property number existence:",n),!1):r&&r.length>0}catch(r){return console.error("Error checking property number existence:",r),!1}}static async generateUniquePropertyNumber(t){let r=0;const n=10;for(;r<n;){const a=await this.generateNextPropertyNumber(t);if(!await this.checkPropertyNumberExists(a))return console.log(`Generated unique property number: ${a} (attempt ${r+1})`),a;console.warn(`Property number ${a} already exists, trying next sequence`),r++}throw new Error(`Unable to generate unique property number after ${n} attempts`)}}function oU(e){const t=e.toLowerCase();return t.includes("server")||t.includes("computer")||t.includes("workstation")?{years:5,confidence:"high",reasoning:"IT equipment typically lasts 5 years"}:t.includes("vehicle")||t.includes("car")||t.includes("truck")?{years:8,confidence:"high",reasoning:"Vehicles typically last 8 years"}:t.includes("furniture")||t.includes("desk")||t.includes("chair")||t.includes("cabinet")?{years:10,confidence:"high",reasoning:"Furniture typically lasts 10 years"}:t.includes("air conditioning")||t.includes("hvac")||t.includes("cooling")?{years:15,confidence:"high",reasoning:"HVAC systems typically last 15 years"}:t.includes("generator")||t.includes("backup power")?{years:20,confidence:"high",reasoning:"Generators typically last 20 years"}:t.includes("refrigerator")||t.includes("freezer")?{years:12,confidence:"high",reasoning:"Refrigeration equipment typically lasts 12 years"}:t.includes("printer")||t.includes("copier")||t.includes("scanner")?{years:7,confidence:"medium",reasoning:"Office equipment typically lasts 7 years"}:t.includes("monitor")||t.includes("display")||t.includes("screen")?{years:5,confidence:"medium",reasoning:"Displays typically last 5 years"}:t.includes("laptop")||t.includes("notebook")?{years:4,confidence:"high",reasoning:"Laptops typically last 4 years"}:t.includes("tablet")||t.includes("ipad")?{years:3,confidence:"medium",reasoning:"Tablets typically last 3 years"}:t.includes("drill")||t.includes("saw")||t.includes("tool")?{years:8,confidence:"medium",reasoning:"Power tools typically last 8 years"}:t.includes("camera")||t.includes("video")||t.includes("recording")?{years:6,confidence:"medium",reasoning:"A/V equipment typically lasts 6 years"}:t.includes("fire")||t.includes("safety")||t.includes("alarm")?{years:10,confidence:"high",reasoning:"Safety equipment typically lasts 10 years"}:t.includes("paper")||t.includes("pen")||t.includes("supply")?{years:1,confidence:"low",reasoning:"Consumables typically last 1 year"}:{years:5,confidence:"low",reasoning:"Default estimate based on general equipment"}}function lU(e,t){let r=0,n="";return e>=1e5?(r=2,n="High-value items typically last longer"):e>=5e4?(r=1,n="Medium-high value items may last longer"):e>=1e4?(r=0,n="Standard value items"):e>=1e3?(r=-1,n="Lower value items may have shorter life"):(r=-2,n="Low value items typically have shorter life"),{years:Math.max(1,t+r),confidence:e>=1e4?"high":e>=1e3?"medium":"low",reasoning:n}}function cU(e){return{years:{"IT Equipment":5,Furniture:10,Vehicles:8,Machinery:15,Electronics:4,Tools:8,Appliances:12,"Safety Equipment":10,"Office Equipment":7,"Building Equipment":20}[e||""]||5,confidence:"medium",reasoning:`Category-based estimate for ${e||"unknown category"}`}}function dU(e){if(e.manualOverride&&e.manualOverride>0)return{years:e.manualOverride,months:Math.round(e.manualOverride*12),method:"manual",confidence:"high",reasoning:"Manual override provided by user"};const t=oU(e.description),r=lU(e.cost,t.years||5);if(t.confidence==="high"){const a=r.years||t.years||5;return{years:a,months:Math.round(a*12),method:"intelligent",confidence:r.confidence||"high",reasoning:`${t.reasoning}. ${r.reasoning}`}}if(e.category){const a=cU(e.category),i=r.years||a.years||5;return{years:i,months:Math.round(i*12),method:"category_fallback",confidence:r.confidence||"medium",reasoning:`${a.reasoning}. ${r.reasoning}`}}const n=r.years||5;return{years:n,months:Math.round(n*12),method:"intelligent",confidence:"low",reasoning:`Default estimate based on cost analysis. ${r.reasoning}`}}function uU(e){const t={intelligent:"AI Analysis",manual:"Manual Override",category_fallback:"Category-Based"},r={high:"High Confidence",medium:"Medium Confidence",low:"Low Confidence"};return`${e.years} years (${e.months} months) - ${t[e.method]} - ${r[e.confidence]}`}function fU(e){if(!e||e.trim()==="")return{valid:!0};const t=parseFloat(e);return isNaN(t)?{valid:!1,error:"Must be a valid number"}:t<=0?{valid:!1,error:"Must be greater than 0"}:t>50?{valid:!1,error:"Must be 50 years or less"}:{valid:!0,years:t}}var th="Checkbox",[hU,SV]=kr(th),[mU,py]=hU(th);function pU(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[m,p]=qs({prop:r,defaultProp:a??!1,onChange:c,caller:th}),[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useRef(!1),b=x?!!o||!!x.closest("form"):!0,N={checked:m,disabled:i,setChecked:p,control:x,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:Ta(a)?!1:a,isFormControl:b,bubbleInput:w,setBubbleInput:y};return s.jsx(mU,{scope:t,...N,children:gU(f)?f(N):n})}var wE="CheckboxTrigger",jE=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=py(wE,e),g=ze(a,u),w=h.useRef(c);return h.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const v=()=>f(w.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,f]),s.jsx(De.button,{type:"button",role:"checkbox","aria-checked":Ta(c)?"mixed":c,"aria-required":d,"data-state":EE(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Ne(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ne(r,y=>{f(v=>Ta(v)?!0:!v),x&&p&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});jE.displayName=wE;var gy=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return s.jsx(pU,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(jE,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(CE,{__scopeCheckbox:r})]})})});gy.displayName=th;var NE="CheckboxIndicator",_E=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=py(NE,r);return s.jsx(sr,{present:n||Ta(i.checked)||i.checked===!0,children:s.jsx(De.span,{"data-state":EE(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});_E.displayName=NE;var SE="CheckboxBubbleInput",CE=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:m,setBubbleInput:p}=py(SE,e),x=ze(r,p),g=DC(i),w=l_(n);h.useEffect(()=>{const v=m;if(!v)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,E=!a.current;if(g!==i&&j){const k=new Event("click",{bubbles:E});v.indeterminate=Ta(i),j.call(v,Ta(i)?!1:i),v.dispatchEvent(k)}},[m,g,i,a]);const y=h.useRef(Ta(i)?!1:i);return s.jsx(De.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CE.displayName=SE;function gU(e){return typeof e=="function"}function Ta(e){return e==="indeterminate"}function EE(e){return Ta(e)?"indeterminate":e?"checked":"unchecked"}const ad=h.forwardRef(({className:e,...t},r)=>s.jsx(gy,{ref:r,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(_E,{className:Ee("flex items-center justify-center text-current"),children:s.jsx(Bs,{className:"h-4 w-4"})})}));ad.displayName=gy.displayName;const vU=({item:e,onSave:t,onCancel:r,isSaving:n=!1})=>{var Q,ie,ne;const[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState([]),[u,f]=h.useState(!0),[m,p]=h.useState({type:null}),[x,g]=h.useState({name:""}),[w,y]=h.useState(((Q=e==null?void 0:e.estimatedUsefulLifeOverride)==null?void 0:Q.toString())||""),[v,b]=h.useState(null),[N,j]=h.useState(""),[E,k]=h.useState(!1),[D,z]=h.useState(""),[F,I]=h.useState(""),[q,X]=h.useState(!1),S=async()=>{if(!x.name.trim()||!m.type)return;const R={supplier:"suppliers",fundSource:"fund_sources"},J=await Mr.create(R[m.type],x);m.type==="supplier"&&i([J,...a]),m.type==="fundSource"&&l([J,...o]),g({name:""}),p({type:null})},[_,A]=h.useState({propertyNumber:(e==null?void 0:e.propertyNumber)||"",description:(e==null?void 0:e.description)||"",brand:(e==null?void 0:e.brand)||"",model:(e==null?void 0:e.model)||"",serialNumber:(e==null?void 0:e.serialNumber)||"",unitOfMeasure:(e==null?void 0:e.unitOfMeasure)||"piece",quantity:(e==null?void 0:e.quantity)||1,unitCost:(e==null?void 0:e.unitCost)||void 0,dateAcquired:(e==null?void 0:e.dateAcquired)||new Date().toISOString().split("T")[0],supplier:(e==null?void 0:e.supplier)||"",condition:(e==null?void 0:e.condition)||"Serviceable",fundSource:(e==null?void 0:e.fundSource)||"",remarks:(e==null?void 0:e.remarks)||"",semiExpandableCategory:(e==null?void 0:e.semiExpandableCategory)||"",subCategory:(e==null?void 0:e.subCategory)||void 0,status:(e==null?void 0:e.status)||"Active",lastInventoryDate:(e==null?void 0:e.lastInventoryDate)||"",entityName:(e==null?void 0:e.entityName)||"PROVINCIAL GOVERNMENT OF APAYAO"}),te=h.useMemo(()=>{var J,ce,se;return[(J=_.brand)==null?void 0:J.trim(),(ce=_.model)==null?void 0:ce.trim(),(se=_.serialNumber)==null?void 0:se.trim()].filter(Boolean).join(" ")},[_.brand,_.model,_.serialNumber]),W=R=>{if(R!=null)return R<=5e3?"Small Value Expendable":"High Value Expendable"};h.useEffect(()=>{if(e!=null&&e.propertyNumber&&!F){const R=e.propertyNumber.split("-");(R[0]==="SPLV"||R[0]==="SPHV")&&I(R[0])}},[e==null?void 0:e.propertyNumber,F]);const U=async R=>{console.log("generatePropertyNumber called with subCategory:",R);const J=Ud.getPrefixForSubCategory(R);I(J);try{const ce=await Ud.generateUniquePropertyNumber(R);console.log("Generated unique property number:",ce),A(se=>({...se,propertyNumber:ce})),console.log("Updated formData with property number:",ce)}catch(ce){console.error("Error generating unique property number:",ce);try{const se=await Ud.generateNextPropertyNumber(R);console.log("Generated fallback property number:",se),A(Pe=>({...Pe,propertyNumber:se}))}catch(se){console.error("Fallback generation also failed:",se);const Pe=new Date,Ue=Pe.getFullYear().toString(),st=(Pe.getMonth()+1).toString().padStart(2,"0"),oe=`${J}-${Ue}-${st}-0001`;console.log("Using final fallback number:",oe),A(Me=>({...Me,propertyNumber:oe}))}}};h.useEffect(()=>{if(_.unitCost!==void 0&&_.unitCost!==null&&_.unitCost>=.01){const R=W(_.unitCost);R&&A(J=>J.subCategory!==R?(console.log("Auto-determining sub-category:",R,"from unit cost:",_.unitCost),U(R),{...J,subCategory:R}):J)}else(_.unitCost===void 0||_.unitCost===null)&&A(R=>R.subCategory?(I(""),{...R,subCategory:void 0,propertyNumber:""}):R)},[_.unitCost]);const ae=R=>{if(!R)return"";const J=R.split("-");if(J.length!==4)return R;const[ce,se,Pe,Ue]=J;return ce!=="SPLV"&&ce!=="SPHV"?F?`${F}-${se}-${Pe}-${Ue}`:R:F&&ce!==F?`${F}-${se}-${Pe}-${Ue}`:R},ve=R=>{const J=ae(R);A(ce=>({...ce,propertyNumber:J}))},B=h.useMemo(()=>{const R=_.unitCost;return R==null?{isValid:!0,message:""}:R<.01?{isValid:!1,message:"Unit cost must be at least 0.01"}:{isValid:!0,message:""}},[_.unitCost]);h.useEffect(()=>{(async()=>{try{const[J,ce,se]=await Promise.all([Mr.getSuppliers(),Mr.getFundSources(),Mr.getSemiExpandableCategories()]);i(J),l(ce),d(se)}catch(J){console.error("Error loading lookup data:",J)}finally{f(!1)}})()},[]),h.useEffect(()=>{if(_.description&&_.unitCost!==void 0){const R=dU({description:_.description,cost:_.unitCost,category:"Semi-Expendable",manualOverride:w?parseFloat(w):void 0});b(R)}},[_.description,_.unitCost,w]);const O=R=>{y(R);const J=fU(R);j(J.error||"")},G=R=>{if(R.preventDefault(),!_.semiExpandableCategory){j("Please select a Semi-Expendable Category");return}if(!_.unitCost||_.unitCost<.01){j("Please enter a valid unit cost (minimum 0.01)");return}if(!_.subCategory){const ce=W(_.unitCost);if(ce){A(se=>({...se,subCategory:ce})),j("Please wait for property number to be generated..."),U(ce).then(()=>{setTimeout(()=>{const se={id:(e==null?void 0:e.id)||`INV-${Date.now()}`,..._,subCategory:ce,totalCost:(_.quantity||0)*(_.unitCost||0),estimatedUsefulLifeOverride:w?parseFloat(w):null,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};t(se,q)},500)});return}j("Unable to determine sub-category. Please check unit cost.");return}if(!B.isValid){j(B.message);return}if(!_.propertyNumber){j("Property number is required. Please wait for it to be generated or enter manually.");return}j("");const J={id:(e==null?void 0:e.id)||`INV-${Date.now()}`,..._,totalCost:(_.quantity||0)*(_.unitCost||0),estimatedUsefulLifeOverride:w?parseFloat(w):null,createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};t(J,q)};return u?s.jsx(Re,{className:"max-w-4xl mx-auto",children:s.jsx(Ie,{className:"p-8 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading form data..."})})}):s.jsxs(s.Fragment,{children:[s.jsxs(Re,{className:"max-w-4xl mx-auto",children:[s.jsx(Be,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Ke,{children:e?"Edit Inventory Item":"Add New Inventory Item"})})}),s.jsx(Ie,{children:s.jsxs("form",{onSubmit:G,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-blue-50 to-blue-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Category Selection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"semiExpandableCategory",className:"text-sm font-medium",children:"Semi-Expendable Category *"}),s.jsxs(uE,{open:E,onOpenChange:k,children:[s.jsx(fE,{asChild:!0,children:s.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":E,className:"w-full justify-between h-auto min-h-10 py-2 bg-white",children:[s.jsx("span",{className:"truncate text-left flex-1 mr-2",children:_.semiExpandableCategory?((ie=c.find(R=>R.name===_.semiExpandableCategory))==null?void 0:ie.name)||_.semiExpandableCategory:"Select category..."}),s.jsx(FN,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(oy,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:s.jsxs(cy,{children:[s.jsx(dy,{placeholder:"Search categories...",value:D,onValueChange:z}),s.jsxs(uy,{children:[s.jsx(fy,{children:"No category found."}),s.jsx(hy,{children:c.filter(R=>D===""||R.name.toLowerCase().includes(D.toLowerCase())).map(R=>s.jsxs(my,{value:R.name,onSelect:()=>{A({..._,semiExpandableCategory:R.name}),k(!1),z("")},children:[s.jsx(Bs,{className:Ee("mr-2 h-4 w-4",_.semiExpandableCategory===R.name?"opacity-100":"opacity-0")}),R.name]},R.id))})]})]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Search and select the appropriate semi-expendable category"})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-green-50 to-green-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Item Identification"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"brand",children:"Brand"}),s.jsx(Te,{id:"brand",value:_.brand,onChange:R=>A({..._,brand:R.target.value}),placeholder:"e.g., Dell, HP, Apple"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"model",children:"Model"}),s.jsx(Te,{id:"model",value:_.model,onChange:R=>A({..._,model:R.target.value}),placeholder:"e.g., OptiPlex 7090"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"serialNumber",children:"Serial Number"}),s.jsx(Te,{id:"serialNumber",value:_.serialNumber,onChange:R=>A({..._,serialNumber:R.target.value}),placeholder:"e.g., DL12345678"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"description",children:"Description (auto-generated) *"}),s.jsx(Te,{id:"description",value:te,disabled:!0,placeholder:"Auto-generated from Brand, Model, Serial Number",className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Description is automatically generated from Brand, Model, and Serial Number fields above"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Te,{id:"entityName",value:_.entityName||"",onChange:R=>A({..._,entityName:R.target.value}),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: PROVINCIAL GOVERNMENT OF APAYAO - This will be used as the entity name when creating property cards"})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-600 text-white flex items-center justify-center text-sm font-bold",children:"3"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Financial Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"quantity",children:"Quantity *"}),s.jsx(Te,{id:"quantity",type:"number",min:"1",value:_.quantity,onChange:R=>A({..._,quantity:parseInt(R.target.value)||1}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"unitOfMeasure",children:"Unit of Measure *"}),s.jsxs(Nt,{value:_.unitOfMeasure,onValueChange:R=>A({..._,unitOfMeasure:R}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"piece",children:"Piece"}),s.jsx(je,{value:"set",children:"Set"}),s.jsx(je,{value:"unit",children:"Unit"}),s.jsx(je,{value:"lot",children:"Lot"}),s.jsx(je,{value:"pair",children:"Pair"}),s.jsx(je,{value:"dozen",children:"Dozen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"unitCost",children:"Unit Cost *"}),s.jsx(Te,{id:"unitCost",type:"number",step:"0.01",min:"0.01",value:_.unitCost||"",onChange:R=>{const J=parseFloat(R.target.value);isNaN(J)?A({..._,unitCost:void 0}):A({..._,unitCost:J})},onBlur:R=>{const J=parseFloat(R.target.value);(!J||J<=0)&&A({..._,unitCost:.01})},required:!0,placeholder:"Enter amount (minimum 0.01)",className:B.isValid?"":"border-red-500"}),!B.isValid&&s.jsx("div",{className:"text-sm text-red-600",children:B.message}),_.unitCost!==void 0&&_.unitCost!==null&&_.unitCost>=.01&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:`px-2 py-1 rounded ${_.unitCost<=5e3?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:_.unitCost<=5e3?" Small Value (SPLV)":" High Value (SPHV)"}),s.jsx("span",{className:"text-muted-foreground",children:"Sub-category and property number will be auto-generated"})]}),(!_.unitCost||_.unitCost<.01)&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Enter unit cost to automatically determine sub-category and generate property number"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{children:"Total Cost"}),s.jsxs("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:["",((_.quantity||0)*(_.unitCost||0)).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-purple-50 to-purple-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center text-sm font-bold",children:"4"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Property Details"}),s.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"(Auto-determined from unit cost)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"subCategory",className:"text-sm font-medium",children:"Sub-Category"}),s.jsx("div",{className:`px-4 py-3 rounded-md text-sm font-medium flex items-center justify-between ${_.subCategory==="High Value Expendable"?"bg-blue-100 text-blue-800 border-2 border-blue-300":_.subCategory==="Small Value Expendable"?"bg-green-100 text-green-800 border-2 border-green-300":"bg-muted text-muted-foreground border-2 border-gray-200"}`,children:_.subCategory?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:_.subCategory==="High Value Expendable"?"":""}),s.jsx("span",{children:_.subCategory==="Small Value Expendable"?"Small Value Expendable (SPLV)":"High Value Expendable (SPHV)"})]}):s.jsx("span",{children:"Enter unit cost above to determine"})}),_.unitCost!==void 0&&_.unitCost!==null&&_.unitCost>=.01&&s.jsx("p",{className:"text-xs text-muted-foreground",children:_.unitCost<=5e3?" Determined as Small Value ( 5,000)":" Determined as High Value (> 5,000)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(he,{htmlFor:"propertyNumber",className:"text-sm font-medium",children:"Property Number *"}),_.subCategory&&s.jsx(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>{_.subCategory&&U(_.subCategory)},className:"text-xs h-7",children:" Regenerate"})]}),s.jsx(Te,{id:"propertyNumber",value:_.propertyNumber,onChange:R=>ve(R.target.value),required:!0,placeholder:_.subCategory?"Auto-generated from unit cost":"Enter unit cost to generate",className:_.subCategory?"bg-green-50 border-green-300 font-mono":"bg-muted"}),_.subCategory&&s.jsxs("p",{className:"text-xs text-green-700",children:[" Format: ",Ud.getPrefixForSubCategory(_.subCategory),"-YYYY-MM-NNNN"]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-orange-50 to-orange-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-600 text-white flex items-center justify-center text-sm font-bold",children:"5"}),s.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Acquisition Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"dateAcquired",children:"Date Acquired *"}),s.jsx(Te,{id:"dateAcquired",type:"date",value:_.dateAcquired,onChange:R=>A({..._,dateAcquired:R.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"supplier",children:"Supplier"}),s.jsxs(Nt,{value:_.supplier,onValueChange:R=>A({..._,supplier:R}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select supplier"})}),s.jsxs(xt,{children:[a.map(R=>s.jsx(je,{value:R.id,children:R.name},R.id)),s.jsx("div",{className:"p-2",children:s.jsx(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>p({type:"supplier"}),children:"+ Add supplier"})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"fundSource",children:"Fund Source"}),s.jsxs(Nt,{value:_.fundSource,onValueChange:R=>A({..._,fundSource:R}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select fund source"})}),s.jsxs(xt,{children:[o.map(R=>s.jsx(je,{value:R.id,children:R.name},R.id)),s.jsx("div",{className:"p-2",children:s.jsx(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>p({type:"fundSource"}),children:"+ Add fund source"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-red-50 to-red-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-600 text-white flex items-center justify-center text-sm font-bold",children:"6"}),s.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Status and Condition"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"condition",children:"Condition *"}),s.jsxs(Nt,{value:_.condition,onValueChange:R=>A({..._,condition:R}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"Serviceable",children:"Serviceable"}),s.jsx(je,{value:"Unserviceable",children:"Unserviceable"}),s.jsx(je,{value:"For Repair",children:"For Repair"}),s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"status",children:"Status *"}),s.jsxs(Nt,{value:_.status,onValueChange:R=>A({..._,status:R}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"Active",children:"Active"}),s.jsx(je,{value:"Transferred",children:"Transferred"}),s.jsx(je,{value:"Disposed",children:"Disposed"}),s.jsx(je,{value:"Missing",children:"Missing"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"lastInventoryDate",children:"Last Inventory Date"}),s.jsx(Te,{id:"lastInventoryDate",type:"date",value:_.lastInventoryDate,onChange:R=>A({..._,lastInventoryDate:R.target.value})})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-gray-50 to-gray-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 text-white flex items-center justify-center text-sm font-bold",children:"7"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"remarks",children:"Remarks"}),s.jsx(Ni,{id:"remarks",value:_.remarks,onChange:R=>A({..._,remarks:R.target.value}),rows:3,placeholder:"Additional notes or comments about this item"})]})]}),!e&&s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-teal-50 to-teal-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center text-sm font-bold",children:"8"}),s.jsx("h3",{className:"text-lg font-semibold text-teal-900",children:"Property Card Creation"})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background rounded-md border",children:[s.jsx(ad,{id:"autoCreatePropertyCard",checked:q,onCheckedChange:R=>X(R===!0)}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx(he,{htmlFor:"autoCreatePropertyCard",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Automatically create property card"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, a property card will be created automatically using the entity name and fund source from this inventory item. You can still edit the property card later if needed."}),q&&s.jsxs("div",{className:"mt-2 p-2 bg-teal-50 rounded text-xs",children:[s.jsx("p",{className:"font-medium text-teal-800",children:"Property card will be created with:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-teal-700",children:[s.jsxs("li",{children:["Entity Name: ",_.entityName||"PROVINCIAL GOVERNMENT OF APAYAO"]}),s.jsxs("li",{children:["Fund Cluster: ",_.fundSource?((ne=o.find(R=>R.id===_.fundSource))==null?void 0:ne.name)||"From selected fund source":"General Fund (default)"]}),s.jsxs("li",{children:["Property Number: ",_.propertyNumber||"Will use generated number"]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-5 border rounded-lg bg-gradient-to-br from-indigo-50 to-indigo-100/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center text-sm font-bold",children:e?"8":"9"}),s.jsx("h3",{className:"text-lg font-semibold text-indigo-900",children:"Estimated Useful Life"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Intelligent calculation based on description and cost, with manual override option"}),v&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-md border",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[v.years," years (",v.months," months)"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:uU(v)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-medium text-green-600",children:v.method==="manual"?"Manual Override":v.method==="intelligent"?"AI Analysis":"Category-Based"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.confidence," confidence"]})]})]}),v.reasoning&&s.jsxs("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded",children:[s.jsx("strong",{children:"Reasoning:"})," ",v.reasoning]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(he,{htmlFor:"estimatedLifeOverride",children:"Manual Override (Optional)"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Te,{id:"estimatedLifeOverride",type:"number",step:"0.1",min:"0.1",max:"50",value:w,onChange:R=>O(R.target.value),placeholder:"Enter years (e.g., 5.5)",className:N?"border-red-500":""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"years"})]}),N&&s.jsx("div",{className:"text-sm text-red-600",children:N}),!N&&w&&s.jsx("div",{className:"text-sm text-green-600",children:" Manual override will be used instead of intelligent calculation"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(ue,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),s.jsx(ue,{type:"submit",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Adding..."]}):e?"Update Item":"Add Item"})]})]})})]}),s.jsx(en,{open:!!m.type,onOpenChange:()=>p({type:null}),children:s.jsxs(Ur,{children:[s.jsx(nn,{children:s.jsxs(sn,{children:["Add ",m.type==="supplier"?"Supplier":"Fund Source"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx(Te,{placeholder:"Name",value:x.name,onChange:R=>g({...x,name:R.target.value})}),s.jsx(Te,{placeholder:"Code (optional)",value:x.code||"",onChange:R=>g({...x,code:R.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>p({type:null}),children:"Cancel"}),s.jsx(ue,{onClick:S,disabled:!x.name.trim(),children:"Save"})]})]})})]})};var kE="AlertDialog",[yU,CV]=kr(kE,[b1]),Hs=b1(),PE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Hs(t);return s.jsx(ey,{...n,...r,modal:!0})};PE.displayName=kE;var xU="AlertDialogTrigger",bU=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Hs(r);return s.jsx(M1,{...a,...n,ref:t})});bU.displayName=xU;var wU="AlertDialogPortal",TE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Hs(t);return s.jsx(ty,{...n,...r})};TE.displayName=wU;var jU="AlertDialogOverlay",AE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Hs(r);return s.jsx(Gf,{...a,...n,ref:t})});AE.displayName=jU;var To="AlertDialogContent",[NU,_U]=yU(To),SU=lN("AlertDialogContent"),RE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Hs(r),o=h.useRef(null),l=ze(t,o),c=h.useRef(null);return s.jsx(f5,{contentName:To,titleName:IE,docsSlug:"alert-dialog",children:s.jsx(NU,{scope:r,cancelRef:c,children:s.jsxs(Yf,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(SU,{children:n}),s.jsx(EU,{contentRef:o})]})})})});RE.displayName=To;var IE="AlertDialogTitle",OE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Hs(r);return s.jsx(ry,{...a,...n,ref:t})});OE.displayName=IE;var DE="AlertDialogDescription",ME=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Hs(r);return s.jsx(ny,{...a,...n,ref:t})});ME.displayName=DE;var CU="AlertDialogAction",LE=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Hs(r);return s.jsx(sy,{...a,...n,ref:t})});LE.displayName=CU;var FE="AlertDialogCancel",$E=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=_U(FE,r),i=Hs(r),o=ze(t,a);return s.jsx(sy,{...i,...n,ref:o})});$E.displayName=FE;var EU=({contentRef:e})=>{const t=`\`${To}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${To}\` by passing a \`${DE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${To}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kU=PE,PU=TE,UE=AE,qE=RE,BE=LE,VE=$E,zE=OE,WE=ME;const TU=kU,AU=PU,HE=h.forwardRef(({className:e,...t},r)=>s.jsx(UE,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));HE.displayName=UE.displayName;const KE=h.forwardRef(({className:e,...t},r)=>s.jsxs(AU,{children:[s.jsx(HE,{}),s.jsx(qE,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));KE.displayName=qE.displayName;const QE=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});QE.displayName="AlertDialogHeader";const GE=({className:e,...t})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});GE.displayName="AlertDialogFooter";const YE=h.forwardRef(({className:e,...t},r)=>s.jsx(zE,{ref:r,className:Ee("text-lg font-semibold",e),...t}));YE.displayName=zE.displayName;const XE=h.forwardRef(({className:e,...t},r)=>s.jsx(WE,{ref:r,className:Ee("text-sm text-muted-foreground",e),...t}));XE.displayName=WE.displayName;const JE=h.forwardRef(({className:e,...t},r)=>s.jsx(BE,{ref:r,className:Ee(Bv(),e),...t}));JE.displayName=BE.displayName;const ZE=h.forwardRef(({className:e,...t},r)=>s.jsx(VE,{ref:r,className:Ee(Bv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ZE.displayName=VE.displayName;function Hn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Mi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ek=6048e5,RU=864e5;let IU={};function rh(){return IU}function Ac(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Hn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Yu(e){return Ac(e,{weekStartsOn:1})}function tk(e){const t=Hn(e),r=t.getFullYear(),n=Mi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Yu(n),i=Mi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Yu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function m0(e){const t=Hn(e);return t.setHours(0,0,0,0),t}function p0(e){const t=Hn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function OU(e,t){const r=m0(e),n=m0(t),a=+r-p0(r),i=+n-p0(n);return Math.round((a-i)/RU)}function DU(e){const t=tk(e),r=Mi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Yu(r)}function MU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function LU(e){if(!MU(e)&&typeof e!="number")return!1;const t=Hn(e);return!isNaN(Number(t))}function FU(e){const t=Hn(e),r=Mi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const $U={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UU=(e,t,r)=>{let n;const a=$U[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function hm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zU={date:hm({formats:qU,defaultWidth:"full"}),time:hm({formats:BU,defaultWidth:"full"}),dateTime:hm({formats:VU,defaultWidth:"full"})},WU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HU=(e,t,r,n)=>WU[e];function Tl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const KU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eq={ordinalNumber:ZU,era:Tl({values:KU,defaultWidth:"wide"}),quarter:Tl({values:QU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Tl({values:GU,defaultWidth:"wide"}),day:Tl({values:YU,defaultWidth:"wide"}),dayPeriod:Tl({values:XU,defaultWidth:"wide",formattingValues:JU,defaultFormattingWidth:"wide"})};function Al(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rq(l,f=>f.test(o)):tq(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function tq(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rq(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nq(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const sq=/^(\d+)(th|st|nd|rd)?/i,aq=/\d+/i,iq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oq={any:[/^b/i,/^(a|c)/i]},lq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cq={any:[/1/i,/2/i,/3/i,/4/i]},dq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gq={ordinalNumber:nq({matchPattern:sq,parsePattern:aq,valueCallback:e=>parseInt(e,10)}),era:Al({matchPatterns:iq,defaultMatchWidth:"wide",parsePatterns:oq,defaultParseWidth:"any"}),quarter:Al({matchPatterns:lq,defaultMatchWidth:"wide",parsePatterns:cq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Al({matchPatterns:dq,defaultMatchWidth:"wide",parsePatterns:uq,defaultParseWidth:"any"}),day:Al({matchPatterns:fq,defaultMatchWidth:"wide",parsePatterns:hq,defaultParseWidth:"any"}),dayPeriod:Al({matchPatterns:mq,defaultMatchWidth:"any",parsePatterns:pq,defaultParseWidth:"any"})},vq={code:"en-US",formatDistance:UU,formatLong:zU,formatRelative:HU,localize:eq,match:gq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yq(e){const t=Hn(e);return OU(t,FU(t))+1}function xq(e){const t=Hn(e),r=+Yu(t)-+DU(t);return Math.round(r/ek)+1}function rk(e,t){var u,f,m,p;const r=Hn(e),n=r.getFullYear(),a=rh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Mi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ac(o,t),c=Mi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Ac(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function bq(e,t){var l,c,d,u;const r=rh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=rk(e,t),i=Mi(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ac(i,t)}function wq(e,t){const r=Hn(e),n=+Ac(r,t)-+bq(r,t);return Math.round(n/ek)+1}function ct(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Xs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ct(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ct(r+1,2)},d(e,t){return ct(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ct(e.getHours()%12||12,t.length)},H(e,t){return ct(e.getHours(),t.length)},m(e,t){return ct(e.getMinutes(),t.length)},s(e,t){return ct(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ct(a,t.length)}},to={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},g0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Xs.y(e,t)},Y:function(e,t,r,n){const a=rk(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ct(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ct(i,t.length)},R:function(e,t){const r=tk(e);return ct(r,t.length)},u:function(e,t){const r=e.getFullYear();return ct(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ct(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Xs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wq(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ct(a,t.length)},I:function(e,t,r){const n=xq(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ct(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xs.d(e,t)},D:function(e,t,r){const n=yq(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ct(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ct(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ct(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=to.noon:n===0?a=to.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=to.evening:n>=12?a=to.afternoon:n>=4?a=to.morning:a=to.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xs.s(e,t)},S:function(e,t){return Xs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return y0(n);case"XXXX":case"XX":return ti(n);case"XXXXX":case"XXX":default:return ti(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return y0(n);case"xxxx":case"xx":return ti(n);case"xxxxx":case"xxx":default:return ti(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v0(n,":");case"OOOO":default:return"GMT"+ti(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v0(n,":");case"zzzz":default:return"GMT"+ti(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ct(n,t.length)},T:function(e,t,r){const n=e.getTime();return ct(n,t.length)}};function v0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ct(i,2)}function y0(e,t){return e%60===0?(e>0?"-":"+")+ct(Math.abs(e)/60,2):ti(e,t)}function ti(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ct(Math.trunc(n/60),2),i=ct(n%60,2);return r+a+t+i}const x0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jq=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return x0(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",x0(n,t)).replace("{{time}}",nk(a,t))},Nq={p:nk,P:jq},_q=/^D+$/,Sq=/^Y+$/,Cq=["D","DD","YY","YYYY"];function Eq(e){return _q.test(e)}function kq(e){return Sq.test(e)}function Pq(e,t,r){const n=Tq(e,t,r);if(console.warn(n),Cq.includes(e))throw new RangeError(n)}function Tq(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Aq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iq=/^'([^]*?)'?$/,Oq=/''/g,Dq=/[a-zA-Z]/;function as(e,t,r){var u,f,m,p;const n=rh(),a=n.locale??vq,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=Hn(e);if(!LU(l))throw new RangeError("Invalid time value");let c=t.match(Rq).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=Nq[g];return w(x,a.formatLong)}return x}).join("").match(Aq).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:Mq(x)};if(g0[g])return{isToken:!0,value:x};if(g.match(Dq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(kq(g)||Eq(g))&&Pq(g,t,String(e));const w=g0[g[0]];return w(l,g,a.localize,d)}).join("")}function Mq(e){const t=e.match(Iq);return t?t[1].replace(Oq,"'"):e}class Lq{async createPropertyCardFromInventory(t){var c;const{data:r,error:n}=await re.from("inventory_items").select("*").eq("id",t.inventoryItemId).single();if(n||!r)throw new Error(`Inventory item not found: ${n==null?void 0:n.message}`);const a=(r.description||(r.model?`${r.brand?r.brand+" ":""}${r.model}`:r.brand)||"").trim(),i={entity_name:t.entityName,fund_cluster:t.fundCluster,semi_expendable_property:r.description||a,property_number:r.property_number,description:a,date_acquired:r.date_acquired,remarks:r.remarks};i.inventory_item_id=t.inventoryItemId;const{data:o,error:l}=await re.from("property_cards").insert(i).select().single();if(l)throw new Error(`Failed to create property card: ${l.message}`);return t.initialEntry&&await this.addPropertyCardEntry(o.id,{...t.initialEntry,reference:((c=t.initialEntry.reference)==null?void 0:c.trim())||"",issueItemNo:"",issueQty:0,officeOfficer:"",balanceQty:t.initialEntry.receiptQty,amount:t.initialEntry.totalCost}),this.mapToAnnexPropertyCard(o)}async createCustodianSlip(t){var i;if(console.log("Creating custodian slip(s) with inventory items:",((i=t.inventoryItemIds)==null?void 0:i.length)||0),!t.inventoryItemIds||t.inventoryItemIds.length===0)throw new Error("No inventory items provided for the custodian slip");console.log("Validating inventory items and property cards...");const r=[];for(const o of t.inventoryItemIds){const{data:l,error:c}=await re.from("inventory_items").select("*").eq("id",o).single();if(c||!l)throw new Error(`Inventory item ${o} not found`);if(l.assignment_status==="Assigned"||l.custodian)throw new Error(`Inventory item ${l.property_number} is already assigned to ${l.custodian}`);if(l.condition!=="Serviceable")throw new Error(`Inventory item ${l.property_number} is not serviceable (${l.condition})`);console.log(`Processing inventory item: ${l.property_number} (${o})`),r.push(l)}console.log("All validations passed, grouping items by sub-category...");const n={};for(const o of r){const l=o.sub_category||"Unknown";n[l]||(n[l]=[]),n[l].push(o)}console.log(`Grouped items into ${Object.keys(n).length} sub-category(ies):`,Object.keys(n));const a=[];for(const o of Object.keys(n)){const l=n[o];console.log(`Creating slip for ${o} with ${l.length} item(s)`);const c=o==="Small Value Expendable"?"SPLV":"SPHV",{data:d,error:u}=await re.rpc("generate_ics_number",{sub_category_prefix:c});if(u){console.error("Error generating ICS number:",u);const{data:g}=await re.rpc("generate_ics_number",{sub_category_prefix:null});console.log("Using fallback ICS number:",g)}const f={slip_number:u?null:d,custodian_name:t.custodianName,designation:t.designation,office:t.office,date_issued:t.dateIssued,issued_by:t.issuedBy,received_by:t.receivedBy,slip_status:"Draft"};console.log("Inserting custodian slip:",f);const{data:m,error:p}=await re.from("custodian_slips").insert(f).select().single();if(p)throw console.error("Error creating custodian slip:",p),new Error(`Failed to create custodian slip: ${p.message}`);console.log("Custodian slip created successfully:",m.id);const x=[];for(const g of l){const w=g.quantity||1,y=g.unit_cost||0,v=w*y,b=(g.description||(g.model?`${g.brand?g.brand+" ":""}${g.model}`:g.brand)||"").trim(),N={slip_id:m.id,inventory_item_id:g.id,property_number:g.property_number,description:b,quantity:w,unit:g.unit_of_measure,unit_cost:y,total_cost:v,amount:v,date_issued:t.dateIssued},{data:j,error:E}=await re.from("custodian_slip_items").insert(N).select().single();if(E){console.error(`Failed to create slip item for ${g.id}:`,E);continue}console.log(`Draft slip created for inventory item ${g.property_number} - assignment will happen on confirmation`);const{data:k,error:D}=await re.from("property_cards").select("*").eq("inventory_item_id",g.id).single();if(D||!k){console.warn(`Property card not found for inventory item ${g.id}, skipping property card entry creation`),x.push(this.mapToAnnexCustodianSlipItem(j));continue}const z=await this.addPropertyCardEntry(k.id,{date:t.dateIssued,reference:m.slip_number||"PENDING",receiptQty:0,unitCost:0,totalCost:0,issueItemNo:m.slip_number||"PENDING",issueQty:g.quantity,officeOfficer:`${t.custodianName} (${t.designation})`,balanceQty:0,amount:0,remarks:`Issued via ICS ${m.slip_number||"PENDING"}`,relatedSlipId:m.id});await re.from("custodian_slip_items").update({property_card_entry_id:z.id}).eq("id",j.id),x.push(this.mapToAnnexCustodianSlipItem(j))}if(console.log(`Created ${x.length} slip items for custodian slip ${m.id}`),x.length===0)throw console.error(`No items were successfully added to the custodian slip for ${o}. Deleting empty slip.`),await re.from("custodian_slips").delete().eq("id",m.id),new Error(`No valid ${o} items could be added to the custodian slip. Please check that items are available and serviceable.`);a.push({...this.mapToAnnexCustodianSlip(m),items:x})}return a.length===1?(console.log("Single slip created, returning as single object"),a[0]):(console.log(`${a.length} slips created (separated by sub-category)`),a)}async addPropertyCardEntry(t,r){const n={property_card_id:t,date:r.date,reference:r.reference,receipt_qty:r.receiptQty,unit_cost:r.unitCost,total_cost:r.totalCost,issue_item_no:r.issueItemNo,issue_qty:r.issueQty,office_officer:r.officeOfficer,balance_qty:r.balanceQty,amount:r.amount,remarks:r.remarks,related_slip_id:r.relatedSlipId,related_transfer_id:r.relatedTransferId},{data:a,error:i}=await re.from("property_card_entries").insert(n).select().single();if(i)throw new Error(`Failed to add property card entry: ${i.message}`);return this.mapToAnnexSPCEntry(a)}async findPropertyCardByInventoryItem(t){try{console.log(`Searching for property card with inventory_item_id: ${t}`);const{data:r,error:n}=await re.from("property_cards").select("*").eq("inventory_item_id",t).single();return console.log("Property card query result - data:",r,"error:",n),n?n.message.includes('column "inventory_item_id" does not exist')?(console.warn("inventory_item_id column not found in property_cards table. Please run the database migration."),null):(console.error("Error finding property card by inventory item:",n),null):r?(console.log("Found property card:",r),this.mapToAnnexPropertyCard(r)):(console.log("No property card found for inventory item:",t),null)}catch(r){return console.error("Unexpected error finding property card:",r),null}}async getPropertyCardWithEntries(t){const{data:r,error:n}=await re.from("property_cards").select("*").eq("id",t).single();if(n||!r)return null;const{data:a,error:i}=await re.from("property_card_entries").select("*").eq("property_card_id",t).order("date",{ascending:!0});return i?(console.error("Failed to fetch property card entries:",i),this.mapToAnnexPropertyCard(r)):{...this.mapToAnnexPropertyCard(r),entries:a.map(o=>this.mapToAnnexSPCEntry(o))}}async getCustodianSlipWithItems(t){const{data:r,error:n}=await re.from("custodian_slips").select("*").eq("id",t).single();if(n||!r)return null;const{data:a,error:i}=await re.from("custodian_slip_items").select("*").eq("slip_id",t).order("created_at",{ascending:!0});return i?(console.error("Failed to fetch custodian slip items:",i),this.mapToAnnexCustodianSlip(r)):{...this.mapToAnnexCustodianSlip(r),items:a.map(o=>this.mapToAnnexCustodianSlipItem(o))}}mapToAnnexPropertyCard(t){return{id:t.id,entityName:t.entity_name,fundCluster:t.fund_cluster,semiExpendableProperty:t.semi_expendable_property,propertyNumber:t.property_number,description:t.description,dateAcquired:t.date_acquired,remarks:t.remarks,inventoryItemId:t.inventory_item_id,entries:[],createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexSPCEntry(t){return{id:t.id,propertyCardId:t.property_card_id,date:t.date,reference:t.reference,receiptQty:t.receipt_qty||0,unitCost:t.unit_cost||0,totalCost:t.total_cost||0,issueItemNo:t.issue_item_no||"",issueQty:t.issue_qty||0,officeOfficer:t.office_officer||"",balanceQty:t.balance_qty||0,amount:t.amount||0,remarks:t.remarks,relatedSlipId:t.related_slip_id,relatedTransferId:t.related_transfer_id,createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexCustodianSlip(t){return{id:t.id,slipNumber:t.slip_number,custodianName:t.custodian_name,designation:t.designation,office:t.office,dateIssued:t.date_issued,issuedBy:t.issued_by,receivedBy:t.received_by,items:[],createdAt:t.created_at,updatedAt:t.updated_at}}mapToAnnexCustodianSlipItem(t){return{id:t.id,slipId:t.slip_id,inventoryItemId:t.inventory_item_id,propertyNumber:t.property_number,description:t.description,quantity:t.quantity,unit:t.unit,unitCost:t.unit_cost||0,totalCost:t.total_cost||0,amount:t.amount||0,itemNumber:t.item_number||"",estimatedUsefulLife:t.estimated_useful_life||"",dateIssued:t.date_issued,propertyCardEntryId:t.property_card_entry_id,createdAt:t.created_at,updatedAt:t.updated_at}}}const Ao=new Lq,Fq=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,p]=h.useState(null),{toast:x}=Bn(),g=Va(),[w]=e4(),y=zn();h.useEffect(()=>{const oe=re.channel("realtime:inventory-page").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory item changed, refreshing..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).on("postgres_changes",{event:"*",schema:"public",table:"property_cards"},()=>{console.log("[Realtime] Property cards changed, refreshing inventory..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing inventory..."),g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]})}).subscribe();return()=>{re.removeChannel(oe)}},[g]);const v=w.get("filter"),b=w.get("valueFilter"),N=oe=>{const Me=new URLSearchParams;oe!=="all"&&Me.set("filter",oe),b&&Me.set("valueFilter",b),y(`/inventory${Me.toString()?"?"+Me.toString():""}`)},j=oe=>{const Me=new URLSearchParams;v&&Me.set("filter",v),oe!=="all"&&Me.set("valueFilter",oe),y(`/inventory${Me.toString()?"?"+Me.toString():""}`)},{data:E=[],isLoading:k,isFetching:D,error:z}=Gt({queryKey:["inventory-items-high-value",c,v],queryFn:async()=>{console.log("Fetching high value items, searchTerm:",c,"filter:",v);const oe=c.trim()?await Dr.search(c,{filter:v,valueFilter:"high-value"}):await Dr.getAll({filter:v,valueFilter:"high-value"});return console.log("High value inventory response:",oe),oe.success?oe.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(oe,Me)=>navigator.onLine?oe<2:!1}),{data:F=[],isLoading:I,isFetching:q,error:X}=Gt({queryKey:["inventory-items-low-value",c,v],queryFn:async()=>{console.log("Fetching low value items, searchTerm:",c,"filter:",v);const oe=c.trim()?await Dr.search(c,{filter:v,valueFilter:"low-value"}):await Dr.getAll({filter:v,valueFilter:"low-value"});return console.log("Low value inventory response:",oe),oe.success?oe.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(oe,Me)=>navigator.onLine?oe<2:!1}),{data:S=[],isLoading:_,isFetching:A,error:te}=Gt({queryKey:["inventory-items-filtered",c,v,b],queryFn:async()=>{console.log("Fetching filtered inventory items, searchTerm:",c,"filter:",v,"valueFilter:",b);const oe=c.trim()?await Dr.search(c,{filter:v,valueFilter:b}):await Dr.getAll({filter:v,valueFilter:b});return console.log("Filtered inventory response:",oe),oe.success?oe.data:[]},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:!1,retry:(oe,Me)=>navigator.onLine?oe<2:!1,enabled:!!b}),W=b?S:[],U=b?_:!1,ae=b?A:D||q,ve=b?te:null,B=Os({mutationFn:async({item:oe,autoCreatePropertyCard:Me})=>{const H=await Dr.create(oe);if(!H.success||!H.data)throw new Error(H.error||"Failed to create inventory item");const Z=H.data;if(console.log("[Inventory] Checking auto-create:",{autoCreatePropertyCard:Me,hasId:!!Z.id}),Me&&Z.id){console.log("[Inventory] Auto-create enabled, creating property card...");try{let ye="General Fund";if(oe.fundSource){console.log("[Inventory] Fetching fund source:",oe.fundSource);const ee=(await Mr.getFundSources()).find(de=>de.id===oe.fundSource);ee&&(ye=ee.name,console.log("[Inventory] Found fund source:",ye))}console.log("[Inventory] Creating property card with:",{inventoryItemId:Z.id,entityName:oe.entityName||"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:ye,propertyNumber:Z.propertyNumber});const P=await Ao.createPropertyCardFromInventory({inventoryItemId:Z.id,entityName:oe.entityName||"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:ye});return console.log("[Inventory]  Property card created successfully:",{id:P.id,propertyNumber:P.propertyNumber}),{data:Z,propertyCardCreated:!0,propertyCardId:P.id,success:!0,error:null}}catch(ye){console.error("[Inventory]  Error auto-creating property card:",ye);const P=ye instanceof Error?ye.message:String(ye);return console.error("[Inventory] Error details:",{message:P,stack:ye instanceof Error?ye.stack:void 0}),{data:Z,propertyCardCreated:!1,propertyCardError:P,success:!0,error:null}}}return console.log("[Inventory] Auto-create not enabled or no item ID"),{data:Z,propertyCardCreated:!1,success:!0,error:null}},onSuccess:async oe=>{if(await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["dashboard-stats"]}),g.invalidateQueries({queryKey:["annex-property-cards"]}),g.invalidateQueries({queryKey:["available-inventory-for-cards"]}),g.invalidateQueries({queryKey:["inventory-items-for-property-cards"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["annex-property-cards"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),!oe.data)return;const Me=oe.data;oe.propertyCardCreated?(console.log("Property card was created successfully, showing success message"),x({title:"Inventory Item & Property Card Created Successfully",description:`Item ${Me.propertyNumber} has been added and a property card was automatically created. You can now assign this item to a custodian.`,action:s.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y("/property-cards"),children:"View Property Cards"})})):oe.propertyCardError?x({title:"Inventory Item Created",description:`Item ${Me.propertyNumber} was created, but property card creation failed: ${oe.propertyCardError}. You can create it manually.`,variant:"destructive",action:s.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y("/property-cards",{state:{prefillItem:{propertyNumber:Me.propertyNumber,description:Me.description}}}),children:"Create Property Card"})}):x({title:"Inventory Item Created Successfully",description:`Item ${Me.propertyNumber} has been added. To assign this item to a custodian, you'll need to create a property card first.`,action:s.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y("/property-cards",{state:{prefillItem:{propertyNumber:Me.propertyNumber,description:Me.description}}}),children:"Create Property Card"})})},onError:()=>{x({title:"Error",description:"Failed to create inventory item",variant:"destructive"})}}),O=Os({mutationFn:({id:oe,updates:Me})=>Dr.update(oe,Me),onSuccess:async()=>{await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["dashboard-stats"]}),g.invalidateQueries({queryKey:["annex-property-cards"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),x({title:"Success",description:"Inventory item updated successfully"})},onError:()=>{x({title:"Error",description:"Failed to update inventory item",variant:"destructive"})}}),G=Os({mutationFn:oe=>Dr.delete(oe),onSuccess:async()=>{await Promise.all([g.invalidateQueries({queryKey:["inventory-items"]}),g.invalidateQueries({queryKey:["inventory-items-high-value"]}),g.invalidateQueries({queryKey:["inventory-items-low-value"]}),g.invalidateQueries({queryKey:["inventory-items-filtered"]}),g.invalidateQueries({queryKey:["available-inventory-for-slips"]}),g.invalidateQueries({queryKey:["annex-property-cards"]}),g.invalidateQueries({queryKey:["property-cards"]}),g.invalidateQueries({queryKey:["dashboard-stats"]})]),await Promise.all([g.refetchQueries({queryKey:["inventory-items-high-value"]}),g.refetchQueries({queryKey:["inventory-items-low-value"]}),g.refetchQueries({queryKey:["inventory-items-filtered"]}),g.refetchQueries({queryKey:["dashboard-stats"]})]),x({title:"Success",description:"Inventory item deleted successfully"})},onError:oe=>{const Me=(oe==null?void 0:oe.message)||(oe==null?void 0:oe.error)||"Failed to delete inventory item";x({title:"Cannot Delete Item",description:Me,variant:"destructive"})}}),Q=async(oe,Me)=>{console.log("[Inventory] handleSave called",{isEditing:!!r,autoCreatePropertyCard:Me,propertyNumber:oe.propertyNumber});try{r?await O.mutateAsync({id:oe.id,updates:oe}):(console.log("[Inventory] Creating new item with autoCreatePropertyCard:",Me),await B.mutateAsync({item:oe,autoCreatePropertyCard:Me})),t(!1),n(void 0)}catch(H){console.error("[Inventory] Error in handleSave:",H)}},ie=oe=>{i(oe),l(!0)},ne=oe=>{n(oe),t(!0)},R=oe=>{if(oe.assignmentStatus==="Assigned"||oe.custodian&&oe.custodian.trim()!==""){x({title:"Cannot Delete Item",description:`This item cannot be deleted because it is currently assigned to ${oe.custodian||"a custodian"}. Please unassign the item from the custodian first before deleting.`,variant:"destructive"});return}p(oe),f(!0)},J=oe=>oe.assignmentStatus==="Assigned"||oe.custodian&&oe.custodian.trim()!=="",ce=async()=>{if(m)try{await G.mutateAsync(m.id),f(!1),p(null)}catch{}},se=(()=>{let oe;return Me=>{clearTimeout(oe),oe=setTimeout(()=>{d(Me)},300)}})(),Pe=oe=>{switch(oe){case"Serviceable":return"bg-green-100 text-green-800";case"For Repair":return"bg-yellow-100 text-yellow-800";case"Unserviceable":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ue=oe=>{switch(oe){case"Active":return"bg-green-100 text-green-800";case"Transferred":return"bg-blue-100 text-blue-800";case"Disposed":return"bg-gray-100 text-gray-800";case"Missing":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},st=oe=>oe.condition!=="Serviceable"?{status:"Unavailable",reason:`Condition: ${oe.condition}`,color:"bg-red-100 text-red-800"}:oe.status!=="Active"?{status:"Unavailable",reason:`Status: ${oe.status}`,color:"bg-gray-100 text-gray-800"}:oe.assignmentStatus==="Assigned"?{status:"Assigned",reason:"Assigned via custodian slip",color:"bg-blue-100 text-blue-800"}:{status:"Available",reason:"Ready for assignment",color:"bg-green-100 text-green-800"};if(e)return s.jsx(vU,{item:r,onSave:Q,onCancel:()=>{t(!1),n(void 0)},isSaving:B.isPending||O.isPending});if((U||k||I)&&W.length===0&&E.length===0&&F.length===0)return s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Qt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading inventory..."})]});if((ve||z||X)&&navigator.onLine){const oe=ve instanceof Error?ve.message:z instanceof Error?z.message:X instanceof Error?X.message:String(ve||z||X||"Unknown error");return s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(wr,{className:"max-w-md mx-auto",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsxs(jr,{children:["Error: ",oe]})]}),s.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]})}return ve&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(wr,{className:"max-w-md mx-auto",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx(jr,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded inventory data will appear when available."})})]}):s.jsxs("div",{className:"space-y-6 relative",children:[ae&&!U&&s.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm z-40 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 bg-background border rounded-lg shadow-lg p-4",children:[s.jsx(Qt,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Refreshing inventory..."})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>y("/inventory"),className:"flex items-center space-x-2",disabled:B.isPending||O.isPending||G.isPending,children:[s.jsx(DN,{className:"h-4 w-4"}),s.jsx("span",{children:v||b?"Clear Filters":"View All Items"})]}),s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:v==="issued"?"Issued Items":v==="available"?"Available Items":"Inventory Management"})]}),s.jsxs(ue,{onClick:()=>t(!0),className:"bg-primary hover:bg-primary-dark",disabled:B.isPending||O.isPending||G.isPending,children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),"Add New Item"]})]}),(v||b)&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[v==="issued"&&b==="high-value"&&"Showing high value items (above 5,000) that have been issued to custodians",v==="issued"&&b==="low-value"&&"Showing low value items (5,000 or less) that have been issued to custodians",v==="available"&&b==="high-value"&&"Showing high value items (above 5,000) available for assignment",v==="available"&&b==="low-value"&&"Showing low value items (5,000 or less) available for assignment",v==="issued"&&!b&&"Showing only items that have been issued to custodians",v==="available"&&!b&&"Showing only items available for assignment",!v&&b==="high-value"&&"Showing only high value items (above 5,000)",!v&&b==="low-value"&&"Showing only low value items (5,000 or less)"]})]})}),(()=>{const oe=(Me,H)=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Custodian"}),s.jsx(Se,{children:"Condition"}),s.jsx(Se,{children:"Status"}),s.jsx(Se,{children:"Availability"}),s.jsx(Se,{children:"Total Cost"}),s.jsx(Se,{children:"Actions"})]})}),s.jsx(Wr,{children:H?s.jsx(rt,{children:s.jsx(be,{colSpan:8,className:"text-center py-8",children:s.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto"})})}):Me.map(Z=>s.jsxs(rt,{children:[s.jsx(be,{className:"font-medium",children:Z.propertyNumber}),s.jsxs(be,{className:"max-w-xs",children:[s.jsx("div",{className:"truncate",title:Z.description,children:Z.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Z.brand," ",Z.model]})]}),s.jsxs(be,{children:[s.jsx("div",{children:Z.custodian||"-"}),Z.custodianPosition&&s.jsx("div",{className:"text-xs text-muted-foreground",children:Z.custodianPosition})]}),s.jsx(be,{children:s.jsx(Ze,{className:Pe(Z.condition),children:Z.condition})}),s.jsx(be,{children:s.jsx(Ze,{className:Ue(Z.status),children:Z.status})}),s.jsx(be,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[(()=>{const ye=st(Z);return s.jsx(Ze,{className:ye.color,title:ye.reason,children:ye.status})})(),Z.hasPropertyCard===!1&&s.jsx(Ze,{variant:"outline",className:"text-xs text-amber-600 border-amber-300 bg-amber-50",children:" No Property Card"})]})}),s.jsxs(be,{children:["",Z.totalCost.toLocaleString()]}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ie(Z),title:"View Details",disabled:B.isPending||O.isPending||G.isPending,children:s.jsx(zc,{className:"h-4 w-4"})}),s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ne(Z),title:"Edit",disabled:B.isPending||O.isPending||G.isPending,children:s.jsx(Jx,{className:"h-4 w-4"})}),s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>R(Z),title:J(Z)?"Cannot delete: Item is assigned to a custodian":"Delete",className:"text-destructive hover:text-destructive",disabled:G.isPending||B.isPending||O.isPending||J(Z),children:G.isPending&&(m==null?void 0:m.id)===Z.id?s.jsx(Qt,{className:"h-4 w-4 animate-spin"}):s.jsx(wc,{className:"h-4 w-4"})})]})})]},Z.id))})]})});return b?s.jsxs(Re,{children:[s.jsxs(Be,{children:[s.jsx(Ke,{children:v==="issued"?"Issued Semi-Expendable Property Items":v==="available"?"Available Semi-Expendable Property Items":"Semi-Expendable Property Items"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx($n,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(Te,{placeholder:"Search by property number, description, or custodian...",value:c,onChange:Me=>{d(Me.target.value),se(Me.target.value)},className:"pl-10"})]}),s.jsxs(Nt,{value:v||"all",onValueChange:N,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{placeholder:"Status..."})}),s.jsxs(xt,{children:[s.jsx(je,{value:"all",children:"All Items"}),s.jsx(je,{value:"available",children:"Available"}),s.jsx(je,{value:"issued",children:"Issued"})]})]}),s.jsxs(Nt,{value:b||"all",onValueChange:j,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{placeholder:"Value Filter..."})}),s.jsxs(xt,{children:[s.jsx(je,{value:"all",children:"All Values"}),s.jsx(je,{value:"high-value",children:"High Value (>5,000)"}),s.jsx(je,{value:"low-value",children:"Low Value (5,000)"})]})]})]})]}),s.jsxs(Ie,{children:[oe(W,U),W.length===0&&!U&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No inventory items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]})]}):s.jsxs(Re,{children:[s.jsxs(Be,{children:[s.jsx(Ke,{children:v==="issued"?"Issued Semi-Expendable Property Items":v==="available"?"Available Semi-Expendable Property Items":"Semi-Expendable Property Items"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx($n,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(Te,{placeholder:"Search by property number, description, or custodian...",value:c,onChange:Me=>{d(Me.target.value),se(Me.target.value)},className:"pl-10"})]}),s.jsxs(Nt,{value:v||"all",onValueChange:N,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{placeholder:"Status..."})}),s.jsxs(xt,{children:[s.jsx(je,{value:"all",children:"All Items"}),s.jsx(je,{value:"available",children:"Available"}),s.jsx(je,{value:"issued",children:"Issued"})]})]})]})]}),s.jsx(Ie,{children:s.jsxs(Jf,{defaultValue:"high-value",className:"w-full",children:[s.jsxs(rd,{className:"grid w-full grid-cols-2",children:[s.jsxs(mn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:k?"...":E.length})]}),s.jsxs(mn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:I?"...":F.length})]})]}),s.jsxs(pn,{value:"high-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items above 5,000 - High Value Expendable"}),oe(E,k),E.length===0&&!k&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No high value items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]}),s.jsxs(pn,{value:"low-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items 5,000 or less - Small Value Expendable"}),oe(F,I),F.length===0&&!I&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No low value items found."}),c&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search terms."})]})]})]})})]})})(),s.jsx(en,{open:o,onOpenChange:l,children:s.jsxs(Ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(nn,{children:[s.jsxs(sn,{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5"}),"Inventory Item Details"]}),s.jsx(us,{children:"Complete information about this inventory item"})]}),a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{className:"text-lg",children:"Basic Information"})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Property Number"}),s.jsx("p",{className:"font-mono font-semibold",children:a.propertyNumber})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),s.jsx("p",{children:a.description})]}),a.semiExpandableCategory&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Semi-Expandable Category"}),s.jsx("p",{children:a.semiExpandableCategory})]}),a.subCategory&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Sub-Category"}),s.jsx(Ze,{variant:"outline",children:a.subCategory})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(Ze,{className:Ue(a.status),children:a.status})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),s.jsx(Ze,{className:Pe(a.condition),children:a.condition})]})]})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{className:"text-lg",children:"Item Details"})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),s.jsx("p",{children:a.brand||"-"})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),s.jsx("p",{children:a.model||"-"})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Serial Number"}),s.jsx("p",{className:"font-mono",children:a.serialNumber||"-"})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),s.jsxs("p",{children:[a.quantity," ",a.unitOfMeasure]})]})]})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5"}),"Financial Information"]})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Unit Cost"}),s.jsxs("p",{className:"font-semibold",children:["",a.unitCost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),s.jsxs("p",{className:"font-semibold text-lg",children:["",a.totalCost.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.dateAcquired&&s.jsxs("div",{children:[s.jsxs(he,{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[s.jsx(nu,{className:"h-3 w-3"}),"Date Acquired"]}),s.jsx("p",{children:as(new Date(a.dateAcquired),"MMMM dd, yyyy")})]})]})]}),(a.custodian||a.assignmentStatus)&&s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(mv,{className:"h-5 w-5"}),"Assignment Information"]})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Custodian"}),s.jsx("p",{children:a.custodian||"-"}),a.custodianPosition&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.custodianPosition})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Assignment Status"}),(()=>{const oe=st(a);return s.jsx(Ze,{className:oe.color,children:oe.status})})(),a.hasPropertyCard===!1&&s.jsx(Ze,{variant:"outline",className:"ml-2 text-xs text-amber-600 border-amber-300 bg-amber-50",children:" No Property Card"})]}),a.assignedDate&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Assigned Date"}),s.jsx("p",{children:as(new Date(a.assignedDate),"MMMM dd, yyyy")})]})]})]}),(a.remarks||a.entityName||a.lastInventoryDate)&&s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{className:"text-lg",children:"Additional Information"})}),s.jsxs(Ie,{className:"space-y-4",children:[a.entityName&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Entity Name"}),s.jsx("p",{children:a.entityName})]}),a.lastInventoryDate&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Last Inventory Date"}),s.jsx("p",{children:as(new Date(a.lastInventoryDate),"MMMM dd, yyyy")})]}),a.remarks&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Remarks"}),s.jsx("p",{className:"whitespace-pre-wrap",children:a.remarks})]})]})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{className:"text-lg",children:"System Information"})}),s.jsxs(Ie,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-sm",children:as(new Date(a.createdAt),"MMMM dd, yyyy HH:mm")})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm",children:as(new Date(a.updatedAt),"MMMM dd, yyyy HH:mm")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>l(!1),disabled:B.isPending||O.isPending||G.isPending,children:"Close"}),s.jsxs(ue,{onClick:()=>{l(!1),ne(a)},disabled:B.isPending||O.isPending||G.isPending,children:[s.jsx(Jx,{className:"h-4 w-4 mr-2"}),"Edit Item"]})]})]})]})}),s.jsx(TU,{open:u,onOpenChange:f,children:s.jsxs(KE,{children:[s.jsxs(QE,{children:[s.jsx(YE,{children:"Are you sure?"}),s.jsx(XE,{children:m&&J(m)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-destructive font-semibold",children:" This item cannot be deleted because it is currently under custody."}),s.jsxs("p",{children:["The item ",s.jsxs("span",{className:"font-semibold",children:['"',m.propertyNumber," - ",m.description,'"']})," is assigned to ",s.jsx("span",{className:"font-semibold",children:m.custodian||"a custodian"}),"."]}),s.jsx("p",{children:"Please unassign the item from the custodian first before deleting it."})]}):s.jsxs("p",{children:["This action cannot be undone. This will permanently delete the inventory item",m&&s.jsxs("span",{className:"font-semibold",children:[' "',m.propertyNumber," - ",m.description,'"']})," from the system."]})})]}),s.jsxs(GE,{children:[s.jsx(ZE,{disabled:G.isPending,children:"Cancel"}),m&&!J(m)&&s.jsx(JE,{onClick:ce,disabled:G.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:G.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wc,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})})]})},sk=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Semi-Expendable Property Card"}),s.jsxs(ue,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Be,{className:"border-b-2 border-black p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute right-0 top-0 text-[11px]",children:"Annex A.1"}),s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-base font-bold uppercase tracking-wide",children:"SEMI-EXPANDABLE PROPERTY CARD"})})]})}),s.jsxs(Ie,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Entity Name :"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.entityName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Fund Cluster:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.fundCluster})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Semi-expendable Property:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.semiExpendableProperty})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Semi-expendable Property Number:"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.propertyNumber})]})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Description :"}),s.jsx("div",{className:"flex-1 border-b border-black leading-4",children:e.description})]})}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"border-r border-black p-1 text-center w-[8%]",children:"Date"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[12%]",children:"Reference"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:3,children:"Receipt"}),s.jsx("th",{className:"border-r border-black p-1 text-center",colSpan:3,children:"Issue/Transfer/Disposal"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Balance"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Amount"}),s.jsx("th",{className:"p-1 text-center w-[14%]",children:"Remarks"})]}),s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[10%]",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[8%]",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[14%]",children:"Office/Officer"}),s.jsx("th",{className:"border-r border-black p-1 text-center w-[6%]",children:"Qty."}),s.jsx("th",{className:"border-r border-black p-1"}),s.jsx("th",{className:"p-1"})]})]}),s.jsxs("tbody",{children:[e.entries.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.date}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.reference}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.receiptQty||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.unitCost?`${r.unitCost.toFixed(2)}`:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.totalCost?`${r.totalCost.toFixed(2)}`:""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.issueItemNo||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.issueQty||""}),s.jsx("td",{className:"border-r border-black p-2 align-top",children:r.officeOfficer||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.balanceQty||""}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:r.amount?`${r.amount.toFixed(2)}`:""}),s.jsx("td",{className:"p-2 align-top",children:r.remarks||""})]},n)),Array.from({length:Math.max(0,15-e.entries.length)}).map((r,n)=>s.jsx("tr",{className:"border-b border-gray-300",children:Array.from({length:11}).map((a,i)=>s.jsx("td",{className:`${i<10?"border-r border-black":""} p-3 h-8`,children:" "},i))},`empty-${n}`))]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-6 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-[11px] font-semibold",children:"Property and/or Supply Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-[11px] font-semibold",children:"Accountable Officer"})]})]})]})]})]})};var vy="Progress",yy=100,[$q,EV]=kr(vy),[Uq,qq]=$q(vy),ak=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Bq,...o}=e;(a||a===0)&&!b0(a)&&console.error(Vq(`${a}`,"Progress"));const l=b0(a)?a:yy;n!==null&&!w0(n,l)&&console.error(zq(`${n}`,"Progress"));const c=w0(n,l)?n:null,d=Xu(c)?i(c,l):void 0;return s.jsx(Uq,{scope:r,value:c,max:l,children:s.jsx(De.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":lk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ak.displayName=vy;var ik="ProgressIndicator",ok=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=qq(ik,r);return s.jsx(De.div,{"data-state":lk(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});ok.displayName=ik;function Bq(e,t){return`${Math.round(e/t*100)}%`}function lk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xu(e){return typeof e=="number"}function b0(e){return Xu(e)&&!isNaN(e)&&e>0}function w0(e,t){return Xu(e)&&!isNaN(e)&&e<=t&&e>=0}function Vq(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yy}\`.`}function zq(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ck=ak,Wq=ok;const cg=h.forwardRef(({className:e,value:t,...r},n)=>s.jsx(ck,{ref:n,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Wq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));cg.displayName=ck.displayName;const mm=[{id:"general-fund",name:"General Fund",entityName:"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:"General Fund",description:"Standard property cards for general fund items",rules:{fundSource:"general"}},{id:"custom",name:"Custom Template",entityName:"",fundCluster:"",description:"Create a custom template",rules:{}}],Hq=({isOpen:e,onClose:t,onSuccess:r,inventoryItems:n})=>{const[a,i]=h.useState("selection"),[o,l]=h.useState([]),[c,d]=h.useState(null),[u,f]=h.useState(mm[2]),[m,p]=h.useState([]),[x,g]=h.useState(!1),[w,y]=h.useState(0);h.useEffect(()=>{e&&(i("selection"),l([]),d(null),p([]),g(!1),y(0))},[e]),h.useMemo(()=>n.filter(_=>o.includes(_.id)),[n,o]),h.useEffect(()=>{if(c&&o.length>0){const _=o.map(A=>(n.find(te=>te.id===A),{itemId:A,entityName:c.entityName,fundCluster:c.fundCluster,isOverridden:!1}));p(_)}},[c,o,n]);const v=async _=>{try{const{data:A}=await re.from("fund_sources").select("name").eq("id",_).single();return(A==null?void 0:A.name)||null}catch(A){return console.error("Error fetching fund source:",A),null}},b=async _=>{const A=n.find(U=>U.id===_);if(!A)return;let te=(c==null?void 0:c.entityName)||"",W=(c==null?void 0:c.fundCluster)||"";if(A.entityName&&(te=A.entityName),A.fundSource){const U=await v(A.fundSource);U&&(W=U)}return{entityName:te,fundCluster:W}},N=_=>{l(A=>A.includes(_)?A.filter(te=>te!==_):[...A,_])},j=_=>{const A=mm.find(te=>te.id===_);d(A||null)},E=(_,A)=>{f(te=>({...te,[_]:A}))},k=(_,A,te)=>{p(W=>W.map(U=>U.itemId===_?{...U,[A]:te,isOverridden:!0}:U))},D=async()=>{const _=await Promise.all(o.map(async A=>{const te=await b(A);return{itemId:A,entityName:(te==null?void 0:te.entityName)||(c==null?void 0:c.entityName)||"",fundCluster:(te==null?void 0:te.fundCluster)||(c==null?void 0:c.fundCluster)||"",isOverridden:!1}}));p(_)},z=async()=>{g(!0),y(0);try{for(let _=0;_<m.length;_++){const A=m[_],te=n.find(ae=>ae.id===A.itemId);if(!te)continue;const W=te.description||(te.model?`${te.brand?te.brand+" ":""}${te.model}`:te.brand)||"",{error:U}=await re.from("property_cards").insert({entity_name:A.entityName,fund_cluster:A.fundCluster,semi_expendable_property:W,property_number:te.propertyNumber,description:W,date_acquired:te.dateAcquired,remarks:te.remarks,inventory_item_id:te.id});U?console.error(`Error creating property card for ${te.propertyNumber}:`,U):y(_+1)}r(),t()}catch(_){console.error("Error creating property cards:",_)}finally{g(!1)}},F=()=>{const _=["selection","template","configuration","overrides","preview","processing"],A=_.indexOf(a);A<_.length-1&&i(_[A+1])},I=()=>{const _=["selection","template","configuration","overrides","preview","processing"],A=_.indexOf(a);A>0&&i(_[A-1])},q=()=>{switch(a){case"selection":return o.length>0;case"template":return c!==null;case"configuration":return!0;case"overrides":return!0;case"preview":return!0;default:return!1}},X=()=>{switch(a){case"selection":return"Select Inventory Items";case"template":return"Choose Template";case"configuration":return"Configure Common Settings";case"overrides":return"Customize Individual Items";case"preview":return"Preview & Confirm";case"processing":return"Creating Property Cards";default:return""}},S=()=>{switch(a){case"selection":return s.jsx(wi,{className:"h-5 w-5"});case"template":return s.jsx(Dn,{className:"h-5 w-5"});case"configuration":return s.jsx(pp,{className:"h-5 w-5"});case"overrides":return s.jsx(pp,{className:"h-5 w-5"});case"preview":return s.jsx(zc,{className:"h-5 w-5"});case"processing":return s.jsx(Ea,{className:"h-5 w-5"});default:return null}};return s.jsx(en,{open:e,onOpenChange:t,children:s.jsxs(Ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(nn,{children:s.jsxs(sn,{className:"flex items-center gap-2",children:[S(),"Bulk Create Property Cards - ",X()]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Step ",["selection","template","configuration","overrides","preview","processing"].indexOf(a)+1," of 6"]}),s.jsxs("span",{children:[o.length," items selected"]})]}),s.jsx(cg,{value:(["selection","template","configuration","overrides","preview","processing"].indexOf(a)+1)*16.67,className:"h-2"})]}),s.jsxs("div",{className:"space-y-6",children:[a==="selection"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(wr,{children:s.jsx(jr,{children:"Select the inventory items you want to create property cards for. You can select multiple items at once."})}),s.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto",children:n.map(_=>{const A=_.description||(_.model?`${_.brand?_.brand+" ":""}${_.model}`:_.brand)||"";return s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[s.jsx(ad,{id:_.id,checked:o.includes(_.id),onCheckedChange:()=>N(_.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(he,{htmlFor:_.id,className:"font-medium",children:[_.propertyNumber," - ",A]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.category,"  ",_.condition,"  ",_.fundSource?"Has Fund Source":"No Fund Source"]})]})]},_.id)})})]}),a==="template"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(wr,{children:s.jsx(jr,{children:"Choose a template to apply common settings to all selected items. You can customize individual items later."})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:mm.map(_=>s.jsxs(Re,{className:`cursor-pointer transition-colors ${(c==null?void 0:c.id)===_.id?"ring-2 ring-primary":""}`,onClick:()=>j(_.id),children:[s.jsxs(Be,{children:[s.jsx(Ke,{className:"text-lg",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]}),s.jsx(Ie,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Entity:"})," ",_.entityName||"Custom"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fund Cluster:"})," ",_.fundCluster||"Custom"]})]})})]},_.id))}),(c==null?void 0:c.id)==="custom"&&s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Custom Template"})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"customEntityName",children:"Entity Name"}),s.jsx(Te,{id:"customEntityName",value:u.entityName,onChange:_=>E("entityName",_.target.value),placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"customFundCluster",children:"Fund Cluster"}),s.jsx(Te,{id:"customFundCluster",value:u.fundCluster,onChange:_=>E("fundCluster",_.target.value),placeholder:"Enter fund cluster"})]})]})]})]}),a==="configuration"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(wr,{children:s.jsx(jr,{children:"Configure common settings that will be applied to all selected items. You can customize individual items in the next step."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"commonEntityName",children:"Entity Name"}),s.jsx(Te,{id:"commonEntityName",value:(c==null?void 0:c.entityName)||"",onChange:_=>{const A={...c,entityName:_.target.value};d(A)},placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"commonFundCluster",children:"Fund Cluster"}),s.jsx(Te,{id:"commonFundCluster",value:(c==null?void 0:c.fundCluster)||"",onChange:_=>{const A={...c,fundCluster:_.target.value};d(A)},placeholder:"Enter fund cluster"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{onClick:D,variant:"outline",children:"Auto-Assign from Inventory Data"}),s.jsx(ue,{onClick:()=>{p(_=>_.map(A=>({...A,entityName:(c==null?void 0:c.entityName)||"",fundCluster:(c==null?void 0:c.fundCluster)||"",isOverridden:!1})))},variant:"outline",children:"Apply Template to All Items"})]})]}),a==="overrides"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(wr,{children:s.jsx(jr,{children:"Review and customize individual items. Items marked with overrides will use their custom values instead of the template."})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(_=>{const A=n.find(W=>W.id===_.itemId),te=(A==null?void 0:A.description)||(A!=null&&A.model?`${A!=null&&A.brand?A.brand+" ":""}${A.model}`:A==null?void 0:A.brand)||"";return s.jsx(Re,{className:_.isOverridden?"ring-2 ring-orange-200":"",children:s.jsxs(Ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[A==null?void 0:A.propertyNumber," - ",te]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A==null?void 0:A.category})]}),_.isOverridden&&s.jsx(Ze,{variant:"secondary",children:"Customized"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:`entity-${_.itemId}`,children:"Entity Name"}),s.jsx(Te,{id:`entity-${_.itemId}`,value:_.entityName,onChange:W=>k(_.itemId,"entityName",W.target.value),placeholder:"Enter entity name"})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:`fund-${_.itemId}`,children:"Fund Cluster"}),s.jsx(Te,{id:`fund-${_.itemId}`,value:_.fundCluster,onChange:W=>k(_.itemId,"fundCluster",W.target.value),placeholder:"Enter fund cluster"})]})]})]})},_.itemId)})})]}),a==="preview"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(wr,{children:s.jsx(jr,{children:"Review all property cards that will be created. Make sure all information is correct before proceeding."})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:m.map(_=>{const A=n.find(W=>W.id===_.itemId),te=(A==null?void 0:A.description)||(A!=null&&A.model?`${A!=null&&A.brand?A.brand+" ":""}${A.model}`:A==null?void 0:A.brand)||"";return s.jsx(Re,{children:s.jsxs(Ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:[A==null?void 0:A.propertyNumber," - ",te]}),_.isOverridden&&s.jsx(Ze,{variant:"secondary",children:"Customized"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",_.entityName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fund Cluster:"})," ",_.fundCluster]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Property Number:"})," ",A==null?void 0:A.propertyNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",te]})]})]})},_.itemId)})})]}),a==="processing"&&s.jsx("div",{className:"space-y-4 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-lg font-medium",children:"Creating Property Cards..."}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[w," of ",m.length," cards created"]}),s.jsx(cg,{value:w/m.length*100,className:"h-2"})]})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(ue,{variant:"outline",onClick:I,disabled:a==="selection"||a==="processing",children:[s.jsx(DN,{className:"h-4 w-4 mr-2"}),"Previous"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{variant:"outline",onClick:t,children:"Cancel"}),a==="preview"?s.jsxs(ue,{onClick:z,disabled:x,children:[s.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Create ",m.length," Property Cards"]}):s.jsxs(ue,{onClick:F,disabled:!q()||a==="processing",children:["Next",s.jsx(CA,{className:"h-4 w-4 ml-2"})]})]})]})]})})},Kq=()=>{const e=Vn();zn();const[t,r]=h.useState(""),[n,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState([]),[f,m]=h.useState({entityName:"",fundCluster:"",inventoryItemId:""}),[p,x]=h.useState(!1),[g,w]=h.useState(!1),[y,v]=h.useState(null),[b,N]=h.useState(!1),j=async R=>{try{const{data:J}=await re.from("fund_sources").select("name").eq("id",R).single();return(J==null?void 0:J.name)||null}catch(J){return console.error("Error fetching fund source:",J),null}},[E,k]=h.useState(!1),D=h.useMemo(()=>"",[]);h.useEffect(()=>{n&&(D?(m(R=>({...R,entityName:D})),x(!0)):x(!1))},[n,D]);const{toast:z}=Bn(),F=Va(),I=h.useRef(null);h.useEffect(()=>{const R=re.channel("realtime:property-cards-annex").on("postgres_changes",{event:"*",schema:"public",table:"property_cards"},()=>{console.log("[Realtime] Property card changed, refreshing..."),F.invalidateQueries({queryKey:["annex-property-cards"]})}).on("postgres_changes",{event:"*",schema:"public",table:"property_card_entries"},()=>{console.log("[Realtime] Property card entries changed, refreshing..."),F.invalidateQueries({queryKey:["annex-property-cards"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing property cards and available items..."),F.invalidateQueries({queryKey:["annex-property-cards"]}),F.invalidateQueries({queryKey:["inventory-items-for-property-cards"]})}).subscribe();return()=>{re.removeChannel(R)}},[F]);const{data:q=[],isLoading:X,error:S}=Gt({queryKey:["annex-property-cards"],queryFn:async()=>{console.log("[PropertyCardsAnnex] Fetching property cards...");const{data:R,error:J}=await re.from("property_cards").select(`
          *,
          inventory_items(
            id,
            assignment_status,
            custodian,
            property_number,
            sub_category,
            unit_cost
          )
        `);if(J)throw console.error("[PropertyCardsAnnex] Error fetching property cards:",J),J;console.log("[PropertyCardsAnnex] Fetched property cards:",(R==null?void 0:R.length)||0);const se=(R||[]).sort((Pe,Ue)=>{const st=new Date(Pe.created_at).getTime(),oe=new Date(Ue.created_at).getTime();return st!==oe?oe-st:(Ue.property_number||"").localeCompare(Pe.property_number||"")}).map(Pe=>{const Ue=Array.isArray(Pe.inventory_items)?Pe.inventory_items[0]:Pe.inventory_items,st=Ue==null?void 0:Ue.sub_category,oe=(Ue==null?void 0:Ue.unit_cost)||0,Me=st==="High Value Expendable"||!st&&oe>5e3;return{id:Pe.id,entityName:Pe.entity_name,fundCluster:Pe.fund_cluster,semiExpendableProperty:Pe.semi_expendable_property,propertyNumber:Pe.property_number,description:Pe.description,dateAcquired:Pe.date_acquired,remarks:Pe.remarks,inventoryItemId:Pe.inventory_item_id,entries:[],createdAt:Pe.created_at,updatedAt:Pe.updated_at,assignmentStatus:Ue==null?void 0:Ue.assignment_status,custodian:Ue==null?void 0:Ue.custodian,subCategory:st||(Me?"High Value Expendable":"Small Value Expendable"),unitCost:oe,isHighValue:Me}});return console.log("[PropertyCardsAnnex] Mapped property cards:",se.length),se},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:(R,J)=>navigator.onLine?R<2:!1}),{data:_=[]}=Gt({queryKey:["available-inventory-for-cards"],queryFn:async()=>{const{data:R,error:J}=await re.from("inventory_items").select("*").eq("category","Semi-Expendable").eq("status","Active").eq("condition","Serviceable").order("created_at",{ascending:!1});if(J){console.error("Error fetching available inventory:",J);const se=await Dr.getAll();if(se.success){const Pe=q.map(Ue=>Ue.inventoryItemId).filter(Boolean);return se.data.filter(Ue=>Ue.condition==="Serviceable"&&!Pe.includes(Ue.id)&&Ue.status==="Active"&&(!Ue.assignmentStatus||Ue.assignmentStatus==="Available"))}return[]}const ce=q.map(se=>se.inventoryItemId).filter(Boolean);return R.filter(se=>!ce.includes(se.id)).map(se=>({id:se.id,propertyNumber:se.property_number,description:se.description,brand:se.brand,model:se.model,serialNumber:se.serial_number,entityName:se.entity_name,unitOfMeasure:se.unit_of_measure,quantity:se.quantity,unitCost:se.unit_cost,totalCost:se.total_cost,dateAcquired:se.date_acquired,supplier:se.supplier_id,condition:se.condition,location:se.location,fundSource:se.fund_source_id,remarks:se.remarks,lastInventoryDate:se.last_inventory_date,category:se.category,subCategory:se.sub_category,status:se.status,assignmentStatus:se.assignment_status,assignedDate:se.assigned_date,createdAt:se.created_at,updatedAt:se.updated_at}))},enabled:n,staleTime:2*60*1e3});h.useEffect(()=>{var J;const R=(J=e.state)==null?void 0:J.prefillItem;if(console.log("Checking for prefill item:",R),R)if(console.log("Prefill item found, opening creation dialog"),a(!0),_.length>0){const ce=_.find(se=>se.propertyNumber===R.propertyNumber);console.log("Matching inventory item:",ce),ce&&(m(se=>({...se,inventoryItemId:ce.id})),u([ce.id]))}else console.log("No inventory items available yet, will retry when loaded")},[e.state,_]);const A=Os({mutationFn:async R=>await Ao.createPropertyCardFromInventory(R),onSuccess:()=>{z({title:"Success",description:"Property card created successfully"}),F.invalidateQueries({queryKey:["annex-property-cards"]}),a(!1),m({entityName:"",fundCluster:"",inventoryItemId:""})},onError:R=>{z({title:"Error",description:R.message,variant:"destructive"})}}),te=Os({mutationFn:async R=>{const J=await er.canDelete(R);if(!J.success||!J.data)throw new Error("This property card cannot be deleted because it has custodian slip references.");const ce=await er.safeDelete(R);if(!ce.success)throw new Error(ce.error||"Failed to delete property card");return ce.data},onSuccess:()=>{z({title:"Success",description:"Property card deleted successfully"}),F.invalidateQueries({queryKey:["annex-property-cards"]}),v(null),k(!1)},onError:R=>{z({title:"Error",description:R.message,variant:"destructive"})}}),W=async R=>{const J=await Ao.getPropertyCardWithEntries(R);if(!J)return null;try{const{data:ce}=await re.from("inventory_items").select("*").eq("id",J.inventoryItemId).single();if(ce)return{...J,brand:ce.brand,model:ce.model,serialNumber:ce.serial_number,quantity:ce.quantity,unitOfMeasure:ce.unit_of_measure,unitCost:ce.unit_cost,totalCost:ce.total_cost,semiExpandableCategory:ce.semi_expandable_category,subCategory:ce.sub_category,condition:ce.condition,status:ce.status,supplier:ce.supplier,fundSource:ce.fund_source}}catch(ce){console.error("Error fetching inventory details:",ce)}return J},U=async()=>{if(A.isPending){console.log("Property card creation already in progress, ignoring duplicate click");return}if(!f.entityName||!f.fundCluster||!f.inventoryItemId){z({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const R=_.find(J=>J.id===f.inventoryItemId);if(!R){z({title:"Error",description:"Selected inventory item not found",variant:"destructive"});return}console.log("Creating property card for item:",R.propertyNumber),A.mutate({inventoryItemId:f.inventoryItemId,entityName:f.entityName,fundCluster:f.fundCluster})},ae=async R=>{try{const J=await W(R.id);J&&o(J)}catch{z({title:"Error",description:"Failed to load property card details",variant:"destructive"})}},ve=async R=>{try{const J=await W(R.id);J&&(o(J),c(!0))}catch{z({title:"Error",description:"Failed to load property card for printing",variant:"destructive"})}},B=R=>{if(R.assignmentStatus==="Assigned"){z({title:"Cannot Delete Property Card",description:`This item is currently assigned to ${R.custodian}. Please return the item before deleting the property card.`,variant:"destructive"});return}v(R),k(!0)},O=()=>{y&&te.mutate(y.id)},G=R=>({entityName:R.entityName,fundCluster:R.fundCluster,semiExpendableProperty:R.semiExpendableProperty,description:R.description,propertyNumber:R.propertyNumber,entries:R.entries||[],remarks:R.remarks||""}),Q=q.filter(R=>R.propertyNumber.toLowerCase().includes(t.toLowerCase())||R.description.toLowerCase().includes(t.toLowerCase())||R.entityName.toLowerCase().includes(t.toLowerCase())),ie=Q.filter(R=>R.isHighValue===!0),ne=Q.filter(R=>R.isHighValue!==!0);return X&&q.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Qt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading property cards..."})]}):S&&navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(wr,{className:"max-w-md mx-auto",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsxs(jr,{children:["Error: ",S.message]})]}),s.jsx(ue,{onClick:()=>F.invalidateQueries({queryKey:["annex-property-cards"]}),className:"mt-4",children:"Retry"})]}):S&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(wr,{className:"max-w-md mx-auto",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx(jr,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded property cards will appear when available."})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Semi-Expendable Property Cards (Annex A.1)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ue,{onClick:()=>N(!0),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Bulk Create"]}),s.jsxs(ue,{onClick:()=>a(!0),className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Create from Inventory"]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search property cards...",value:t,onChange:R=>r(R.target.value),className:"pl-10"})]})}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Semi-Expendable Property Cards"})}),s.jsx(Ie,{children:s.jsxs(Jf,{defaultValue:"high-value",className:"w-full",children:[s.jsxs(rd,{className:"grid w-full grid-cols-2",children:[s.jsxs(mn,{value:"high-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"High Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:X?"...":ie.length})]}),s.jsxs(mn,{value:"low-value",className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:"Low Value"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:X?"...":ne.length})]})]}),(()=>{const R=(J,ce)=>s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{className:"font-semibold",children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Entity Name"}),s.jsx(Se,{children:"Fund Cluster"}),s.jsx(Se,{children:"Date Acquired"}),s.jsx(Se,{children:"Assignment Status"}),s.jsx(Se,{children:"Actions"})]})}),s.jsx(Wr,{children:ce?s.jsx(rt,{children:s.jsx(be,{colSpan:7,className:"text-center py-8",children:s.jsx(Qt,{className:"h-6 w-6 animate-spin mx-auto"})})}):J.length===0?s.jsx(rt,{children:s.jsx(be,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No property cards found."})}):J.map(se=>s.jsxs(rt,{children:[s.jsx(be,{className:"font-medium font-mono",children:se.propertyNumber}),s.jsx(be,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:se.description,children:se.description})}),s.jsx(be,{children:se.entityName}),s.jsx(be,{children:se.fundCluster}),s.jsx(be,{children:se.dateAcquired}),s.jsx(be,{children:se.assignmentStatus==="Assigned"&&se.custodian?s.jsxs(Ze,{variant:"secondary",className:"text-xs",children:["Assigned to: ",se.custodian]}):s.jsx(Ze,{variant:"outline",className:"text-xs",children:"Available"})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ae(se),title:"View Details",disabled:te.isPending,children:s.jsx(zc,{className:"h-4 w-4"})}),s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ve(se),title:"Print",disabled:te.isPending,children:s.jsx(Sr,{className:"h-4 w-4"})}),s.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>B(se),title:se.assignmentStatus==="Assigned"?`Cannot delete - item is assigned to ${se.custodian}`:"Delete property card",className:"text-destructive hover:text-destructive",disabled:te.isPending||se.assignmentStatus==="Assigned",children:te.isPending&&(y==null?void 0:y.id)===se.id?s.jsx(Qt,{className:"h-4 w-4 animate-spin"}):s.jsx(wc,{className:"h-4 w-4"})})]})})]},se.id))})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(pn,{value:"high-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items above 5,000 - High Value Expendable (SPHV)"}),R(ie,X)]}),s.jsxs(pn,{value:"low-value",className:"mt-4",children:[s.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"Items 5,000 or less - Small Value Expendable (SPLV)"}),R(ne,X)]})]})})()]})})]}),s.jsx(en,{open:n,onOpenChange:a,children:s.jsxs(Ur,{className:"max-w-2xl",children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Create Property Card from Inventory"}),s.jsx(us,{children:"Select an inventory item to create a Semi-Expendable Property Card (Annex A.1)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Te,{id:"entityName",value:f.entityName,onChange:R=>m(J=>({...J,entityName:R.target.value})),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO",disabled:p})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"fundCluster",children:"Fund Cluster *"}),s.jsx(Te,{id:"fundCluster",value:f.fundCluster,onChange:R=>m(J=>({...J,fundCluster:R.target.value})),placeholder:"Enter fund cluster",disabled:g})]})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"inventoryItem",children:"Select Inventory Item *"}),s.jsxs(Nt,{value:f.inventoryItemId,onValueChange:async R=>{const J=_.find(ce=>ce.id===R);if(m(ce=>({...ce,inventoryItemId:R,entityName:(J==null?void 0:J.entityName)||ce.entityName})),x(!!(J!=null&&J.entityName)),J!=null&&J.fundSource){const ce=await j(J.fundSource);ce?(m(se=>({...se,fundCluster:ce})),w(!0)):w(!1)}else w(!1)},children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Choose an inventory item"})}),s.jsx(xt,{children:_.map(R=>s.jsxs(je,{value:R.id,children:[R.propertyNumber," - ",R.description]},R.id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(ue,{onClick:U,disabled:A.isPending,children:[A.isPending&&s.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Property Card"]})]})]})]})}),s.jsx(en,{open:l,onOpenChange:c,children:s.jsx(Ur,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{ref:I,children:i&&s.jsx(sk,{data:G(i)})})})}),s.jsx(en,{open:!!i&&!l,onOpenChange:()=>o(null),children:s.jsxs(Ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Property Card Details"}),s.jsxs(us,{children:[i==null?void 0:i.propertyNumber," - ",i==null?void 0:i.description]})]}),i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Entity Name"}),s.jsx("p",{className:"text-sm",children:i.entityName})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Fund Cluster"}),s.jsx("p",{className:"text-sm",children:i.fundCluster})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Property Number"}),s.jsx("p",{className:"font-mono font-semibold",children:i.propertyNumber})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Date Acquired"}),s.jsx("p",{className:"text-sm",children:i.dateAcquired})]})]}),i.brand||i.model||i.serialNumber?s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-semibold",children:"Item Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[i.brand&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),s.jsx("p",{className:"text-sm",children:i.brand})]}),i.model&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),s.jsx("p",{className:"text-sm",children:i.model})]}),i.serialNumber&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Serial Number"}),s.jsx("p",{className:"font-mono text-sm",children:i.serialNumber})]}),i.quantity&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),s.jsxs("p",{className:"text-sm",children:[i.quantity," ",i.unitOfMeasure]})]})]})]}):null,i.unitCost!==void 0?s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-semibold",children:"Financial Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Unit Cost"}),s.jsxs("p",{className:"font-semibold text-sm",children:["",(i.unitCost||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),s.jsxs("p",{className:"font-semibold text-sm",children:["",(i.totalCost||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}):null,i.entries&&i.entries.length>0&&s.jsxs("div",{children:[s.jsx(he,{className:"text-sm font-semibold",children:"Property Card Entries"}),s.jsx("div",{className:"mt-2 rounded-md border",children:s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{children:"Date"}),s.jsx(Se,{children:"Reference"}),s.jsx(Se,{children:"Receipt Qty"}),s.jsx(Se,{children:"Issue Qty"}),s.jsx(Se,{children:"Office/Officer"}),s.jsx(Se,{children:"Balance"})]})}),s.jsx(Wr,{children:i.entries.map(R=>s.jsxs(rt,{children:[s.jsx(be,{children:R.date}),s.jsx(be,{children:R.reference}),s.jsx(be,{children:R.receiptQty||"-"}),s.jsx(be,{children:R.issueQty||"-"}),s.jsx(be,{children:R.officeOfficer||"-"}),s.jsx(be,{children:R.balanceQty})]},R.id))})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>o(null),children:"Close"}),s.jsxs(ue,{onClick:()=>c(!0),children:[s.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})]})}),s.jsx(en,{open:E,onOpenChange:k,children:s.jsxs(Ur,{children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Delete Property Card"}),s.jsxs(us,{children:["Are you sure you want to delete this property card? This action cannot be undone.",y&&s.jsxs("div",{className:"mt-2 p-2 bg-muted rounded",children:[s.jsx("strong",{children:"Property Card:"})," ",y.propertyNumber,s.jsx("br",{}),s.jsx("strong",{children:"Description:"})," ",y.description]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>{k(!1),v(null)},disabled:te.isPending,children:"Cancel"}),s.jsx(ue,{variant:"destructive",onClick:O,disabled:te.isPending,children:te.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wc,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})}),s.jsx(Hq,{isOpen:b,onClose:()=>N(!1),onSuccess:()=>{F.invalidateQueries({queryKey:["annex-property-cards"]}),F.invalidateQueries({queryKey:["available-inventory-for-cards"]}),F.invalidateQueries({queryKey:["available-inventory-for-slips"]}),F.invalidateQueries({queryKey:["dashboard-stats"]}),z({title:"Success",description:"Property cards created successfully!"})},inventoryItems:_})]})},Qq=({data:e})=>{const r=Math.max(0,15-e.items.length);return s.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[s.jsx("div",{className:"flex justify-end mb-4 print:hidden",children:s.jsxs(ue,{onClick:()=>window.print(),className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})}),s.jsxs("div",{className:"border-2 border-black print:border-black min-h-[11in] font-mono text-sm",children:[s.jsx("div",{className:"text-center py-3 border-b border-black",children:s.jsx("h1",{className:"text-lg font-bold",children:"INVENTORY CUSTODIAN SLIP"})}),s.jsxs("div",{className:"grid grid-cols-2 border-b border-black",children:[s.jsxs("div",{className:"p-2 border-r border-black",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Entity Name:"}),s.jsx("div",{className:"border-b border-black flex-1 min-h-[20px] px-1",children:e.entityName})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Fund Cluster:"}),s.jsx("div",{className:"border-b border-black flex-1 min-h-[20px] px-1",children:e.fundCluster})]})]}),s.jsx("div",{className:"p-2 flex items-start justify-end",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-semibold",children:"ICS No.:"}),s.jsx("div",{className:"border-b border-black min-w-[120px] min-h-[20px] px-1",children:e.slipNumber})]})})]}),s.jsxs("table",{className:"w-full border-collapse text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border-r border-black p-2 w-16 text-center font-semibold",children:"Quantity"}),s.jsx("th",{className:"border-r border-black p-2 w-12 text-center font-semibold",children:"Units of Measure"}),s.jsxs("th",{className:"border-r border-black p-2 text-center font-semibold",children:[s.jsx("div",{children:"Amount"}),s.jsxs("div",{className:"grid grid-cols-2 border-t border-black mt-1",children:[s.jsx("div",{className:"border-r border-black p-1",children:"Unit Cost"}),s.jsx("div",{className:"p-1",children:"Total Cost"})]})]}),s.jsx("th",{className:"border-r border-black p-2 text-center font-semibold",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 w-16 text-center font-semibold",children:"Item No."}),s.jsxs("th",{className:"p-2 w-20 text-center font-semibold",children:[s.jsx("div",{children:"Estimated"}),s.jsx("div",{children:"Useful Life"})]})]})}),s.jsxs("tbody",{children:[e.items.map((n,a)=>s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.quantity}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.unit}),s.jsx("td",{className:"border-r border-black p-0 align-top",children:s.jsxs("div",{className:"grid grid-cols-2 h-full",children:[s.jsxs("div",{className:"border-r border-black p-2 text-right",children:["",n.unitCost.toFixed(2)]}),s.jsxs("div",{className:"p-2 text-right",children:["",n.totalCost.toFixed(2)]})]})}),s.jsx("td",{className:"border-r border-black p-2 align-top",children:n.description}),s.jsx("td",{className:"border-r border-black p-2 text-center align-top",children:n.itemNumber}),s.jsx("td",{className:"p-2 text-center align-top",children:n.estimatedUsefulLife})]},a)),Array.from({length:r}).map((n,a)=>s.jsxs("tr",{className:"border-b border-black",children:[s.jsx("td",{className:"border-r border-black p-2 h-8",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-0",children:s.jsxs("div",{className:"grid grid-cols-2 h-8",children:[s.jsx("div",{className:"border-r border-black",children:""}),s.jsx("div",{children:""})]})}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"p-2",children:""})]},`empty-${a}`))]})]}),s.jsxs("div",{className:"grid grid-cols-2 border-t border-black",children:[s.jsxs("div",{className:"border-r border-black p-4",children:[s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Received from:"}),s.jsxs("div",{className:"mt-12 pt-8",children:[s.jsx("div",{className:"border-b border-black mb-1 text-center px-1 min-h-[20px]",children:e.issuedBy||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Signature Over Printed Name"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.office||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Position/Office"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.dateIssued||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Date"})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Received by:"}),s.jsxs("div",{className:"mt-12 pt-8",children:[s.jsx("div",{className:"border-b border-black mb-1 text-center px-1 min-h-[20px]",children:e.receivedBy||e.custodianName||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Signature Over Printed Name"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.designation||e.office||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Position/Office"}),s.jsx("div",{className:"border-b border-black mb-1 mt-4 text-center px-1 min-h-[20px]",children:e.dateIssued||""}),s.jsx("div",{className:"text-center text-[10px]",children:"Date"})]})]})]})]})]})},Ts={async getAll(e={}){let t=re.from("custodians").select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).order("name",{ascending:!0});e.search&&(t=t.or(`name.ilike.%${e.search}%,custodian_no.ilike.%${e.search}%`)),e.department_id&&(t=t.eq("department_id",e.department_id)),e.is_active!==void 0&&(t=t.eq("is_active",e.is_active)),e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));const{data:r,error:n}=await t;if(n)throw n;return(r==null?void 0:r.map(a=>{var i;return{...a,department_name:(i=a.departments)==null?void 0:i.name}}))||[]},async getById(e){var n;const{data:t,error:r}=await re.from("custodians").select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).eq("id",e).single();if(r)throw r;return t?{...t,department_name:(n=t.departments)==null?void 0:n.name}:null},async getSummary(e){const t=await this.getById(e);if(!t)return null;const{data:r,error:n}=await re.from("custodian_slips").select("id, slip_number, custodian_name, date_issued").eq("custodian_name",t.name);if(n)throw n;const a=(r==null?void 0:r.map(g=>g.id))||[];let i=[];if(a.length>0){const{data:g,error:w}=await re.from("custodian_slip_items").select(`
          *,
          inventory_items (
            property_number,
            description,
            category,
            sub_category,
            unit_cost,
            total_cost,
            condition,
            status,
            assignment_status,
            assigned_date
          )
        `).in("slip_id",a);if(w)throw w;i=g||[]}const{data:o,error:l}=await re.from("inventory_items").select("*").eq("custodian",t.name).eq("assignment_status","Assigned").eq("status","Active");if(l)throw l;const c=(i==null?void 0:i.length)||0,d=(i==null?void 0:i.reduce((g,w)=>{var y;return g+(((y=w.inventory_items)==null?void 0:y.total_cost)||0)},0))||0,u=(o==null?void 0:o.length)||0,f=(o==null?void 0:o.reduce((g,w)=>g+(w.total_cost||0),0))||0,m=c-u,p=d-f,x=r!=null&&r.length?Math.max(...r.map(g=>new Date(g.date_issued||0).getTime())):void 0;return{custodian:t,total_items_assigned:c,total_value_assigned:d,currently_assigned_items:u,currently_assigned_value:f,historical_items:m,historical_value:p,last_activity_date:x?new Date(x).toISOString():void 0}},async getItemHistory(e,t={}){const r=await this.getById(e);if(!r)return[];const{data:n,error:a}=await re.from("custodian_slips").select("id, slip_number, custodian_name, date_issued").eq("custodian_name",r.name);if(a)throw a;if(!n||n.length===0)return[];const i=n.map(u=>u.id);let o=re.from("custodian_slip_items").select(`
        *,
        custodian_slips!inner (id, slip_number, custodian_name, date_issued),
        inventory_items (
          property_number,
          description,
          brand,
          model,
          category,
          sub_category,
          unit_cost,
          total_cost,
          condition,
          status,
          assignment_status,
          assigned_date
        )
      `).in("slip_id",i).order("created_at",{ascending:!1});t.includeReturned,t.limit&&(o=o.limit(t.limit)),t.offset&&(o=o.range(t.offset,t.offset+(t.limit||10)-1));const{data:l,error:c}=await o;if(c)throw c;let d=l||[];return t.includeReturned||(d=d.filter(u=>{var f;return((f=u.inventory_items)==null?void 0:f.assignment_status)==="Assigned"})),d.map(u=>{const f=n.find(x=>x.id===u.slip_id),m=u.inventory_items,p=(m==null?void 0:m.description)||(m!=null&&m.model?`${(m==null?void 0:m.brand)||""} ${m==null?void 0:m.model}`.trim():m==null?void 0:m.brand)||"No description available";return{id:u.id,property_number:(m==null?void 0:m.property_number)||"",description:p,category:(m==null?void 0:m.category)||"Semi-Expendable",sub_category:m==null?void 0:m.sub_category,unit_cost:Number(m==null?void 0:m.unit_cost)||0,total_cost:Number(m==null?void 0:m.total_cost)||0,condition:(m==null?void 0:m.condition)||"",status:(m==null?void 0:m.status)||"",assignment_status:(m==null?void 0:m.assignment_status)||"",assigned_date:m==null?void 0:m.assigned_date,custodian_slip_id:u.slip_id,custodian_slip_number:(f==null?void 0:f.slip_number)||"",date_issued:(f==null?void 0:f.date_issued)||"",date_returned:(m==null?void 0:m.assignment_status)==="Available"?m==null?void 0:m.assigned_date:void 0,is_currently_assigned:(m==null?void 0:m.assignment_status)==="Assigned"}})},async getCurrentItems(e){const t=await this.getById(e);if(!t)return[];const{data:r,error:n}=await re.from("inventory_items").select("*").eq("custodian",t.name).eq("assignment_status","Assigned").eq("status","Active").order("assigned_date",{ascending:!1});if(n)throw n;return(r==null?void 0:r.map(a=>{const i=a.description||(a.model?`${a.brand||""} ${a.model}`.trim():a.brand)||"No description available";return{id:a.id,property_number:a.property_number,description:i,category:a.category||"Semi-Expendable",sub_category:a.sub_category,unit_cost:Number(a.unit_cost)||0,total_cost:Number(a.total_cost)||0,condition:a.condition,status:a.status,assignment_status:a.assignment_status,assigned_date:a.assigned_date,custodian_slip_id:"",custodian_slip_number:"",date_issued:a.assigned_date||"",date_returned:void 0,is_currently_assigned:!0}}))||[]},async create(e){var n;const{data:t,error:r}=await re.from("custodians").insert([e]).select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).single();if(r)throw r;return{...t,department_name:(n=t.departments)==null?void 0:n.name}},async update(e,t){var a;const{data:r,error:n}=await re.from("custodians").update(t).eq("id",e).select(`
        *,
        departments!custodians_department_id_fkey (
          id,
          name
        )
      `).single();if(n)throw n;return{...r,department_name:(a=r.departments)==null?void 0:a.name}},async delete(e){const{error:t}=await re.from("custodians").delete().eq("id",e);if(t)throw t},async getAllSummaries(e={}){const t=await this.getAll(e),r=[];for(const n of t){const a=await this.getSummary(n.id);a&&r.push(a)}return r}},dg=({value:e,onChange:t,placeholder:r="Search for custodian...",label:n="Custodian Name",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),m=h.useRef(null),p=h.useRef(null),{data:x=[],isLoading:g}=Gt({queryKey:["custodians-search",c],queryFn:()=>Ts.getAll({search:c,is_active:!0,limit:20}),enabled:o,staleTime:5*60*1e3}),w=x.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.custodian_no.toLowerCase().includes(c.toLowerCase())||j.department_name&&j.department_name.toLowerCase().includes(c.toLowerCase())),y=j=>{f(j),d(j.name),l(!1),t(j.name,j)},v=j=>{const E=j.target.value;d(E),E?u&&E!==u.name&&(f(null),t(E)):(f(null),t("")),l(!0)},b=()=>{l(!0),!c&&u&&d(u.name)},N=()=>{setTimeout(()=>{l(!1)},200)};return h.useEffect(()=>{const j=E=>{m.current&&!m.current.contains(E.target)&&l(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),h.useEffect(()=>{e&&!u&&d(e)},[e,u]),s.jsxs("div",{className:Ee("relative",i),ref:m,children:[n&&s.jsxs(he,{htmlFor:"custodian-selector",className:"text-sm font-medium",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{ref:p,id:"custodian-selector",value:c,onChange:v,onFocus:b,onBlur:N,placeholder:r,className:"pl-10 pr-10",autoComplete:"off"}),s.jsx(ue,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(!o),children:s.jsx(Nf,{className:Ee("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-60 overflow-auto",children:g?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:"Loading custodians..."}):w.length===0?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:c?"No custodians found":"Start typing to search custodians"}):s.jsx("div",{className:"py-1",children:w.map(j=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-secondary focus:bg-secondary focus:outline-none",onClick:()=>y(j),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jc,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.custodian_no,j.department_name&&s.jsxs(s.Fragment,{children:["  ",s.jsx(mv,{className:"inline h-3 w-3 mr-1"}),j.department_name]})]})]})]}),(u==null?void 0:u.id)===j.id&&s.jsx(Bs,{className:"h-4 w-4 text-green-600"})]})},j.id))})})]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",u.name]}),s.jsxs("div",{className:"text-green-600",children:[u.custodian_no,u.department_name&&`  ${u.department_name}`]})]})]})})]})},Gq=({value:e,onChange:t,placeholder:r="Search for department...",label:n="Office/Department",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),m=h.useRef(null),p=h.useRef(null),{data:x=[],isLoading:g}=Gt({queryKey:["departments-search",c],queryFn:()=>Mr.getDepartments(),enabled:o,staleTime:5*60*1e3}),w=x.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.code&&j.code.toLowerCase().includes(c.toLowerCase())),y=j=>{f(j),d(j.name),l(!1),t(j.name,j)},v=j=>{const E=j.target.value;d(E),E?u&&E!==u.name&&(f(null),t(E)):(f(null),t("")),l(!0)},b=()=>{l(!0),!c&&u&&d(u.name)},N=()=>{setTimeout(()=>{l(!1)},200)};return h.useEffect(()=>{const j=E=>{m.current&&!m.current.contains(E.target)&&l(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),h.useEffect(()=>{e&&!u&&d(e)},[e,u]),s.jsxs("div",{className:Ee("relative",i),ref:m,children:[n&&s.jsxs(he,{htmlFor:"department-selector",className:"text-sm font-medium",children:[n," ",a&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{ref:p,id:"department-selector",value:c,onChange:v,onFocus:b,onBlur:N,placeholder:r,className:"pl-10 pr-10",autoComplete:"off"}),s.jsx(ue,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(!o),children:s.jsx(Nf,{className:Ee("h-4 w-4 transition-transform",o&&"rotate-180")})})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:g?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:"Loading departments..."}):w.length===0?s.jsx("div",{className:"p-3 text-center text-sm text-muted-foreground",children:c?"No departments found":"Start typing to search departments"}):s.jsx("div",{className:"py-1",children:w.map(j=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-secondary focus:bg-secondary focus:outline-none",onClick:()=>y(j),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mv,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name}),j.code&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(Gx,{className:"inline h-3 w-3 mr-1"}),j.code]})]})]}),(u==null?void 0:u.id)===j.id&&s.jsx(Bs,{className:"h-4 w-4 text-green-600"})]})},j.id))})})]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium text-green-800",children:["Selected: ",u.name]}),u.code&&s.jsxs("div",{className:"text-green-600",children:[s.jsx(Gx,{className:"inline h-3 w-3 mr-1"}),u.code]})]})]})})]})},Yq=({value:e,onChange:t,placeholder:r="Search for custodian or enter manually...",label:n="Received By",required:a=!1,className:i})=>{const[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(e),{data:m=[],isLoading:p,error:x}=Gt({queryKey:["custodians-for-received-by"],queryFn:async()=>{try{return await Ts.getAll()||[]}catch(b){return console.error("Error fetching custodians:",b),[]}},staleTime:5*60*1e3}),g=h.useMemo(()=>!e||e.length<2?m:m.filter(b=>{var N,j;return b.name.toLowerCase().includes(e.toLowerCase())||((N=b.position)==null?void 0:N.toLowerCase().includes(e.toLowerCase()))||((j=b.department_name)==null?void 0:j.toLowerCase().includes(e.toLowerCase()))}),[m,e]),w=()=>{d(!c),c?f(""):(f(""),t(""))},y=b=>{t(b),l(!1),d(!1)},v=b=>{f(b),t(b)};return h.useEffect(()=>{c&&f(e)},[e,c]),s.jsxs("div",{className:Ee("space-y-2",i),children:[s.jsxs(he,{htmlFor:"received-by-selector",children:[n,a&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:c?s.jsx(Te,{id:"received-by-manual",value:u,onChange:b=>v(b.target.value),placeholder:"Enter receiver name manually...",className:"w-full"}):s.jsxs(uE,{open:o,onOpenChange:l,children:[s.jsx(fE,{asChild:!0,children:s.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[e?s.jsx("span",{className:"truncate",children:e}):s.jsx("span",{className:"text-muted-foreground",children:r}),s.jsx(FN,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(oy,{className:"w-full p-0",align:"start",children:s.jsxs(cy,{children:[s.jsx(dy,{placeholder:"Search custodians..."}),s.jsxs(uy,{children:[s.jsx(fy,{children:p?"Loading custodians...":"No custodians found."}),s.jsx(hy,{children:g.map(b=>s.jsxs(my,{value:b.name,onSelect:()=>y(b.name),children:[s.jsx(Bs,{className:Ee("mr-2 h-4 w-4",e===b.name?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:b.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.position,"  ",b.department_name]})]})]},b.id))})]})]})})]})}),s.jsx(ue,{type:"button",variant:"outline",size:"sm",onClick:w,className:"px-3",title:c?"Switch to dropdown selection":"Switch to manual input",children:s.jsx(jc,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c?"Manual input mode - type the receiver's name directly":"Dropdown mode - search and select from existing custodians"})]})},Xq=()=>{zn(),Vn();const[e,t]=h.useState(""),[r,n]=h.useState(!1),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState([]),[u,f]=h.useState({custodianName:"",designation:"",office:"",dateIssued:new Date().toISOString().split("T")[0],issuedBy:"",receivedBy:""}),[m,p]=h.useState(null),[x,g]=h.useState(null),[w,y]=h.useState(null),v=h.useRef(!1),b=(O,G)=>{f(Q=>({...Q,custodianName:O})),p(G||null),G&&f(Q=>({...Q,custodianName:O,designation:G.position||Q.designation,office:G.department_name||Q.office}))},N=(O,G)=>{f(Q=>({...Q,office:O})),g(G||null)},{toast:j}=Bn(),E=Va(),k=h.useRef(null);h.useEffect(()=>{const O=re.channel("realtime:custodian-slips-annex").on("postgres_changes",{event:"*",schema:"public",table:"custodian_slips"},()=>{console.log("[Realtime] Custodian slip changed, refreshing..."),E.invalidateQueries({queryKey:["annex-custodian-slips"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing..."),E.invalidateQueries({queryKey:["annex-custodian-slips"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing available items..."),E.invalidateQueries({queryKey:["available-inventory-for-slips"]})}).subscribe();return()=>{re.removeChannel(O)}},[E]);const{data:D=[],isLoading:z,error:F}=Gt({queryKey:["annex-custodian-slips"],queryFn:async()=>{const{data:O,error:G}=await re.from("custodian_slips").select(`
          *,
          custodian_slip_items(
            *,
            inventory_items (
              estimated_useful_life,
              sub_category,
              category
            )
          )
        `).order("created_at",{ascending:!1});if(G)throw G;return O.map(Q=>({id:Q.id,slipNumber:Q.slip_number,custodianName:Q.custodian_name,designation:Q.designation,office:Q.office,dateIssued:Q.date_issued,issuedBy:Q.issued_by,receivedBy:Q.received_by,slipStatus:Q.slip_status,items:Q.custodian_slip_items.map(ie=>({id:ie.id,slipId:ie.slip_id,inventoryItemId:ie.inventory_item_id,propertyNumber:ie.property_number,description:ie.description,quantity:ie.quantity,unit:ie.unit,unitCost:ie.unit_cost||0,totalCost:ie.total_cost||0,amount:ie.amount||ie.total_cost||0,itemNumber:ie.item_number||"",estimatedUsefulLife:ie.estimated_useful_life||ie.inventory_items&&ie.inventory_items.estimated_useful_life||"",dateIssued:ie.date_issued,propertyCardEntryId:ie.property_card_entry_id,createdAt:ie.created_at,updatedAt:ie.updated_at})),createdAt:Q.created_at,updatedAt:Q.updated_at}))},staleTime:5*60*1e3,retry:(O,G)=>navigator.onLine?O<2:!1}),{data:I=[]}=Gt({queryKey:["available-inventory-for-slips"],queryFn:async()=>{const{data:O,error:G}=await re.from("available_inventory_items_with_property_cards").select("*").order("created_at",{ascending:!1});if(G){console.error("Error fetching available inventory:",G);const Q=await Dr.getAll();if(Q.success){const ie=[];for(const ne of Q.data){const{data:R}=await re.from("property_cards").select("id").eq("inventory_item_id",ne.id).single();if(R){const J=ne.condition==="Serviceable",ce=ne.status==="Active",se=!ne.custodian||ne.custodian==="",Pe=!ne.assignmentStatus||ne.assignmentStatus==="Available",Ue=ne.assignmentStatus!=="Assigned";J&&ce&&se&&Pe&&Ue&&ie.push(ne)}}return ie}return[]}return O.map(Q=>({id:Q.id,propertyNumber:Q.property_number,description:Q.description,brand:Q.brand,model:Q.model,serialNumber:Q.serial_number,unitOfMeasure:Q.unit_of_measure,quantity:Q.quantity,unitCost:Q.unit_cost,totalCost:Q.total_cost,dateAcquired:Q.date_acquired,supplier:Q.supplier,condition:Q.condition,location:Q.location,fundSource:Q.fund_source_id,remarks:Q.remarks,lastInventoryDate:Q.last_inventory_date,semiExpandableCategory:Q.semi_expandable_category,status:Q.status,assignmentStatus:Q.assignment_status,assignedDate:Q.assigned_date,createdAt:Q.created_at,updatedAt:Q.updated_at}))},enabled:r,staleTime:2*60*1e3}),q=Os({mutationKey:["create-custodian-slip"],mutationFn:async O=>(console.log("[mutationFn] Executing - calling annexService.createCustodianSlip"),await Ao.createCustodianSlip(O)),retry:!1,onSuccess:O=>{v.current=!1;const G=Array.isArray(O)?O.length:1;G>1?j({title:"Success",description:`${G} custodian slips created (separated by value)! ${c.length} item(s) assigned to ${u.custodianName}`}):j({title:"Success",description:`Custodian slip created successfully! ${c.length} item(s) assigned to ${u.custodianName}`}),E.invalidateQueries({queryKey:["annex-custodian-slips"]}),E.invalidateQueries({queryKey:["available-inventory-for-slips"]}),E.invalidateQueries({queryKey:["inventory-items"]}),E.invalidateQueries({queryKey:["custodian-summaries"]}),E.invalidateQueries({queryKey:["custodian-summary"]}),E.invalidateQueries({queryKey:["custodian-item-history"]}),E.invalidateQueries({queryKey:["custodian-current-items"]}),E.refetchQueries({queryKey:["annex-custodian-slips"]}),n(!1),f({custodianName:"",designation:"",office:"",dateIssued:new Date().toISOString().split("T")[0],issuedBy:"",receivedBy:""}),p(null),g(null),d([])},onError:O=>{v.current=!1,console.log("Custodian slip creation error:",O.message),j({title:"Error",description:O.message,variant:"destructive"})}}),X=Os({mutationFn:async O=>{console.log("Attempting to delete custodian slip:",O);const{data:G,error:Q}=await re.from("custodian_slips").select("slip_status").eq("id",O).single();if(Q)throw new Error(`Failed to get slip data: ${Q.message}`);if(!G)throw new Error("Custodian slip not found");if(G.slip_status!=="Draft")throw new Error("This custodian slip cannot be deleted because it has been officially issued. Only draft slips can be deleted.");const{data:ie,error:ne}=await re.from("custodian_slip_items").select("inventory_item_id").eq("slip_id",O);if(ne)throw new Error(`Failed to get slip items: ${ne.message}`);if(console.log("Found slip items:",ie),ie&&ie.length>0){const se=ie.map(Ue=>Ue.inventory_item_id),{error:Pe}=await re.from("inventory_items").update({custodian:null,custodian_position:null,assignment_status:"Available",assigned_date:null,updated_at:new Date().toISOString()}).in("id",se);Pe?console.warn("Could not update inventory items:",Pe.message):console.log("Successfully released inventory items")}const{error:R}=await re.from("property_card_entries").delete().eq("related_slip_id",O);R?console.warn("Could not delete property card entries:",R.message):console.log("Successfully deleted property card entries");const{error:J}=await re.from("custodian_slip_items").delete().eq("slip_id",O);if(J)throw new Error(`Failed to delete slip items: ${J.message}`);const{error:ce}=await re.from("custodian_slips").delete().eq("id",O);if(ce)throw console.error("Delete slip error:",ce),new Error(`Failed to delete custodian slip: ${ce.message} (Code: ${ce.code})`);return console.log("Successfully deleted custodian slip"),!0},onSuccess:()=>{j({title:"Success",description:"Custodian slip deleted successfully"}),E.invalidateQueries({queryKey:["annex-custodian-slips"]}),E.invalidateQueries({queryKey:["available-inventory-for-slips"]}),E.invalidateQueries({queryKey:["inventory-items"]})},onError:O=>{j({title:"Error",description:O.message,variant:"destructive"})}}),S=Os({mutationFn:async O=>{const{data:G,error:Q}=await re.from("custodian_slips").select(`
          *,
          custodian_slip_items(*)
        `).eq("id",O).single();if(Q||!G)throw new Error(`Failed to get slip details: ${Q==null?void 0:Q.message}`);const{error:ie}=await re.from("custodian_slips").update({slip_status:"Issued",updated_at:new Date().toISOString()}).eq("id",O);if(ie)throw new Error(`Failed to confirm slip: ${ie.message}`);if(G.custodian_slip_items&&G.custodian_slip_items.length>0){const ne=G.custodian_slip_items.map(J=>J.inventory_item_id),{error:R}=await re.from("inventory_items").update({custodian:G.custodian_name,custodian_position:G.designation,assignment_status:"Assigned",assigned_date:G.date_issued,updated_at:new Date().toISOString()}).in("id",ne);R?console.error("Failed to update inventory items:",R):console.log(`Successfully assigned ${ne.length} inventory items to ${G.custodian_name}`)}},onSuccess:()=>{j({title:"Success",description:"Custodian slip has been officially confirmed and cannot be deleted"}),E.invalidateQueries({queryKey:["annex-custodian-slips"]}),E.invalidateQueries({queryKey:["inventory-items"]}),E.invalidateQueries({queryKey:["available-inventory-for-slips"]}),E.invalidateQueries({queryKey:["custodian-summaries"]}),y(null)},onError:O=>{j({title:"Error",description:O.message,variant:"destructive"})}}),_=async()=>{if(console.log("[handleCreateSlip] Called. Ref:",v.current,"isPending:",q.isPending),v.current||q.isPending){console.log("[handleCreateSlip] BLOCKED - Creation already in progress, ignoring duplicate call");return}if(!u.custodianName||!u.designation||!u.office||!u.issuedBy||!u.receivedBy){j({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(c.length===0){j({title:"Validation Error",description:"Please select at least one inventory item",variant:"destructive"});return}v.current=!0,console.log("[handleCreateSlip] Creating custodian slip with items:",c),console.log("[handleCreateSlip] About to call mutate()"),q.mutate({custodianName:u.custodianName,designation:u.designation,office:u.office,dateIssued:u.dateIssued,issuedBy:u.issuedBy,receivedBy:u.receivedBy,inventoryItemIds:c}),console.log("[handleCreateSlip] mutate() called, returning from handler")},A=async O=>{try{const G=await Ao.getCustodianSlipWithItems(O.id);G&&i(G)}catch{j({title:"Error",description:"Failed to load custodian slip details",variant:"destructive"})}},te=async O=>{try{const G=await Ao.getCustodianSlipWithItems(O.id);G&&(i(G),l(!0))}catch{j({title:"Error",description:"Failed to load custodian slip for printing",variant:"destructive"})}},W=O=>{confirm("Are you sure you want to delete this custodian slip? This will release all assigned inventory items.")&&X.mutate(O)},U=O=>{confirm("Are you sure you want to officially confirm this custodian slip? Once confirmed, it cannot be deleted and will be marked as an official document.")&&S.mutate(O)},ae=O=>{const G=O.items.reduce((Q,ie)=>Q+(ie.amount||0),0);return{slipNumber:O.slipNumber,entityName:"PROVINCIAL GOVERNMENT OF APAYAO",fundCluster:"General Fund",custodianName:O.custodianName,designation:O.designation,office:O.office,dateIssued:O.dateIssued,issuedBy:O.issuedBy,receivedBy:O.receivedBy,items:O.items.map(Q=>({itemNumber:Q.propertyNumber,propertyNumber:Q.propertyNumber,description:Q.description,quantity:Q.quantity,unit:Q.unit,unitCost:Q.unitCost,totalCost:Q.totalCost,amount:Q.amount,estimatedUsefulLife:Q.estimatedUsefulLife,dateIssued:Q.dateIssued})),totalAmount:G}},ve=O=>{d(G=>G.includes(O)?G.filter(Q=>Q!==O):[...G,O])},B=D.filter(O=>O.slipNumber.toLowerCase().includes(e.toLowerCase())||O.custodianName.toLowerCase().includes(e.toLowerCase())||O.office.toLowerCase().includes(e.toLowerCase()));return z&&D.length===0?s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx(Qt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading custodian slips..."})]}):F&&navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(wr,{className:"max-w-md mx-auto",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsxs(jr,{children:["Error: ",F.message]})]}),s.jsx(ue,{onClick:()=>E.invalidateQueries({queryKey:["annex-custodian-slips"]}),className:"mt-4",children:"Retry"})]}):F&&!navigator.onLine?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs(wr,{className:"max-w-md mx-auto",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx(jr,{children:"You're offline. Some features may not work until your connection is restored."})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Previously loaded custodian slips will appear when available."})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Inventory Custodian Slips (ICS)"}),s.jsxs(ue,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Create New Slip"]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search custodian slips...",value:e,onChange:O=>t(O.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(O=>s.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{className:"text-lg font-mono",children:O.slipNumber}),s.jsx(Ze,{variant:O.slipStatus==="Issued"?"default":"secondary",className:"ml-2",children:O.slipStatus||"Draft"})]})}),s.jsx(Ie,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Property Numbers:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:O.items.map((G,Q)=>s.jsx(Ze,{variant:"outline",className:"font-mono text-xs",children:G.propertyNumber},G.id||Q))}),O.items.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"No items"})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>A(O),className:"flex items-center gap-1 flex-1",children:[s.jsx(zc,{className:"h-3 w-3"}),"View"]}),s.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>te(O),className:"flex items-center gap-1 flex-1",children:[s.jsx(Sr,{className:"h-3 w-3"}),"Print"]}),(O.slipStatus==="Draft"||!O.slipStatus)&&s.jsxs(ue,{variant:"default",size:"sm",onClick:()=>U(O.id),className:"flex items-center gap-1 bg-green-600 hover:bg-green-700 flex-1",disabled:S.isPending,title:"Confirm this slip as official (cannot be deleted after confirmation)",children:[S.isPending?s.jsx(Qt,{className:"h-3 w-3 animate-spin"}):s.jsx(Ea,{className:"h-3 w-3"}),"Confirm"]}),(O.slipStatus==="Draft"||!O.slipStatus)&&s.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>W(O.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",disabled:X.isPending,title:"Delete this draft custodian slip",children:[s.jsx(wc,{className:"h-3 w-3"}),"Delete"]})]})]})})]},O.id))}),B.length===0&&!z&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No custodian slips found."}),s.jsx(ue,{onClick:()=>n(!0),className:"mt-4",children:"Create your first custodian slip"})]}),s.jsx(en,{open:r,onOpenChange:O=>{n(O),O||(v.current=!1)},children:s.jsxs(Ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Create Inventory Custodian Slip"}),s.jsx(us,{children:"Create a new ICS by selecting inventory items and assigning them to a custodian"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(dg,{value:u.custodianName,onChange:b,placeholder:"Search for custodian...",label:"Custodian Name",required:!0})}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"designation",children:"Designation *"}),s.jsx(Te,{id:"designation",value:u.designation,onChange:O=>f(G=>({...G,designation:O.target.value})),placeholder:"Enter designation"})]}),s.jsx("div",{children:s.jsx(Gq,{value:u.office,onChange:N,placeholder:"Search for department...",label:"Office/Department",required:!0})}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"dateIssued",children:"Date Issued *"}),s.jsx(Te,{id:"dateIssued",type:"date",value:u.dateIssued,onChange:O=>f(G=>({...G,dateIssued:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"issuedBy",children:"Issued By *"}),s.jsx(Te,{id:"issuedBy",value:u.issuedBy,onChange:O=>f(G=>({...G,issuedBy:O.target.value})),placeholder:"Enter issuer name"})]}),s.jsx("div",{children:s.jsx(Yq,{value:u.receivedBy,onChange:O=>f(G=>({...G,receivedBy:O})),placeholder:"Search for custodian or enter manually...",label:"Received By",required:!0})})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Select Inventory Items *"}),s.jsx("div",{className:"border rounded-md max-h-64 overflow-y-auto",children:s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{className:"w-12",children:"Select"}),s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Condition"}),s.jsx(Se,{children:"Quantity"}),s.jsx(Se,{children:"Unit"}),s.jsx(Se,{children:"Unit Cost"}),s.jsx(Se,{children:"Total Cost"})]})}),s.jsx(Wr,{children:I.length===0?s.jsx(rt,{children:s.jsx(be,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No available inventory items found. All items may be assigned to custodians or marked as unserviceable."})}):I.map(O=>{var G,Q;return s.jsxs(rt,{children:[s.jsx(be,{children:s.jsx(ad,{checked:c.includes(O.id),onCheckedChange:()=>ve(O.id)})}),s.jsx(be,{children:O.propertyNumber}),s.jsx(be,{children:O.description}),s.jsx(be,{children:s.jsx(Ze,{variant:O.condition==="Serviceable"?"default":"destructive",children:O.condition})}),s.jsx(be,{children:O.quantity}),s.jsx(be,{children:O.unitOfMeasure}),s.jsxs(be,{children:["",((G=O.unitCost)==null?void 0:G.toFixed(2))||"0.00"]}),s.jsxs(be,{children:["",((Q=O.totalCost)==null?void 0:Q.toFixed(2))||"0.00"]})]},O.id)})})]})}),I.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx("p",{children:"No items available for assignment."}),s.jsx("p",{className:"text-xs mt-1",children:"Items must be in 'Serviceable' condition and not already assigned to be available."})]}):s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",c.length," items  Available: ",I.length," items"]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(ue,{onClick:_,disabled:q.isPending||v.current,children:[(q.isPending||v.current)&&s.jsx(Qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Custodian Slip"]})]})]})]})}),s.jsx(en,{open:o,onOpenChange:l,children:s.jsxs(Ur,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Print Custodian Slip"}),s.jsx(us,{children:"Inventory Custodian Slip (ICS) - Ready for printing"})]}),s.jsx("div",{ref:k,children:a&&s.jsx(Qq,{data:ae(a)})})]})}),s.jsx(en,{open:!!a&&!o,onOpenChange:()=>i(null),children:s.jsxs(Ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Custodian Slip Details"}),s.jsxs(us,{children:[a==null?void 0:a.slipNumber," - ",a==null?void 0:a.custodianName]})]}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"Slip Number"}),s.jsx("p",{className:"text-sm",children:a.slipNumber})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Custodian Name"}),s.jsx("p",{className:"text-sm",children:a.custodianName})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Designation"}),s.jsx("p",{className:"text-sm",children:a.designation})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Office"}),s.jsx("p",{className:"text-sm",children:a.office})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Date Issued"}),s.jsx("p",{className:"text-sm",children:a.dateIssued})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Issued By"}),s.jsx("p",{className:"text-sm",children:a.issuedBy})]})]}),a.items&&a.items.length>0&&s.jsxs("div",{children:[s.jsx(he,{children:"Items"}),s.jsx("div",{className:"border rounded-md",children:s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{children:"Item No."}),s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Quantity"}),s.jsx(Se,{children:"Unit"}),s.jsx(Se,{children:"Unit Cost"}),s.jsx(Se,{children:"Amount"}),s.jsx(Se,{children:"Est. Life"})]})}),s.jsx(Wr,{children:a.items.map(O=>{var G,Q;return s.jsxs(rt,{children:[s.jsx(be,{children:O.itemNumber}),s.jsx(be,{children:O.propertyNumber}),s.jsx(be,{children:O.description}),s.jsx(be,{children:O.quantity}),s.jsx(be,{children:O.unit}),s.jsxs(be,{children:["",((G=O.unitCost)==null?void 0:G.toFixed(2))||"0.00"]}),s.jsxs(be,{children:["",((Q=O.amount)==null?void 0:Q.toFixed(2))||"0.00"]}),s.jsx(be,{children:O.estimatedUsefulLife||"N/A"})]},O.id)})})]})}),s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Total Items:"})," ",a.items.length," |",s.jsx("strong",{children:" Total Amount:"})," ",a.items.reduce((O,G)=>O+(G.amount||0),0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",onClick:()=>i(null),children:"Close"}),s.jsxs(ue,{onClick:()=>l(!0),children:[s.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})]})})]})};function Jq(){const e=zn(),[t,r]=h.useState(""),[n,a]=h.useState(null),[i,o]=h.useState(!1);Bn();const l=Va();h.useEffect(()=>{const y=re.channel("realtime:custodians-page").on("postgres_changes",{event:"*",schema:"public",table:"custodian_slips"},()=>{console.log("[Realtime] Custodian slips changed, refreshing..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-summary"]}),l.invalidateQueries({queryKey:["custodian-item-history"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"custodian_slip_items"},()=>{console.log("[Realtime] Custodian slip items changed, refreshing..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-summary"]}),l.invalidateQueries({queryKey:["custodian-item-history"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},()=>{console.log("[Realtime] Inventory items changed, refreshing custodian data..."),l.invalidateQueries({queryKey:["custodian-summaries"]}),l.invalidateQueries({queryKey:["custodian-current-items"]})}).subscribe();return()=>{re.removeChannel(y)}},[l]);const{data:c=[],isLoading:d,error:u}=Gt({queryKey:["custodians"],queryFn:()=>Ts.getAll({search:t}),enabled:!0}),{data:f=[]}=Gt({queryKey:["custodian-summaries"],queryFn:()=>Ts.getAllSummaries(),enabled:!0,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:m}=Gt({queryKey:["custodian-summary",n==null?void 0:n.id],queryFn:()=>Ts.getSummary(n.id),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:p=[]}=Gt({queryKey:["custodian-item-history",n==null?void 0:n.id],queryFn:()=>Ts.getItemHistory(n.id,{includeReturned:!0}),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),{data:x=[]}=Gt({queryKey:["custodian-current-items",n==null?void 0:n.id],queryFn:()=>Ts.getCurrentItems(n.id),enabled:!!n,staleTime:30*1e3,refetchOnWindowFocus:!0}),g=y=>{a(y),o(!0)},w=c.filter(y=>y.name.toLowerCase().includes(t.toLowerCase())||y.custodian_no.toLowerCase().includes(t.toLowerCase())||y.department_name&&y.department_name.toLowerCase().includes(t.toLowerCase()));return u?s.jsx("div",{className:"p-6",children:s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"text-center text-red-600",children:["Error loading custodians: ",u.message]})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Custodians"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and view custodian information and item assignments"})]}),s.jsxs(ue,{onClick:()=>e("/settings/lookups#custodians"),children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),"Add Custodian"]})]}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search custodians by name, number, or department...",value:t,onChange:y=>r(y.target.value),className:"pl-10"})]})})}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(jc,{className:"h-5 w-5"}),"All Custodians (",w.length,")"]})}),s.jsx(Ie,{children:d?s.jsx("div",{className:"text-center py-8",children:"Loading custodians..."}):s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{children:"Custodian No."}),s.jsx(Se,{children:"Name"}),s.jsx(Se,{children:"Position"}),s.jsx(Se,{children:"Department"}),s.jsx(Se,{children:"Status"}),s.jsx(Se,{children:"Current Items"}),s.jsx(Se,{children:"Total Value"}),s.jsx(Se,{children:"Actions"})]})}),s.jsx(Wr,{children:w.map(y=>{const v=f.find(b=>b.custodian.id===y.id);return s.jsxs(rt,{children:[s.jsx(be,{className:"font-mono",children:y.custodian_no}),s.jsx(be,{className:"font-medium",children:y.name}),s.jsx(be,{children:y.position||"-"}),s.jsx(be,{children:y.department_name||"-"}),s.jsx(be,{children:s.jsx(Ze,{variant:y.is_active?"default":"secondary",children:y.is_active?"Active":"Inactive"})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"h-4 w-4"}),(v==null?void 0:v.currently_assigned_items)||0]})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bi,{className:"h-4 w-4"}),"",((v==null?void 0:v.currently_assigned_value)||0).toLocaleString()]})}),s.jsx(be,{children:s.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>g(y),children:[s.jsx(zc,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},y.id)})})]})})]}),s.jsx(en,{open:i,onOpenChange:o,children:s.jsxs(Ur,{className:"max-w-6xl max-h-[90vh] overflow-y-auto print:max-w-full print:max-h-none print:overflow-visible",children:[s.jsxs(nn,{className:"print:block pr-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 print:flex-col print:items-start print:gap-2",children:[s.jsxs(sn,{className:"flex items-center gap-2 print:text-2xl",children:[s.jsx(jc,{className:"h-5 w-5 print:hidden"}),"Custodian Details"]}),s.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>window.print(),className:"print:hidden",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Print"]})]}),s.jsx(us,{className:"print:hidden",children:"View detailed information and item history for this custodian"})]}),n&&m&&s.jsxs("div",{className:"space-y-6 print:space-y-4",children:[s.jsxs(Re,{className:"print:shadow-none print:border print:border-gray-300",children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:n.name}),s.jsx(Ze,{variant:n.is_active?"default":"secondary",children:n.is_active?"Active":"Inactive"})]})}),s.jsx(Ie,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custodian Number"}),s.jsx("p",{className:"font-mono",children:n.custodian_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Position"}),s.jsx("p",{children:n.position||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{children:n.department_name||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),s.jsx("p",{children:m.last_activity_date?as(new Date(m.last_activity_date),"MMM dd, yyyy"):"No activity"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Items"}),s.jsx("p",{className:"text-2xl font-bold",children:m.currently_assigned_items})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",m.currently_assigned_value.toLocaleString()]})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:m.total_items_assigned})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",m.total_value_assigned.toLocaleString()]})]})]})})})]}),s.jsxs(Jf,{defaultValue:"current",className:"w-full",children:[s.jsxs(rd,{className:"grid w-full grid-cols-2",children:[s.jsxs(mn,{value:"current",children:["Currently Assigned (",x.length,")"]}),s.jsxs(mn,{value:"history",children:["All History (",p.length,")"]})]}),s.jsx(pn,{value:"current",className:"space-y-4",children:s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Currently Assigned Items"})}),s.jsx(Ie,{children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No items currently assigned to this custodian."}):s.jsxs(Nr,{className:"print:border print:border-gray-300",children:[s.jsx(zr,{className:"print:bg-gray-100",children:s.jsxs(rt,{className:"print:border-b print:border-gray-300",children:[s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Property Number"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Description"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Condition"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Value"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Assigned Date"})]})}),s.jsx(Wr,{children:x.map(y=>s.jsxs(rt,{className:"print:border-b print:border-gray-300",children:[s.jsx(be,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:y.property_number}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.description}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ze,{variant:y.condition==="Serviceable"?"default":"destructive",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:y.condition})}),s.jsxs(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:["",y.total_cost.toLocaleString()]}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.assigned_date?as(new Date(y.assigned_date),"MMM dd, yyyy"):"-"})]},y.id))})]})})]})}),s.jsx(pn,{value:"history",className:"space-y-4",children:s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"All Item History"})}),s.jsx(Ie,{children:p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No item history found for this custodian."}):s.jsxs(Nr,{className:"print:border print:border-gray-300",children:[s.jsx(zr,{className:"print:bg-gray-100",children:s.jsxs(rt,{className:"print:border-b print:border-gray-300",children:[s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Property Number"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Description"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Condition"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Value"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Slip Number"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Date Issued"}),s.jsx(Se,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:"Status"})]})}),s.jsx(Wr,{children:p.map(y=>s.jsxs(rt,{className:"print:border-b print:border-gray-300",children:[s.jsx(be,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:y.property_number}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.description}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ze,{variant:y.condition==="Serviceable"?"default":"destructive",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:y.condition})}),s.jsxs(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:["",y.total_cost.toLocaleString()]}),s.jsx(be,{className:"font-mono print:border print:border-gray-300 print:px-2 print:py-1",children:y.custodian_slip_number}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:y.date_issued?as(new Date(y.date_issued),"MMM dd, yyyy"):"-"}),s.jsx(be,{className:"print:border print:border-gray-300 print:px-2 print:py-1",children:s.jsx(Ze,{variant:y.is_currently_assigned?"default":"secondary",className:"print:bg-transparent print:text-black print:border print:border-gray-400",children:y.is_currently_assigned?"Currently Assigned":"Returned"})})]},y.id))})]})})]})})]})]})]})})]})}function Zq(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var xy="ScrollArea",[dk,kV]=kr(xy),[eB,wn]=dk(xy),uk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,x]=h.useState(null),[g,w]=h.useState(null),[y,v]=h.useState(0),[b,N]=h.useState(0),[j,E]=h.useState(!1),[k,D]=h.useState(!1),z=ze(t,I=>c(I)),F=Yc(a);return s.jsx(eB,{scope:r,type:n,dir:F,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:D,onCornerWidthChange:v,onCornerHeightChange:N,children:s.jsx(De.div,{dir:F,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});uk.displayName=xy;var fk="ScrollAreaViewport",hk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=wn(fk,r),l=h.useRef(null),c=ze(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(De.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});hk.displayName=fk;var ms="ScrollAreaScrollbar",by=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=wn(ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(tB,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(rB,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(mk,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(wy,{...n,ref:t}):null});by.displayName=ms;var tB=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=wn(ms,e.__scopeScrollArea),[i,o]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(sr,{present:r||i,children:s.jsx(mk,{"data-state":i?"visible":"hidden",...n,ref:t})})}),rB=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=wn(ms,e.__scopeScrollArea),i=e.orientation==="horizontal",o=sh(()=>c("SCROLL_END"),100),[l,c]=Zq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(sr,{present:r||l!=="hidden",children:s.jsx(wy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mk=h.forwardRef((e,t)=>{const r=wn(ms,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=h.useState(!1),l=e.orientation==="horizontal",c=sh(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return rl(r.viewport,c),rl(r.content,c),s.jsx(sr,{present:n||i,children:s.jsx(wy,{"data-state":i?"visible":"hidden",...a,ref:t})})}),wy=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=wn(ms,e.__scopeScrollArea),i=h.useRef(null),o=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=xk(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return lB(m,o.current,l,p)}return r==="horizontal"?s.jsx(nB,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=j0(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(sB,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=j0(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),nB=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=wn(ms,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=ze(t,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(gk,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),wk(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zu(o.paddingLeft),paddingEnd:Zu(o.paddingRight)}})}})}),sB=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=wn(ms,e.__scopeScrollArea),[o,l]=h.useState(),c=h.useRef(null),d=ze(t,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(gk,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),wk(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zu(o.paddingTop),paddingEnd:Zu(o.paddingBottom)}})}})}),[aB,pk]=dk(ms),gk=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,p=wn(ms,r),[x,g]=h.useState(null),w=ze(t,z=>g(z)),y=h.useRef(null),v=h.useRef(""),b=p.viewport,N=n.content-n.viewport,j=Ot(u),E=Ot(c),k=sh(f,10);function D(z){if(y.current){const F=z.clientX-y.current.left,I=z.clientY-y.current.top;d({x:F,y:I})}}return h.useEffect(()=>{const z=F=>{const I=F.target;(x==null?void 0:x.contains(I))&&j(F,N)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[b,x,N,j]),h.useEffect(E,[n,E]),rl(x,k),rl(p.content,k),s.jsx(aB,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Ot(i),onThumbPointerUp:Ot(o),onThumbPositionChange:E,onThumbPointerDown:Ot(l),children:s.jsx(De.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Ne(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),y.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),D(z))}),onPointerMove:Ne(e.onPointerMove,D),onPointerUp:Ne(e.onPointerUp,z=>{const F=z.target;F.hasPointerCapture(z.pointerId)&&F.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Ju="ScrollAreaThumb",vk=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=pk(Ju,e.__scopeScrollArea);return s.jsx(sr,{present:r||a.hasThumb,children:s.jsx(iB,{ref:t,...n})})}),iB=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=wn(Ju,r),o=pk(Ju,r),{onThumbPositionChange:l}=o,c=ze(t,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=sh(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const p=cB(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(De.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});vk.displayName=Ju;var jy="ScrollAreaCorner",yk=h.forwardRef((e,t)=>{const r=wn(jy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(oB,{...e,ref:t}):null});yk.displayName=jy;var oB=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=wn(jy,r),[i,o]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return rl(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),rl(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(De.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zu(e){return e?parseInt(e,10):0}function xk(e,t){const r=e/t;return isNaN(r)?0:r}function nh(e){const t=xk(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function lB(e,t,r,n="ltr"){const a=nh(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return bk([c,d],f)(e)}function j0(e,t,r="ltr"){const n=nh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=tg(e,c);return bk([0,o],[0,l])(d)}function bk(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wk(e,t){return e>0&&e<t}var cB=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function sh(e,t){const r=Ot(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function rl(e,t){const r=Ot(t);nr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var jk=uk,dB=hk,uB=yk;const cu=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jk,{ref:n,className:Ee("relative overflow-hidden",e),...r,children:[s.jsx(dB,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Nk,{}),s.jsx(uB,{})]}));cu.displayName=jk.displayName;const Nk=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(by,{ref:n,orientation:t,className:Ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(vk,{className:"relative flex-1 rounded-full bg-border"})}));Nk.displayName=by.displayName;const ug=["Donation","Reassignment","Relocate","Others"],qd={entityName:"",fromAccountableOfficer:"",toAccountableOfficer:"",fundCluster:"",itrNumber:"",date:"",transferType:"Donation",otherTransferType:"",reason:"",status:"Draft",items:[]},pm=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"})},fB=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ri=e=>e==null?"":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(e),bo=(e,t)=>e?t?`${e} / ${t}`:e:"",Rl=async(e=[])=>{const t=new Date().getFullYear(),r=new RegExp(`^ITR-${t}-(\\d{4})$`);let n=0;for(const i of e){const o=r.exec(i.itrNumber);if(o){const l=parseInt(o[1],10);Number.isNaN(l)||(n=Math.max(n,l))}}try{const{data:i}=await re.from("property_transfers").select("transfer_number").like("transfer_number",`ITR-${t}-%`).order("transfer_number",{ascending:!1}).limit(100);if(i)for(const o of i){const l=r.exec(o.transfer_number);if(l){const c=parseInt(l[1],10);Number.isNaN(c)||(n=Math.max(n,c))}}}catch(i){console.warn("Could not check database for existing ITR numbers, using local state only:",i)}const a=String(n+1).padStart(4,"0");return`ITR-${t}-${a}`},hB=(e,t)=>{const r=t.map(o=>o.map(l=>`"${l.replace(/"/g,'""')}"`).join(",")).join(`\r
`),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},mB=e=>({propertyNumber:e.propertyNumber,description:e.description,quantity:e.quantity,condition:e.condition,dateAcquired:e.dateAcquired,amount:e.amount,icsSlipId:e.icsSlipId,icsSlipNumber:e.icsSlipNumber,icsDate:e.icsDate,inventoryItemId:e.inventoryItemId,custodianName:e.custodianName}),N0=(e,t=!1)=>{const r=e.items||[],n=Math.max(12-r.length,0),a=t?"bg-white border border-border rounded-lg shadow-sm text-foreground":"bg-white text-black border border-black",i=t?"p-6":"p-10",o=l=>l.icsSlipNumber&&l.icsDate?`${l.icsSlipNumber} / ${l.icsDate}`:l.icsSlipNumber?l.icsSlipNumber:l.icsDate?l.icsDate:"";return s.jsxs("div",{className:`${a} ${i}`,children:[s.jsx("div",{className:`flex justify-end text-xs mb-2 ${t?"text-muted-foreground":""}`,children:"Annex A.5"}),s.jsx("div",{className:"text-center border-b border-black pb-2 mb-4",children:s.jsx("h1",{className:"text-2xl font-bold tracking-wide",children:"INVENTORY TRANSFER REPORT"})}),s.jsx("table",{className:"w-full text-sm mb-4",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsxs("td",{className:"pr-4 align-top",children:["Entity Name:",s.jsx("span",{className:"inline-block min-w-[250px] border-b border-black",children:e.entityName||""})]}),s.jsxs("td",{className:"align-top",children:["Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[180px] border-b border-black",children:e.fundCluster||""})]})]})})}),s.jsx("table",{className:"w-full text-sm mb-2",children:s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsxs("td",{className:"pr-2 align-top w-[55%]",children:[s.jsxs("div",{children:["From Accountable Officer/Agency/Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[230px] border-b border-black",children:bo(e.fromAccountableOfficer,e.fromAccountableOfficerDepartment)||""})]}),s.jsxs("div",{className:"mt-2",children:["To Accountable Officer/Agency/Fund Cluster:",s.jsx("span",{className:"inline-block min-w-[230px] border-b border-black",children:bo(e.toAccountableOfficer,e.toAccountableOfficerDepartment)||""})]})]}),s.jsxs("td",{className:"align-top",children:[s.jsxs("div",{children:["ITR No.:",s.jsx("span",{className:"inline-block min-w-[160px] border-b border-black",children:e.itrNumber||""})]}),s.jsxs("div",{className:"mt-2",children:["Date:",s.jsx("span",{className:"inline-block min-w-[160px] border-b border-black",children:e.date||""})]})]})]})})}),s.jsxs("div",{className:"border border-black p-2 mb-4",children:[s.jsx("div",{className:"text-sm mb-2 font-semibold",children:"Transfer Type: (check only one)"}),s.jsx("div",{className:"grid grid-cols-2 gap-y-1 text-sm",children:ug.map(l=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-3.5 w-3.5 items-center justify-center border border-black text-[10px] font-bold",children:e.transferType===l?"":""}),s.jsxs("span",{children:[l==="Others"?"Others (Specify)":l,l==="Others"&&e.transferType==="Others"&&e.otherTransferType?`: ${e.otherTransferType}`:""]})]},l))})]}),s.jsxs("table",{className:"w-full border-collapse border border-black text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-black p-2 text-left w-[12%]",children:"Date Acquired"}),s.jsx("th",{className:"border border-black p-2 text-left w-[10%]",children:"Item No."}),s.jsx("th",{className:"border border-black p-2 text-left w-[15%]",children:"ICS No./Date"}),s.jsx("th",{className:"border border-black p-2 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-2 text-right w-[12%]",children:"Amount"}),s.jsx("th",{className:"border border-black p-2 text-center w-[15%]",children:"Condition of Inventory"})]})}),s.jsxs("tbody",{children:[r.map((l,c)=>s.jsxs("tr",{className:"h-10 align-top",children:[s.jsx("td",{className:"border border-black p-2",children:l.dateAcquired||""}),s.jsx("td",{className:"border border-black p-2",children:l.propertyNumber||""}),s.jsx("td",{className:"border border-black p-2",children:o(l)}),s.jsxs("td",{className:"border border-black p-2",children:[l.description,l.quantity?` (Qty: ${l.quantity})`:""]}),s.jsx("td",{className:"border border-black p-2 text-right",children:l.amount!==void 0?ri(l.amount):""}),s.jsx("td",{className:"border border-black p-2 text-center",children:l.condition||""})]},l.propertyNumber??c)),Array.from({length:n}).map((l,c)=>s.jsxs("tr",{className:"h-10",children:[s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""}),s.jsx("td",{className:"border border-black p-2",children:""})]},`blank-${c}`))]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"font-semibold text-sm mb-1",children:"Reasons for Transfer:"}),s.jsx("div",{className:"border border-black h-24 p-3 leading-tight text-sm",children:e.reason||""})]}),s.jsx("div",{className:"grid grid-cols-3 gap-6 text-sm mt-6",children:["Approved by","Released/Issued by","Received by"].map(l=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-t border-black pt-2 text-center",children:s.jsx("p",{className:"font-semibold uppercase text-xs",children:l})}),s.jsx("div",{className:"space-y-2",children:["Signature:","Printed Name:","Designation:","Date:"].map(c=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"whitespace-nowrap",children:c}),s.jsx("span",{className:"flex-1 border-b border-black h-4"})]},c))})]},l))})]})},pB=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState("All"),[m,p]=h.useState("All"),[x,g]=h.useState(""),[w,y]=h.useState(""),[v,b]=h.useState({}),[N,j]=h.useState(!1),[E,k]=h.useState([]),[D,z]=h.useState(""),F=h.useRef(null),{toast:I}=Bn(),q=zn(),X=Va(),[S,_]=h.useState(qd);h.useEffect(()=>{(async()=>{var Z,ye;try{n(!0);let P,$;const de=await re.from("property_transfers").select(`
            id,
            transfer_number,
            entity_name,
            fund_cluster,
            from_department,
            to_department,
            transfer_type,
            status,
            requested_by,
            approved_by,
            date_requested,
            date_approved,
            date_completed,
            reason,
            remarks,
            created_at,
            transfer_items (
              id,
              property_number,
              description,
              quantity,
              condition,
              inventory_item_id
            )
          `).order("date_requested",{ascending:!1});if(P=de.data,$=de.error,$&&((Z=$.message)!=null&&Z.includes("column")||(ye=$.message)!=null&&ye.includes("inventory_item_id"))){console.warn("inventory_item_id column not found, loading without it:",$.message);const le=await re.from("property_transfers").select(`
              id,
              transfer_number,
              entity_name,
              fund_cluster,
              from_department,
              to_department,
              transfer_type,
              status,
              requested_by,
              approved_by,
              date_requested,
              date_approved,
              date_completed,
              reason,
              remarks,
              created_at,
              transfer_items (
                id,
                property_number,
                description,
                quantity,
                condition
              )
            `).order("date_requested",{ascending:!1});P=le.data,$=le.error}if($)throw console.error("Failed to load transfers",$),$;const me=await Promise.all((P||[]).map(async le=>{const ke=await Promise.all((le.transfer_items||[]).map(async Fe=>{let Ye=null,mt=null,Xt=null,Tt=null;if(Fe.inventory_item_id){const{data:qt}=await re.from("inventory_items").select("date_acquired, unit_cost, total_cost, property_number").eq("id",Fe.inventory_item_id).single();qt&&(Tt=qt.date_acquired,Xt=qt.total_cost||qt.unit_cost||null);const{data:Bt}=await re.from("custodian_slip_items").select(`
                  custodian_slips!inner (
                    slip_number,
                    date_issued
                  )
                `).eq("inventory_item_id",Fe.inventory_item_id).order("created_at",{ascending:!1}).limit(1).single();if(Bt!=null&&Bt.custodian_slips){const At=Array.isArray(Bt.custodian_slips)?Bt.custodian_slips[0]:Bt.custodian_slips;At&&(Ye=At.slip_number,mt=At.date_issued)}}if(!Ye&&Fe.from_custodian){const{data:qt}=await re.from("custodian_slips").select("slip_number, date_issued").eq("custodian_name",Fe.from_custodian).order("date_issued",{ascending:!1}).limit(1).single();qt&&(Ye=qt.slip_number,mt=qt.date_issued)}return{propertyNumber:Fe.property_number,description:Fe.description,quantity:Fe.quantity,condition:Fe.condition,inventoryItemId:Fe.inventory_item_id,icsSlipNumber:Ye,icsDate:mt,amount:Xt,dateAcquired:Tt}}));return{id:le.id,entityName:le.entity_name||"PROVINCIAL GOVERNMENT OF APAYAO",fromAccountableOfficer:le.from_department,toAccountableOfficer:le.to_department,fundCluster:le.fund_cluster||"",itrNumber:le.transfer_number,date:le.date_requested,transferType:le.transfer_type||"Donation",reason:le.reason,status:le.status,dateCompleted:le.date_completed,items:ke,history:[{timestamp:le.created_at,status:le.status,action:"Transfer created",details:`Created ${le.transfer_number}`}]}}));t(me)}catch(P){console.error("Error loading transfers:",P),I({title:"Error loading transfers",description:"Could not load transfers from database",variant:"destructive"})}finally{n(!1)}})()},[I]);const A=h.useMemo(()=>["PROVINCIAL GOVERNMENT OF APAYAO","CITY OF LUNA","MUNICIPALITY OF FLORA","PROVINCIAL ACCOUNTING OFFICE"],[]),{data:te=[],isLoading:W}=Gt({queryKey:["transfer-ics-options"],queryFn:async()=>{const{data:H,error:Z}=await re.from("custodian_slips").select(`
          id,
          slip_number,
          date_issued,
          custodian_name,
          custodian_slip_items (
            id,
            inventory_item_id,
            property_number,
            description,
            quantity,
            unit,
            date_issued,
            inventory_items (
              id,
              date_acquired,
              property_number,
              total_cost,
              condition
            )
          )
        `).order("date_issued",{ascending:!1}).limit(100);if(Z)throw console.error("Failed to load custodian slip items for transfers",Z),Z;const ye=[];for(const P of H||[]){const $=P.custodian_slip_items||[];for(const ee of $){const de=Array.isArray(ee.inventory_items)?ee.inventory_items[0]:ee.inventory_items;ye.push({id:ee.id,propertyNumber:ee.property_number||"",description:ee.description||"",quantity:ee.quantity||0,condition:(de==null?void 0:de.condition)||"",amount:Number((de==null?void 0:de.total_cost)??0),dateAcquired:(de==null?void 0:de.date_acquired)||"",custodianName:P.custodian_name||"",icsSlipId:P.id,icsSlipNumber:P.slip_number||"",icsDate:ee.date_issued||P.date_issued||"",inventoryItemId:ee.inventory_item_id||(de==null?void 0:de.id)||""})}}return console.log("Loaded ICS options for transfer:",{totalSlips:H==null?void 0:H.length,totalItems:ye.length,custodians:[...new Set(ye.map(P=>P.custodianName))],sampleItems:ye.slice(0,3)}),ye},staleTime:5*60*1e3}),U=h.useMemo(()=>{const H=S.fromAccountableOfficer?S.fromAccountableOfficer.toLowerCase().trim():"",Z=new Set(S.items.map(P=>P.propertyNumber));let ye=te.filter(P=>Z.has(P.propertyNumber)?!1:H?(P.custodianName||"").toLowerCase().trim()===H:!0);return D&&(ye=ye.filter(P=>`${P.propertyNumber} ${P.description} ${P.icsSlipNumber} ${P.custodianName||""}`.toLowerCase().includes(D.toLowerCase()))),console.log("Filtered ICS items:",{fromOfficer:S.fromAccountableOfficer,totalOptions:te.length,filteredCount:ye.length,items:ye.map(P=>({custodian:P.custodianName,propertyNumber:P.propertyNumber}))}),ye},[te,S.fromAccountableOfficer,S.items,D]),ae=h.useMemo(()=>{const H=c.toLowerCase();return e.filter(Z=>{const P=[Z.itrNumber,Z.entityName,Z.fromAccountableOfficer,Z.toAccountableOfficer,Z.reason,Z.items.map(le=>`${le.propertyNumber} ${le.description}`).join(" ")].join(" ").toLowerCase().includes(H),$=u==="All"||Z.status===u,ee=m==="All"||Z.transferType===m,de=!x||Z.date>=x,me=!w||Z.date<=w;return P&&$&&ee&&de&&me})},[e,c,u,m,x,w]);h.useEffect(()=>{o?(Rl(e).then(H=>{_(Z=>({...qd,...Z,itrNumber:Z.itrNumber||H,status:"Draft"}))}),b({})):(_(qd),k([]),j(!1))},[o,e]);const ve=H=>{const Z={};return H.entityName.trim()||(Z.entityName="Entity name is required."),H.fundCluster.trim()||(Z.fundCluster="Fund cluster is required."),H.itrNumber.trim()||(Z.itrNumber="ITR number is required."),H.date.trim()||(Z.date="Date is required."),H.fromAccountableOfficer.trim()||(Z.fromOfficer="Select the releasing accountable officer."),H.toAccountableOfficer.trim()||(Z.toOfficer="Select the receiving accountable officer."),H.reason.trim()||(Z.reason="Please provide the reason for transfer."),H.items.length||(Z.items="Select at least one item from the ICS list."),Z},B=async()=>{const H=await Rl(e);_(Z=>({...Z,itrNumber:H}))},O=async()=>{var Z,ye,P,$;const H=ve(S);if(Object.keys(H).length>0){b(H),I({title:"Missing information",description:"Please fill in the required fields before saving the transfer.",variant:"destructive"});return}try{const ee=new Date().toISOString();let de=S.itrNumber;de||(de=await Rl(e));const{data:me,error:le}=await re.from("property_transfers").select("id").eq("transfer_number",de).maybeSingle();if(le)throw console.error("Error checking existing transfer number:",le),le;me&&(de=await Rl(e));const ke=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`,Ye={Donation:"Permanent",Reassignment:"Permanent",Relocate:"Temporary",Others:"Temporary"}[S.transferType]??"Permanent",{data:mt}=await re.auth.getUser(),Xt=(Z=mt==null?void 0:mt.user)==null?void 0:Z.id;if(!Xt){I({title:"Authentication required",description:"You must be signed in to create transfers.",variant:"destructive"});return}let Tt,qt=0;const Bt=3;for(;qt<Bt;){Tt=null;const{error:pt}=await re.from("property_transfers").insert({id:ke,transfer_number:de,entity_name:S.entityName.trim(),fund_cluster:S.fundCluster.trim(),from_department:S.fromAccountableOfficer,to_department:S.toAccountableOfficer,transfer_type:Ye,status:S.status,date_requested:S.date,reason:S.reason,requested_by:Xt});if(pt){if(pt.code==="23505"&&((ye=pt.message)!=null&&ye.includes("transfer_number"))){console.warn(`Duplicate ITR number ${de} detected, generating new number...`),de=await Rl(e),qt++;continue}Tt=pt;break}else break}if(Tt)throw Tt;const At=S.items.map(pt=>{var Tr;return{id:((Tr=crypto.randomUUID)==null?void 0:Tr.call(crypto))||`${Date.now()}-${Math.random()}`,transfer_id:ke,property_number:pt.propertyNumber,description:pt.description,quantity:pt.quantity,condition:pt.condition,inventory_item_id:pt.inventoryItemId||null,ics_slip_id:pt.icsSlipId||null,custodian_slip_item_id:pt.icsSlipId||null,from_custodian:S.fromAccountableOfficer,to_custodian:S.toAccountableOfficer}});if(At.length>0){const{error:pt}=await re.from("transfer_items").insert(At);if(pt)throw pt}let ps,Vt;const Kn=await re.from("property_transfers").select(`
          id,
          transfer_number,
          from_department,
          to_department,
          transfer_type,
          status,
          requested_by,
          approved_by,
          date_requested,
          date_approved,
          date_completed,
          reason,
          remarks,
          created_at,
          transfer_items (
            id,
            property_number,
            description,
            quantity,
            condition,
            inventory_item_id
          )
        `).order("date_requested",{ascending:!1});if(ps=Kn.data,Vt=Kn.error,Vt&&((P=Vt.message)!=null&&P.includes("column")||($=Vt.message)!=null&&$.includes("inventory_item_id"))){console.warn("inventory_item_id column not found in reload, loading without it");const pt=await re.from("property_transfers").select(`
            id,
            transfer_number,
            from_department,
            to_department,
            transfer_type,
            status,
            requested_by,
            approved_by,
            date_requested,
            date_approved,
            date_completed,
            reason,
            remarks,
            created_at,
            transfer_items (
              id,
              property_number,
              description,
              quantity,
              condition
            )
          `).order("date_requested",{ascending:!1});ps=pt.data,Vt=pt.error}Vt&&console.error("Failed to reload transfers after creation:",Vt);const gs={id:ke,entityName:S.entityName.trim(),fromAccountableOfficer:S.fromAccountableOfficer.trim(),fromAccountableOfficerDepartment:S.fromAccountableOfficerDepartment,fromAccountableOfficerId:S.fromAccountableOfficerId,toAccountableOfficer:S.toAccountableOfficer.trim(),toAccountableOfficerDepartment:S.toAccountableOfficerDepartment,toAccountableOfficerId:S.toAccountableOfficerId,fundCluster:S.fundCluster.trim(),itrNumber:de,date:S.date,transferType:S.transferType,otherTransferType:S.otherTransferType,reason:S.reason.trim(),status:S.status,items:S.items,history:[{timestamp:new Date().toISOString(),status:S.status,action:"Transfer created",details:`Created ITR ${de}`}]};t(pt=>[gs,...pt]),_(qd),l(!1),b({}),k([]),I({title:"Transfer saved",description:`Transfer ${de} has been saved and related records updated.`})}catch(ee){console.error("Error creating transfer:",ee),I({title:"Error saving transfer",description:ee instanceof Error?ee.message:"Failed to save transfer",variant:"destructive"})}},G=async(H,Z)=>{var ye;try{const P=Z==="Completed"?new Date().toISOString().split("T")[0]:null,$=e.find(de=>de.id===H);if(!$)throw new Error("Transfer not found");const{error:ee}=await re.from("property_transfers").update({status:Z,...P&&{date_completed:P}}).eq("id",H);if(ee)throw ee;if(Z==="Completed"&&$.items&&$.items.length>0){let de="";if($.toAccountableOfficer){const{data:me}=$.toAccountableOfficerId?await re.from("custodians").select("position").eq("id",$.toAccountableOfficerId).single():await re.from("custodians").select("position").eq("name",$.toAccountableOfficer).single();de=(me==null?void 0:me.position)||""}for(const me of $.items){let le=me.inventoryItemId;if(!le&&me.propertyNumber){const{data:Fe}=await re.from("inventory_items").select("id").eq("property_number",me.propertyNumber).single();Fe&&(le=Fe.id)}if(le){const{error:Fe}=await re.from("inventory_items").update({custodian:$.toAccountableOfficer,custodian_position:de,assignment_status:"Assigned",assigned_date:P||new Date().toISOString().split("T")[0],updated_at:new Date().toISOString()}).eq("id",le);Fe?console.error(`Failed to update inventory item ${me.propertyNumber}:`,Fe):console.log(` Successfully updated inventory item ${me.propertyNumber} to custodian ${$.toAccountableOfficer}`)}else console.warn(` Could not find inventory item for property number ${me.propertyNumber}`);const{data:ke}=await re.from("property_cards").select("id").eq("property_number",me.propertyNumber).single();if(ke){const{error:Fe}=await re.from("property_card_entries").insert({property_card_id:ke.id,date:P||new Date().toISOString().split("T")[0],reference:$.itrNumber,receipt_qty:0,unit_cost:0,total_cost:0,issue_item_no:$.itrNumber,issue_qty:me.quantity||1,office_officer:`${$.toAccountableOfficer}${de?` (${de})`:""}`,balance_qty:me.quantity||1,amount:me.amount||0,remarks:`Transferred from ${$.fromAccountableOfficer} to ${$.toAccountableOfficer} via ITR ${$.itrNumber}`});Fe?console.error(`Failed to create property card entry for ${me.propertyNumber}:`,Fe):console.log(` Created property card entry for ${me.propertyNumber}`)}}X.invalidateQueries({queryKey:["inventory-items"]}),X.invalidateQueries({queryKey:["custodian-summaries"]}),X.invalidateQueries({queryKey:["custodian-summary"]}),X.invalidateQueries({queryKey:["custodian-current-items"]}),X.invalidateQueries({queryKey:["custodian-item-history"]}),X.refetchQueries({queryKey:["inventory-items"]}),X.refetchQueries({queryKey:["custodian-summaries"]})}t(de=>de.map(me=>{if(me.id!==H)return me;const le=new Date().toISOString();return{...me,status:Z,dateCompleted:Z==="Completed"?P:me.dateCompleted,history:[...me.history,{timestamp:le,status:Z,action:`Status changed to ${Z}`,details:Z==="Completed"?"Transfer marked as completed. Items have been reassigned to the new custodian.":Z==="Rejected"?"Transfer was rejected.":void 0}]}})),I({title:"Status updated",description:Z==="Completed"?`Transfer marked as completed. ${((ye=$.items)==null?void 0:ye.length)||0} item(s) have been reassigned to ${$.toAccountableOfficer}.`:`Transfer marked as ${Z}.`})}catch(P){console.error("Error updating transfer status:",P),I({title:"Error updating status",description:P instanceof Error?P.message:"Failed to update transfer status",variant:"destructive"})}},Q=Os({mutationFn:async H=>{const{error:Z}=await re.from("property_transfers").update({status:"Issued",updated_at:new Date().toISOString()}).eq("id",H);if(Z)throw new Error(`Failed to confirm transfer: ${Z.message}`)},onSuccess:()=>{I({title:"Success",description:"Transfer has been officially confirmed and cannot be deleted"}),X.invalidateQueries({queryKey:["transfers"]}),X.refetchQueries({queryKey:["transfers"]})},onError:H=>{I({title:"Error",description:H.message,variant:"destructive"})}}),ie=H=>{confirm("Are you sure you want to officially confirm this transfer? Once confirmed, it cannot be deleted and will be marked as an official document.")&&Q.mutate(H)},ne=async H=>{const Z=e.find(ye=>ye.id===H);if((Z==null?void 0:Z.status)==="Issued"){I({title:"Cannot delete",description:"Issued transfers cannot be deleted. Only Draft transfers can be deleted.",variant:"destructive"});return}if(window.confirm("Are you sure you want to delete this transfer? This action cannot be undone."))try{const{error:ye}=await re.from("transfer_items").delete().eq("transfer_id",H);if(ye)throw ye;const{error:P}=await re.from("property_transfers").delete().eq("id",H);if(P)throw P;t($=>$.filter(ee=>ee.id!==H)),I({title:"Transfer deleted",description:"The transfer has been permanently removed."})}catch(ye){console.error("Error deleting transfer:",ye),I({title:"Error deleting transfer",description:ye instanceof Error?ye.message:"Failed to delete transfer",variant:"destructive"})}},R=H=>{i(H),setTimeout(()=>{window.print(),setTimeout(()=>{i(null)},500)},300)},J=()=>{if(!ae.length){I({title:"Nothing to export",description:"Adjust the filters to include at least one transfer before exporting.",variant:"destructive"});return}const H=[["ITR No.","Entity","Fund Cluster","From Officer","To Officer","Date","Transfer Type","Status","Reason","Item Count","Items","Total Amount"]];ae.forEach(Z=>{const ye=Z.items.reduce(($,ee)=>$+(ee.amount??0),0),P=Z.items.map($=>`${$.propertyNumber} - ${$.description}`).join("; ");H.push([Z.itrNumber,Z.entityName,Z.fundCluster,bo(Z.fromAccountableOfficer,Z.fromAccountableOfficerDepartment),bo(Z.toAccountableOfficer,Z.toAccountableOfficerDepartment),Z.date,Z.transferType==="Others"&&Z.otherTransferType?`${Z.transferType} (${Z.otherTransferType})`:Z.transferType,Z.status,Z.reason,Z.items.length.toString(),P,ye?ri(ye):""])}),hB(`inventory-transfers-${Date.now()}.csv`,H)},ce=H=>{_(Z=>({...Z,items:Z.items.filter(ye=>ye.propertyNumber!==H)}))},se=()=>{if(!S.fromAccountableOfficer){I({title:"Select an accountable officer first",description:"Please choose the releasing accountable officer to filter the ICS items.",variant:"destructive"});return}j(!0)},Pe=H=>{k(Z=>Z.includes(H)?Z.filter(ye=>ye!==H):[...Z,H])},Ue=()=>{const H=U.filter(Z=>E.includes(Z.id));if(!H.length){I({title:"No items selected",description:"Choose at least one item from the list before confirming.",variant:"destructive"});return}_(Z=>{const ye=new Map;return Z.items.forEach(P=>ye.set(P.propertyNumber,P)),H.map(mB).forEach(P=>ye.set(P.propertyNumber,P)),{...Z,items:Array.from(ye.values())}}),k([]),j(!1)},st=h.useMemo(()=>({id:"preview",entityName:S.entityName,fromAccountableOfficer:S.fromAccountableOfficer,fromAccountableOfficerDepartment:S.fromAccountableOfficerDepartment,toAccountableOfficer:S.toAccountableOfficer,toAccountableOfficerDepartment:S.toAccountableOfficerDepartment,fundCluster:S.fundCluster,itrNumber:S.itrNumber,date:S.date,transferType:S.transferType,otherTransferType:S.otherTransferType,reason:S.reason,status:S.status,items:S.items,history:[]}),[S]),oe=S.items.reduce((H,Z)=>H+(Z.amount??0),0),Me=o&&(S.entityName||S.fundCluster||S.itrNumber||S.items.length>0||S.reason);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Property Transfers"}),s.jsxs(ue,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Create Transfer"]})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[s.jsx($n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search by ITR no., officer, reason, or item",value:c,onChange:H=>d(H.target.value),className:"pl-10"})]}),s.jsxs(Nt,{value:u,onValueChange:f,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Filter by status"})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All status"}),s.jsx(je,{value:"Draft",children:"Draft"}),s.jsx(je,{value:"Issued",children:"Issued"}),s.jsx(je,{value:"Completed",children:"Completed"}),s.jsx(je,{value:"Rejected",children:"Rejected"})]})]}),s.jsxs(Nt,{value:m,onValueChange:p,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Filter by transfer type"})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All types"}),ug.map(H=>s.jsx(je,{value:H,children:H},H))]})]}),s.jsx(Te,{type:"date",value:x,onChange:H=>g(H.target.value),placeholder:"From date"}),s.jsx(Te,{type:"date",value:w,onChange:H=>y(H.target.value),placeholder:"To date"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ue,{type:"button",variant:"outline",onClick:J,className:"flex-1 sm:flex-none",children:[s.jsx(pv,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsx(ue,{type:"button",variant:"ghost",className:"flex-1 sm:flex-none",onClick:()=>{f("All"),p("All"),g(""),y(""),d("")},children:"Clear Filters"})]})]}),o&&s.jsxs("div",{className:"grid gap-6 xl:grid-cols-[minmax(0,1fr)_420px]",children:[s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Create Inventory Transfer Report"})}),s.jsxs(Ie,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"entityName",children:"Entity Name *"}),s.jsx(Te,{id:"entityName",list:"entity-suggestions",value:S.entityName,onChange:H=>_({...S,entityName:H.target.value}),placeholder:"PROVINCIAL GOVERNMENT OF APAYAO"}),s.jsx("datalist",{id:"entity-suggestions",children:A.map(H=>s.jsx("option",{value:H},H))}),v.entityName&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.entityName}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Suggested: PROVINCIAL GOVERNMENT OF APAYAO (used across property cards and ICS forms)"})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"fundCluster",children:"Fund Cluster *"}),s.jsx(Te,{id:"fundCluster",value:S.fundCluster,onChange:H=>_({...S,fundCluster:H.target.value}),placeholder:"e.g., 101"}),v.fundCluster&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.fundCluster})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"itrNumber",children:"ITR No. *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{id:"itrNumber",value:S.itrNumber,onChange:H=>_({...S,itrNumber:H.target.value.toUpperCase()}),placeholder:"ITR-2025-0001"}),s.jsx(ue,{type:"button",variant:"outline",onClick:B,children:"Generate"})]}),v.itrNumber&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.itrNumber}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format suggestion: ITR-YYYY-#### (independent sequence from ICS numbers)"})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"transferDate",children:"Date *"}),s.jsx(Te,{id:"transferDate",type:"date",value:S.date,onChange:H=>_({...S,date:H.target.value})}),v.date&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.date})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dg,{className:"space-y-1",label:"From Accountable Officer *",value:S.fromAccountableOfficer,onChange:(H,Z)=>_(ye=>({...ye,fromAccountableOfficer:H,fromAccountableOfficerDepartment:Z==null?void 0:Z.department_name,fromAccountableOfficerId:Z==null?void 0:Z.id})),placeholder:"Search custodians...",required:!0}),v.fromOfficer&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.fromOfficer})]}),s.jsxs("div",{children:[s.jsx(dg,{className:"space-y-1",label:"To Accountable Officer *",value:S.toAccountableOfficer,onChange:(H,Z)=>_(ye=>({...ye,toAccountableOfficer:H,toAccountableOfficerDepartment:Z==null?void 0:Z.department_name,toAccountableOfficerId:Z==null?void 0:Z.id})),placeholder:"Search custodians...",required:!0}),v.toOfficer&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.toOfficer})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"Transfer Type *"}),s.jsxs(Nt,{value:S.transferType,onValueChange:H=>_(Z=>({...Z,transferType:H,otherTransferType:H==="Others"?Z.otherTransferType:""})),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select transfer type"})}),s.jsx(xt,{children:ug.map(H=>s.jsx(je,{value:H,children:H},H))})]})]}),S.transferType==="Others"&&s.jsxs("div",{children:[s.jsx(he,{htmlFor:"otherTransferType",children:"Specify Other Transfer Type"}),s.jsx(Te,{id:"otherTransferType",value:S.otherTransferType||"",onChange:H=>_({...S,otherTransferType:H.target.value}),placeholder:"Describe the transfer type"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(he,{className:"text-base font-semibold",children:"Items to Transfer *"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{type:"button",variant:"outline",size:"sm",onClick:se,children:"Select from ICS"}),W&&s.jsx(Qt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]})]}),v.items&&s.jsx("p",{className:"text-sm text-destructive",children:v.items}),S.items.length===0?s.jsx("div",{className:"rounded-md border border-dashed p-4 text-sm text-muted-foreground bg-muted/30",children:"Select items from existing ICS slips. The table will auto-fill Item No., ICS number/date, description, amount, and condition."}):s.jsxs("div",{className:"rounded-md border overflow-hidden",children:[s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{className:"w-[120px]",children:"Item No."}),s.jsx(Se,{children:"ICS No./Date"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{className:"text-right w-[120px]",children:"Amount"}),s.jsx(Se,{className:"w-[140px]",children:"Condition"}),s.jsx(Se,{className:"w-[160px] text-right",children:"Actions"})]})}),s.jsx(Wr,{children:S.items.map(H=>{const Z=[H.icsSlipNumber,H.icsDate].filter(Boolean).join(" / ");return s.jsxs(rt,{children:[s.jsx(be,{className:"font-medium",children:H.propertyNumber}),s.jsx(be,{children:Z||""}),s.jsxs(be,{children:[s.jsx("div",{className:"font-medium",children:H.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[pm(H.dateAcquired),H.quantity?`  Qty: ${H.quantity}`:""]})]}),s.jsx(be,{className:"text-right",children:H.amount!==void 0?ri(H.amount):""}),s.jsx(be,{children:H.condition||""}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(`/property-cards?search=${encodeURIComponent(H.propertyNumber)}`),children:"Card"}),s.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(`/custodian-slips?slip=${encodeURIComponent(H.icsSlipNumber||"")}`),children:"ICS"}),s.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ce(H.propertyNumber),children:"Remove"})]})})]},H.propertyNumber)})})]}),s.jsxs("div",{className:"px-4 py-2 text-sm text-right text-muted-foreground border-t",children:["Total amount of selected items: ",s.jsx("span",{className:"font-semibold",children:ri(oe)})]})]})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"reason",children:"Reason for Transfer *"}),s.jsx(Ni,{id:"reason",value:S.reason,onChange:H=>_({...S,reason:H.target.value}),placeholder:"Provide the justification or remarks for this transfer.",rows:4}),v.reason&&s.jsx("p",{className:"mt-1 text-sm text-destructive",children:v.reason})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),s.jsx(ue,{type:"button",onClick:O,children:"Save Transfer"})]})]})]}),Me&&s.jsxs(Re,{className:"xl:sticky xl:top-24 h-fit",children:[s.jsxs(Be,{children:[s.jsx(Ke,{children:"Print Preview"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates automatically as you complete the form. This mirrors the Annex A.5 layout."})]}),s.jsx(Ie,{children:s.jsx(cu,{className:"max-h-[70vh] pr-2",children:N0(st,!0)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[ae.map(H=>{const Z=H.items.reduce((ye,P)=>ye+(P.amount??0),0);return s.jsxs(Re,{className:"flex flex-col",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx(Ke,{className:"text-lg",children:H.itrNumber}),s.jsx("p",{className:"text-sm text-muted-foreground",children:pm(H.date)})]}),s.jsxs(Ze,{variant:H.status==="Draft"?"secondary":H.status==="Issued"||H.status==="Completed"?"default":H.status==="Rejected"?"destructive":"secondary",className:"flex items-center gap-1",children:[H.status==="Draft"?s.jsx(Xo,{className:"h-3.5 w-3.5"}):H.status==="Issued"?s.jsx(Ea,{className:"h-3.5 w-3.5"}):H.status==="Completed"?s.jsx(Ea,{className:"h-3.5 w-3.5"}):H.status==="Rejected"?s.jsx(Oa,{className:"h-3.5 w-3.5"}):s.jsx(Xo,{className:"h-3.5 w-3.5"}),H.status]})]})}),s.jsxs(Ie,{className:"flex flex-1 flex-col gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Entity:"})," ",H.entityName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fund Cluster:"})," ",H.fundCluster]}),s.jsxs("p",{children:[s.jsx("strong",{children:"From:"})," ",bo(H.fromAccountableOfficer,H.fromAccountableOfficerDepartment)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"To:"})," ",bo(H.toAccountableOfficer,H.toAccountableOfficerDepartment)||""]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Transfer Type:"})," ",H.transferType==="Others"&&H.otherTransferType?`${H.transferType}  ${H.otherTransferType}`:H.transferType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reason:"})," ",H.reason||""]}),Z>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Total Amount:"})," ",ri(Z)]})]}),H.items.length>0&&s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{children:"Item No."}),s.jsx(Se,{children:"ICS"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{className:"text-right",children:"Amount"})]})}),s.jsx(Wr,{children:H.items.map(ye=>{const P=[ye.icsSlipNumber,ye.icsDate].filter(Boolean).join(" / ");return s.jsxs(rt,{children:[s.jsx(be,{className:"font-medium",children:ye.propertyNumber}),s.jsx(be,{children:P||""}),s.jsxs(be,{children:[s.jsx("div",{children:ye.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[ye.condition||"",ye.quantity?`  Qty: ${ye.quantity}`:""]})]}),s.jsx(be,{className:"text-right",children:ye.amount!==void 0?ri(ye.amount):""})]},ye.propertyNumber)})})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx(RA,{className:"h-4 w-4"}),"History"]}),s.jsx(cu,{className:"mt-2 max-h-32 pr-2",children:s.jsx("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:H.history.map((ye,P)=>s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-foreground",children:fB(ye.timestamp)})," "," ",ye.action," (",ye.status,")",ye.details&&s.jsx("div",{className:"ml-5 text-[11px]",children:ye.details})]},`${ye.timestamp}-${P}`))})})]}),s.jsxs("div",{className:"mt-auto flex flex-col gap-2",children:[s.jsxs(ue,{type:"button",size:"sm",variant:"outline",onClick:()=>R(H),children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Print Inventory Transfer Report"]}),H.status==="Rejected"&&s.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"w-full",onClick:()=>ne(H.id),children:"Delete Rejected Transfer"}),(H.status==="Draft"||!H.status)&&s.jsx(ue,{type:"button",size:"sm",variant:"default",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>ie(H.id),disabled:Q.isPending,title:"Confirm this transfer as official (cannot be deleted after confirmation)",children:Q.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"h-3.5 w-3.5 mr-2 animate-spin"}),"Confirming..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"h-3.5 w-3.5 mr-2"}),"Confirm"]})}),(H.status==="Draft"||!H.status)&&s.jsx(ue,{type:"button",size:"sm",variant:"outline",className:"flex-1 text-red-600 hover:text-red-700",onClick:()=>ne(H.id),title:"Delete this draft transfer",children:"Delete"}),H.status==="Issued"&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(ue,{type:"button",size:"sm",className:"flex-1",onClick:()=>G(H.id,"Completed"),children:"Mark Complete"}),s.jsx(ue,{type:"button",size:"sm",variant:"destructive",className:"flex-1",onClick:()=>G(H.id,"Rejected"),children:"Reject"})]})]})]})]},H.id)}),!ae.length&&s.jsxs(Re,{className:"col-span-full border-dashed border-muted-foreground/40",children:[s.jsx(Be,{children:s.jsx(Ke,{className:"text-lg",children:"No transfers found"})}),s.jsx(Ie,{className:"text-muted-foreground",children:"Adjust the filters or create a new transfer to see it listed here."})]})]}),a&&s.jsx("div",{className:"print-only",ref:F,style:{display:"none"},children:N0(a)}),s.jsx(en,{open:N,onOpenChange:j,children:s.jsxs(Ur,{className:"max-w-4xl",children:[s.jsxs(nn,{children:[s.jsx(sn,{children:"Select Items from ICS"}),s.jsxs(us,{children:["Showing items issued to ",S.fromAccountableOfficer||"the selected accountable officer",". Choose the items that will be transferred."]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Te,{placeholder:"Search by item number, description, ICS number",value:D,onChange:H=>z(H.target.value)}),s.jsxs("div",{className:"border rounded-md h-[360px] overflow-hidden",children:[s.jsx(Nr,{children:s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{className:"w-[40px]"}),s.jsx(Se,{children:"Item No."}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"ICS No."}),s.jsx(Se,{children:"Date Issued"}),s.jsx(Se,{children:"Amount"}),s.jsx(Se,{children:"Condition"})]})})}),s.jsx(cu,{className:"h-[300px]",children:s.jsx(Nr,{children:s.jsx(Wr,{children:W?s.jsx(rt,{children:s.jsx(be,{colSpan:7,className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 py-10 text-muted-foreground",children:[s.jsx(Qt,{className:"h-4 w-4 animate-spin"}),"Loading ICS items"]})})}):U.length===0?s.jsx(rt,{children:s.jsx(be,{colSpan:7,className:"text-center text-muted-foreground py-10",children:"No ICS items found for the selected officer. Adjust your search or confirm the officer selection."})}):U.map(H=>{const Z=E.includes(H.id);return s.jsxs(rt,{className:"cursor-pointer",onClick:()=>Pe(H.id),children:[s.jsx(be,{className:"w-[40px]",children:s.jsx(ad,{checked:Z,onCheckedChange:()=>Pe(H.id)})}),s.jsx(be,{className:"font-medium",children:H.propertyNumber}),s.jsx(be,{children:H.description}),s.jsx(be,{children:H.icsSlipNumber}),s.jsx(be,{children:pm(H.icsDate)}),s.jsx(be,{children:H.amount!==void 0?ri(H.amount):""}),s.jsx(be,{children:H.condition||""})]},H.id)})})})})]})]}),s.jsxs(F1,{className:"flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:E.length?`${E.length} item(s) selected`:"Select one or more items to add to the transfer."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{type:"button",variant:"ghost",onClick:()=>j(!1),children:"Cancel"}),s.jsx(ue,{type:"button",onClick:Ue,children:"Add Selected Items"})]})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; width: 100%; }
        }
        .print-only { display: none; }
      `})]})},gB=()=>{var q,X;const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState("All"),u=h.useRef(null),{toast:f}=Bn(),[m,p]=h.useState({countNumber:"",department:"",countDate:"",countType:"Annual",status:"Planned",conductedBy:[""],witnessedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}],remarks:""}),x=(S,_)=>_-S,g=()=>{var U;if(!m.countNumber||!m.department){f({title:"Error",description:"Please fill in required fields",variant:"destructive"});return}const S=((U=m.items)==null?void 0:U.map(ae=>({...ae,variance:x(ae.expectedQuantity,ae.actualQuantity)})))||[],_=S.reduce((ae,ve)=>ae+ve.expectedQuantity,0),A=S.reduce((ae,ve)=>ae+ve.actualQuantity,0),te=A-_,W={id:Date.now().toString(),...m,items:S,totalExpected:_,totalActual:A,totalVariance:te};t([...e,W]),p({countNumber:"",department:"",countDate:"",countType:"Annual",status:"Planned",conductedBy:[""],witnessedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}],remarks:""}),i(!1),f({title:"Success",description:"Physical count record created successfully"})},w=()=>{p({...m,items:[...m.items||[],{propertyNumber:"",description:"",expectedQuantity:0,actualQuantity:0,condition:"Serviceable",location:"",remarks:"",variance:0}]})},y=(S,_,A)=>{const te=[...m.items||[]];if(te[S]={...te[S],[_]:A},_==="expectedQuantity"||_==="actualQuantity"){const W=_==="expectedQuantity"?A:te[S].expectedQuantity,U=_==="actualQuantity"?A:te[S].actualQuantity;te[S].variance=x(W,U)}p({...m,items:te})},v=S=>{var A;const _=(A=m.items)==null?void 0:A.filter((te,W)=>W!==S);p({...m,items:_})},b=()=>{p({...m,conductedBy:[...m.conductedBy||[],""]})},N=(S,_)=>{const A=[...m.conductedBy||[]];A[S]=_,p({...m,conductedBy:A})},j=S=>{var A;const _=(A=m.conductedBy)==null?void 0:A.filter((te,W)=>W!==S);p({...m,conductedBy:_})},E=(S,_)=>{t(e.map(A=>A.id===S?{...A,status:_}:A)),f({title:"Success",description:`Physical count status updated to ${_}`})},k=S=>{n(S),setTimeout(()=>{window.print()},100)},D=S=>{switch(S){case"Planned":return s.jsx(Xo,{className:"h-4 w-4"});case"Completed":return s.jsx(Ea,{className:"h-4 w-4"});case"Under Review":return s.jsx(Du,{className:"h-4 w-4"});default:return s.jsx(Xo,{className:"h-4 w-4"})}},z=S=>{switch(S){case"Planned":return"secondary";case"In Progress":return"warning";case"Completed":return"success";case"Under Review":return"warning";default:return"secondary"}},F=S=>S===0?"success":S>0?"warning":"destructive",I=e.filter(S=>{const _=S.countNumber.toLowerCase().includes(o.toLowerCase())||S.department.toLowerCase().includes(o.toLowerCase()),A=c==="All"||S.status===c;return _&&A});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Physical Count of Semi-Expandable Property"}),s.jsxs(ue,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Create Physical Count"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search physical counts...",value:o,onChange:S=>l(S.target.value),className:"pl-10"})]}),s.jsxs(Nt,{value:c,onValueChange:d,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All Status"}),s.jsx(je,{value:"Planned",children:"Planned"}),s.jsx(je,{value:"In Progress",children:"In Progress"}),s.jsx(je,{value:"Completed",children:"Completed"}),s.jsx(je,{value:"Under Review",children:"Under Review"})]})]})]}),a&&s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Create Physical Count Record"})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"countNumber",children:"Count Number *"}),s.jsx(Te,{id:"countNumber",value:m.countNumber,onChange:S=>p({...m,countNumber:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"countDate",children:"Count Date"}),s.jsx(Te,{id:"countDate",type:"date",value:m.countDate,onChange:S=>p({...m,countDate:S.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"department",children:"Department *"}),s.jsx(Te,{id:"department",value:m.department,onChange:S=>p({...m,department:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Count Type"}),s.jsxs(Nt,{value:m.countType,onValueChange:S=>p({...m,countType:S}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"Annual",children:"Annual"}),s.jsx(je,{value:"Quarterly",children:"Quarterly"}),s.jsx(je,{value:"Special",children:"Special"}),s.jsx(je,{value:"Spot Check",children:"Spot Check"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(he,{children:"Conducted By"}),s.jsx(ue,{type:"button",onClick:b,size:"sm",variant:"outline",children:"Add Person"})]}),(q=m.conductedBy)==null?void 0:q.map((S,_)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(Te,{placeholder:"Name and Position",value:S,onChange:A=>N(_,A.target.value)}),m.conductedBy&&m.conductedBy.length>1&&s.jsx(ue,{type:"button",onClick:()=>j(_),size:"sm",variant:"destructive",children:"Remove"})]},_))]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"witnessedBy",children:"Witnessed By"}),s.jsx(Te,{id:"witnessedBy",value:m.witnessedBy,onChange:S=>p({...m,witnessedBy:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"approvedBy",children:"Approved By"}),s.jsx(Te,{id:"approvedBy",value:m.approvedBy,onChange:S=>p({...m,approvedBy:S.target.value})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(he,{children:"Items"}),s.jsx(ue,{type:"button",onClick:w,size:"sm",variant:"outline",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:(X=m.items)==null?void 0:X.map((S,_)=>s.jsxs("div",{className:"grid grid-cols-8 gap-2 p-2 border rounded",children:[s.jsx(Te,{placeholder:"Property #",value:S.propertyNumber,onChange:A=>y(_,"propertyNumber",A.target.value)}),s.jsx(Te,{placeholder:"Description",value:S.description,onChange:A=>y(_,"description",A.target.value)}),s.jsx(Te,{placeholder:"Expected",type:"number",value:S.expectedQuantity,onChange:A=>y(_,"expectedQuantity",parseInt(A.target.value)||0)}),s.jsx(Te,{placeholder:"Actual",type:"number",value:S.actualQuantity,onChange:A=>y(_,"actualQuantity",parseInt(A.target.value)||0)}),s.jsx(Te,{placeholder:"Location",value:S.location,onChange:A=>y(_,"location",A.target.value)}),s.jsxs(Nt,{value:S.condition,onValueChange:A=>y(_,"condition",A),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"Serviceable",children:"Serviceable"}),s.jsx(je,{value:"For Repair",children:"For Repair"}),s.jsx(je,{value:"Unserviceable",children:"Unserviceable"}),s.jsx(je,{value:"Missing",children:"Missing"})]})]}),s.jsx("div",{className:"text-center py-2",children:s.jsxs(Ze,{variant:F(S.variance),children:[S.variance>0?"+":"",S.variance]})}),s.jsx(ue,{type:"button",onClick:()=>v(_),size:"sm",variant:"destructive",children:""})]},_))})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"remarks",children:"General Remarks"}),s.jsx(Ni,{id:"remarks",value:m.remarks,onChange:S=>p({...m,remarks:S.target.value})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{onClick:g,children:"Create Count"}),s.jsx(ue,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:I.map(S=>s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Ke,{className:"text-lg",children:S.countNumber}),s.jsxs(Ze,{variant:z(S.status),className:"flex items-center gap-1",children:[D(S.status),S.status]})]})}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",S.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",S.countType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",S.countDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Items:"})," ",S.items.length]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[s.jsx("strong",{children:"Expected:"})," ",S.totalExpected]}),s.jsxs("span",{children:[s.jsx("strong",{children:"Actual:"})," ",S.totalActual]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("strong",{children:"Variance:"}),s.jsxs(Ze,{variant:F(S.totalVariance),children:[S.totalVariance>0?"+":"",S.totalVariance]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs(ue,{onClick:()=>k(S),size:"sm",variant:"outline",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Print Report"]}),S.status!=="Completed"&&s.jsxs("div",{className:"flex gap-1",children:[S.status==="Planned"&&s.jsx(ue,{onClick:()=>E(S.id,"In Progress"),size:"sm",className:"flex-1",children:"Start Count"}),S.status==="In Progress"&&s.jsx(ue,{onClick:()=>E(S.id,"Under Review"),size:"sm",className:"flex-1",children:"Submit Review"}),S.status==="Under Review"&&s.jsx(ue,{onClick:()=>E(S.id,"Completed"),size:"sm",className:"flex-1",children:"Complete"})]})]})]})]},S.id))}),r&&s.jsx("div",{className:"print-only",children:s.jsxs("div",{ref:u,className:"max-w-4xl mx-auto p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"REPORT ON THE PHYSICAL COUNT OF SEMI-EXPANDABLE PROPERTY"}),s.jsxs("p",{className:"text-lg",children:["Count No: ",r.countNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"COUNT DETAILS"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",r.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Count Type:"})," ",r.countType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",r.countDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",r.status]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"SUMMARY"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Total Expected:"})," ",r.totalExpected]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Actual:"})," ",r.totalActual]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Variance:"})," ",r.totalVariance>0?"+":"",r.totalVariance]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"CONDUCTED BY"}),s.jsx("div",{className:"space-y-1",children:r.conductedBy.map((S,_)=>s.jsxs("p",{children:[" ",S]},_))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"ITEMS COUNTED"}),s.jsxs("table",{className:"w-full border-collapse border border-black text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-1 text-left",children:"Property Number"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Expected"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Actual"}),s.jsx("th",{className:"border border-black p-1 text-center",children:"Variance"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Condition"}),s.jsx("th",{className:"border border-black p-1 text-left",children:"Location"})]})}),s.jsx("tbody",{children:r.items.map((S,_)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-1",children:S.propertyNumber}),s.jsx("td",{className:"border border-black p-1",children:S.description}),s.jsx("td",{className:"border border-black p-1 text-center",children:S.expectedQuantity}),s.jsx("td",{className:"border border-black p-1 text-center",children:S.actualQuantity}),s.jsxs("td",{className:"border border-black p-1 text-center",children:[S.variance>0?"+":"",S.variance]}),s.jsx("td",{className:"border border-black p-1",children:S.condition}),s.jsx("td",{className:"border border-black p-1",children:S.location})]},_))})]})]}),r.remarks&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"REMARKS"}),s.jsx("p",{children:r.remarks})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center mt-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Count Team Leader"}),s.jsx("p",{className:"mt-8",children:r.conductedBy[0]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Witnessed By"}),s.jsx("p",{className:"mt-8",children:r.witnessedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Approved By"}),s.jsx("p",{className:"mt-8",children:r.approvedBy})]})})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; }
        }
        .print-only { display: none; }
      `})]})},vB=()=>{var F;const[e,t]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState(""),[c,d]=h.useState("All"),[u,f]=h.useState("All"),m=h.useRef(null),{toast:p}=Bn(),[x,g]=h.useState({reportNumber:"",department:"",reportDate:"",incidentDate:"",reportType:"Lost",status:"Draft",reportedBy:"",investigatedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:"Lost",circumstances:""}],incidentDescription:"",actionsTaken:"",recommendations:"",attachments:[]}),w=()=>{var X;if(!x.reportNumber||!x.department||!x.reportType){p({title:"Error",description:"Please fill in required fields",variant:"destructive"});return}const I=((X=x.items)==null?void 0:X.reduce((S,_)=>S+_.totalCost,0))||0,q={id:Date.now().toString(),...x,totalLossAmount:I};t([...e,q]),g({reportNumber:"",department:"",reportDate:"",incidentDate:"",reportType:"Lost",status:"Draft",reportedBy:"",investigatedBy:"",approvedBy:"",items:[{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:"Lost",circumstances:""}],incidentDescription:"",actionsTaken:"",recommendations:"",attachments:[]}),i(!1),p({title:"Success",description:"Loss report created successfully"})},y=()=>{g({...x,items:[...x.items||[],{propertyNumber:"",description:"",quantity:1,unitCost:0,totalCost:0,dateAcquired:"",condition:x.reportType||"Lost",circumstances:""}]})},v=(I,q,X)=>{const S=[...x.items||[]];if(S[I]={...S[I],[q]:X},q==="quantity"||q==="unitCost"){const _=q==="quantity"?X:S[I].quantity,A=q==="unitCost"?X:S[I].unitCost;S[I].totalCost=_*A}g({...x,items:S})},b=I=>{var X;const q=(X=x.items)==null?void 0:X.filter((S,_)=>_!==I);g({...x,items:q})},N=(I,q)=>{t(e.map(X=>X.id===I?{...X,status:q}:X)),p({title:"Success",description:`Report status updated to ${q}`})},j=I=>{n(I),setTimeout(()=>{window.print()},100)},E=I=>{switch(I){case"Draft":return s.jsx(Xo,{className:"h-4 w-4"});case"Under Investigation":return s.jsx(Du,{className:"h-4 w-4"});case"Approved":return s.jsx(Ea,{className:"h-4 w-4"});default:return s.jsx(Xo,{className:"h-4 w-4"})}},k=I=>{switch(I){case"Draft":return"secondary";case"Submitted":return"warning";case"Under Investigation":return"warning";case"Approved":return"success";case"Rejected":return"destructive";default:return"secondary"}},D=I=>{switch(I){case"Lost":return"warning";case"Stolen":return"destructive";case"Damaged":return"secondary";case"Destroyed":return"destructive";default:return"secondary"}},z=e.filter(I=>{const q=I.reportNumber.toLowerCase().includes(o.toLowerCase())||I.department.toLowerCase().includes(o.toLowerCase()),X=c==="All"||I.status===c,S=u==="All"||I.reportType===u;return q&&X&&S});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Loss/Damage Reports"}),s.jsxs(ue,{onClick:()=>i(!0),className:"flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4"}),"Create New Report"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Te,{placeholder:"Search reports...",value:o,onChange:I=>l(I.target.value),className:"pl-10"})]}),s.jsxs(Nt,{value:c,onValueChange:d,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All Status"}),s.jsx(je,{value:"Draft",children:"Draft"}),s.jsx(je,{value:"Submitted",children:"Submitted"}),s.jsx(je,{value:"Under Investigation",children:"Under Investigation"}),s.jsx(je,{value:"Approved",children:"Approved"}),s.jsx(je,{value:"Rejected",children:"Rejected"})]})]}),s.jsxs(Nt,{value:u,onValueChange:f,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All Types"}),s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]})]}),a&&s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Create Loss/Damage Report"})}),s.jsxs(Ie,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"reportNumber",children:"Report Number *"}),s.jsx(Te,{id:"reportNumber",value:x.reportNumber,onChange:I=>g({...x,reportNumber:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"reportDate",children:"Report Date"}),s.jsx(Te,{id:"reportDate",type:"date",value:x.reportDate,onChange:I=>g({...x,reportDate:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"department",children:"Department *"}),s.jsx(Te,{id:"department",value:x.department,onChange:I=>g({...x,department:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"incidentDate",children:"Incident Date"}),s.jsx(Te,{id:"incidentDate",type:"date",value:x.incidentDate,onChange:I=>g({...x,incidentDate:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Report Type *"}),s.jsxs(Nt,{value:x.reportType,onValueChange:I=>g({...x,reportType:I}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"incidentDescription",children:"Incident Description"}),s.jsx(Ni,{id:"incidentDescription",value:x.incidentDescription,onChange:I=>g({...x,incidentDescription:I.target.value}),placeholder:"Describe what happened, when, where, and circumstances"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(he,{children:"Affected Items"}),s.jsx(ue,{type:"button",onClick:y,size:"sm",variant:"outline",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:(F=x.items)==null?void 0:F.map((I,q)=>s.jsxs("div",{className:"grid grid-cols-7 gap-2 p-2 border rounded",children:[s.jsx(Te,{placeholder:"Property Number",value:I.propertyNumber,onChange:X=>v(q,"propertyNumber",X.target.value)}),s.jsx(Te,{placeholder:"Description",value:I.description,onChange:X=>v(q,"description",X.target.value)}),s.jsx(Te,{placeholder:"Qty",type:"number",value:I.quantity,onChange:X=>v(q,"quantity",parseInt(X.target.value)||0)}),s.jsx(Te,{placeholder:"Unit Cost",type:"number",step:"0.01",value:I.unitCost,onChange:X=>v(q,"unitCost",parseFloat(X.target.value)||0)}),s.jsx(Te,{placeholder:"Total Cost",type:"number",value:I.totalCost,readOnly:!0,className:"bg-muted"}),s.jsxs(Nt,{value:I.condition,onValueChange:X=>v(q,"condition",X),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"Lost",children:"Lost"}),s.jsx(je,{value:"Stolen",children:"Stolen"}),s.jsx(je,{value:"Damaged",children:"Damaged"}),s.jsx(je,{value:"Destroyed",children:"Destroyed"})]})]}),s.jsx(ue,{type:"button",onClick:()=>b(q),size:"sm",variant:"destructive",children:""})]},q))})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"actionsTaken",children:"Actions Taken"}),s.jsx(Ni,{id:"actionsTaken",value:x.actionsTaken,onChange:I=>g({...x,actionsTaken:I.target.value}),placeholder:"Describe immediate actions taken after the incident"})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"recommendations",children:"Recommendations"}),s.jsx(Ni,{id:"recommendations",value:x.recommendations,onChange:I=>g({...x,recommendations:I.target.value}),placeholder:"Recommendations to prevent similar incidents"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{htmlFor:"reportedBy",children:"Reported By"}),s.jsx(Te,{id:"reportedBy",value:x.reportedBy,onChange:I=>g({...x,reportedBy:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"investigatedBy",children:"Investigated By"}),s.jsx(Te,{id:"investigatedBy",value:x.investigatedBy,onChange:I=>g({...x,investigatedBy:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(he,{htmlFor:"approvedBy",children:"Approved By"}),s.jsx(Te,{id:"approvedBy",value:x.approvedBy,onChange:I=>g({...x,approvedBy:I.target.value})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{onClick:w,children:"Create Report"}),s.jsx(ue,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:z.map(I=>s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(Ke,{className:"text-lg",children:I.reportNumber}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs(Ze,{variant:k(I.status),className:"flex items-center gap-1",children:[E(I.status),I.status]}),s.jsx(Ze,{variant:D(I.reportType),children:I.reportType})]})]})}),s.jsxs(Ie,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",I.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incident Date:"})," ",I.incidentDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Items Affected:"})," ",I.items.length]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Loss:"})," ",I.totalLossAmount.toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reported By:"})," ",I.reportedBy]})]}),s.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[s.jsxs(ue,{onClick:()=>j(I),size:"sm",variant:"outline",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Print Report"]}),I.status!=="Approved"&&I.status!=="Rejected"&&s.jsxs("div",{className:"flex gap-1",children:[I.status==="Draft"&&s.jsx(ue,{onClick:()=>N(I.id,"Submitted"),size:"sm",className:"flex-1",children:"Submit"}),I.status==="Submitted"&&s.jsx(ue,{onClick:()=>N(I.id,"Under Investigation"),size:"sm",className:"flex-1",children:"Investigate"}),I.status==="Under Investigation"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ue,{onClick:()=>N(I.id,"Approved"),size:"sm",className:"flex-1",children:"Approve"}),s.jsx(ue,{onClick:()=>N(I.id,"Rejected"),size:"sm",variant:"destructive",className:"flex-1",children:"Reject"})]})]})]})]})]},I.id))}),r&&s.jsx("div",{className:"print-only",children:s.jsxs("div",{ref:m,className:"max-w-4xl mx-auto p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["REPORT OF ",r.reportType.toUpperCase(),", STOLEN, DAMAGED OR DESTROYED PROPERTY"]}),s.jsxs("p",{className:"text-lg",children:["Report No: ",r.reportNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"REPORT DETAILS"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",r.department]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report Type:"})," ",r.reportType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Report Date:"})," ",r.reportDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incident Date:"})," ",r.incidentDate]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"PERSONNEL"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Reported By:"})," ",r.reportedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Investigated By:"})," ",r.investigatedBy]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Approved By:"})," ",r.approvedBy]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"INCIDENT DESCRIPTION"}),s.jsx("p",{className:"text-justify",children:r.incidentDescription})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"AFFECTED ITEMS"}),s.jsxs("table",{className:"w-full border-collapse border border-black",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-black p-2 text-left",children:"Property Number"}),s.jsx("th",{className:"border border-black p-2 text-left",children:"Description"}),s.jsx("th",{className:"border border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border border-black p-2 text-right",children:"Unit Cost"}),s.jsx("th",{className:"border border-black p-2 text-right",children:"Total Cost"}),s.jsx("th",{className:"border border-black p-2 text-center",children:"Status"})]})}),s.jsxs("tbody",{children:[r.items.map((I,q)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-black p-2",children:I.propertyNumber}),s.jsx("td",{className:"border border-black p-2",children:I.description}),s.jsx("td",{className:"border border-black p-2 text-center",children:I.quantity}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",I.unitCost.toLocaleString()]}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",I.totalCost.toLocaleString()]}),s.jsx("td",{className:"border border-black p-2 text-center",children:I.condition})]},q)),s.jsxs("tr",{className:"font-bold bg-gray-100",children:[s.jsx("td",{colSpan:4,className:"border border-black p-2 text-right",children:"TOTAL LOSS AMOUNT:"}),s.jsxs("td",{className:"border border-black p-2 text-right",children:["",r.totalLossAmount.toLocaleString()]}),s.jsx("td",{className:"border border-black p-2"})]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"ACTIONS TAKEN"}),s.jsx("p",{className:"text-justify",children:r.actionsTaken})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold border-b border-black mb-2",children:"RECOMMENDATIONS"}),s.jsx("p",{className:"text-justify",children:r.recommendations})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center mt-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Reported By"}),s.jsx("p",{className:"mt-8",children:r.reportedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Investigated By"}),s.jsx("p",{className:"mt-8",children:r.investigatedBy})]})}),s.jsx("div",{children:s.jsxs("div",{className:"border-t border-black pt-2",children:[s.jsx("p",{className:"text-sm",children:"Approved By"}),s.jsx("p",{className:"mt-8",children:r.approvedBy})]})})]})]})}),s.jsx("style",{children:`
        @media print {
          .print-only { display: block !important; }
          body * { visibility: hidden; }
          .print-only, .print-only * { visibility: visible; }
          .print-only { position: absolute; left: 0; top: 0; }
        }
        .print-only { display: none; }
      `})]})},yB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Semi-Expandable Property Ledger Card"}),s.jsxs(ue,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Be,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-bold uppercase",children:"SEMI-EXPANDABLE PROPERTY LEDGER CARD"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Property Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.propertyNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Description:"}),s.jsx("p",{className:"text-sm",children:e.description})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Unit:"}),s.jsx("p",{className:"text-sm",children:e.unit})]})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Reference Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Received"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Issued"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Balance"}),s.jsx("th",{className:"p-2 text-center",children:"Recipient/Issuer"})]})}),s.jsxs("tbody",{children:[e.entries.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.date}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.referenceNumber}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.received||"-"}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.issued||"-"}),s.jsx("td",{className:"border-r border-black p-2 text-center font-semibold",children:r.balance}),s.jsx("td",{className:"p-2",children:r.recipient})]},n)),Array.from({length:Math.max(0,10-e.entries.length)}).map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 h-8",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"border-r border-black p-2",children:""}),s.jsx("td",{className:"p-2",children:""})]},`empty-${n}`))]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]})]})]})]})]})},xB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory Transfer Report"}),s.jsxs(ue,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Be,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-bold uppercase",children:"INVENTORY TRANSFER REPORT"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Transfer Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.transferNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Date:"}),s.jsx("p",{className:"text-sm",children:e.date})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"From Department:"}),s.jsx("p",{className:"text-sm",children:e.fromDepartment})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"From Custodian:"}),s.jsx("p",{className:"text-sm",children:e.fromCustodian})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"To Department:"}),s.jsx("p",{className:"text-sm",children:e.toDepartment})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"To Custodian:"}),s.jsx("p",{className:"text-sm",children:e.toCustodian})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Reason for Transfer:"}),s.jsx("p",{className:"text-sm",children:e.reason})]})]})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Serial Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"p-2 text-center",children:"Remarks"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.quantity}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.unit}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.serialNumber}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.condition}),s.jsx("td",{className:"p-2",children:r.remarks})]},n))})]})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Released by:"}),s.jsx("p",{className:"text-xs",children:"(Signature over Printed Name)"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Received by:"}),s.jsx("p",{className:"text-xs",children:"(Signature over Printed Name)"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Approved by:"}),s.jsx("p",{className:"text-xs",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Date"})]})]})]})]})]})},bB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Report on Physical Count of Semi-Expandable Property"}),s.jsxs(ue,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Be,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"REPORT ON THE PHYSICAL COUNT OF SEMI-EXPANDABLE PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Count Date:"}),s.jsx("p",{className:"text-sm",children:e.countDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Property Custodian:"}),s.jsx("p",{className:"text-sm",children:e.custodian})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Counted By:"}),s.jsx("div",{className:"text-sm space-y-1",children:e.countedBy.map((r,n)=>s.jsx("p",{children:r},n))})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Book Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Actual Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Variance"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Location"}),s.jsx("th",{className:"p-2 text-center",children:"Remarks"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.bookQuantity}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.actualQuantity}),s.jsxs("td",{className:`border-r border-black p-2 text-center font-semibold ${r.variance!==0?r.variance>0?"text-green-600":"text-red-600":""}`,children:[r.variance>0?"+":"",r.variance]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.condition}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.location}),s.jsx("td",{className:"p-2",children:r.remarks})]},n))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL VARIANCE:"}),s.jsxs("td",{className:`border-r border-black p-2 text-center font-bold text-lg ${e.totalVariance!==0?e.totalVariance>0?"text-green-600":"text-red-600":""}`,children:[e.totalVariance>0?"+":"",e.totalVariance]}),s.jsx("td",{colSpan:3,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"SUMMARY OF VARIANCES:"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Overage: "}),s.jsxs("span",{className:"text-green-600",children:["+",e.items.filter(r=>r.variance>0).reduce((r,n)=>r+n.variance,0)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Shortage: "}),s.jsx("span",{className:"text-red-600",children:e.items.filter(r=>r.variance<0).reduce((r,n)=>r+n.variance,0)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Net Variance: "}),s.jsxs("span",{className:e.totalVariance!==0?e.totalVariance>0?"text-green-600":"text-red-600":"",children:[e.totalVariance>0?"+":"",e.totalVariance]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Inventory Committee Chairman"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]})]})]})]})]})},wB=({data:e})=>{const t=()=>{window.print()};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Report of Lost, Stolen, Damaged or Destroyed Property"}),s.jsxs(ue,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Be,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"REPORT OF LOST, STOLEN, DAMAGED OR DESTROYED PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Date:"}),s.jsx("p",{className:"text-sm",children:e.reportDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Reported By:"}),s.jsx("p",{className:"text-sm",children:e.reportedBy})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Investigated By:"}),s.jsx("p",{className:"text-sm",children:e.investigatedBy})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date Acquired"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date of Loss"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Cause"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Responsible Person"}),s.jsx("th",{className:"p-2 text-center",children:"Action Taken"})]})}),s.jsx("tbody",{children:e.items.map((r,n)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:n+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:r.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:r.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.quantity}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",r.unitCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-semibold",children:["",r.totalCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.dateAcquired}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:r.dateOfLoss}),s.jsx("td",{className:"border-r border-black p-2",children:r.cause}),s.jsx("td",{className:"border-r border-black p-2",children:r.responsible}),s.jsx("td",{className:"p-2",children:r.actionTaken})]},n))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL LOSS VALUE:"}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-bold text-lg text-red-600",children:["",e.totalLoss.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{colSpan:5,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"RECOMMENDATIONS:"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{className:"border-b border-gray-200 pb-8",children:s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recommended actions based on investigation findings:"})})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Prepared by:"}),s.jsx("p",{className:"text-xs",children:"Supply Officer"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Noted by:"}),s.jsx("p",{className:"text-xs",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Approved by:"}),s.jsx("p",{className:"text-xs",children:"Head of Office"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Date"})]})]})]})]})]})},jB=({data:e})=>{const t=()=>{window.print()},r=n=>{switch(n){case"Repair":return"text-blue-600";case"Dispose":return"text-orange-600";case"Condemn":return"text-red-600";default:return""}};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory and Inspection Report of Unserviceable Semi-Expandable Property"}),s.jsxs(ue,{onClick:t,className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Print"]})]}),s.jsxs(Re,{className:"print:shadow-none print:border-2 print:border-black",children:[s.jsx(Be,{className:"text-center border-b-2 border-black",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-lg font-bold uppercase",children:"INVENTORY AND INSPECTION REPORT OF UNSERVICEABLE SEMI-EXPANDABLE PROPERTY"}),s.jsx("p",{className:"text-sm",children:"Republic of the Philippines"}),s.jsx("p",{className:"text-sm font-semibold",children:"[Department/Agency Name]"})]})}),s.jsxs(Ie,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Number:"}),s.jsx("p",{className:"font-mono text-lg",children:e.reportNumber})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Report Date:"}),s.jsx("p",{className:"text-sm",children:e.reportDate})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Department:"}),s.jsx("p",{className:"text-sm",children:e.department})]}),s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Review Period:"}),s.jsx("p",{className:"text-sm",children:e.reviewPeriod})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"border-b border-gray-400 pb-1",children:[s.jsx("label",{className:"text-xs font-semibold uppercase",children:"Inspected By:"}),s.jsx("div",{className:"text-sm space-y-1",children:e.inspectedBy.map((n,a)=>s.jsx("p",{children:n},a))})]})})]}),s.jsx("div",{className:"border-2 border-black",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-black bg-gray-100",children:[s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Item No."}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Property Number"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Description"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Qty"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Unit Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Total Cost"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Date Acquired"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Condition"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Defects/Issues"}),s.jsx("th",{className:"border-r border-black p-2 text-center",children:"Recommendation"}),s.jsx("th",{className:"p-2 text-center",children:"Estimated Repair Cost"})]})}),s.jsx("tbody",{children:e.items.map((n,a)=>s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("td",{className:"border-r border-black p-2 text-center",children:a+1}),s.jsx("td",{className:"border-r border-black p-2 text-center font-mono",children:n.propertyNumber}),s.jsx("td",{className:"border-r border-black p-2",children:n.description}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.quantity}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",n.unitCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"border-r border-black p-2 text-right",children:["",n.totalCost.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.dateAcquired}),s.jsx("td",{className:"border-r border-black p-2 text-center",children:n.condition}),s.jsx("td",{className:"border-r border-black p-2",children:n.defects}),s.jsx("td",{className:`border-r border-black p-2 text-center font-semibold ${r(n.recommendation)}`,children:n.recommendation}),s.jsx("td",{className:"p-2 text-right",children:n.estimatedRepairCost?`${n.estimatedRepairCost.toLocaleString("en-PH",{minimumFractionDigits:2})}`:"-"})]},a))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t-2 border-black bg-gray-100",children:[s.jsx("td",{colSpan:5,className:"border-r border-black p-2 text-center font-semibold",children:"TOTAL VALUE OF UNSERVICEABLE PROPERTY:"}),s.jsxs("td",{className:"border-r border-black p-2 text-right font-bold text-lg text-orange-600",children:["",e.totalValue.toLocaleString("en-PH",{minimumFractionDigits:2})]}),s.jsx("td",{colSpan:5,className:"p-2"})]})})]})}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border border-gray-400",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-blue-600",children:"FOR REPAIR"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Repair").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-orange-600",children:"FOR DISPOSAL"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Dispose").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-red-600",children:"FOR CONDEMNATION"}),s.jsx("p",{className:"text-2xl font-bold",children:e.items.filter(n=>n.recommendation==="Condemn").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"items"})]})]}),s.jsxs("div",{className:"p-4 border border-gray-400",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"INSPECTOR'S NOTES:"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsx("div",{className:"border-b border-gray-200 pb-8",children:s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Additional observations and recommendations:"})})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8 pt-4 border-t-2 border-black",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Inspection Committee Chairman"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Property Custodian"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-b border-black mb-1 pb-8"}),s.jsx("p",{className:"text-xs font-semibold",children:"Supply Officer"})]})]})]})]})]})},NB=({data:e})=>{const[t,r]=h.useState(""),[n,a]=h.useState(!1),{data:i=[],isLoading:o}=Gt({queryKey:["custodian-summaries"],queryFn:()=>Ts.getAllSummaries(),enabled:!0}),{data:l=[]}=Gt({queryKey:["custodian-item-history",t,n],queryFn:()=>Ts.getItemHistory(t,{includeReturned:n}),enabled:!!t}),c=i.find(u=>u.custodian.id===t),d=()=>{console.log("Exporting custodian report...")};return o?s.jsx("div",{className:"p-6",children:s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading custodian data..."})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(wi,{className:"h-8 w-8"}),"Custodian Information Report"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive report showing all items and records for each custodian"})]}),s.jsxs(ue,{onClick:d,children:[s.jsx(pv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Custodians"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items Assigned"}),s.jsx("p",{className:"text-2xl font-bold",children:i.reduce((u,f)=>u+f.total_items_assigned,0)})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value Assigned"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",i.reduce((u,f)=>u+f.total_value_assigned,0).toLocaleString()]})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently Assigned"}),s.jsx("p",{className:"text-2xl font-bold",children:i.reduce((u,f)=>u+f.currently_assigned_items,0)})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(jc,{className:"h-5 w-5"}),"All Custodians"]})}),s.jsx(Ie,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.map(u=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${t===u.custodian.id?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,onClick:()=>r(u.custodian.id),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.custodian.name}),s.jsx("p",{className:"text-sm opacity-75",children:u.custodian.custodian_no})]}),s.jsx(Ze,{variant:u.custodian.is_active?"default":"secondary",children:u.currently_assigned_items})]}),s.jsxs("div",{className:"mt-2 text-xs opacity-75",children:[s.jsx("p",{children:u.custodian.department_name||"No Department"}),s.jsxs("p",{children:["",u.currently_assigned_value.toLocaleString()]})]})]},u.custodian.id))})})]})}),s.jsx("div",{className:"lg:col-span-2",children:c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:c.custodian.name}),s.jsx(Ze,{variant:c.custodian.is_active?"default":"secondary",children:c.custodian.is_active?"Active":"Inactive"})]})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custodian Number"}),s.jsx("p",{className:"font-mono",children:c.custodian.custodian_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Position"}),s.jsx("p",{children:c.custodian.position||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{children:c.custodian.department_name||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),s.jsx("p",{children:c.last_activity_date?as(new Date(c.last_activity_date),"MMM dd, yyyy"):"No activity"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Items"}),s.jsx("p",{className:"text-2xl font-bold",children:c.currently_assigned_items})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",c.currently_assigned_value.toLocaleString()]})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:c.total_items_assigned})]})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",c.total_value_assigned.toLocaleString()]})]})]})})})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs(Ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Item History"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Nt,{value:n?"all":"current",onValueChange:u=>a(u==="all"),children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"current",children:"Current Only"}),s.jsx(je,{value:"all",children:"All History"})]})]})})]})}),s.jsx(Ie,{children:l.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No item history found for this custodian."}):s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{children:"Property Number"}),s.jsx(Se,{children:"Description"}),s.jsx(Se,{children:"Category"}),s.jsx(Se,{children:"Condition"}),s.jsx(Se,{children:"Value"}),s.jsx(Se,{children:"Slip Number"}),s.jsx(Se,{children:"Date Issued"}),s.jsx(Se,{children:"Status"})]})}),s.jsx(Wr,{children:l.map(u=>s.jsxs(rt,{children:[s.jsx(be,{className:"font-mono",children:u.property_number}),s.jsx(be,{children:u.description}),s.jsx(be,{children:s.jsx(Ze,{variant:"outline",children:u.category})}),s.jsx(be,{children:s.jsx(Ze,{variant:u.condition==="Serviceable"?"default":"destructive",children:u.condition})}),s.jsxs(be,{children:["",u.total_cost.toLocaleString()]}),s.jsx(be,{className:"font-mono",children:u.custodian_slip_number}),s.jsx(be,{children:u.date_issued?as(new Date(u.date_issued),"MMM dd, yyyy"):"-"}),s.jsx(be,{children:s.jsx(Ze,{variant:u.is_currently_assigned?"default":"secondary",children:u.is_currently_assigned?"Currently Assigned":"Returned"})})]},u.id))})]})})]})]}):s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Select a custodian from the list to view detailed information"})})})})]})]})},_B={async getAll(e={}){const{page:t=1,limit:r=50,category:n,status:a,condition:i,search:o}=e,{from:l,to:c}=Mf(t,r);let d=re.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `,{count:"exact"}).range(l,c);n&&(d=d.eq("category",n)),a&&(d=d.eq("status",a)),i&&(d=d.eq("condition",i)),o&&(d=d.or(`property_number.ilike.%${o}%,description.ilike.%${o}%,brand.ilike.%${o}%`));const u=await d.order("created_at",{ascending:!1});if(u.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:u.error.message};const f=u.count||0,m=Math.ceil(f/r);return{data:u.data||[],pagination:{page:t,limit:r,total:f,totalPages:m},success:!0}},async getById(e){var r;const t=await re.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `).eq("id",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getByPropertyNumber(e){var r;const t=await re.from("inventory_items").select(`
        *,
        suppliers:supplier_id(name),
        locations:location_id(name),
        fund_sources:fund_source_id(name)
      `).eq("property_number",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async create(e){var r;const t=await re.from("inventory_items").insert({property_number:e.propertyNumber,description:e.description,brand:e.brand,model:e.model,serial_number:e.serialNumber,unit_of_measure:e.unitOfMeasure,quantity:e.quantity,unit_cost:e.unitCost,total_cost:e.totalCost,date_acquired:e.dateAcquired,supplier_id:e.supplier||null,condition:e.condition,location_id:e.location||null,custodian_id:e.custodian||null,custodian_position:e.custodianPosition,accountable_officer:e.accountableOfficer,fund_source_id:e.fundSource||null,remarks:e.remarks,last_inventory_date:e.lastInventoryDate,category:e.category,status:e.status}).select().single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var a;const r={};t.propertyNumber&&(r.property_number=t.propertyNumber),t.description&&(r.description=t.description),t.brand&&(r.brand=t.brand),t.model&&(r.model=t.model),t.serialNumber&&(r.serial_number=t.serialNumber),t.unitOfMeasure&&(r.unit_of_measure=t.unitOfMeasure),t.quantity!==void 0&&(r.quantity=t.quantity),t.unitCost!==void 0&&(r.unit_cost=t.unitCost),t.totalCost!==void 0&&(r.total_cost=t.totalCost),t.dateAcquired&&(r.date_acquired=t.dateAcquired),t.supplier&&(r.supplier_id=t.supplier),t.condition&&(r.condition=t.condition),t.location&&(r.location_id=t.location),t.custodian&&(r.custodian_id=t.custodian),t.custodianPosition&&(r.custodian_position=t.custodianPosition),t.accountableOfficer&&(r.accountable_officer=t.accountableOfficer),t.fundSource&&(r.fund_source_id=t.fundSource),t.remarks&&(r.remarks=t.remarks),t.lastInventoryDate&&(r.last_inventory_date=t.lastInventoryDate),t.category&&(r.category=t.category),t.status&&(r.status=t.status);const n=await re.from("inventory_items").update(r).eq("id",e).select().single();return{data:n.data,error:((a=n.error)==null?void 0:a.message)||null,success:!n.error}},async delete(e){var r;const t=await re.from("inventory_items").delete().eq("id",e);return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async getStatistics(){try{const{count:e}=await re.from("inventory_items").select("*",{count:"exact",head:!0}),{data:t}=await re.from("inventory_items").select("total_cost"),r=(t==null?void 0:t.reduce((d,u)=>d+(u.total_cost||0),0))||0,{data:n}=await re.from("inventory_items").select("category").not("category","is",null),a=(n==null?void 0:n.reduce((d,u)=>(d[u.category]=(d[u.category]||0)+1,d),{}))||{},{data:i}=await re.from("inventory_items").select("status").not("status","is",null),o=(i==null?void 0:i.reduce((d,u)=>(d[u.status]=(d[u.status]||0)+1,d),{}))||{},{data:l}=await re.from("inventory_items").select("condition").not("condition","is",null),c=(l==null?void 0:l.reduce((d,u)=>(d[u.condition]=(d[u.condition]||0)+1,d),{}))||{};return{data:{totalItems:e||0,totalValue:r,byCategory:a,byStatus:o,byCondition:c},error:null,success:!0}}catch(e){return{data:null,error:e instanceof Error?e.message:"Unknown error",success:!1}}},async search(e,t={}){return this.getAll({...t,search:e})}},SB={async getAll(e={}){const{page:t=1,limit:r=50,isActive:n,search:a}=e,{from:i,to:o}=Mf(t,r);let l=re.from("departments").select("*",{count:"exact"}).range(i,o);n!==void 0&&(l=l.eq("is_active",n)),a&&(l=l.or(`name.ilike.%${a}%,code.ilike.%${a}%,description.ilike.%${a}%`));const c=await l.order("name",{ascending:!0});if(c.error)return{data:[],pagination:{page:t,limit:r,total:0,totalPages:0},success:!1,error:c.error.message};const d=c.count||0,u=Math.ceil(d/r);return{data:c.data||[],pagination:{page:t,limit:r,total:d,totalPages:u},success:!0}},async getById(e){var r;const t=await re.from("departments").select("*").eq("id",e).single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async create(e){var r;const t=await re.from("departments").insert(e).select().single();return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}},async update(e,t){var n;const r=await re.from("departments").update(t).eq("id",e).select().single();return{data:r.data,error:((n=r.error)==null?void 0:n.message)||null,success:!r.error}},async delete(e){var r;const t=await re.from("departments").delete().eq("id",e);return{data:t.data,error:((r=t.error)==null?void 0:r.message)||null,success:!t.error}}},gm={inventory:_B,departments:SB,propertyCards:er},Bd=({reportType:e,reportName:t,trigger:r})=>{const[n,a]=h.useState("live"),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(null),f=async()=>{c(!0),u(null);try{switch(e){case"Inventory Summary":case"Property Card":const p=await gm.propertyCards.getAll({limit:1});if(p.success&&p.data.length>0){const g=p.data[0],w=await gm.propertyCards.getEntries(g.id);o({...g,entries:w.data||[]})}break;case"Property Ledger":const x=await gm.inventory.getAll({limit:1});if(x.success&&x.data.length>0){const g=x.data[0];o({propertyNumber:g.propertyNumber,description:g.description,unit:g.unitOfMeasure,entries:[{date:g.dateAcquired,referenceNumber:"INITIAL",received:g.quantity,issued:0,balance:g.quantity,recipient:"Stock Inventory"}]})}break;case"Custodian Report":u("Custodian reports not available");break;case"Transfer Report":u("Transfer reports not available");break;case"Physical Count Summary":u("Physical count reports not available");break;case"Loss Report Summary":u("Loss reports not available");break;case"Unserviceable Report":u("Unserviceable reports not available");break;case"Custodian Report":o({});break;default:u("Report type not implemented yet")}}catch(p){u(p instanceof Error?p.message:"Failed to fetch report data")}finally{c(!1)}};h.useEffect(()=>{n==="live"&&f()},[n,e]);const m=()=>{if(l)return s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Qt,{className:"h-8 w-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading report data..."})]});if(d)return s.jsxs("div",{className:"p-8 text-center",children:[s.jsxs("p",{className:"text-red-600 mb-4",children:["Error: ",d]}),s.jsx(ue,{onClick:f,children:"Retry"})]});if(!i)return s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available for this report."})});switch(e){case"Inventory Summary":case"Property Card":return s.jsx(sk,{data:i});case"Property Ledger":return s.jsx(yB,{data:i});case"Custodian Report":return s.jsx(NB,{data:i});case"Transfer Report":return s.jsx(xB,{data:i});case"Physical Count Summary":return s.jsx(bB,{data:i});case"Loss Report Summary":return s.jsx(wB,{data:i});case"Unserviceable Report":return s.jsx(jB,{data:i});default:return s.jsx("div",{className:"p-8 text-center",children:"Report type not implemented yet."})}};return s.jsxs(en,{children:[s.jsx(g5,{asChild:!0,children:r||s.jsx(ue,{variant:"outline",children:t})}),s.jsxs(Ur,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(nn,{children:s.jsx(sn,{children:t})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Source:"}),s.jsxs(Nt,{value:n,onValueChange:a,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{})}),s.jsx(xt,{children:s.jsx(je,{value:"live",children:"Live Data"})})]}),n==="live"&&s.jsx(ue,{onClick:f,variant:"outline",size:"sm",children:"Refresh"})]}),m()]})]})]})},CB=[{id:"1",name:"Inventory Summary Report",type:"Inventory Summary",description:"Complete overview of all semi-expandable property items with their current status, location, and condition",frequency:"Monthly",status:"Available"},{id:"2",name:"Issued vs Unissued Items Report",type:"Inventory Summary",description:"Detailed breakdown of issued and unissued items with assignment status and custodian information",frequency:"Weekly",status:"Available"},{id:"3",name:"Semi-Expendable Property Ledger",type:"Property Ledger",description:"Detailed ledger showing all property movements, acquisitions, transfers, and disposals",frequency:"Quarterly",status:"Available"},{id:"4",name:"Property Transfer Summary",type:"Transfer Report",description:"Summary of all property transfers between departments including pending and completed transfers",frequency:"Monthly",status:"Available"},{id:"5",name:"Custodian Information Report",type:"Custodian Report",description:"Comprehensive report showing all items and records for each custodian, including current assignments and historical data",frequency:"Weekly",status:"Available"},{id:"6",name:"Physical Count Variance Report",type:"Physical Count Summary",description:"Analysis of physical count results showing variances between expected and actual quantities",frequency:"Annual",status:"Generating"},{id:"5",name:"Loss and Damage Summary",type:"Loss Report Summary",description:"Comprehensive report of lost, stolen, damaged, or destroyed property with financial impact",frequency:"Quarterly",status:"Available"},{id:"6",name:"Unserviceable Property Report",type:"Unserviceable Report",description:"Report on property items that are unserviceable and recommendations for disposal or repair",frequency:"Monthly",status:"Available"},{id:"7",name:"Custodian Accountability Report",type:"Custodian Report",description:"Report showing property assigned to each custodian and their current accountability status",frequency:"Quarterly",status:"Scheduled"}],EB=()=>{const[e]=h.useState(CB),[t,r]=h.useState("All"),[n,a]=h.useState("All"),[i,o]=h.useState({from:"",to:""}),[l,c]=h.useState("All"),{toast:d}=Bn(),u=x=>{d({title:"Download Started",description:`Downloading ${x.name}...`})},f=x=>{switch(x){case"Available":return"success";case"Generating":return"warning";case"Scheduled":return"secondary";default:return"secondary"}},m=x=>{switch(x){case"Inventory Summary":return s.jsx(Zr,{className:"h-5 w-5"});case"Property Ledger":return s.jsx(Dn,{className:"h-5 w-5"});case"Transfer Report":return s.jsx(gp,{className:"h-5 w-5"});case"Physical Count Summary":return s.jsx(Bh,{className:"h-5 w-5"});case"Loss Report Summary":return s.jsx(Du,{className:"h-5 w-5"});case"Unserviceable Report":return s.jsx(Du,{className:"h-5 w-5"});case"Custodian Report":return s.jsx(Dn,{className:"h-5 w-5"});default:return s.jsx(Dn,{className:"h-5 w-5"})}},p=e.filter(x=>{const g=t==="All"||x.type===t,w=n==="All"||x.status===n;return g&&w});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reports & Analytics"}),s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(nu,{className:"h-4 w-4"}),"Schedule Report"]})]}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Report Filters"})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"Report Type"}),s.jsxs(Nt,{value:t,onValueChange:r,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All Types"}),s.jsx(je,{value:"Inventory Summary",children:"Inventory Summary"}),s.jsx(je,{value:"Property Ledger",children:"Property Ledger"}),s.jsx(je,{value:"Transfer Report",children:"Transfer Report"}),s.jsx(je,{value:"Physical Count Summary",children:"Physical Count"}),s.jsx(je,{value:"Loss Report Summary",children:"Loss Report"}),s.jsx(je,{value:"Unserviceable Report",children:"Unserviceable"}),s.jsx(je,{value:"Custodian Report",children:"Custodian Report"})]})]})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Status"}),s.jsxs(Nt,{value:n,onValueChange:a,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All Status"}),s.jsx(je,{value:"Available",children:"Available"}),s.jsx(je,{value:"Generating",children:"Generating"}),s.jsx(je,{value:"Scheduled",children:"Scheduled"})]})]})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Department"}),s.jsxs(Nt,{value:l,onValueChange:c,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(xt,{children:[s.jsx(je,{value:"All",children:"All Departments"}),s.jsx(je,{value:"IT",children:"IT Department"}),s.jsx(je,{value:"HR",children:"Human Resources"}),s.jsx(je,{value:"Finance",children:"Finance"}),s.jsx(je,{value:"Operations",children:"Operations"})]})]})]}),s.jsxs("div",{children:[s.jsx(he,{children:"Date Range"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{type:"date",value:i.from,onChange:x=>o({...i,from:x.target.value}),className:"flex-1"}),s.jsx(Te,{type:"date",value:i.to,onChange:x=>o({...i,to:x.target.value}),className:"flex-1"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Reports"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Available").length})]}),s.jsx(Dn,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Generating"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Generating").length})]}),s.jsx(Bh,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled"}),s.jsx("p",{className:"text-2xl font-bold",children:e.filter(x=>x.status==="Scheduled").length})]}),s.jsx(nu,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Re,{children:s.jsx(Ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Reports"}),s.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),s.jsx(gp,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(x=>s.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m(x.type),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-lg",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.type})]})]}),s.jsx(Ze,{variant:f(x.status),children:x.status})]})}),s.jsxs(Ie,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:x.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Frequency:"}),s.jsx("span",{className:"font-medium",children:x.frequency})]}),x.lastGenerated&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Generated:"}),s.jsx("span",{className:"font-medium",children:x.lastGenerated})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Bd,{reportType:x.type,reportName:x.name,trigger:s.jsx(ue,{className:"flex-1",disabled:x.status==="Generating",children:x.status==="Generating"?"Generating...":"Generate"})}),s.jsx(ue,{onClick:()=>u(x),variant:"outline",size:"icon",disabled:x.status!=="Available",children:s.jsx(pv,{className:"h-4 w-4"})})]})]})]},x.id))}),s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsx(Ke,{children:"Report Templates"})}),s.jsx(Ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Bd,{reportType:"Property Card",reportName:"Custom Property Card",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Zr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Custom Property Card"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate a semi-expandable property card with specific property details"})]})}),s.jsx(Bd,{reportType:"Property Ledger",reportName:"Property Ledger Card",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Bh,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Property Ledger Card"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate detailed property ledger showing all movements and transactions"})]})}),s.jsx(Bd,{reportType:"Custodian Report",reportName:"Inventory Custodian Slip",trigger:s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(nu,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"font-medium",children:"Custodian Slip"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate inventory custodian slip for property accountability"})]})})]})})]})]})};function kB(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(""),[o,l]=h.useState(""),[c,d]=h.useState(null),u=async()=>{const p=[];try{p.push({step:"env:VITE_SUPABASE_URL",ok:!0,info:"https://drlfakeottpbmxiudftz.supabase.co"}),p.push({step:"env:VITE_SUPABASE_ANON_KEY",ok:!0,info:"<present>"});const{data:x,error:g}=await re.from("property_cards").select("id").limit(1);g?p.push({step:"db:select property_cards",ok:!1,error:g.message}):p.push({step:"db:select property_cards",ok:!0,info:`${(x==null?void 0:x.length)||0} rows accessible`});const w=(await re.auth.getSession()).data.session;p.push({step:"auth:session",ok:!!w,info:w?`user ${w.user.id}`:"no session"});const y={entity_name:"Debug Entity",fund_cluster:"101",semi_expendable_property:"Debug Item",property_number:`DBG-${Date.now()}`,description:"Debug connectivity",date_acquired:new Date().toISOString().slice(0,10),remarks:"debug"},v=await re.from("property_cards").insert(y).select("id").single();v.error?p.push({step:"db:insert property_cards",ok:!1,error:v.error.message}):(p.push({step:"db:insert property_cards",ok:!0,info:`id ${v.data.id}`}),await re.from("property_cards").delete().eq("id",v.data.id))}catch(x){p.push({step:"unexpected",ok:!1,error:(x==null?void 0:x.message)||String(x)})}finally{t(p),n(!1)}};h.useEffect(()=>{u()},[]);const f=async()=>{d(null),n(!0);const{error:p}=await re.auth.signInWithPassword({email:a,password:o});d(p?p.message:"Signed in"),await u()},m=async()=>{d(null),n(!0),await re.auth.signOut(),d("Signed out"),await u()};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Supabase Debug"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Visit this page to verify environment, connectivity, auth session, and RLS inserts."}),s.jsxs("div",{className:"rounded border p-4 space-y-3",children:[s.jsx("div",{className:"font-medium",children:"Auth test"}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx("input",{className:"border rounded px-2 py-1",placeholder:"email",value:a,onChange:p=>i(p.target.value)}),s.jsx("input",{className:"border rounded px-2 py-1",placeholder:"password",type:"password",value:o,onChange:p=>l(p.target.value)}),s.jsx("button",{className:"border rounded px-3 py-1",onClick:f,children:"Sign in"}),s.jsx("button",{className:"border rounded px-3 py-1",onClick:m,children:"Sign out"})]}),c&&s.jsx("div",{className:"text-xs text-muted-foreground",children:c})]}),r?s.jsx("div",{children:"Running checks"}):s.jsx("div",{className:"space-y-2",children:e.map((p,x)=>s.jsxs("div",{className:`rounded border p-3 ${p.ok?"border-green-500/40 bg-green-500/5":"border-red-500/40 bg-red-500/5"}`,children:[s.jsx("div",{className:"font-medium",children:p.step}),p.info&&s.jsx("div",{className:"text-xs mt-1",children:p.info}),p.error&&s.jsx("div",{className:"text-xs mt-1 text-red-600",children:p.error})]},x))})]})}function PB(){const e=Vn(),t=zn(),{toast:r}=Bn(),[n,a]=h.useState(!1),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[f,m]=h.useState([]),[p,x]=h.useState([]),[g,w]=h.useState(""),y=e.hash?e.hash.substring(1):"suppliers",v=k=>{t(`${e.pathname}#${k}`,{replace:!0})},b=async()=>{a(!0);try{const[k,D,z,F,I]=await Promise.all([Mr.getSuppliers(),Mr.getFundSources(),Mr.getDepartments(),Mr.getCustodians(),Mr.getSemiExpandableCategories()]);o(k),c(D),u(z),m(F),x(I)}catch(k){r({title:"Failed to load lookups",description:(k==null?void 0:k.message)||String(k),variant:"destructive"})}finally{a(!1)}};h.useEffect(()=>{b()},[]);const N=k=>k.filter(D=>(D.name||"").toLowerCase().includes(g.toLowerCase())||(D.code||"").toLowerCase().includes(g.toLowerCase())),j=(k,D,z)=>{const[F,I]=h.useState("idle"),[q,X]=h.useState(null),[S,_]=h.useState({name:""}),A=k==="fund_sources"||k==="departments"||k==="custodians"||k==="semi_expandable_categories",te=k==="fund_sources",W=()=>{I("create"),X(null),_(A?{name:"",code:""}:{name:""})},U=O=>{I("edit"),X(O),_(A?{name:O.name,code:O.code}:{name:O.name})},ae=()=>{I("idle"),X(null),_({name:"",code:""})};return{mode:F,editing:q,form:S,setForm:_,startCreate:W,startEdit:U,save:async()=>{if(F==="edit"&&q){const O=await Mr.update(k,q.id,S);z(D.map(G=>G.id===q.id?O:G))}else if(F==="create"){const O=await Mr.create(k,S);z([O,...D])}ae()},remove:async O=>{await Mr.remove(k,O),z(D.filter(G=>G.id!==O))},cancel:ae,hasCode:A,codeRequired:te}},E=({title:k,items:D,table:z,setItems:F})=>{var Q;const{mode:I,editing:q,form:X,setForm:S,startCreate:_,startEdit:A,save:te,remove:W,cancel:U,hasCode:ae,codeRequired:ve}=j(z,D,F),B=h.useMemo(()=>{if(z!=="custodians")return[];const R=((q?D.filter(J=>J.id!==q.id):D)||[]).map(J=>(J.code||"").trim()).filter(Boolean).map(J=>({c:J,n:J.match(/\d+/)?parseInt(J.match(/\d+/)[0],10):NaN}));return R.sort((J,ce)=>(isFinite(ce.n)?ce.n:-1)-(isFinite(J.n)?J.n:-1)),R.map(J=>J.c)},[z,D,q]),O=h.useMemo(()=>{if(z!=="custodians")return"";const ie=B.map(R=>R.match(/\d+/)?parseInt(R.match(/\d+/)[0],10):NaN).filter(R=>Number.isFinite(R)),ne=ie.length?Math.max(...ie)+1:1;return`CUST-${String(ne).padStart(4,"0")}`},[z,B]),G=h.useMemo(()=>{if(z!=="custodians")return!1;const ie=(X.code||"").trim();if(!ie)return!1;const R=`CUST-${(ie.match(/\d+/)?ie.match(/\d+/)[0]:ie).padStart(4,"0")}`;return B.includes(ie)||B.includes(R)},[z,X.code,B]);return s.jsxs(Re,{children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{children:k}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Te,{placeholder:"Search",value:g,onChange:ie=>w(ie.target.value)}),s.jsx(ue,{variant:"outline",onClick:b,disabled:n,children:"Refresh"}),s.jsx(ue,{onClick:_,children:"Add"})]})]})}),s.jsxs(Ie,{children:[I!=="idle"&&s.jsxs("div",{className:"mb-4 p-3 border rounded grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsx(Te,{placeholder:"Name",value:X.name,onChange:ie=>S({...X,name:ie.target.value})}),ae&&s.jsx(Te,{placeholder:z==="custodians"?"Custodian No (auto if blank)":ve?"Code (required)":"Code (optional)",value:X.code||"",onChange:ie=>S({...X,code:ie.target.value}),required:ve}),z==="custodians"&&I==="create"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:"outline",type:"button",onClick:()=>S({...X,code:O}),children:"Use suggested"}),G&&s.jsx("span",{className:"text-xs text-red-600",children:"This number already exists"})]}),z==="custodians"&&s.jsx("div",{className:"text-xs text-muted-foreground col-span-1 md:col-span-3",children:s.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-1",children:[s.jsx("span",{children:"Existing Nos:"}),s.jsxs("span",{className:"max-w-full truncate",children:[B.slice(0,12).join(", ")||"None yet",B.length>12?"":""]}),s.jsx("span",{className:"ml-2",children:"Suggested next:"}),s.jsx("span",{className:"font-medium",children:O})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{onClick:te,disabled:!X.name.trim()||ve&&!((Q=X.code)!=null&&Q.trim())||z==="custodians"&&G,children:"Save"}),s.jsx(ue,{variant:"outline",onClick:U,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded border",children:[s.jsxs(Nr,{children:[s.jsx(zr,{children:s.jsxs(rt,{children:[s.jsx(Se,{className:"w-64",children:"Name"}),ae&&s.jsx(Se,{children:"Code"}),s.jsx(Se,{className:"w-40 text-right",children:"Actions"})]})}),s.jsx(Wr,{children:N(D).map(ie=>s.jsxs(rt,{children:[s.jsx(be,{children:ie.name}),ae&&s.jsx(be,{children:ie.code||""}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ue,{variant:"outline",size:"sm",onClick:()=>A(ie),children:"Edit"}),s.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>W(ie.id),children:"Delete"})]})})]},ie.id))})]}),N(D).length===0&&s.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"No records"})]})]})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings  Lookups"}),s.jsxs(Jf,{value:y,onValueChange:v,children:[s.jsxs(rd,{children:[s.jsx(mn,{value:"suppliers",children:"Suppliers"}),s.jsx(mn,{value:"fundSources",children:"Fund Sources"}),s.jsx(mn,{value:"departments",children:"Departments"}),s.jsx(mn,{value:"custodians",children:"Custodians"}),s.jsx(mn,{value:"semiExpandableCategories",children:"Semi Expandable Categories"})]}),s.jsx(pn,{value:"suppliers",children:s.jsx(E,{title:"Suppliers",items:i,table:"suppliers",setItems:o})}),s.jsx(pn,{value:"fundSources",children:s.jsx(E,{title:"Fund Sources",items:l,table:"fund_sources",setItems:c})}),s.jsx(pn,{value:"departments",children:s.jsx(E,{title:"Departments",items:d,table:"departments",setItems:u})}),s.jsxs(pn,{value:"custodians",children:[s.jsx(E,{title:"Custodians",items:f,table:"custodians",setItems:m}),f.length===0&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," If you don't see any custodians, make sure to run the SQL setup script in Supabase first. Check the ",s.jsx("code",{children:"database/custodians-setup.sql"})," file for the complete setup."]})})]}),s.jsx(pn,{value:"semiExpandableCategories",children:s.jsx(E,{title:"Semi Expandable Categories",items:p,table:"semi_expandable_categories",setItems:x})})]})]})}var id=e=>e.type==="checkbox",li=e=>e instanceof Date,br=e=>e==null;const _k=e=>typeof e=="object";var Mt=e=>!br(e)&&!Array.isArray(e)&&_k(e)&&!li(e),TB=e=>Mt(e)&&e.target?id(e.target)?e.target.checked:e.target.value:e,AB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,RB=(e,t)=>e.has(AB(t)),IB=e=>{const t=e.constructor&&e.constructor.prototype;return Mt(t)&&t.hasOwnProperty("isPrototypeOf")},Ny=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ny&&(e instanceof Blob||n))&&(r||Mt(e)))if(t=r?[]:{},!r&&!IB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Jt(e[a]));else return e;return t}var ah=e=>/^\w*$/.test(e),$t=e=>e===void 0,_y=e=>Array.isArray(e)?e.filter(Boolean):[],Sy=e=>_y(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,t,r)=>{if(!t||!Mt(e))return r;const n=(ah(t)?[t]:Sy(t)).reduce((a,i)=>br(a)?a:a[i],e);return $t(n)||n===e?$t(e[t])?r:e[t]:n},Zn=e=>typeof e=="boolean",wt=(e,t,r)=>{let n=-1;const a=ah(t)?[t]:Sy(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=Mt(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const _0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},In={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},OB=pe.createContext(null);OB.displayName="HookFormContext";var DB=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==In.all&&(t._proxyFormState[o]=!n||In.all),e[o]}});return a};const MB=typeof window<"u"?pe.useLayoutEffect:pe.useEffect;var os=e=>typeof e=="string",LB=(e,t,r,n,a)=>os(e)?(n&&t.watch.add(e),Le(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Le(r,i))):(n&&(t.watchAll=!0),r),fg=e=>br(e)||!_k(e);function ia(e,t,r=new WeakSet){if(fg(e)||fg(t))return e===t;if(li(e)&&li(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(li(o)&&li(l)||Mt(o)&&Mt(l)||Array.isArray(o)&&Array.isArray(l)?!ia(o,l,r):o!==l)return!1}}return!0}var FB=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},rc=e=>Array.isArray(e)?e:[e],S0=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Ir=e=>Mt(e)&&!Object.keys(e).length,Cy=e=>e.type==="file",On=e=>typeof e=="function",ef=e=>{if(!Ny)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Sk=e=>e.type==="select-multiple",Ey=e=>e.type==="radio",$B=e=>Ey(e)||id(e),vm=e=>ef(e)&&e.isConnected;function UB(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=$t(e)?n++:e[t[n++]];return e}function qB(e){for(const t in e)if(e.hasOwnProperty(t)&&!$t(e[t]))return!1;return!0}function Ft(e,t){const r=Array.isArray(t)?t:ah(t)?[t]:Sy(t),n=r.length===1?e:UB(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Mt(n)&&Ir(n)||Array.isArray(n)&&qB(n))&&Ft(e,r.slice(0,-1)),e}var Ck=e=>{for(const t in e)if(On(e[t]))return!0;return!1};function tf(e,t={}){const r=Array.isArray(e);if(Mt(e)||r)for(const n in e)Array.isArray(e[n])||Mt(e[n])&&!Ck(e[n])?(t[n]=Array.isArray(e[n])?[]:{},tf(e[n],t[n])):br(e[n])||(t[n]=!0);return t}function Ek(e,t,r){const n=Array.isArray(e);if(Mt(e)||n)for(const a in e)Array.isArray(e[a])||Mt(e[a])&&!Ck(e[a])?$t(t)||fg(r[a])?r[a]=Array.isArray(e[a])?tf(e[a],[]):{...tf(e[a])}:Ek(e[a],br(t)?{}:t[a],r[a]):r[a]=!ia(e[a],t[a]);return r}var Il=(e,t)=>Ek(e,t,tf(t));const C0={value:!1,isValid:!1},E0={value:!0,isValid:!0};var kk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$t(e[0].attributes.value)?$t(e[0].value)||e[0].value===""?E0:{value:e[0].value,isValid:!0}:E0:C0}return C0},Pk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>$t(e)?e:t?e===""?NaN:e&&+e:r&&os(e)?new Date(e):n?n(e):e;const k0={isValid:!1,value:null};var Tk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,k0):k0;function P0(e){const t=e.ref;return Cy(t)?t.files:Ey(t)?Tk(e.refs).value:Sk(t)?[...t.selectedOptions].map(({value:r})=>r):id(t)?kk(e.refs).value:Pk($t(t.value)?e.ref.value:t.value,e)}var BB=(e,t,r,n)=>{const a={};for(const i of e){const o=Le(t,i);o&&wt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},rf=e=>e instanceof RegExp,Ol=e=>$t(e)?e:rf(e)?e.source:Mt(e)?rf(e.value)?e.value.source:e.value:e,T0=e=>({isOnSubmit:!e||e===In.onSubmit,isOnBlur:e===In.onBlur,isOnChange:e===In.onChange,isOnAll:e===In.all,isOnTouch:e===In.onTouched});const A0="AsyncFunction";var VB=e=>!!e&&!!e.validate&&!!(On(e.validate)&&e.validate.constructor.name===A0||Mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===A0)),zB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),R0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const nc=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Le(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(nc(l,t))break}else if(Mt(l)&&nc(l,t))break}}};function I0(e,t,r){const n=Le(e,r);if(n||ah(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Le(t,i),l=Le(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var WB=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Ir(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||In.all))},HB=(e,t,r)=>!e||!t||e===t||rc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),KB=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,QB=(e,t)=>!_y(Le(e,t)).length&&Ft(e,t),GB=(e,t,r)=>{const n=rc(Le(e,r));return wt(n,"root",t[r]),wt(e,r,n),e},du=e=>os(e);function O0(e,t,r="validate"){if(du(e)||Array.isArray(e)&&e.every(du)||Zn(e)&&!e)return{type:r,message:du(e)?e:"",ref:t}}var ro=e=>Mt(e)&&!rf(e)?e:{value:e,message:""},D0=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:m,pattern:p,validate:x,name:g,valueAsNumber:w,mount:y}=e._f,v=Le(r,g);if(!y||t.has(g))return{};const b=l?l[0]:o,N=q=>{a&&b.reportValidity&&(b.setCustomValidity(Zn(q)?"":q||""),b.reportValidity())},j={},E=Ey(o),k=id(o),D=E||k,z=(w||Cy(o))&&$t(o.value)&&$t(v)||ef(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,F=FB.bind(null,g,n,j),I=(q,X,S,_=xs.maxLength,A=xs.minLength)=>{const te=q?X:S;j[g]={type:q?_:A,message:te,ref:o,...F(q?_:A,te)}};if(i?!Array.isArray(v)||!v.length:c&&(!D&&(z||br(v))||Zn(v)&&!v||k&&!kk(l).isValid||E&&!Tk(l).isValid)){const{value:q,message:X}=du(c)?{value:!!c,message:c}:ro(c);if(q&&(j[g]={type:xs.required,message:X,ref:b,...F(xs.required,X)},!n))return N(X),j}if(!z&&(!br(f)||!br(m))){let q,X;const S=ro(m),_=ro(f);if(!br(v)&&!isNaN(v)){const A=o.valueAsNumber||v&&+v;br(S.value)||(q=A>S.value),br(_.value)||(X=A<_.value)}else{const A=o.valueAsDate||new Date(v),te=ae=>new Date(new Date().toDateString()+" "+ae),W=o.type=="time",U=o.type=="week";os(S.value)&&v&&(q=W?te(v)>te(S.value):U?v>S.value:A>new Date(S.value)),os(_.value)&&v&&(X=W?te(v)<te(_.value):U?v<_.value:A<new Date(_.value))}if((q||X)&&(I(!!q,S.message,_.message,xs.max,xs.min),!n))return N(j[g].message),j}if((d||u)&&!z&&(os(v)||i&&Array.isArray(v))){const q=ro(d),X=ro(u),S=!br(q.value)&&v.length>+q.value,_=!br(X.value)&&v.length<+X.value;if((S||_)&&(I(S,q.message,X.message),!n))return N(j[g].message),j}if(p&&!z&&os(v)){const{value:q,message:X}=ro(p);if(rf(q)&&!v.match(q)&&(j[g]={type:xs.pattern,message:X,ref:o,...F(xs.pattern,X)},!n))return N(X),j}if(x){if(On(x)){const q=await x(v,r),X=O0(q,b);if(X&&(j[g]={...X,...F(xs.validate,X.message)},!n))return N(X.message),j}else if(Mt(x)){let q={};for(const X in x){if(!Ir(q)&&!n)break;const S=O0(await x[X](v,r),b,X);S&&(q={...S,...F(X,S.message)},N(S.message),n&&(j[g]=q))}if(!Ir(q)&&(j[g]={ref:b,...q},!n))return j}}return N(!0),j};const YB={mode:In.onSubmit,reValidateMode:In.onChange,shouldFocusError:!0};function XB(e={}){let t={...YB,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:On(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Mt(t.defaultValues)||Mt(t.values)?Jt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Jt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const m={array:S0(),state:S0()},p=t.criteriaMode===In.all,x=P=>$=>{clearTimeout(d),d=setTimeout(P,$)},g=async P=>{if(!t.disabled&&(u.isValid||f.isValid||P)){const $=t.resolver?Ir((await k()).errors):await z(n,!0);$!==r.isValid&&m.state.next({isValid:$})}},w=(P,$)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((P||Array.from(l.mount)).forEach(ee=>{ee&&($?wt(r.validatingFields,ee,$):Ft(r.validatingFields,ee))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ir(r.validatingFields)}))},y=(P,$=[],ee,de,me=!0,le=!0)=>{if(de&&ee&&!t.disabled){if(o.action=!0,le&&Array.isArray(Le(n,P))){const ke=ee(Le(n,P),de.argA,de.argB);me&&wt(n,P,ke)}if(le&&Array.isArray(Le(r.errors,P))){const ke=ee(Le(r.errors,P),de.argA,de.argB);me&&wt(r.errors,P,ke),QB(r.errors,P)}if((u.touchedFields||f.touchedFields)&&le&&Array.isArray(Le(r.touchedFields,P))){const ke=ee(Le(r.touchedFields,P),de.argA,de.argB);me&&wt(r.touchedFields,P,ke)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Il(a,i)),m.state.next({name:P,isDirty:I(P,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wt(i,P,$)},v=(P,$)=>{wt(r.errors,P,$),m.state.next({errors:r.errors})},b=P=>{r.errors=P,m.state.next({errors:r.errors,isValid:!1})},N=(P,$,ee,de)=>{const me=Le(n,P);if(me){const le=Le(i,P,$t(ee)?Le(a,P):ee);$t(le)||de&&de.defaultChecked||$?wt(i,P,$?le:P0(me._f)):S(P,le),o.mount&&g()}},j=(P,$,ee,de,me)=>{let le=!1,ke=!1;const Fe={name:P};if(!t.disabled){if(!ee||de){(u.isDirty||f.isDirty)&&(ke=r.isDirty,r.isDirty=Fe.isDirty=I(),le=ke!==Fe.isDirty);const Ye=ia(Le(a,P),$);ke=!!Le(r.dirtyFields,P),Ye?Ft(r.dirtyFields,P):wt(r.dirtyFields,P,!0),Fe.dirtyFields=r.dirtyFields,le=le||(u.dirtyFields||f.dirtyFields)&&ke!==!Ye}if(ee){const Ye=Le(r.touchedFields,P);Ye||(wt(r.touchedFields,P,ee),Fe.touchedFields=r.touchedFields,le=le||(u.touchedFields||f.touchedFields)&&Ye!==ee)}le&&me&&m.state.next(Fe)}return le?Fe:{}},E=(P,$,ee,de)=>{const me=Le(r.errors,P),le=(u.isValid||f.isValid)&&Zn($)&&r.isValid!==$;if(t.delayError&&ee?(c=x(()=>v(P,ee)),c(t.delayError)):(clearTimeout(d),c=null,ee?wt(r.errors,P,ee):Ft(r.errors,P)),(ee?!ia(me,ee):me)||!Ir(de)||le){const ke={...de,...le&&Zn($)?{isValid:$}:{},errors:r.errors,name:P};r={...r,...ke},m.state.next(ke)}},k=async P=>{w(P,!0);const $=await t.resolver(i,t.context,BB(P||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(P),$},D=async P=>{const{errors:$}=await k(P);if(P)for(const ee of P){const de=Le($,ee);de?wt(r.errors,ee,de):Ft(r.errors,ee)}else r.errors=$;return $},z=async(P,$,ee={valid:!0})=>{for(const de in P){const me=P[de];if(me){const{_f:le,...ke}=me;if(le){const Fe=l.array.has(le.name),Ye=me._f&&VB(me._f);Ye&&u.validatingFields&&w([de],!0);const mt=await D0(me,l.disabled,i,p,t.shouldUseNativeValidation&&!$,Fe);if(Ye&&u.validatingFields&&w([de]),mt[le.name]&&(ee.valid=!1,$))break;!$&&(Le(mt,le.name)?Fe?GB(r.errors,mt,le.name):wt(r.errors,le.name,mt[le.name]):Ft(r.errors,le.name))}!Ir(ke)&&await z(ke,$,ee)}}return ee.valid},F=()=>{for(const P of l.unMount){const $=Le(n,P);$&&($._f.refs?$._f.refs.every(ee=>!vm(ee)):!vm($._f.ref))&&ne(P)}l.unMount=new Set},I=(P,$)=>!t.disabled&&(P&&$&&wt(i,P,$),!ia(ae(),a)),q=(P,$,ee)=>LB(P,l,{...o.mount?i:$t($)?a:os(P)?{[P]:$}:$},ee,$),X=P=>_y(Le(o.mount?i:a,P,t.shouldUnregister?Le(a,P,[]):[])),S=(P,$,ee={})=>{const de=Le(n,P);let me=$;if(de){const le=de._f;le&&(!le.disabled&&wt(i,P,Pk($,le)),me=ef(le.ref)&&br($)?"":$,Sk(le.ref)?[...le.ref.options].forEach(ke=>ke.selected=me.includes(ke.value)):le.refs?id(le.ref)?le.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(me)?ke.checked=!!me.find(Fe=>Fe===ke.value):ke.checked=me===ke.value||!!me)}):le.refs.forEach(ke=>ke.checked=ke.value===me):Cy(le.ref)?le.ref.value="":(le.ref.value=me,le.ref.type||m.state.next({name:P,values:Jt(i)})))}(ee.shouldDirty||ee.shouldTouch)&&j(P,me,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&U(P)},_=(P,$,ee)=>{for(const de in $){if(!$.hasOwnProperty(de))return;const me=$[de],le=P+"."+de,ke=Le(n,le);(l.array.has(P)||Mt(me)||ke&&!ke._f)&&!li(me)?_(le,me,ee):S(le,me,ee)}},A=(P,$,ee={})=>{const de=Le(n,P),me=l.array.has(P),le=Jt($);wt(i,P,le),me?(m.array.next({name:P,values:Jt(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&ee.shouldDirty&&m.state.next({name:P,dirtyFields:Il(a,i),isDirty:I(P,le)})):de&&!de._f&&!br(le)?_(P,le,ee):S(P,le,ee),R0(P,l)&&m.state.next({...r,name:P}),m.state.next({name:o.mount?P:void 0,values:Jt(i)})},te=async P=>{o.mount=!0;const $=P.target;let ee=$.name,de=!0;const me=Le(n,ee),le=Ye=>{de=Number.isNaN(Ye)||li(Ye)&&isNaN(Ye.getTime())||ia(Ye,Le(i,ee,Ye))},ke=T0(t.mode),Fe=T0(t.reValidateMode);if(me){let Ye,mt;const Xt=$.type?P0(me._f):TB(P),Tt=P.type===_0.BLUR||P.type===_0.FOCUS_OUT,qt=!zB(me._f)&&!t.resolver&&!Le(r.errors,ee)&&!me._f.deps||KB(Tt,Le(r.touchedFields,ee),r.isSubmitted,Fe,ke),Bt=R0(ee,l,Tt);wt(i,ee,Xt),Tt?(me._f.onBlur&&me._f.onBlur(P),c&&c(0)):me._f.onChange&&me._f.onChange(P);const At=j(ee,Xt,Tt),ps=!Ir(At)||Bt;if(!Tt&&m.state.next({name:ee,type:P.type,values:Jt(i)}),qt)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?Tt&&g():Tt||g()),ps&&m.state.next({name:ee,...Bt?{}:At});if(!Tt&&Bt&&m.state.next({...r}),t.resolver){const{errors:Vt}=await k([ee]);if(le(Xt),de){const Kn=I0(r.errors,n,ee),gs=I0(Vt,n,Kn.name||ee);Ye=gs.error,ee=gs.name,mt=Ir(Vt)}}else w([ee],!0),Ye=(await D0(me,l.disabled,i,p,t.shouldUseNativeValidation))[ee],w([ee]),le(Xt),de&&(Ye?mt=!1:(u.isValid||f.isValid)&&(mt=await z(n,!0)));de&&(me._f.deps&&U(me._f.deps),E(ee,mt,Ye,At))}},W=(P,$)=>{if(Le(r.errors,$)&&P.focus)return P.focus(),1},U=async(P,$={})=>{let ee,de;const me=rc(P);if(t.resolver){const le=await D($t(P)?P:me);ee=Ir(le),de=P?!me.some(ke=>Le(le,ke)):ee}else P?(de=(await Promise.all(me.map(async le=>{const ke=Le(n,le);return await z(ke&&ke._f?{[le]:ke}:ke)}))).every(Boolean),!(!de&&!r.isValid)&&g()):de=ee=await z(n);return m.state.next({...!os(P)||(u.isValid||f.isValid)&&ee!==r.isValid?{}:{name:P},...t.resolver||!P?{isValid:ee}:{},errors:r.errors}),$.shouldFocus&&!de&&nc(n,W,P?me:l.mount),de},ae=P=>{const $={...o.mount?i:a};return $t(P)?$:os(P)?Le($,P):P.map(ee=>Le($,ee))},ve=(P,$)=>({invalid:!!Le(($||r).errors,P),isDirty:!!Le(($||r).dirtyFields,P),error:Le(($||r).errors,P),isValidating:!!Le(r.validatingFields,P),isTouched:!!Le(($||r).touchedFields,P)}),B=P=>{P&&rc(P).forEach($=>Ft(r.errors,$)),m.state.next({errors:P?r.errors:{}})},O=(P,$,ee)=>{const de=(Le(n,P,{_f:{}})._f||{}).ref,me=Le(r.errors,P)||{},{ref:le,message:ke,type:Fe,...Ye}=me;wt(r.errors,P,{...Ye,...$,ref:de}),m.state.next({name:P,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&de&&de.focus&&de.focus()},G=(P,$)=>On(P)?m.state.subscribe({next:ee=>"values"in ee&&P(q(void 0,$),ee)}):q(P,$,!0),Q=P=>m.state.subscribe({next:$=>{HB(P.name,$.name,P.exact)&&WB($,P.formState||u,H,P.reRenderRoot)&&P.callback({values:{...i},...r,...$,defaultValues:a})}}).unsubscribe,ie=P=>(o.mount=!0,f={...f,...P.formState},Q({...P,formState:f})),ne=(P,$={})=>{for(const ee of P?rc(P):l.mount)l.mount.delete(ee),l.array.delete(ee),$.keepValue||(Ft(n,ee),Ft(i,ee)),!$.keepError&&Ft(r.errors,ee),!$.keepDirty&&Ft(r.dirtyFields,ee),!$.keepTouched&&Ft(r.touchedFields,ee),!$.keepIsValidating&&Ft(r.validatingFields,ee),!t.shouldUnregister&&!$.keepDefaultValue&&Ft(a,ee);m.state.next({values:Jt(i)}),m.state.next({...r,...$.keepDirty?{isDirty:I()}:{}}),!$.keepIsValid&&g()},R=({disabled:P,name:$})=>{(Zn(P)&&o.mount||P||l.disabled.has($))&&(P?l.disabled.add($):l.disabled.delete($))},J=(P,$={})=>{let ee=Le(n,P);const de=Zn($.disabled)||Zn(t.disabled);return wt(n,P,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:P}},name:P,mount:!0,...$}}),l.mount.add(P),ee?R({disabled:Zn($.disabled)?$.disabled:t.disabled,name:P}):N(P,!0,$.value),{...de?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:Ol($.min),max:Ol($.max),minLength:Ol($.minLength),maxLength:Ol($.maxLength),pattern:Ol($.pattern)}:{},name:P,onChange:te,onBlur:te,ref:me=>{if(me){J(P,$),ee=Le(n,P);const le=$t(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,ke=$B(le),Fe=ee._f.refs||[];if(ke?Fe.find(Ye=>Ye===le):le===ee._f.ref)return;wt(n,P,{_f:{...ee._f,...ke?{refs:[...Fe.filter(vm),le,...Array.isArray(Le(a,P))?[{}]:[]],ref:{type:le.type,name:P}}:{ref:le}}}),N(P,!1,void 0,le)}else ee=Le(n,P,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(RB(l.array,P)&&o.action)&&l.unMount.add(P)}}},ce=()=>t.shouldFocusError&&nc(n,W,l.mount),se=P=>{Zn(P)&&(m.state.next({disabled:P}),nc(n,($,ee)=>{const de=Le(n,ee);de&&($.disabled=de._f.disabled||P,Array.isArray(de._f.refs)&&de._f.refs.forEach(me=>{me.disabled=de._f.disabled||P}))},0,!1))},Pe=(P,$)=>async ee=>{let de;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let me=Jt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:ke}=await k();r.errors=le,me=Jt(ke)}else await z(n);if(l.disabled.size)for(const le of l.disabled)Ft(me,le);if(Ft(r.errors,"root"),Ir(r.errors)){m.state.next({errors:{}});try{await P(me,ee)}catch(le){de=le}}else $&&await $({...r.errors},ee),ce(),setTimeout(ce);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Ue=(P,$={})=>{Le(n,P)&&($t($.defaultValue)?A(P,Jt(Le(a,P))):(A(P,$.defaultValue),wt(a,P,Jt($.defaultValue))),$.keepTouched||Ft(r.touchedFields,P),$.keepDirty||(Ft(r.dirtyFields,P),r.isDirty=$.defaultValue?I(P,Jt(Le(a,P))):I()),$.keepError||(Ft(r.errors,P),u.isValid&&g()),m.state.next({...r}))},st=(P,$={})=>{const ee=P?Jt(P):a,de=Jt(ee),me=Ir(P),le=me?a:de;if($.keepDefaultValues||(a=ee),!$.keepValues){if($.keepDirtyValues){const ke=new Set([...l.mount,...Object.keys(Il(a,i))]);for(const Fe of Array.from(ke))Le(r.dirtyFields,Fe)?wt(le,Fe,Le(i,Fe)):A(Fe,Le(le,Fe))}else{if(Ny&&$t(P))for(const ke of l.mount){const Fe=Le(n,ke);if(Fe&&Fe._f){const Ye=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(ef(Ye)){const mt=Ye.closest("form");if(mt){mt.reset();break}}}}if($.keepFieldsRef)for(const ke of l.mount)A(ke,Le(le,ke));else n={}}i=t.shouldUnregister?$.keepDefaultValues?Jt(a):{}:Jt(le),m.array.next({values:{...le}}),m.state.next({values:{...le}})}l={mount:$.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:me?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!ia(P,a)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:me?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Il(a,i):r.dirtyFields:$.keepDefaultValues&&P?Il(a,P):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},oe=(P,$)=>st(On(P)?P(i):P,$),Me=(P,$={})=>{const ee=Le(n,P),de=ee&&ee._f;if(de){const me=de.refs?de.refs[0]:de.ref;me.focus&&(me.focus(),$.shouldSelect&&On(me.select)&&me.select())}},H=P=>{r={...r,...P}},ye={control:{register:J,unregister:ne,getFieldState:ve,handleSubmit:Pe,setError:O,_subscribe:Q,_runSchema:k,_focusError:ce,_getWatch:q,_getDirty:I,_setValid:g,_setFieldArray:y,_setDisabledField:R,_setErrors:b,_getFieldArray:X,_reset:st,_resetDefaultValues:()=>On(t.defaultValues)&&t.defaultValues().then(P=>{oe(P,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:se,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(P){o=P},get _defaultValues(){return a},get _names(){return l},set _names(P){l=P},get _formState(){return r},get _options(){return t},set _options(P){t={...t,...P}}},subscribe:ie,trigger:U,register:J,handleSubmit:Pe,watch:G,setValue:A,getValues:ae,reset:oe,resetField:Ue,clearErrors:B,unregister:ne,setError:O,setFocus:Me,getFieldState:ve};return{...ye,formControl:ye}}function JB(e={}){const t=pe.useRef(void 0),r=pe.useRef(void 0),[n,a]=pe.useState({isDirty:!1,isValidating:!1,isLoading:On(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:On(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!On(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=XB(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,MB(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),pe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),pe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),pe.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),pe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),pe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),pe.useEffect(()=>{e.values&&!ia(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),pe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=DB(n,i),t.current}const ZB="_blob_18s1g_13",ym={blob:ZB};function eV(){const{register:e,handleSubmit:t,formState:{errors:r},reset:n}=JB(),[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),u=zn(),f=async m=>{i(!0),l(null),d(!1);try{const{error:p}=await re.auth.signInWithPassword({email:m.email,password:m.password});p?l(p.message):(d(!0),l(null),n(),setTimeout(()=>u("/"),1500))}catch(p){l(p instanceof Error?p.message:"An error occurred during login")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 relative overflow-hidden",children:[s.jsx("div",{className:`absolute top-20 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${ym.blob}`}),s.jsx("div",{className:`absolute top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${ym.blob}`}),s.jsx("div",{className:`absolute -bottom-8 left-20 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 ${ym.blob}`}),s.jsxs(Re,{className:"w-full max-w-md shadow-lg relative z-10 border-slate-700 bg-slate-800/90 backdrop-blur",children:[s.jsxs(Be,{className:"space-y-1",children:[s.jsx(Ke,{className:"text-2xl font-bold text-white",children:"Semi-Property Guardian"}),s.jsx(OC,{className:"text-slate-300",children:"Sign in to your account"})]}),s.jsxs(Ie,{children:[o&&s.jsxs(wr,{variant:"destructive",className:"mb-4",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx(jr,{children:o})]}),c&&s.jsxs(wr,{className:"mb-4 border-green-600 bg-green-50 dark:bg-green-950",children:[s.jsx(PA,{className:"h-4 w-4 text-green-600"}),s.jsx(jr,{className:"text-green-600",children:"Login successful! Redirecting..."})]}),s.jsxs("form",{onSubmit:t(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-200",children:"Email"}),s.jsx(Te,{id:"email",type:"email",placeholder:"your@email.com",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),disabled:a,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),r.email&&s.jsx("p",{className:"text-xs text-destructive",children:r.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-200",children:"Password"}),s.jsx(Te,{id:"password",type:"password",placeholder:"",...e("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),disabled:a,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),r.password&&s.jsx("p",{className:"text-xs text-destructive",children:r.password.message})]}),s.jsx(ue,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:a,children:a?"Signing in...":"Sign In"})]})]})]})]})}const tV=()=>{const e=Vn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4 text-foreground",children:"404"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline",children:"Return to Home"})]})})},Ak=new mD({defaultOptions:{queries:{staleTime:U_,gcTime:OD,retry:1,refetchOnReconnect:!0,refetchOnWindowFocus:!0},mutations:{retry:1}}});TD({queryClient:Ak,persister:ID,maxAge:DD,buster:"v1",hydrateOptions:{defaultOptions:{queries:{staleTime:U_}}},dehydrateOptions:{shouldDehydrateMutation:()=>!1,onDeleteOldestQuery:AD}});const rV=()=>{const[e,t]=pe.useState(null);return pe.useEffect(()=>{const r=async()=>{const{data:a}=await re.auth.getSession();t(!!a.session)};r();const{data:n}=re.auth.onAuthStateChange(()=>{r()});return()=>{var a,i;return(i=(a=n==null?void 0:n.subscription)==null?void 0:a.unsubscribe)==null?void 0:i.call(a)}},[]),e===null?null:s.jsx(x3,{defaultTheme:"system",storageKey:"semi-property-theme",children:s.jsx(pD,{client:Ak,children:s.jsxs(IO,{children:[s.jsx(vR,{}),s.jsx(GR,{}),s.jsx(GF,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsxs("div",{className:"min-h-screen bg-background",children:[e&&s.jsxs(s.Fragment,{children:[s.jsx(w3,{}),s.jsx(LO,{})]}),s.jsxs("div",{className:"flex",children:[e&&s.jsx(N3,{}),s.jsx("main",{className:e?"flex-1 p-6":"w-full",children:s.jsx(qF,{children:e?s.jsxs(s.Fragment,{children:[s.jsx(fr,{path:"/",element:s.jsx(C3,{})}),s.jsx(fr,{path:"/inventory",element:s.jsx(Fq,{})}),s.jsx(fr,{path:"/property-cards",element:s.jsx(Kq,{})}),s.jsx(fr,{path:"/custodian-slips",element:s.jsx(Xq,{})}),s.jsx(fr,{path:"/custodians",element:s.jsx(Jq,{})}),s.jsx(fr,{path:"/transfers",element:s.jsx(pB,{})}),s.jsx(fr,{path:"/physical-count",element:s.jsx(gB,{})}),s.jsx(fr,{path:"/loss-reports",element:s.jsx(vB,{})}),s.jsx(fr,{path:"/reports",element:s.jsx(EB,{})}),s.jsx(fr,{path:"/debug",element:s.jsx(kB,{})}),s.jsx(fr,{path:"/settings/lookups",element:s.jsx(PB,{})}),s.jsx(fr,{path:"*",element:s.jsx(tV,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(fr,{path:"/login",element:s.jsx(eV,{})}),s.jsx(fr,{path:"/",element:s.jsx(Yb,{to:"/login",replace:!0})}),s.jsx(fr,{path:"*",element:s.jsx(Yb,{to:"/login",replace:!0})})]})})})]})]})})]})})})};window.addEventListener("online",()=>{MD({"propertyCards.create":async e=>{await er.create(e.card)},"propertyCards.update":async e=>{await er.update(e.id,e.updates)},"propertyCards.delete":async e=>{await er.delete(e.id)},"propertyCards.addEntry":async e=>{await er.addEntry(e.propertyCardId,e.entry)},"propertyCards.updateEntry":async e=>{await er.updateEntry(e.propertyCardId,e.entryId,e.updates)},"propertyCards.deleteEntry":async e=>{await er.deleteEntry(e.propertyCardId,e.entryId)},"inventory.create":async e=>{await Dr.create(e.item)},"inventory.update":async e=>{await Dr.update(e.id,e.updates)},"inventory.delete":async e=>{await Dr.delete(e.id)}}).then(({processed:e,failed:t})=>{(e||t)&&console.log(`[offline-queue] processed=${e} failed=${t}`)})});iN(document.getElementById("root")).render(s.jsx(rV,{}));
